@*
    Originally submitted to OSEHRA 2/21/2017 by DSS, Inc.
    Authored by DSS, Inc. 2014-2017
*@

@model VA.Gov.Artemis.UI.Data.Models.ServerSettings.ServerConfig

<div class="row">
   @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="col-md-6 col-md-offset-3">
        <fieldset>
            <legend>Server Settings</legend>
            <div class="form-group">
                @Html.LabelFor(model => model.ServerName)
                @Html.TextBoxFor(model => model.ServerName, new { @class = "form-control", @disabled = "disabled" })
                @Html.ValidationMessageFor(model => model.ServerName)
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.ListenerPort)
                @Html.TextBoxFor(model => model.ListenerPort, new { @class = "form-control", @disabled = "disabled" })
                @Html.ValidationMessageFor(model => model.ListenerPort)
            </div>

            @Html.Hidden("TestRoot", VirtualPathUtility.ToAbsolute("~/ServerSettings/TestConnection"))

            <div>
                <button class="btn btn-default btn-block" id="testButton" onclick="testConnection()" type="button">Test Connection</button>
            </div>
            <div class="centered-progress">
                <img id="loading" class="progress-img" src="~/content/images/loading.gif" alt="Testing connection"  style="display: none"/>
                <p id="testResult-success" class="text-success centered-txt" style="display: none">Connection Successful</p>
                <p id="testResult-fail" class="text-error centered-txt"  style="display: none">Connection Failed</p>
            </div>        
        </fieldset>
            
        <button class="btn btn-primary two-btn-left" type="submit" disabled="disabled" >Save</button>
        <button class="btn btn-default two-btn-right" type="button" onclick="location.href='@Url.Action("Index", "Home")'">Cancel</button>
            </div>
    }
</div>