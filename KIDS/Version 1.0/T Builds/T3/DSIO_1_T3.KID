KIDS Distribution saved on Mar 31, 2014@09:53:26
DSIO 1.0 T3
**KIDS**:DSIO 1.0^

**INSTALL NAME**
DSIO T 1.0
"BLD",9687,0)
DSIO T 1.0^^0^3140331^n
"BLD",9687,4,0)
^9.64PA^21695.5^19
"BLD",9687,4,790,0)
790
"BLD",9687,4,790,2,0)
^9.641^790^1
"BLD",9687,4,790,2,790,0)
WV PATIENT  (File-top level)
"BLD",9687,4,790,2,790,1,0)
^9.6411^.13^2
"BLD",9687,4,790,2,790,1,.01,0)
NAME
"BLD",9687,4,790,2,790,1,.13,0)
CURRENTLY PREGNANT
"BLD",9687,4,790,222)
y^y^p^^^^n^^n
"BLD",9687,4,790,224)

"BLD",9687,4,19641,0)
19641
"BLD",9687,4,19641,222)
y^y^f^^^^n
"BLD",9687,4,19641.1,0)
19641.1
"BLD",9687,4,19641.1,222)
y^y^f^^^^n
"BLD",9687,4,19641.2,0)
19641.2
"BLD",9687,4,19641.2,222)
y^y^f^^^^n
"BLD",9687,4,19641.22,0)
19641.22
"BLD",9687,4,19641.22,222)
y^y^f^^n^^y^m^n
"BLD",9687,4,19641.23,0)
19641.23
"BLD",9687,4,19641.23,222)
y^y^f^^n^^y^m^n
"BLD",9687,4,19641.31,0)
19641.31
"BLD",9687,4,19641.31,222)
y^y^f^^n^^y^m^n
"BLD",9687,4,19641.33,0)
19641.33
"BLD",9687,4,19641.33,222)
y^y^f^^^^n
"BLD",9687,4,19641.4,0)
19641.4
"BLD",9687,4,19641.4,222)
y^y^f^^n^^y^r^n
"BLD",9687,4,19641.41,0)
19641.41
"BLD",9687,4,19641.41,222)
y^y^f^^^^n
"BLD",9687,4,19641.43,0)
19641.43
"BLD",9687,4,19641.43,222)
y^y^f^^^^n
"BLD",9687,4,19641.44,0)
19641.44
"BLD",9687,4,19641.44,222)
y^y^f^^^^n
"BLD",9687,4,19641.45,0)
19641.45
"BLD",9687,4,19641.45,222)
y^y^f^^^^n
"BLD",9687,4,19641.48,0)
19641.48
"BLD",9687,4,19641.48,222)
y^y^f^^n^^y^r^n
"BLD",9687,4,19641.49,0)
19641.49
"BLD",9687,4,19641.49,222)
y^y^f^^n^^y^r^n
"BLD",9687,4,19641.6,0)
19641.6
"BLD",9687,4,19641.6,222)
y^y^f^^^^n
"BLD",9687,4,19641.61,0)
19641.61
"BLD",9687,4,19641.61,222)
y^y^f^^n^^y^m^n
"BLD",9687,4,21695.5,0)
21695.5
"BLD",9687,4,21695.5,222)
y^y^f^^^^n
"BLD",9687,4,9000011,0)
9000011
"BLD",9687,4,9000011,2,0)
^9.641^9000011^1
"BLD",9687,4,9000011,2,9000011,0)
PROBLEM  (File-top level)
"BLD",9687,4,9000011,2,9000011,1,0)
^9.6411^.02^2
"BLD",9687,4,9000011,2,9000011,1,.01,0)
DIAGNOSIS
"BLD",9687,4,9000011,2,9000011,1,.02,0)
PATIENT NAME
"BLD",9687,4,9000011,222)
y^y^p^^^^n^^n
"BLD",9687,4,9000011,224)

"BLD",9687,4,"APDD",790,790)

"BLD",9687,4,"APDD",790,790,.01)

"BLD",9687,4,"APDD",790,790,.13)

"BLD",9687,4,"APDD",9000011,9000011)

"BLD",9687,4,"APDD",9000011,9000011,.01)

"BLD",9687,4,"APDD",9000011,9000011,.02)

"BLD",9687,4,"B",790,790)

"BLD",9687,4,"B",19641,19641)

"BLD",9687,4,"B",19641.1,19641.1)

"BLD",9687,4,"B",19641.2,19641.2)

"BLD",9687,4,"B",19641.22,19641.22)

"BLD",9687,4,"B",19641.23,19641.23)

"BLD",9687,4,"B",19641.31,19641.31)

"BLD",9687,4,"B",19641.33,19641.33)

"BLD",9687,4,"B",19641.4,19641.4)

"BLD",9687,4,"B",19641.41,19641.41)

"BLD",9687,4,"B",19641.43,19641.43)

"BLD",9687,4,"B",19641.44,19641.44)

"BLD",9687,4,"B",19641.45,19641.45)

"BLD",9687,4,"B",19641.48,19641.48)

"BLD",9687,4,"B",19641.49,19641.49)

"BLD",9687,4,"B",19641.6,19641.6)

"BLD",9687,4,"B",19641.61,19641.61)

"BLD",9687,4,"B",21695.5,21695.5)

"BLD",9687,4,"B",9000011,9000011)

"BLD",9687,6.3)
18
"BLD",9687,"INID")
^y
"BLD",9687,"INIT")
DSIOP
"BLD",9687,"KRN",0)
^9.67PA^779.2^20
"BLD",9687,"KRN",.4,0)
.4
"BLD",9687,"KRN",.401,0)
.401
"BLD",9687,"KRN",.402,0)
.402
"BLD",9687,"KRN",.403,0)
.403
"BLD",9687,"KRN",.5,0)
.5
"BLD",9687,"KRN",.84,0)
.84
"BLD",9687,"KRN",3.6,0)
3.6
"BLD",9687,"KRN",3.8,0)
3.8
"BLD",9687,"KRN",9.2,0)
9.2
"BLD",9687,"KRN",9.8,0)
9.8
"BLD",9687,"KRN",9.8,"NM",0)
^9.68A^13^13
"BLD",9687,"KRN",9.8,"NM",1,0)
DSIO0^^0^B19026129
"BLD",9687,"KRN",9.8,"NM",2,0)
DSIO1^^0^B82056477
"BLD",9687,"KRN",9.8,"NM",3,0)
DSIO2^^0^B5408129
"BLD",9687,"KRN",9.8,"NM",4,0)
DSIO3^^0^B131576446
"BLD",9687,"KRN",9.8,"NM",5,0)
DSIO3A^^0^B13791794
"BLD",9687,"KRN",9.8,"NM",6,0)
DSIO4^^0^B9478189
"BLD",9687,"KRN",9.8,"NM",7,0)
DSIO5^^0^B21522649
"BLD",9687,"KRN",9.8,"NM",8,0)
ORATR^^0^B83352251
"BLD",9687,"KRN",9.8,"NM",9,0)
ORATR2^^0^B119831724
"BLD",9687,"KRN",9.8,"NM",10,0)
ORATRPC^^0^B64999387
"BLD",9687,"KRN",9.8,"NM",11,0)
ORWDX^^0^B68176473
"BLD",9687,"KRN",9.8,"NM",12,0)
XQALSET^^0^B73846237
"BLD",9687,"KRN",9.8,"NM",13,0)
LRVER3^^0^B78650473
"BLD",9687,"KRN",9.8,"NM","B","DSIO0",1)

"BLD",9687,"KRN",9.8,"NM","B","DSIO1",2)

"BLD",9687,"KRN",9.8,"NM","B","DSIO2",3)

"BLD",9687,"KRN",9.8,"NM","B","DSIO3",4)

"BLD",9687,"KRN",9.8,"NM","B","DSIO3A",5)

"BLD",9687,"KRN",9.8,"NM","B","DSIO4",6)

"BLD",9687,"KRN",9.8,"NM","B","DSIO5",7)

"BLD",9687,"KRN",9.8,"NM","B","LRVER3",13)

"BLD",9687,"KRN",9.8,"NM","B","ORATR",8)

"BLD",9687,"KRN",9.8,"NM","B","ORATR2",9)

"BLD",9687,"KRN",9.8,"NM","B","ORATRPC",10)

"BLD",9687,"KRN",9.8,"NM","B","ORWDX",11)

"BLD",9687,"KRN",9.8,"NM","B","XQALSET",12)

"BLD",9687,"KRN",19,0)
19
"BLD",9687,"KRN",19,"NM",0)
^9.68A^2^2
"BLD",9687,"KRN",19,"NM",1,0)
DSIO CNT CONTEXT^^0
"BLD",9687,"KRN",19,"NM",2,0)
DSIO GUI CONTEXT^^0
"BLD",9687,"KRN",19,"NM","B","DSIO CNT CONTEXT",1)

"BLD",9687,"KRN",19,"NM","B","DSIO GUI CONTEXT",2)

"BLD",9687,"KRN",19.1,0)
19.1
"BLD",9687,"KRN",19.1,"NM",0)
^9.68A^1^1
"BLD",9687,"KRN",19.1,"NM",1,0)
DSIO ADMIN^^0
"BLD",9687,"KRN",19.1,"NM","B","DSIO ADMIN",1)

"BLD",9687,"KRN",101,0)
101
"BLD",9687,"KRN",101,"NM",0)
^9.68A^^
"BLD",9687,"KRN",409.61,0)
409.61
"BLD",9687,"KRN",771,0)
771
"BLD",9687,"KRN",779.2,0)
779.2
"BLD",9687,"KRN",870,0)
870
"BLD",9687,"KRN",8989.51,0)
8989.51
"BLD",9687,"KRN",8989.51,"NM",0)
^9.68A^2^2
"BLD",9687,"KRN",8989.51,"NM",1,0)
DSIO CNT DIALOG DLL LOC^^0
"BLD",9687,"KRN",8989.51,"NM",2,0)
DSIO OCNT TAB TYPE^^0
"BLD",9687,"KRN",8989.51,"NM","B","DSIO CNT DIALOG DLL LOC",1)

"BLD",9687,"KRN",8989.51,"NM","B","DSIO OCNT TAB TYPE",2)

"BLD",9687,"KRN",8989.52,0)
8989.52
"BLD",9687,"KRN",8989.52,"NM",0)
^9.68A^^
"BLD",9687,"KRN",8994,0)
8994
"BLD",9687,"KRN",8994,"NM",0)
^9.68A^31^29
"BLD",9687,"KRN",8994,"NM",3,0)
DSIO CNT DIALOG LOOKUP^^0
"BLD",9687,"KRN",8994,"NM",4,0)
DSIO CNT STORE^^0
"BLD",9687,"KRN",8994,"NM",5,0)
DSIO CNT POPULATE^^0
"BLD",9687,"KRN",8994,"NM",6,0)
DSIO CNT DIALOG POPULATE^^0
"BLD",9687,"KRN",8994,"NM",7,0)
DSIO CNT RESTORE^^0
"BLD",9687,"KRN",8994,"NM",8,0)
DSIO CREATE A NOTE^^0
"BLD",9687,"KRN",8994,"NM",9,0)
DSIO CREATE DIALOG^^0
"BLD",9687,"KRN",8994,"NM",10,0)
DSIO CREATE TRACKING LOG^^0
"BLD",9687,"KRN",8994,"NM",11,0)
DSIO DELETE A NOTE^^0
"BLD",9687,"KRN",8994,"NM",12,0)
DSIO FEMALE PATIENT FIND^^0
"BLD",9687,"KRN",8994,"NM",13,0)
DSIO FEMALE PATIENT SEARCH^^0
"BLD",9687,"KRN",8994,"NM",14,0)
DSIO GET NOTE ELEMENT^^0
"BLD",9687,"KRN",8994,"NM",15,0)
DSIO GET PARAMETER VALUE^^0
"BLD",9687,"KRN",8994,"NM",16,0)
DSIO GET RECORD TEXT^^0
"BLD",9687,"KRN",8994,"NM",17,0)
DSIO GET TRACKING^^0
"BLD",9687,"KRN",8994,"NM",18,0)
DSIO IHE GET DOC^^0
"BLD",9687,"KRN",8994,"NM",19,0)
DSIO IHE PATIENT LIST^^0
"BLD",9687,"KRN",8994,"NM",20,0)
DSIO IHE SAVE^^0
"BLD",9687,"KRN",8994,"NM",21,0)
DSIO IS IT CONTROLLED?^^0
"BLD",9687,"KRN",8994,"NM",22,0)
DSIO MAKE ADDENDUM^^0
"BLD",9687,"KRN",8994,"NM",23,0)
DSIO NEXT CONTACT DATE^^0
"BLD",9687,"KRN",8994,"NM",24,0)
DSIO NOTES BY DFN AND TITLE^^0
"BLD",9687,"KRN",8994,"NM",25,0)
DSIO RETURN ENTITY^^0
"BLD",9687,"KRN",8994,"NM",26,0)
DSIO SAVE NON VA ENTITY^^0
"BLD",9687,"KRN",8994,"NM",27,0)
DSIO SELECT LIST^^0
"BLD",9687,"KRN",8994,"NM",28,0)
DSIO SET NOTE DATA^^0
"BLD",9687,"KRN",8994,"NM",29,0)
DSIO SIGN A NOTE^^0
"BLD",9687,"KRN",8994,"NM",30,0)
DSIO UPDATE A NOTE^^0
"BLD",9687,"KRN",8994,"NM",31,0)
ORATR ALERT TYPE^^0
"BLD",9687,"KRN",8994,"NM","B","DSIO CNT DIALOG LOOKUP",3)

"BLD",9687,"KRN",8994,"NM","B","DSIO CNT DIALOG POPULATE",6)

"BLD",9687,"KRN",8994,"NM","B","DSIO CNT POPULATE",5)

"BLD",9687,"KRN",8994,"NM","B","DSIO CNT RESTORE",7)

"BLD",9687,"KRN",8994,"NM","B","DSIO CNT STORE",4)

"BLD",9687,"KRN",8994,"NM","B","DSIO CREATE A NOTE",8)

"BLD",9687,"KRN",8994,"NM","B","DSIO CREATE DIALOG",9)

"BLD",9687,"KRN",8994,"NM","B","DSIO CREATE TRACKING LOG",10)

"BLD",9687,"KRN",8994,"NM","B","DSIO DELETE A NOTE",11)

"BLD",9687,"KRN",8994,"NM","B","DSIO FEMALE PATIENT FIND",12)

"BLD",9687,"KRN",8994,"NM","B","DSIO FEMALE PATIENT SEARCH",13)

"BLD",9687,"KRN",8994,"NM","B","DSIO GET NOTE ELEMENT",14)

"BLD",9687,"KRN",8994,"NM","B","DSIO GET PARAMETER VALUE",15)

"BLD",9687,"KRN",8994,"NM","B","DSIO GET RECORD TEXT",16)

"BLD",9687,"KRN",8994,"NM","B","DSIO GET TRACKING",17)

"BLD",9687,"KRN",8994,"NM","B","DSIO IHE GET DOC",18)

"BLD",9687,"KRN",8994,"NM","B","DSIO IHE PATIENT LIST",19)

"BLD",9687,"KRN",8994,"NM","B","DSIO IHE SAVE",20)

"BLD",9687,"KRN",8994,"NM","B","DSIO IS IT CONTROLLED?",21)

"BLD",9687,"KRN",8994,"NM","B","DSIO MAKE ADDENDUM",22)

"BLD",9687,"KRN",8994,"NM","B","DSIO NEXT CONTACT DATE",23)

"BLD",9687,"KRN",8994,"NM","B","DSIO NOTES BY DFN AND TITLE",24)

"BLD",9687,"KRN",8994,"NM","B","DSIO RETURN ENTITY",25)

"BLD",9687,"KRN",8994,"NM","B","DSIO SAVE NON VA ENTITY",26)

"BLD",9687,"KRN",8994,"NM","B","DSIO SELECT LIST",27)

"BLD",9687,"KRN",8994,"NM","B","DSIO SET NOTE DATA",28)

"BLD",9687,"KRN",8994,"NM","B","DSIO SIGN A NOTE",29)

"BLD",9687,"KRN",8994,"NM","B","DSIO UPDATE A NOTE",30)

"BLD",9687,"KRN",8994,"NM","B","ORATR ALERT TYPE",31)

"BLD",9687,"KRN","B",.4,.4)

"BLD",9687,"KRN","B",.401,.401)

"BLD",9687,"KRN","B",.402,.402)

"BLD",9687,"KRN","B",.403,.403)

"BLD",9687,"KRN","B",.5,.5)

"BLD",9687,"KRN","B",.84,.84)

"BLD",9687,"KRN","B",3.6,3.6)

"BLD",9687,"KRN","B",3.8,3.8)

"BLD",9687,"KRN","B",9.2,9.2)

"BLD",9687,"KRN","B",9.8,9.8)

"BLD",9687,"KRN","B",19,19)

"BLD",9687,"KRN","B",19.1,19.1)

"BLD",9687,"KRN","B",101,101)

"BLD",9687,"KRN","B",409.61,409.61)

"BLD",9687,"KRN","B",771,771)

"BLD",9687,"KRN","B",779.2,779.2)

"BLD",9687,"KRN","B",870,870)

"BLD",9687,"KRN","B",8989.51,8989.51)

"BLD",9687,"KRN","B",8989.52,8989.52)

"BLD",9687,"KRN","B",8994,8994)

"BLD",9687,"PRE")

"BLD",9687,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",9687,"QUES",0)
^9.62^^
"BLD",9687,"REQB",0)
^9.611^^
"DATA",19641.22,1,0)
FILEMAN^1
"DATA",19641.22,2,0)
DASHBOARD^1
"DATA",19641.22,3,0)
MV PATIENT^1
"DATA",19641.22,5,0)
PROBLEM LIST^1
"DATA",19641.22,6,0)
OTHER^1
"DATA",19641.22,7,0)
SOURCE
"DATA",19641.22,8,0)
WV PATIENT^1
"DATA",19641.22,9,0)
LAB PREGNANT^1
"DATA",19641.23,1,0)
POSTPARTUM/LACTATION
"DATA",19641.23,2,0)
PREGNANT
"DATA",19641.23,3,0)
OTHER
"DATA",19641.23,5,0)
PROBLEM LIST PREGNANT
"DATA",19641.23,6,0)
REASON
"DATA",19641.31,1,0)
11424
"DATA",19641.31,2,0)
14216
"DATA",19641.4,70,0)
70
"DATA",19641.4,70,1,0)
^19641.42A^1^1
"DATA",19641.4,70,1,1,0)
NEXT CONTACT DATE
"DATA",19641.4,70,1,1,1)
N IPT S IPT(19641,DFN_",",.03)=S D FILE^DIE("E","IPT")
"DATA",19641.4,71,0)
71
"DATA",19641.4,90,0)
90
"DATA",19641.48,85,0)
85
"DATA",19641.48,85,1,0)
^19641.481A^9^9
"DATA",19641.48,85,1,1,0)
LISTBOXCOMPLAINTS
"DATA",19641.48,85,1,1,1,0)
^19641.4811PA^12^12
"DATA",19641.48,85,1,1,1,1,0)
1
"DATA",19641.48,85,1,1,1,2,0)
2
"DATA",19641.48,85,1,1,1,3,0)
3
"DATA",19641.48,85,1,1,1,4,0)
4
"DATA",19641.48,85,1,1,1,5,0)
5
"DATA",19641.48,85,1,1,1,6,0)
6
"DATA",19641.48,85,1,1,1,7,0)
7
"DATA",19641.48,85,1,1,1,8,0)
8
"DATA",19641.48,85,1,1,1,9,0)
9
"DATA",19641.48,85,1,1,1,10,0)
10
"DATA",19641.48,85,1,1,1,11,0)
11
"DATA",19641.48,85,1,1,1,12,0)
12
"DATA",19641.48,85,1,2,0)
LISTBOXMEDICALHIST
"DATA",19641.48,85,1,2,1,0)
^19641.4811PA^4^4
"DATA",19641.48,85,1,2,1,1,0)
14
"DATA",19641.48,85,1,2,1,2,0)
15
"DATA",19641.48,85,1,2,1,3,0)
16
"DATA",19641.48,85,1,2,1,4,0)
17
"DATA",19641.48,85,1,3,0)
LISTBOXFAMILYHIST
"DATA",19641.48,85,1,3,1,0)
^19641.4811PA^2^2
"DATA",19641.48,85,1,3,1,1,0)
18
"DATA",19641.48,85,1,3,1,2,0)
26
"DATA",19641.48,85,1,4,0)
LISTBOXSOCIALHIST
"DATA",19641.48,85,1,4,1,0)
^19641.4811PA^1^1
"DATA",19641.48,85,1,4,1,1,0)
19
"DATA",19641.48,85,1,5,0)
BUTTONROS
"DATA",19641.48,85,1,5,1,0)
^19641.4811PA^1^1
"DATA",19641.48,85,1,5,1,1,0)
35
"DATA",19641.48,85,1,6,0)
BUTTONPHYSICAL
"DATA",19641.48,85,1,6,1,0)
^19641.4811PA^1^1
"DATA",19641.48,85,1,6,1,1,0)
34
"DATA",19641.48,85,1,7,0)
BUTTONOBEXAM
"DATA",19641.48,85,1,7,1,0)
^19641.4811PA^1^1
"DATA",19641.48,85,1,7,1,1,0)
31
"DATA",19641.48,85,1,8,0)
BUTTONEDDCAL
"DATA",19641.48,85,1,8,1,0)
^19641.4811PA^1^1
"DATA",19641.48,85,1,8,1,1,0)
24
"DATA",19641.48,85,1,9,0)
BUTTONPRENATALNORMAL
"DATA",19641.48,85,1,9,1,0)
^19641.4811PA^1^1
"DATA",19641.48,85,1,9,1,1,0)
29
"DATA",19641.49,1,0)
ABDOMINAL PAIN/CRAMPING^udlgAbdomPain^TdlgAbdomPain
"DATA",19641.49,2,0)
BACK PAIN^udlgBackPain^TdlgBackPain
"DATA",19641.49,3,0)
COUGH/CONGESTION^udlgCoughCongest^TdlgCoughCongest
"DATA",19641.49,4,0)
HEADACHE^udlgHeadache^TdlgHeadache
"DATA",19641.49,5,0)
LEG PAIN/SWELLING^udlgLegPain^TdlgLegPain
"DATA",19641.49,6,0)
NAUSEA/VOMITING/DIARRHEA^udlgNausea^TdlgNausea
"DATA",19641.49,7,0)
PALPITATIONS^udlgPalp^TdlgPalp
"DATA",19641.49,8,0)
RASH/ITCHING^udlgRash^TdlgRash
"DATA",19641.49,9,0)
VAGINAL BLEEDING^udlgVagBleed^TdlgVagBleed
"DATA",19641.49,10,0)
VAGINAL DISCHARGE^udlgVagDischarge^TdlgVagDischarge
"DATA",19641.49,11,0)
VISUAL CHANGES^udlgVisualChanges^TdlgVisualChanges
"DATA",19641.49,11,1,0)
^19641.491A^2^2
"DATA",19641.49,11,1,1,0)
CMBCHAR
"DATA",19641.49,11,1,1,1,0)
^19641.4911A^4^4
"DATA",19641.49,11,1,1,1,1,0)
0^Blurry
"DATA",19641.49,11,1,1,1,2,0)
1^Flashing Lights
"DATA",19641.49,11,1,1,1,3,0)
2^Color
"DATA",19641.49,11,1,1,1,4,0)
3^Loss of Vision
"DATA",19641.49,11,1,2,0)
CMBLOC
"DATA",19641.49,11,1,2,1,0)
^19641.4911A^2^2
"DATA",19641.49,11,1,2,1,1,0)
0^Whole Field
"DATA",19641.49,11,1,2,1,2,0)
1^Segment of Visual Field
"DATA",19641.49,12,0)
WHEEZING^udlgWheezing^TdlgWheezing
"DATA",19641.49,13,0)
CHANGE IN FETAL MOVEMENT^udlgFetalMov^TdlgFetalMov
"DATA",19641.49,14,0)
MEDICAL HISTORY^udlgMedical^TdlgMedical
"DATA",19641.49,15,0)
MENSTRUAL HISTORY^udlgMenstHist^TdlgMenstHist
"DATA",19641.49,16,0)
PAST PREGNANCY HISTORY^udlgPregHist^TdlgPregHist
"DATA",19641.49,17,0)
INFECTION HISTORY^udlgInfectHist^TdlgInfectHist
"DATA",19641.49,18,0)
FAMILY HISTORY^udlgFamily^TdlgFamily
"DATA",19641.49,18,1,0)
^19641.491A^2^2
"DATA",19641.49,18,1,1,0)
COB2
"DATA",19641.49,18,1,1,1,0)
^19641.4911A^23^23
"DATA",19641.49,18,1,1,1,1,0)
0^Arthritis
"DATA",19641.49,18,1,1,1,2,0)
1^Asthma
"DATA",19641.49,18,1,1,1,3,0)
2^Bleeding Tendency
"DATA",19641.49,18,1,1,1,4,0)
3^Cancer
"DATA",19641.49,18,1,1,1,5,0)
4^Colitis
"DATA",19641.49,18,1,1,1,6,0)
5^Congenital Heart Disease
"DATA",19641.49,18,1,1,1,7,0)
6^Depression
"DATA",19641.49,18,1,1,1,8,0)
7^Diabetes
"DATA",19641.49,18,1,1,1,9,0)
8^Dyslipidemia
"DATA",19641.49,18,1,1,1,10,0)
9^Epilepsy
"DATA",19641.49,18,1,1,1,11,0)
10^Goiter
"DATA",19641.49,18,1,1,1,12,0)
11^Hay Fever
"DATA",19641.49,18,1,1,1,13,0)
12^Heart Attack
"DATA",19641.49,18,1,1,1,14,0)
13^High Blood Pressure
"DATA",19641.49,18,1,1,1,15,0)
14^Hypothyroidism for Goiter
"DATA",19641.49,18,1,1,1,16,0)
15^Kidney Disease
"DATA",19641.49,18,1,1,1,17,0)
16^Leukemia
"DATA",19641.49,18,1,1,1,18,0)
17^Migraine
"DATA",19641.49,18,1,1,1,19,0)
18^Rheumatic Heart Disease
"DATA",19641.49,18,1,1,1,20,0)
19^Stomach Ulcers
"DATA",19641.49,18,1,1,1,21,0)
20^Stroke
"DATA",19641.49,18,1,1,1,22,0)
21^Suicide
"DATA",19641.49,18,1,1,1,23,0)
22^Tuberculosis
"DATA",19641.49,18,1,2,0)
COB1
"DATA",19641.49,18,1,2,1,0)
^19641.4911A^27^27
"DATA",19641.49,18,1,2,1,1,0)
0^Arthritis
"DATA",19641.49,18,1,2,1,2,0)
1^Asthma
"DATA",19641.49,18,1,2,1,3,0)
2^Bleeding Tendency
"DATA",19641.49,18,1,2,1,4,0)
3^Cancer
"DATA",19641.49,18,1,2,1,5,0)
4^Colitis
"DATA",19641.49,18,1,2,1,6,0)
5^Congenital Heart Disease
"DATA",19641.49,18,1,2,1,7,0)
6^Depression
"DATA",19641.49,18,1,2,1,8,0)
7^Diabetes
"DATA",19641.49,18,1,2,1,9,0)
8^Dyslipidemia
"DATA",19641.49,18,1,2,1,10,0)
9^Epilepsy
"DATA",19641.49,18,1,2,1,11,0)
10^Goiter
"DATA",19641.49,18,1,2,1,12,0)
11^Hay Fever
"DATA",19641.49,18,1,2,1,13,0)
12^Heart Attack
"DATA",19641.49,18,1,2,1,14,0)
13^High Blood Pressure
"DATA",19641.49,18,1,2,1,15,0)
14^Hypothyroidism for Goiter
"DATA",19641.49,18,1,2,1,16,0)
15^Kidney Disease
"DATA",19641.49,18,1,2,1,17,0)
16^Leukemia
"DATA",19641.49,18,1,2,1,18,0)
17^Migraine
"DATA",19641.49,18,1,2,1,19,0)
18^Rheumatic Heart Disease
"DATA",19641.49,18,1,2,1,20,0)
19^Stomach Ulcers
"DATA",19641.49,18,1,2,1,21,0)
20^Stroke
"DATA",19641.49,18,1,2,1,22,0)
21^Suicide
"DATA",19641.49,18,1,2,1,23,0)
22^Tuberculosis
"DATA",19641.49,18,1,2,1,24,0)
23^Congenital Anomalies or Other Genetic Condition
"DATA",19641.49,18,1,2,1,25,0)
24^Preterm Labor
"DATA",19641.49,18,1,2,1,26,0)
25^Pregnancy Losses
"DATA",19641.49,18,1,2,1,27,0)
26^History of Multiple Pregnancies
"DATA",19641.49,18,2,0)
^19641.492A
"DATA",19641.49,19,0)
SOCIAL HISTORY^udlgSocial2^TdlgSocial2
"DATA",19641.49,19,1,0)
^19641.491A^8^8
"DATA",19641.49,19,1,1,0)
COBNARC
"DATA",19641.49,19,1,1,1,0)
^19641.4911A^5^5
"DATA",19641.49,19,1,1,1,1,0)
0^Heroin
"DATA",19641.49,19,1,1,1,2,0)
1^Hydrocodone (Vicodin)
"DATA",19641.49,19,1,1,1,3,0)
2^Hydromorphone (Dilaudid)
"DATA",19641.49,19,1,1,1,4,0)
3^Morphine
"DATA",19641.49,19,1,1,1,5,0)
4^Oxycodone (Percocet)
"DATA",19641.49,19,1,2,0)
COBSTIM
"DATA",19641.49,19,1,2,1,0)
^19641.4911A^4^4
"DATA",19641.49,19,1,2,1,1,0)
0^Addreall
"DATA",19641.49,19,1,2,1,2,0)
1^Dexedrine
"DATA",19641.49,19,1,2,1,3,0)
2^Methamphetamine
"DATA",19641.49,19,1,2,1,4,0)
3^Ritalin
"DATA",19641.49,19,1,3,0)
COBRNARC
"DATA",19641.49,19,1,3,1,0)
^19641.4911A^4^4
"DATA",19641.49,19,1,3,1,1,0)
0^IV
"DATA",19641.49,19,1,3,1,2,0)
1^Oral
"DATA",19641.49,19,1,3,1,3,0)
2^Snort/Inhaled
"DATA",19641.49,19,1,3,1,4,0)
3^Transdermal
"DATA",19641.49,19,1,4,0)
COBRSTIM
"DATA",19641.49,19,1,4,1,0)
^19641.4911A^4^4
"DATA",19641.49,19,1,4,1,1,0)
0^IV
"DATA",19641.49,19,1,4,1,2,0)
1^Oral
"DATA",19641.49,19,1,4,1,3,0)
2^Snort/Inhaled
"DATA",19641.49,19,1,4,1,4,0)
3^Transdermal
"DATA",19641.49,19,1,5,0)
COBHALL
"DATA",19641.49,19,1,5,1,0)
^19641.4911A^4^4
"DATA",19641.49,19,1,5,1,1,0)
0^Anabolic Steroids
"DATA",19641.49,19,1,5,1,2,0)
1^Glue
"DATA",19641.49,19,1,5,1,3,0)
2^Paint
"DATA",19641.49,19,1,5,1,4,0)
3^PSP
"DATA",19641.49,19,1,6,0)
COBOTHER
"DATA",19641.49,19,1,6,1,0)
^19641.4911A^2^2
"DATA",19641.49,19,1,6,1,1,0)
0^Marijuana
"DATA",19641.49,19,1,6,1,2,0)
1^Cocaine
"DATA",19641.49,19,1,7,0)
COBRHALL
"DATA",19641.49,19,1,7,1,0)
^19641.4911A^4^4
"DATA",19641.49,19,1,7,1,1,0)
0^IV
"DATA",19641.49,19,1,7,1,2,0)
1^Oral
"DATA",19641.49,19,1,7,1,3,0)
2^Snort/Inhaled
"DATA",19641.49,19,1,7,1,4,0)
3^Transdermal
"DATA",19641.49,19,1,8,0)
COBROTHER
"DATA",19641.49,19,1,8,1,0)
^19641.4911A^4^4
"DATA",19641.49,19,1,8,1,1,0)
0^IV
"DATA",19641.49,19,1,8,1,2,0)
1^Oral
"DATA",19641.49,19,1,8,1,3,0)
2^Snort/Inhaled
"DATA",19641.49,19,1,8,1,4,0)
3^Transdermal
"DATA",19641.49,19,2,0)
^19641.492A^^0
"DATA",19641.49,20,0)
DELIVERY INFORMATION^udlgDelivery^TdlgDelivery
"DATA",19641.49,20,1,0)
^19641.491A^2^2
"DATA",19641.49,20,1,1,0)
CBLABOR
"DATA",19641.49,20,1,1,1,0)
^19641.4911A^4^4
"DATA",19641.49,20,1,1,1,1,0)
0^None
"DATA",19641.49,20,1,1,1,2,0)
1^Spontaneous
"DATA",19641.49,20,1,1,1,3,0)
2^Induced
"DATA",19641.49,20,1,1,1,4,0)
3^Augmented
"DATA",19641.49,20,1,2,0)
CBANESTHESIA
"DATA",19641.49,20,1,2,1,0)
^19641.4911A^6^6
"DATA",19641.49,20,1,2,1,1,0)
0^None
"DATA",19641.49,20,1,2,1,2,0)
1^Local/Pudendal
"DATA",19641.49,20,1,2,1,3,0)
2^Epidural
"DATA",19641.49,20,1,2,1,4,0)
3^Spinal
"DATA",19641.49,20,1,2,1,5,0)
4^General
"DATA",19641.49,20,1,2,1,6,0)
5^Other
"DATA",19641.49,21,0)
DATE^udlgDATE^TdlgDate
"DATA",19641.49,22,0)
DIAGNOSIS ASSESSMENT^udlgDiagnosis^TdlgDiagnosis
"DATA",19641.49,23,0)
DISCHARGE INFORMATION^udlgDischarge^TdlgDischarge
"DATA",19641.49,24,0)
CALCULATE ESTIMATED DELIVERY DATE^udlgEstDelivDate^TdlgEstDelivDate
"DATA",19641.49,25,0)
FAMILY MEMBER ASSESSMENT^udlgFamMem^TdlgFamMem
"DATA",19641.49,25,1,0)
^19641.491A^2^2
"DATA",19641.49,25,1,1,0)
COBDX
"DATA",19641.49,25,1,1,1,0)
^19641.4911A^1^1
"DATA",19641.49,25,1,1,1,1,0)
0^Arthritis
"DATA",19641.49,25,1,1,1,2,0)
1^Asthma
"DATA",19641.49,25,1,1,1,3,0)
2^Bleeding Tendency
"DATA",19641.49,25,1,1,1,4,0)
3^Cancer
"DATA",19641.49,25,1,1,1,5,0)
4^Colitis
"DATA",19641.49,25,1,1,1,6,0)
5^Congenital Heart Disease
"DATA",19641.49,25,1,1,1,7,0)
6^Depression
"DATA",19641.49,25,1,1,1,8,0)
7^Diabetes
"DATA",19641.49,25,1,1,1,9,0)
8^Dyslipidemia
"DATA",19641.49,25,1,1,1,10,0)
9^Epilepsy
"DATA",19641.49,25,1,1,1,11,0)
10^Goiter
"DATA",19641.49,25,1,1,1,12,0)
11^Hay Fever
"DATA",19641.49,25,1,1,1,13,0)
12^Heart Attack
"DATA",19641.49,25,1,1,1,14,0)
13^High Blood Pressure
"DATA",19641.49,25,1,1,1,15,0)
14^Hypothyroidism for Goiter
"DATA",19641.49,25,1,1,1,16,0)
15^Kidney Disease
"DATA",19641.49,25,1,1,1,17,0)
16^Leukemia
"DATA",19641.49,25,1,1,1,18,0)
17^Migraine
"DATA",19641.49,25,1,1,1,19,0)
18^Rheumatic Heart Disease
"DATA",19641.49,25,1,1,1,20,0)
19^Stomach Ulcers
"DATA",19641.49,25,1,1,1,21,0)
20^Stroke
"DATA",19641.49,25,1,1,1,22,0)
21^Suicide
"DATA",19641.49,25,1,1,1,23,0)
22^Tuberculosis
"DATA",19641.49,25,1,1,1,24,0)
23^Congenital Anomalies or Other Genetic Condition
"DATA",19641.49,25,1,1,1,25,0)
24^Preterm Labor
"DATA",19641.49,25,1,1,1,26,0)
25^Pregnancy Losses
"DATA",19641.49,25,1,1,1,27,0)
26^History of Multiple Pregnancies
"DATA",19641.49,25,1,2,0)
COBFAMMEM
"DATA",19641.49,25,1,2,1,0)
^19641.4911A^11^11
"DATA",19641.49,25,1,2,1,1,0)
0^Mother
"DATA",19641.49,25,1,2,1,2,0)
1^Father
"DATA",19641.49,25,1,2,1,3,0)
2^Brother
"DATA",19641.49,25,1,2,1,4,0)
3^Sister
"DATA",19641.49,25,1,2,1,5,0)
4^Aunt
"DATA",19641.49,25,1,2,1,6,0)
5^Uncle
"DATA",19641.49,25,1,2,1,7,0)
6^Cousin
"DATA",19641.49,25,1,2,1,8,0)
7^Maternal Grandmother
"DATA",19641.49,25,1,2,1,9,0)
8^Maternal Grandfather
"DATA",19641.49,25,1,2,1,10,0)
9^Paternal Grandmother
"DATA",19641.49,25,1,2,1,11,0)
10^Paternal Grandfather
"DATA",19641.49,26,0)
GENETIC SCREENING^udlgGenetic2^TdlgGenetic2
"DATA",19641.49,27,0)
OB EXAM^udlgOBExamHx^TdlgOBExamHx
"DATA",19641.49,28,0)
PRE NATAL VISIT^udlgPreNatal^TdlgPreNatal
"DATA",19641.49,29,0)
RETURN TO CLINIC TIME SPAN^udlgRTClinic^TdlgRTClinic
"DATA",19641.49,30,0)
SURGICAL HISTORY^udlgSurgical^TdlgSurgical
"DATA",19641.49,31,0)
OB FLOW SHEET^udlgOBSpread^TdlgOBSpread
"DATA",19641.49,31,1,0)
^19641.491A^9^9
"DATA",19641.49,31,1,1,0)
CMBPRES
"DATA",19641.49,31,1,1,1,0)
^19641.4911A^4^4
"DATA",19641.49,31,1,1,1,1,0)
0^Deferred
"DATA",19641.49,31,1,1,1,2,0)
1^Vertex
"DATA",19641.49,31,1,1,1,3,0)
2^Breech
"DATA",19641.49,31,1,1,1,4,0)
3^Transverse
"DATA",19641.49,31,1,2,0)
CMBFETACT
"DATA",19641.49,31,1,2,1,0)
^19641.4911A^3^3
"DATA",19641.49,31,1,2,1,1,0)
0^Yes
"DATA",19641.49,31,1,2,1,2,0)
1^No
"DATA",19641.49,31,1,2,1,3,0)
2^Decreased
"DATA",19641.49,31,1,3,0)
CMBPROTEIN
"DATA",19641.49,31,1,3,1,0)
^19641.4911A^6^6
"DATA",19641.49,31,1,3,1,1,0)
0^None
"DATA",19641.49,31,1,3,1,2,0)
1^Trace
"DATA",19641.49,31,1,3,1,3,0)
2^1+
"DATA",19641.49,31,1,3,1,4,0)
3^2+
"DATA",19641.49,31,1,3,1,5,0)
4^3+
"DATA",19641.49,31,1,3,1,6,0)
5^4+
"DATA",19641.49,31,1,4,0)
CMBSUGAR
"DATA",19641.49,31,1,4,1,0)
^19641.4911A^6^6
"DATA",19641.49,31,1,4,1,1,0)
0^None
"DATA",19641.49,31,1,4,1,2,0)
1^Trace
"DATA",19641.49,31,1,4,1,3,0)
2^1+
"DATA",19641.49,31,1,4,1,4,0)
3^2+
"DATA",19641.49,31,1,4,1,5,0)
4^3+
"DATA",19641.49,31,1,4,1,6,0)
5^4+
"DATA",19641.49,31,1,5,0)
CMBEDEMA
"DATA",19641.49,31,1,5,1,0)
^19641.4911A^6^6
"DATA",19641.49,31,1,5,1,1,0)
0^None
"DATA",19641.49,31,1,5,1,2,0)
1^Trace
"DATA",19641.49,31,1,5,1,3,0)
2^1+
"DATA",19641.49,31,1,5,1,4,0)
3^2+
"DATA",19641.49,31,1,5,1,5,0)
4^3+
"DATA",19641.49,31,1,5,1,6,0)
5^4+
"DATA",19641.49,31,1,6,0)
CBXDIET
"DATA",19641.49,31,1,6,1,0)
^19641.4911A^11^11
"DATA",19641.49,31,1,6,1,1,0)
0^1800
"DATA",19641.49,31,1,6,1,2,0)
1^1900
"DATA",19641.49,31,1,6,1,3,0)
2^2000
"DATA",19641.49,31,1,6,1,4,0)
3^2100
"DATA",19641.49,31,1,6,1,5,0)
4^2200
"DATA",19641.49,31,1,6,1,6,0)
5^2300
"DATA",19641.49,31,1,6,1,7,0)
6^2400
"DATA",19641.49,31,1,6,1,8,0)
7^2500
"DATA",19641.49,31,1,6,1,9,0)
8^2600
"DATA",19641.49,31,1,6,1,10,0)
9^2700
"DATA",19641.49,31,1,6,1,11,0)
10^2800
"DATA",19641.49,31,1,7,0)
CBXCONTROL
"DATA",19641.49,31,1,7,1,0)
^19641.4911A^5^5
"DATA",19641.49,31,1,7,1,1,0)
0^Excellent
"DATA",19641.49,31,1,7,1,2,0)
1^Good
"DATA",19641.49,31,1,7,1,3,0)
2^Fair
"DATA",19641.49,31,1,7,1,4,0)
3^Poor
"DATA",19641.49,31,1,7,1,5,0)
4^Unknown
"DATA",19641.49,31,1,8,0)
CBXUNITS
"DATA",19641.49,31,1,8,1,0)
^19641.4911A^6^6
"DATA",19641.49,31,1,8,1,1,0)
0^U.
"DATA",19641.49,31,1,8,1,2,0)
1^mg
"DATA",19641.49,31,1,8,1,3,0)
2^ml
"DATA",19641.49,31,1,8,1,4,0)
3^cc
"DATA",19641.49,31,1,8,1,5,0)
4^tab
"DATA",19641.49,31,1,8,1,6,0)
5^cap
"DATA",19641.49,31,1,9,0)
CBXDRUG
"DATA",19641.49,31,1,9,1,0)
^19641.4911A^23^23
"DATA",19641.49,31,1,9,1,1,0)
0^Insulin NPH
"DATA",19641.49,31,1,9,1,2,0)
1^Insulin Reg.
"DATA",19641.49,31,1,9,1,3,0)
2^Glyburide
"DATA",19641.49,31,1,9,1,4,0)
3^Humalog
"DATA",19641.49,31,1,9,1,5,0)
4^Lispro
"DATA",19641.49,31,1,9,1,6,0)
5^Novolog
"DATA",19641.49,31,1,9,1,7,0)
6^Aspart
"DATA",19641.49,31,1,9,1,8,0)
7^Apidra
"DATA",19641.49,31,1,9,1,9,0)
8^Glulisine
"DATA",19641.49,31,1,9,1,10,0)
9^Humulin
"DATA",19641.49,31,1,9,1,11,0)
10^Novolin
"DATA",19641.49,31,1,9,1,12,0)
11^Velosulin
"DATA",19641.49,31,1,9,1,13,0)
12^Lente
"DATA",19641.49,31,1,9,1,14,0)
13^Ultralente
"DATA",19641.49,31,1,9,1,15,0)
14^Lantus
"DATA",19641.49,31,1,9,1,16,0)
15^Levemir
"DATA",19641.49,31,1,9,1,17,0)
16^Detemir
"DATA",19641.49,31,1,9,1,18,0)
17^Humulin 70/30
"DATA",19641.49,31,1,9,1,19,0)
18^Novolin 70/30
"DATA",19641.49,31,1,9,1,20,0)
19^Novolog 70/30
"DATA",19641.49,31,1,9,1,21,0)
20^Humulin 50/50
"DATA",19641.49,31,1,9,1,22,0)
21^Humalog Mix 75/25
"DATA",19641.49,31,1,9,1,23,0)
22^Metformin
"DATA",19641.49,32,0)
PAST PREGNANCY HISTORY SUB^fPregHist^TfrmPregHist
"DATA",19641.49,32,1,0)
^19641.491A^1^1
"DATA",19641.49,32,1,1,0)
E_TYPEOFDELIVERY
"DATA",19641.49,32,1,1,1,0)
^19641.4911A^4^4
"DATA",19641.49,32,1,1,1,1,0)
0^Vaginal
"DATA",19641.49,32,1,1,1,2,0)
1^Caesarian
"DATA",19641.49,32,1,1,1,3,0)
2^Vacuum
"DATA",19641.49,32,1,1,1,4,0)
3^Forceps
"DATA",19641.49,33,0)
IMMUNIZATIONS^udlgImmunizations^TdlgImmunizations
"DATA",19641.49,34,0)
PHYSICAL EXAM^udlgPhysicalExam^TdlgPhysicalExam
"DATA",19641.49,35,0)
ROS: SYMPTOMS SINCE LMP^udlgROS^TdlgROS
"DATA",19641.61,1,0)
APHP
"DATA",19641.61,2,0)
APS
"DATA",19641.61,3,0)
APL
"DATA",19641.61,4,0)
APE
"DATA",19641.61,5,0)
MDS
"DATA",19641.61,6,0)
NDS
"DATA",19641.61,7,0)
PPVS
"DATA",19641.61,8,0)
XDR-I
"FIA",790)
WV PATIENT
"FIA",790,0)
^WV(790,
"FIA",790,0,0)
790IP
"FIA",790,0,1)
y^y^p^^^^n^^n
"FIA",790,0,10)

"FIA",790,0,11)

"FIA",790,0,"RLRO")

"FIA",790,790)
1
"FIA",790,790,.01)

"FIA",790,790,.13)

"FIA",19641)
DSIO PATIENT
"FIA",19641,0)
^DSIO(19641,
"FIA",19641,0,0)
19641P
"FIA",19641,0,1)
y^y^f^^^^n
"FIA",19641,0,10)

"FIA",19641,0,11)

"FIA",19641,0,"RLRO")

"FIA",19641,19641)
0
"FIA",19641.1)
DSIO NON-VA ENTITIES
"FIA",19641.1,0)
^DSIO(19641.1,
"FIA",19641.1,0,0)
19641.1
"FIA",19641.1,0,1)
y^y^f^^^^n
"FIA",19641.1,0,10)

"FIA",19641.1,0,11)

"FIA",19641.1,0,"RLRO")

"FIA",19641.1,19641.1)
0
"FIA",19641.2)
DSIO TRACKING HISTORY
"FIA",19641.2,0)
^DSIO(19641.2,
"FIA",19641.2,0,0)
19641.2P
"FIA",19641.2,0,1)
y^y^f^^^^n
"FIA",19641.2,0,10)

"FIA",19641.2,0,11)

"FIA",19641.2,0,"RLRO")

"FIA",19641.2,19641.2)
0
"FIA",19641.2,19641.24)
0
"FIA",19641.2,19641.241)
0
"FIA",19641.2,19641.242)
0
"FIA",19641.22)
DSIO TRACKING SOURCE
"FIA",19641.22,0)
^DSIO(19641.22,
"FIA",19641.22,0,0)
19641.22
"FIA",19641.22,0,1)
y^y^f^^n^^y^m^n
"FIA",19641.22,0,10)

"FIA",19641.22,0,11)

"FIA",19641.22,0,"RLRO")

"FIA",19641.22,19641.22)
0
"FIA",19641.23)
DSIO TRACKING REASON
"FIA",19641.23,0)
^DSIO(19641.23,
"FIA",19641.23,0,0)
19641.23
"FIA",19641.23,0,1)
y^y^f^^n^^y^m^n
"FIA",19641.23,0,10)

"FIA",19641.23,0,11)

"FIA",19641.23,0,"RLRO")

"FIA",19641.23,19641.23)
0
"FIA",19641.31)
DSIO CPRS PROBLEM
"FIA",19641.31,0)
^DSIO(19641.31,
"FIA",19641.31,0,0)
19641.31P
"FIA",19641.31,0,1)
y^y^f^^n^^y^m^n
"FIA",19641.31,0,10)

"FIA",19641.31,0,11)

"FIA",19641.31,0,"RLRO")

"FIA",19641.31,19641.31)
0
"FIA",19641.33)
DSIO LAB TEST
"FIA",19641.33,0)
^DSIO(19641.33,
"FIA",19641.33,0,0)
19641.33P
"FIA",19641.33,0,1)
y^y^f^^^^n
"FIA",19641.33,0,10)

"FIA",19641.33,0,11)

"FIA",19641.33,0,"RLRO")

"FIA",19641.33,19641.33)
0
"FIA",19641.33,19641.34)
0
"FIA",19641.4)
DSIO NOTE CONTROL
"FIA",19641.4,0)
^DSIO(19641.4,
"FIA",19641.4,0,0)
19641.4P
"FIA",19641.4,0,1)
y^y^f^^n^^y^r^n
"FIA",19641.4,0,10)

"FIA",19641.4,0,11)

"FIA",19641.4,0,"RLRO")

"FIA",19641.4,19641.4)
0
"FIA",19641.4,19641.42)
0
"FIA",19641.41)
DSIO NOTE DATA
"FIA",19641.41,0)
^DSIO(19641.41,
"FIA",19641.41,0,0)
19641.41P
"FIA",19641.41,0,1)
y^y^f^^^^n
"FIA",19641.41,0,10)

"FIA",19641.41,0,11)

"FIA",19641.41,0,"RLRO")

"FIA",19641.41,19641.41)
0
"FIA",19641.41,19641.411)
0
"FIA",19641.41,19641.412)
0
"FIA",19641.41,19641.4121)
0
"FIA",19641.43)
DSIO NOTE S
"FIA",19641.43,0)
^DSIO(19641.43,
"FIA",19641.43,0,0)
19641.43IO
"FIA",19641.43,0,1)
y^y^f^^^^n
"FIA",19641.43,0,10)

"FIA",19641.43,0,11)

"FIA",19641.43,0,"RLRO")

"FIA",19641.43,19641.43)
0
"FIA",19641.44)
DSIO NOTE M
"FIA",19641.44,0)
^DSIO(19641.44,
"FIA",19641.44,0,0)
19641.44IO
"FIA",19641.44,0,1)
y^y^f^^^^n
"FIA",19641.44,0,10)

"FIA",19641.44,0,11)

"FIA",19641.44,0,"RLRO")

"FIA",19641.44,19641.44)
0
"FIA",19641.44,19641.46)
0
"FIA",19641.45)
DSIO NOTE WP
"FIA",19641.45,0)
^DSIO(19641.45,
"FIA",19641.45,0,0)
19641.45IO
"FIA",19641.45,0,1)
y^y^f^^^^n
"FIA",19641.45,0,10)

"FIA",19641.45,0,11)

"FIA",19641.45,0,"RLRO")

"FIA",19641.45,19641.45)
0
"FIA",19641.45,19641.47)
0
"FIA",19641.48)
DSIO CNT CONFIGURATION
"FIA",19641.48,0)
^DSIO(19641.48,
"FIA",19641.48,0,0)
19641.48P
"FIA",19641.48,0,1)
y^y^f^^n^^y^r^n
"FIA",19641.48,0,10)

"FIA",19641.48,0,11)

"FIA",19641.48,0,"RLRO")

"FIA",19641.48,19641.48)
0
"FIA",19641.48,19641.481)
0
"FIA",19641.48,19641.4811)
0
"FIA",19641.48,19641.4812)
0
"FIA",19641.48,19641.482)
0
"FIA",19641.49)
DSIO CNT DIALOGS
"FIA",19641.49,0)
^DSIO(19641.49,
"FIA",19641.49,0,0)
19641.49
"FIA",19641.49,0,1)
y^y^f^^n^^y^r^n
"FIA",19641.49,0,10)

"FIA",19641.49,0,11)

"FIA",19641.49,0,"RLRO")

"FIA",19641.49,19641.49)
0
"FIA",19641.49,19641.491)
0
"FIA",19641.49,19641.4911)
0
"FIA",19641.49,19641.492)
0
"FIA",19641.6)
DSIO IHE DOCUMENT
"FIA",19641.6,0)
^DSIO(19641.6,
"FIA",19641.6,0,0)
19641.6I
"FIA",19641.6,0,1)
y^y^f^^^^n
"FIA",19641.6,0,10)

"FIA",19641.6,0,11)

"FIA",19641.6,0,"RLRO")

"FIA",19641.6,19641.6)
0
"FIA",19641.6,19641.62)
0
"FIA",19641.61)
DSIO IHE DOCUMENT TYPE
"FIA",19641.61,0)
^DSIO(19641.61,
"FIA",19641.61,0,0)
19641.61
"FIA",19641.61,0,1)
y^y^f^^n^^y^m^n
"FIA",19641.61,0,10)

"FIA",19641.61,0,11)

"FIA",19641.61,0,"RLRO")

"FIA",19641.61,19641.61)
0
"FIA",21695.5)
VFD TAR CONTROL
"FIA",21695.5,0)
^VFD(21695.5,
"FIA",21695.5,0,0)
21695.5
"FIA",21695.5,0,1)
y^y^f^^^^n
"FIA",21695.5,0,10)

"FIA",21695.5,0,11)

"FIA",21695.5,0,"RLRO")

"FIA",21695.5,21695.5)
0
"FIA",21695.5,21695.51)
0
"FIA",21695.5,21695.52)
0
"FIA",21695.5,21695.54)
0
"FIA",21695.5,21695.55)
0
"FIA",9000011)
PROBLEM
"FIA",9000011,0)
^AUPNPROB(
"FIA",9000011,0,0)
9000011IP
"FIA",9000011,0,1)
y^y^p^^^^n^^n
"FIA",9000011,0,10)

"FIA",9000011,0,11)

"FIA",9000011,0,"RLRO")

"FIA",9000011,9000011)
1
"FIA",9000011,9000011,.01)

"FIA",9000011,9000011,.02)

"INIT")
DSIOP
"IX",790,790,"APG",0)
790^APG^Maternity Tracker Trigger^MU^^R^IR^I^790^^^^^A
"IX",790,790,"APG",.1,0)
^^1^1^3131219^
"IX",790,790,"APG",.1,1,0)
Maternity Tracker Trigger
"IX",790,790,"APG",1)
D:X(1)=1 EN^DSIO5(.X,"WVP^CUR^SET")
"IX",790,790,"APG",2)
Q
"IX",790,790,"APG",11.1,0)
^.114IA^2^2
"IX",790,790,"APG",11.1,1,0)
1^F^790^.13^^1^F
"IX",790,790,"APG",11.1,2,0)
2^F^790^.01^^2^F
"IX",790,790,"AVFD",0)
790^AVFD^Maternity Tracker Trigger^MU^^R^IR^I^790^^^^^A
"IX",790,790,"AVFD",.1,0)
^^1^1^3140102^^
"IX",790,790,"AVFD",.1,1,0)
Maternity Tracker Trigger
"IX",790,790,"AVFD",1)
D:X(1)=1 EN^DSIO5(.X,"WVP^CUR^SET")
"IX",790,790,"AVFD",2)
Q
"IX",790,790,"AVFD",11.1,0)
^.114IA^2^2
"IX",790,790,"AVFD",11.1,1,0)
1^F^790^.13^^1^F
"IX",790,790,"AVFD",11.1,2,0)
2^F^790^.01^^2^F
"IX",19641,19641,"AC",0)
19641^AC^Create a Tracking Entry when .02 changes.^MU^^F^IR^I^19641^^^^^A
"IX",19641,19641,"AC",1)
D TRAK^DSIO2(DA,X(1))
"IX",19641,19641,"AC",2)
Q
"IX",19641,19641,"AC",11.1,0)
^.114IA^1^1
"IX",19641,19641,"AC",11.1,1,0)
1^F^19641^.02^^^F
"IX",19641,19641,"AC","NOREINDEX")
1
"IX",19641.1,19641.1,"F",0)
19641.1^F^ALL FACILITIES^MU^^R^IR^I^19641.1^^^^^LS
"IX",19641.1,19641.1,"F",1)
I X(1)="F" S ^DSIO(19641.1,"F",X(2),DA)=""
"IX",19641.1,19641.1,"F",2)
I X(1)="F" K ^DSIO(19641.1,"F",X(2),DA)
"IX",19641.1,19641.1,"F",2.5)
K ^DSIO(19641.1,"F")
"IX",19641.1,19641.1,"F",11.1,0)
^.114IA^2^2
"IX",19641.1,19641.1,"F",11.1,1,0)
1^F^19641.1^.02^^^F
"IX",19641.1,19641.1,"F",11.1,1,3)

"IX",19641.1,19641.1,"F",11.1,2,0)
2^F^19641.1^.01^^1^F
"IX",19641.1,19641.1,"F",11.1,2,3)

"IX",19641.1,19641.1,"P",0)
19641.1^P^ALL PROVIDERS^MU^^R^IR^I^19641.1^^^^^LS
"IX",19641.1,19641.1,"P",1)
I X(1)="P" S ^DSIO(19641.1,"P",X(2),DA)=""
"IX",19641.1,19641.1,"P",2)
I X(1)="P" K ^DSIO(19641.1,"P",X(2),DA)
"IX",19641.1,19641.1,"P",2.5)
K ^DSIO(19641.1,"P")
"IX",19641.1,19641.1,"P",11.1,0)
^.114IA^2^2
"IX",19641.1,19641.1,"P",11.1,1,0)
1^F^19641.1^.02^^^F
"IX",19641.1,19641.1,"P",11.1,1,3)

"IX",19641.1,19641.1,"P",11.1,2,0)
2^F^19641.1^.01^^1^F
"IX",19641.1,19641.1,"P",11.1,2,3)

"IX",19641.2,19641.2,"C",0)
19641.2^C^ALL TRACKING LOGS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"C",1)
S ^DSIO(19641.2,"C",X(1),X(2),DA(1),DA)=""
"IX",19641.2,19641.2,"C",2)
K ^DSIO(19641.2,"C",X(1),X(2),DA(1),DA)
"IX",19641.2,19641.2,"C",2.5)
K ^DSIO(19641.2,"C")
"IX",19641.2,19641.2,"C",11.1,0)
^.114IA^2^2
"IX",19641.2,19641.2,"C",11.1,1,0)
1^F^19641.24^.01^^1^B
"IX",19641.2,19641.2,"C",11.1,2,0)
2^C^^^^2
"IX",19641.2,19641.2,"C",11.1,2,1.5)
S X=""_DA_","_DA(1)_""
"IX",19641.2,19641.2,"FLAGGED",0)
19641.2^FLAGGED^ALL CURRENTLY FLAGGED PATIENTS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"FLAGGED",1)
K ^DSIO(19641.2,"FLAGGED",X(1),X(4)) S:X(2)=2&('X(3)) ^DSIO(19641.2,"FLAGGED",X(1),X(4),X(5),DA(1),DA)=""
"IX",19641.2,19641.2,"FLAGGED",1.4)

"IX",19641.2,19641.2,"FLAGGED",2)
Q
"IX",19641.2,19641.2,"FLAGGED",2.5)
K ^DSIO(19641.2,"FLAGGED")
"IX",19641.2,19641.2,"FLAGGED",11.1,0)
^.114IA^5^5
"IX",19641.2,19641.2,"FLAGGED",11.1,1,0)
1^C^^^^1
"IX",19641.2,19641.2,"FLAGGED",11.1,1,1.5)
S X=$P(^DPT(DA(1),0),U)
"IX",19641.2,19641.2,"FLAGGED",11.1,2,0)
2^F^19641.24^.02^^^F
"IX",19641.2,19641.2,"FLAGGED",11.1,3,0)
3^C
"IX",19641.2,19641.2,"FLAGGED",11.1,3,1.5)
S X=0 I $D(^DSIO(19641.2,"TRACKING",$P(^DPT(DA(1),0),U),DA(1))) S X=1
"IX",19641.2,19641.2,"FLAGGED",11.1,4,0)
4^C^^^^2
"IX",19641.2,19641.2,"FLAGGED",11.1,4,1.5)
S X=DA(1)
"IX",19641.2,19641.2,"FLAGGED",11.1,5,0)
5^C^^^^3
"IX",19641.2,19641.2,"FLAGGED",11.1,5,1.5)
S X=""_DA_","_DA(1)_""
"IX",19641.2,19641.2,"FLAGGED","NOREINDEX")
1
"IX",19641.2,19641.2,"TRACKING",0)
19641.2^TRACKING^CURRENTLY TRACKED PATIENTS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"TRACKING",1)
K:X(2)'=2 ^DSIO(19641.2,"TRACKING",X(1),X(3)) S:X(2)=1!(X(2)=4) ^DSIO(19641.2,"TRACKING",X(1),X(3),X(4),DA(1),DA)=""
"IX",19641.2,19641.2,"TRACKING",1.4)

"IX",19641.2,19641.2,"TRACKING",2)
Q
"IX",19641.2,19641.2,"TRACKING",2.5)
K ^DSIO(19641.2,"TRACKING")
"IX",19641.2,19641.2,"TRACKING",11.1,0)
^.114IA^7^4
"IX",19641.2,19641.2,"TRACKING",11.1,4,0)
1^C^^^^1
"IX",19641.2,19641.2,"TRACKING",11.1,4,1.5)
S X=$P(^DPT(DA(1),0),U)
"IX",19641.2,19641.2,"TRACKING",11.1,5,0)
2^F^19641.24^.02^^^F
"IX",19641.2,19641.2,"TRACKING",11.1,6,0)
3^C^^^^2
"IX",19641.2,19641.2,"TRACKING",11.1,6,1.5)
S X=DA(1)
"IX",19641.2,19641.2,"TRACKING",11.1,7,0)
4^C^^^^3
"IX",19641.2,19641.2,"TRACKING",11.1,7,1.5)
S X=""_DA_","_DA(1)_""
"IX",19641.2,19641.2,"TRACKING","NOREINDEX")
1
"IX",19641.2,19641.24,"B",0)
19641.24^B^REGULAR BUT SORT DT BACKWARDS^R^^F^IR^I^19641.24^^^^^LS
"IX",19641.2,19641.24,"B",1)
S ^DSIO(19641.2,DA(1),1,"B",X,DA)=""
"IX",19641.2,19641.24,"B",2)
K ^DSIO(19641.2,DA(1),1,"B",X,DA)
"IX",19641.2,19641.24,"B",2.5)
K ^DSIO(19641.2,DA(1),1,"B")
"IX",19641.2,19641.24,"B",11.1,0)
^.114IA^1^1
"IX",19641.2,19641.24,"B",11.1,1,0)
1^F^19641.24^.01^^1^B
"IX",19641.2,19641.24,"B",11.1,1,3)

"IX",19641.2,19641.24,"FLAG",0)
19641.24^FLAG^ALL FLAGGED TRACKING LOGS.^MU^^R^IR^I^19641.24^^^^^LS
"IX",19641.2,19641.24,"FLAG",1)
S:X(1)=2 ^DSIO(19641.2,DA(1),1,"FLAG",X(2),DA)="" K:X(1)'=2 ^DSIO(19641.2,DA(1),1,"FLAG")
"IX",19641.2,19641.24,"FLAG",1.4)
I X(1)'=""
"IX",19641.2,19641.24,"FLAG",2)
Q
"IX",19641.2,19641.24,"FLAG",2.4)

"IX",19641.2,19641.24,"FLAG",2.5)
K ^DSIO(19641.2,DA(1),1,"FLAG")
"IX",19641.2,19641.24,"FLAG",11.1,0)
^.114IA^2^2
"IX",19641.2,19641.24,"FLAG",11.1,1,0)
1^F^19641.24^.02^^^F
"IX",19641.2,19641.24,"FLAG",11.1,2,0)
2^F^19641.24^.01^^1^B
"IX",19641.41,19641.411,"C",0)
19641.411^C^MOST RECENT CONTROL ENTRIES - RESTORE^MU^^F^IR^I^19641.411^^^^^LS
"IX",19641.41,19641.411,"C",1)
K ^DSIO(19641.41,DA(1),1,"C",X(1)) S ^DSIO(19641.41,DA(1),1,"C",X(1),DA)=""
"IX",19641.41,19641.411,"C",2)
K ^DSIO(19641.41,DA(1),1,"C",X(1))
"IX",19641.41,19641.411,"C",2.5)
K ^DSIO(19641.41,DA(1),1,"C")
"IX",19641.41,19641.411,"C",11.1,0)
^.114IA^2^2
"IX",19641.41,19641.411,"C",11.1,1,0)
1^C^^^^1
"IX",19641.41,19641.411,"C",11.1,1,1.5)
N R S R=$$GET1^DIQ(DIFILE,DA_","_DA(1)_",",.01,"I"),X=$$GET1^DIQ($TR($P($P(R,";",2),"(",2),",",""),$P(R,";")_",",2.4)
"IX",19641.41,19641.411,"C",11.1,2,0)
2^F^19641.411^.01^^^F
"IX",19641.41,19641.411,"C",11.1,2,3)

"IX",19641.41,19641.411,"J",0)
19641.411^J^ALL POPULATED CONTROLS FOR A JOB^R^^F^IR^I^19641.411^^^^^LS
"IX",19641.41,19641.411,"J",1)
S ^DSIO(19641.41,DA(1),1,"J",X(1),X(2),X(3),DA)=""
"IX",19641.41,19641.411,"J",2)
K ^DSIO(19641.41,DA(1),1,"J",X(1),X(2),X(3),DA)
"IX",19641.41,19641.411,"J",2.5)
K ^DSIO(19641.41,DA(1),1,"J")
"IX",19641.41,19641.411,"J",11.1,0)
^.114IA^3^3
"IX",19641.41,19641.411,"J",11.1,1,0)
1^F^19641.411^.02^^1^F
"IX",19641.41,19641.411,"J",11.1,2,0)
2^C^^^^2
"IX",19641.41,19641.411,"J",11.1,2,1.5)
N R S R=$$GET1^DIQ(DIFILE,DA_","_DA(1)_",",.01,"I"),X=$$GET1^DIQ($TR($P($P(R,";",2),"(",2),",",""),$P(R,";")_",",2.4)
"IX",19641.41,19641.411,"J",11.1,3,0)
3^C^^^^3^F
"IX",19641.41,19641.411,"J",11.1,3,1.5)
N R S R=$$GET1^DIQ(DIFILE,DA_","_DA(1)_",",.01,"I"),X=$$GET1^DIQ($TR($P($P(R,";",2),"(",2),",",""),$P(R,";")_",",2.3,"I")
"IX",19641.41,19641.4121,"C",0)
19641.4121^C^MOST RECENT CONTROL ENTRIES - RESTORE^MU^^F^IR^I^19641.4121^^^^^LS
"IX",19641.41,19641.4121,"C",1)
K ^DSIO(19641.41,DA(2),2,DA(1),1,"C",X(1)) S ^DSIO(19641.41,DA(2),2,DA(1),1,"C",X(1),DA)=""
"IX",19641.41,19641.4121,"C",2)
K ^DSIO(19641.41,DA(2),2,DA(1),1,"C",X(1))
"IX",19641.41,19641.4121,"C",2.5)
K ^DSIO(19641.41,DA(2),2,DA(1),1,"C")
"IX",19641.41,19641.4121,"C",11.1,0)
^.114IA^2^2
"IX",19641.41,19641.4121,"C",11.1,1,0)
1^C^^^^1
"IX",19641.41,19641.4121,"C",11.1,1,1.5)
N R S R=$$GET1^DIQ(DIFILE,DA_","_DA(1)_","_DA(2)_",",.01,"I"),X=$$GET1^DIQ($TR($P($P(R,";",2),"(",2),",",""),$P(R,";")_",",2.4)
"IX",19641.41,19641.4121,"C",11.1,2,0)
2^F^19641.4121^.01^^^F
"IX",19641.41,19641.4121,"J",0)
19641.4121^J^ALL POPULATED CONTROLS FOR A JOB^R^^F^IR^I^19641.4121^^^^^LS
"IX",19641.41,19641.4121,"J",1)
S ^DSIO(19641.41,DA(2),2,DA(1),1,"J",X(1),X(2),X(3),DA)=""
"IX",19641.41,19641.4121,"J",2)
K ^DSIO(19641.41,DA(2),2,DA(1),1,"J",X(1),X(2),X(3),DA)
"IX",19641.41,19641.4121,"J",2.5)
K ^DSIO(19641.41,DA(2),2,DA(1),1,"J")
"IX",19641.41,19641.4121,"J",11.1,0)
^.114IA^3^3
"IX",19641.41,19641.4121,"J",11.1,1,0)
1^F^19641.4121^.02^^1^F
"IX",19641.41,19641.4121,"J",11.1,1,3)

"IX",19641.41,19641.4121,"J",11.1,2,0)
2^C^^^^2
"IX",19641.41,19641.4121,"J",11.1,2,1.5)
N R S R=$$GET1^DIQ(DIFILE,DA_","_DA(1)_","_DA(2)_",",.01,"I"),X=$$GET1^DIQ($TR($P($P(R,";",2),"(",2),",",""),$P(R,";")_",",2.4)
"IX",19641.41,19641.4121,"J",11.1,3,0)
3^C^^^^3^F
"IX",19641.41,19641.4121,"J",11.1,3,1.5)
N R S R=$$GET1^DIQ(DIFILE,DA_","_DA(1)_","_DA(2)_",",.01,"I"),X=$$GET1^DIQ($TR($P($P(R,";",2),"(",2),",",""),$P(R,";")_",",2.3,"I")
"IX",19641.48,19641.48,"MC",0)
19641.48^MC^ALL MULTI VALUED CONTROLS FOR A DOCUMENT DEFINITION.^R^^F^IR^W^19641.481^^^^^LS
"IX",19641.48,19641.48,"MC",1)
S ^DSIO(19641.48,"MC",X(2),X(1),DA(1),DA)=""
"IX",19641.48,19641.48,"MC",2)
K ^DSIO(19641.48,"MC",X(2),X(1),DA(1),DA)
"IX",19641.48,19641.48,"MC",2.5)
K ^DSIO(19641.48,"MC")
"IX",19641.48,19641.48,"MC",11.1,0)
^.114IA^2^2
"IX",19641.48,19641.48,"MC",11.1,1,0)
1^F^19641.481^.01^^2^F
"IX",19641.48,19641.48,"MC",11.1,1,3)

"IX",19641.48,19641.48,"MC",11.1,2,0)
2^C^^^^1
"IX",19641.48,19641.48,"MC",11.1,2,1.5)
S X=DA(1)
"IX",19641.48,19641.48,"SC",0)
19641.48^SC^ALL SINGLE VALUED CONTROLS FOR A DOCUMENT DEFINITION.^R^^F^IR^W^19641.482^^^^^LS
"IX",19641.48,19641.48,"SC",1)
S ^DSIO(19641.48,"SC",X(2),X(1),DA(1),DA)=""
"IX",19641.48,19641.48,"SC",2)
K ^DSIO(19641.48,"SC",X(2),X(1),DA(1),DA)
"IX",19641.48,19641.48,"SC",2.5)
K ^DSIO(19641.48,"SC")
"IX",19641.48,19641.48,"SC",11.1,0)
^.114IA^2^2
"IX",19641.48,19641.48,"SC",11.1,1,0)
1^F^19641.482^.01^^2^F
"IX",19641.48,19641.48,"SC",11.1,1,3)

"IX",19641.48,19641.48,"SC",11.1,2,0)
2^C^^^^1
"IX",19641.48,19641.48,"SC",11.1,2,1.5)
S X=DA(1)
"IX",19641.6,19641.6,"B",0)
19641.6^B^B X-REF^R^^F^IR^I^19641.6^^^^^LS
"IX",19641.6,19641.6,"B",1)
S ^DSIO(19641.6,"B",X,DA)=""
"IX",19641.6,19641.6,"B",2)
K ^DSIO(19641.6,"B",X,DA)
"IX",19641.6,19641.6,"B",2.5)
K ^DSIO(19641.6,"B")
"IX",19641.6,19641.6,"B",11.1,0)
^.114IA^1^1
"IX",19641.6,19641.6,"B",11.1,1,0)
1^F^19641.6^.01^^1^F
"IX",19641.6,19641.6,"B",11.1,1,3)

"IX",9000011,9000011,"ACR",0)
9000011^ACR^Clinical Reminders index for ICD9 lookup.^MU^^R^IR^I^9000011^^^^^A
"IX",9000011,9000011,"ACR",.1,0)
^^17^17^3041216
"IX",9000011,9000011,"ACR",.1,1,0)
This cross-reference builds two indexes, one for finding
"IX",9000011,9000011,"ACR",.1,2,0)
all patients with a particular ICD9 code and one for
"IX",9000011,9000011,"ACR",.1,3,0)
finding all the ICD9 codes a patient has. The indexes are
"IX",9000011,9000011,"ACR",.1,4,0)
stored in the Clinical Reminders index global as:
"IX",9000011,9000011,"ACR",.1,5,0)
 ^PXRMINDX(9000011,"ISPP",ICD9,STATUS,PRIORITY,DFN,DLM,DAS)
"IX",9000011,9000011,"ACR",.1,6,0)
 ^PXRMINDX(9000011,"PSPI",DFN,STATUS,PRIORITY,ICD9,DLM,DAS)
"IX",9000011,9000011,"ACR",.1,7,0)
respectively.
"IX",9000011,9000011,"ACR",.1,8,0)
 
"IX",9000011,9000011,"ACR",.1,9,0)
STATUS can be "A" for active or "I" for inactive.
"IX",9000011,9000011,"ACR",.1,10,0)
PRIORITY can be "A" for acute or "C" for chronic. If
"IX",9000011,9000011,"ACR",.1,11,0)
PRIORITY is missing then a "U" will be stored in the index.
"IX",9000011,9000011,"ACR",.1,12,0)
For Problems whose PRIORITY is "C" Clinical Reminders uses
"IX",9000011,9000011,"ACR",.1,13,0)
today's date for the date of the Problem. In all other
"IX",9000011,9000011,"ACR",.1,14,0)
cases Clinical Reminders uses DLM where DLM is the date last modified.
"IX",9000011,9000011,"ACR",.1,15,0)
When Problems are "removed" then CONDITION is set
"IX",9000011,9000011,"ACR",.1,16,0)
to "H" for hidden. Hidden Problems are not indexed.
"IX",9000011,9000011,"ACR",.1,17,0)
For all the details, see the Clinical Reminders Index Technical Guide/Programmer's Manual.
"IX",9000011,9000011,"ACR",1)
D SPROB^GMPLPXRM(.X,.DA)
"IX",9000011,9000011,"ACR",2)
D KPROB^GMPLPXRM(.X,.DA)
"IX",9000011,9000011,"ACR",2.5)
K ^PXRMINDX(9000011)
"IX",9000011,9000011,"ACR",11.1,0)
^.114IA^6^6
"IX",9000011,9000011,"ACR",11.1,1,0)
1^F^9000011^.01^^1^F
"IX",9000011,9000011,"ACR",11.1,2,0)
2^F^9000011^.02^^2^F
"IX",9000011,9000011,"ACR",11.1,3,0)
3^F^9000011^.03^^3^F
"IX",9000011,9000011,"ACR",11.1,4,0)
4^F^9000011^.12^^4^F
"IX",9000011,9000011,"ACR",11.1,5,0)
5^F^9000011^1.14
"IX",9000011,9000011,"ACR",11.1,6,0)
6^F^9000011^1.02
"IX",9000011,9000011,"APR",0)
9000011^APR^Maternity Tracker Trigger logic^MU^^R^IR^I^9000011^^^^^A
"IX",9000011,9000011,"APR",.1,0)
^^2^2^3131219^
"IX",9000011,9000011,"APR",.1,1,0)
 
"IX",9000011,9000011,"APR",.1,2,0)
Maternity Tracker Trigger logic
"IX",9000011,9000011,"APR",1)
D EN^DSIO5(.X,"CPR^PROB^SET")
"IX",9000011,9000011,"APR",2)
Q
"IX",9000011,9000011,"APR",11.1,0)
^.114IA^2^2
"IX",9000011,9000011,"APR",11.1,1,0)
1^F^9000011^.01^^1^F
"IX",9000011,9000011,"APR",11.1,2,0)
2^F^9000011^.02^^2^F
"IX",9000011,9000011,"AVFD",0)
9000011^AVFD^Maternity Tracker Trigger logic^MU^^R^IR^I^9000011^^^^^A
"IX",9000011,9000011,"AVFD",.1,0)
^^2^2^3140102^^
"IX",9000011,9000011,"AVFD",.1,1,0)
 
"IX",9000011,9000011,"AVFD",.1,2,0)
Maternity Tracker Trigger logic
"IX",9000011,9000011,"AVFD",1)
D EN^DSIO5(.X,"CPR^PROB^SET")
"IX",9000011,9000011,"AVFD",2)
Q
"IX",9000011,9000011,"AVFD",11.1,0)
^.114IA^2^2
"IX",9000011,9000011,"AVFD",11.1,1,0)
1^F^9000011^.01^^1^F
"IX",9000011,9000011,"AVFD",11.1,1,3)

"IX",9000011,9000011,"AVFD",11.1,2,0)
2^F^9000011^.02^^2^F
"KRN",19,14687,-1)
0^2
"KRN",19,14687,0)
DSIO GUI CONTEXT^MCC DASHBOARD RPCS^^B^^^^^^^^
"KRN",19,14687,"RPC",0)
^19.05P^33^32
"KRN",19,14687,"RPC",1,0)
DSIO CREATE TRACKING LOG
"KRN",19,14687,"RPC",2,0)
DSIO FEMALE PATIENT FIND
"KRN",19,14687,"RPC",3,0)
DSIO FEMALE PATIENT SEARCH
"KRN",19,14687,"RPC",4,0)
DSIO GET TRACKING
"KRN",19,14687,"RPC",6,0)
DSIO SELECT LIST
"KRN",19,14687,"RPC",7,0)
ORWU HASKEY
"KRN",19,14687,"RPC",8,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,14687,"RPC",9,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,14687,"RPC",10,0)
TIU DOCUMENTS BY CONTEXT
"KRN",19,14687,"RPC",11,0)
ORWPT SELECT
"KRN",19,14687,"RPC",12,0)
ORWU USERINFO
"KRN",19,14687,"RPC",13,0)
DSIO NEXT CONTACT DATE
"KRN",19,14687,"RPC",14,0)
DSIO SAVE NON VA ENTITY
"KRN",19,14687,"RPC",15,0)
DSIO RETURN ENTITY
"KRN",19,14687,"RPC",16,0)
DSIO CREATE A NOTE
"KRN",19,14687,"RPC",17,0)
DSIO UPDATE A NOTE
"KRN",19,14687,"RPC",18,0)
DSIO MAKE ADDENDUM
"KRN",19,14687,"RPC",19,0)
DSIO GET RECORD TEXT
"KRN",19,14687,"RPC",20,0)
DSIO DELETE A NOTE
"KRN",19,14687,"RPC",21,0)
DSIO SIGN A NOTE
"KRN",19,14687,"RPC",22,0)
DSIO NOTES BY DFN AND TITLE
"KRN",19,14687,"RPC",23,0)
DSIO GET NOTE ELEMENT
"KRN",19,14687,"RPC",24,0)
DSIO IS IT CONTROLLED?
"KRN",19,14687,"RPC",25,0)
DSIO SET NOTE DATA
"KRN",19,14687,"RPC",26,0)
XUS CVC
"KRN",19,14687,"RPC",27,0)
TIU GET RECORD TEXT
"KRN",19,14687,"RPC",28,0)
TIU AUTHORIZATION
"KRN",19,14687,"RPC",29,0)
DSIO IHE SAVE
"KRN",19,14687,"RPC",30,0)
VPR DATA VERSION
"KRN",19,14687,"RPC",31,0)
VPR GET PATIENT DATA
"KRN",19,14687,"RPC",32,0)
DSIO IHE PATIENT LIST
"KRN",19,14687,"RPC",33,0)
DSIO IHE GET DOC
"KRN",19,14687,"U")
MCC DASHBOARD RPCS
"KRN",19,14688,-1)
0^1
"KRN",19,14688,0)
DSIO CNT CONTEXT^DSIO CNT GUI Context^^B^^^^^^^^
"KRN",19,14688,"RPC",0)
^19.05P^11^9
"KRN",19,14688,"RPC",1,0)
DSIO GET PARAMETER VALUE
"KRN",19,14688,"RPC",2,0)
DSIO CNT STORE
"KRN",19,14688,"RPC",5,0)
DSIC DDR GETS ENTRY DATA
"KRN",19,14688,"RPC",6,0)
DSIC DDR FINDER
"KRN",19,14688,"RPC",7,0)
ORWPCE LEXCODE
"KRN",19,14688,"RPC",8,0)
ORQQPL PROBLEM LEX SEARCH
"KRN",19,14688,"RPC",9,0)
DSIO CNT RESTORE
"KRN",19,14688,"RPC",10,0)
DSIO CNT DIALOG POPULATE
"KRN",19,14688,"RPC",11,0)
DSIO CNT DIALOG LOOKUP
"KRN",19,14688,"U")
DSIO CNT GUI CONTEXT
"KRN",19.1,728,-1)
0^1
"KRN",19.1,728,0)
DSIO ADMIN^Maternity Tracking Admin Key
"KRN",8989.51,883,-1)
0^2
"KRN",8989.51,883,0)
DSIO OCNT TAB TYPE^User Tab Type^0^^TAB TYPE^0
"KRN",8989.51,883,1)
S^Tab:brTab;Wizard:brWizard^Select the default tab preference type.
"KRN",8989.51,883,20,0)
^8989.512^1^1^3140310^^^^
"KRN",8989.51,883,20,1,0)
Part of the user preferences for open source CNTs for DSIO.
"KRN",8989.51,883,30,0)
^8989.513I^2^2
"KRN",8989.51,883,30,1,0)
3^200
"KRN",8989.51,883,30,2,0)
6^4.2
"KRN",8989.51,884,-1)
0^1
"KRN",8989.51,884,0)
DSIO CNT DIALOG DLL LOC^Location of oCNTDialogs.dll.^0^^LOCATION^0
"KRN",8989.51,884,1)
F^^Enter the full address including the name of the program.
"KRN",8989.51,884,20,0)
^^3^3^3140310^
"KRN",8989.51,884,20,1,0)
This identifes the location of the dialog dll so that a CNT can load it 
"KRN",8989.51,884,20,2,0)
and display a dialog to the user to collect information to populate a 
"KRN",8989.51,884,20,3,0)
note.
"KRN",8989.51,884,30,0)
^8989.513I^1^1
"KRN",8989.51,884,30,1,0)
3^4.2
"KRN",8994,3933,-1)
0^12
"KRN",8994,3933,0)
DSIO FEMALE PATIENT FIND^PATIENT1^DSIO1^2
"KRN",8994,3933,1,0)
^^2^2^3140103^
"KRN",8994,3933,1,1,0)
Only female patients with a full SSN match or first letter of their last 
"KRN",8994,3933,1,2,0)
name plus their last four as a match.
"KRN",8994,3933,2,0)
^8994.02A^2^1
"KRN",8994,3933,2,2,0)
KEY^1^^1^1
"KRN",8994,3933,2,2,1,0)
^^3^3^3140103^
"KRN",8994,3933,2,2,1,1,0)
 KEY CAN BE:
"KRN",8994,3933,2,2,1,2,0)
 - FULL SSN
"KRN",8994,3933,2,2,1,3,0)
 - FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"KRN",8994,3933,2,"B","KEY",2)

"KRN",8994,3933,2,"PARAMSEQ",1,2)

"KRN",8994,3933,3,0)
^^10^10^3140103^
"KRN",8994,3933,3,1,0)
RETURN FORMAT:
"KRN",8994,3933,3,2,0)
--------------
"KRN",8994,3933,3,3,0)
DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN 
"KRN",8994,3933,3,4,0)
STATUS^LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING
"KRN",8994,3933,3,5,0)
 
"KRN",8994,3933,3,6,0)
CURRENTLY TRACKING:
"KRN",8994,3933,3,7,0)
1 for Yes, 0 for No or no tracking history for this patient.
"KRN",8994,3933,3,8,0)
 
"KRN",8994,3933,3,9,0)
IF NOTHING IS FOUND:
"KRN",8994,3933,3,10,0)
RET(0)="-1^Patient not found."
"KRN",8994,3934,-1)
0^17
"KRN",8994,3934,0)
DSIO GET TRACKING^TRCLIST^DSIO1^4^^^^1
"KRN",8994,3934,1,0)
^8994.01^2^2^3131210^^^^
"KRN",8994,3934,1,1,0)
This RPC will return a list of all Tracking History Logs, all flagged 
"KRN",8994,3934,1,2,0)
logs for flagged patients or a patient, or all logs for a single patient.
"KRN",8994,3934,2,0)
^8994.02A^2^2
"KRN",8994,3934,2,1,0)
FLG^1^^0^1
"KRN",8994,3934,2,1,1,0)
^8994.021^1^1^3131118^^^^
"KRN",8994,3934,2,1,1,1,0)
T: TRACKED, P: PENDING
"KRN",8994,3934,2,2,0)
TYP^^^^1
"KRN",8994,3934,2,2,1,0)
^^9^9^3131210^
"KRN",8994,3934,2,2,1,1,0)
ALL (literal)^Last Entry (if multiple lists) or null^Count or null (the 
"KRN",8994,3934,2,2,1,2,0)
value is 100 if null is passed)
"KRN",8994,3934,2,2,1,3,0)
 
"KRN",8994,3934,2,2,1,4,0)
    ALL^LAST^CT: ALL LOGS
"KRN",8994,3934,2,2,1,5,0)
  
"KRN",8994,3934,2,2,1,6,0)
     F: ALL CURRENTLY FLAGGED PATIENTS AND THEIR FLAGGED LOGS
"KRN",8994,3934,2,2,1,7,0)
    F#: ALL CURRENTLY FLAGGED LOGS FOR A PATIENT
"KRN",8994,3934,2,2,1,8,0)
   DFN: ALL LOG ENTRIES FOR A PATIENT
"KRN",8994,3934,2,2,1,9,0)
     T: ALL CURRENTLY TRACKED PATIENTS
"KRN",8994,3934,2,"B","FLG",1)

"KRN",8994,3934,2,"B","TYP",2)

"KRN",8994,3934,2,"PARAMSEQ",1,1)

"KRN",8994,3934,2,"PARAMSEQ",1,2)

"KRN",8994,3934,3,0)
^^16^16^3131210^
"KRN",8994,3934,3,1,0)
-1^ERROR MESSAGE
"KRN",8994,3934,3,2,0)
 
"KRN",8994,3934,3,3,0)
 L^IEN^TRACKING 
"KRN",8994,3934,3,4,0)
  DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"KRN",8994,3934,3,5,0)
 C^IEN^COMMENT
"KRN",8994,3934,3,6,0)
 
"KRN",8994,3934,3,7,0)
 FLAGGED:
"KRN",8994,3934,3,8,0)
 --------
"KRN",8994,3934,3,9,0)
 P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB
"KRN",8994,3934,3,10,0)
 L^IEN^TRACKING 
"KRN",8994,3934,3,11,0)
  DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"KRN",8994,3934,3,12,0)
 C^IEN^COMMENT FOR THE LOG ENTRY
"KRN",8994,3934,3,13,0)
 
"KRN",8994,3934,3,14,0)
 TRACKED:
"KRN",8994,3934,3,15,0)
 --------
"KRN",8994,3934,3,16,0)
 P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD 
"KRN",8994,3935,-1)
0^27
"KRN",8994,3935,0)
DSIO SELECT LIST^SELECT^DSIO1^2
"KRN",8994,3935,1,0)
^8994.01^1^1^3131121^
"KRN",8994,3935,1,1,0)
This RPC will return user drop down lists, add or delete an entry.
"KRN",8994,3935,2,0)
^8994.02A^1^1
"KRN",8994,3935,2,1,0)
TYP^1^^^1
"KRN",8994,3935,2,1,1,0)
^^5^5^3131121^
"KRN",8994,3935,2,1,1,1,0)
TYP : 'S' for Tracking Sources
"KRN",8994,3935,2,1,1,2,0)
TYP : 'R' or null for Tracking Reasons
"KRN",8994,3935,2,1,1,3,0)
 
"KRN",8994,3935,2,1,1,4,0)
LETTER^ENTRY^A : ADD AN ENTRY TO ONE OF THE ABOVE FILES
"KRN",8994,3935,2,1,1,5,0)
LETTER^ENTRY^D : DELETE AN ENTRY FROM ONE OF THE ABOVE FILES
"KRN",8994,3935,2,"B","TYP",1)

"KRN",8994,3935,2,"PARAMSEQ",1,1)

"KRN",8994,3935,3,0)
^^2^2^3131122^
"KRN",8994,3935,3,1,0)
A LIST OF ITEMS
"KRN",8994,3935,3,2,0)
-1^MESSAGE (FOR CRITICAL FAILURE)
"KRN",8994,3936,-1)
0^10
"KRN",8994,3936,0)
DSIO CREATE TRACKING LOG^REC^DSIO1^1
"KRN",8994,3936,1,0)
^8994.01^1^1^3131210^^
"KRN",8994,3936,1,1,0)
CREATE A TRACKING LOG
"KRN",8994,3936,2,0)
^8994.02A^5^5
"KRN",8994,3936,2,1,0)
DFN^1^^1^1
"KRN",8994,3936,2,1,1,0)
^^1^1^3131127^
"KRN",8994,3936,2,1,1,1,0)
PATIENT NUMBER
"KRN",8994,3936,2,2,0)
ACT^1^^1^2
"KRN",8994,3936,2,2,1,0)
^^1^1^3131127^
"KRN",8994,3936,2,2,1,1,0)
EVENT TYPE
"KRN",8994,3936,2,3,0)
RES^1^^^3
"KRN",8994,3936,2,3,1,0)
^^1^1^3131127^
"KRN",8994,3936,2,3,1,1,0)
REASON  - #^#^# - LIST OF REASONS IN A CARET DELIMITED STRING
"KRN",8994,3936,2,4,0)
COM^2^^^4
"KRN",8994,3936,2,4,1,0)
^8994.021^1^1^3131210^^
"KRN",8994,3936,2,4,1,1,0)
ARRAY OF STRINGS AS FREE TEXT
"KRN",8994,3936,2,5,0)
SOR^1^^^5
"KRN",8994,3936,2,"B","ACT",2)

"KRN",8994,3936,2,"B","COM",4)

"KRN",8994,3936,2,"B","DFN",1)

"KRN",8994,3936,2,"B","RES",3)

"KRN",8994,3936,2,"B","SOR",5)

"KRN",8994,3936,2,"PARAMSEQ",1,1)

"KRN",8994,3936,2,"PARAMSEQ",2,2)

"KRN",8994,3936,2,"PARAMSEQ",3,3)

"KRN",8994,3936,2,"PARAMSEQ",4,4)

"KRN",8994,3936,2,"PARAMSEQ",5,5)

"KRN",8994,3936,3,0)
^8994.03^1^1^3131210^^
"KRN",8994,3936,3,1,0)
-1/1^COMMENT
"KRN",8994,3948,-1)
0^31
"KRN",8994,3948,0)
ORATR ALERT TYPE^TYPE^ORATR^1^S
"KRN",8994,3948,1,0)
^8994.01^2^2^3131216^^
"KRN",8994,3948,1,1,0)
This RPC allows SMART Alerts to use ComObjects by identifing if a TIU 
"KRN",8994,3948,1,2,0)
Template is either a Reminder Dialog or ComObject.
"KRN",8994,3948,2,0)
^8994.02A^1^1
"KRN",8994,3948,2,1,0)
ORIEN^1^^1^1
"KRN",8994,3948,2,1,1,0)
^8994.021^2^2^3131216^^
"KRN",8994,3948,2,1,1,1,0)
This is the IEN of the VFD TAR CONTROL file entry associated with the 
"KRN",8994,3948,2,1,1,2,0)
current OR Notification used to trigger the SMART Alert.
"KRN",8994,3948,2,"B","ORIEN",1)

"KRN",8994,3948,2,"PARAMSEQ",1,1)

"KRN",8994,3948,3,0)
^8994.03^3^3^3131216^^
"KRN",8994,3948,3,1,0)
Will return a R for Reminder Dialog, C for ComObject or a -1 if neither 
"KRN",8994,3948,3,2,0)
is defined. Furthermore, if both a Reminder Dialog and ComObject are 
"KRN",8994,3948,3,3,0)
defined then the Reminder Dialog will take priority.
"KRN",8994,3949,-1)
0^13
"KRN",8994,3949,0)
DSIO FEMALE PATIENT SEARCH^PATIENT2^DSIO1^4^^^^1
"KRN",8994,3949,1,0)
^^3^3^3140103^
"KRN",8994,3949,1,1,0)
All female patients with paging enabled or partial matched female 
"KRN",8994,3949,1,2,0)
patients starting with their last name "," to the first name with paging 
"KRN",8994,3949,1,3,0)
enabled.
"KRN",8994,3949,2,0)
^8994.02A^2^2
"KRN",8994,3949,2,1,0)
KEY^1^^0^1
"KRN",8994,3949,2,1,1,0)
^^1^1^3140103^
"KRN",8994,3949,2,1,1,1,0)
This is the partial to full match of the patient's name.
"KRN",8994,3949,2,2,0)
SORT^1^^0^2
"KRN",8994,3949,2,2,1,0)
^^1^1^3140103^
"KRN",8994,3949,2,2,1,1,0)
This is for paging. Page#,Count (the comma is required)
"KRN",8994,3949,2,"B","KEY",1)

"KRN",8994,3949,2,"B","SORT",2)

"KRN",8994,3949,2,"PARAMSEQ",1,1)

"KRN",8994,3949,2,"PARAMSEQ",2,2)

"KRN",8994,3949,3,0)
^^10^10^3140103^
"KRN",8994,3949,3,1,0)
RETURN FORMAT:
"KRN",8994,3949,3,2,0)
--------------
"KRN",8994,3949,3,3,0)
DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN 
"KRN",8994,3949,3,4,0)
STATUS^LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING
"KRN",8994,3949,3,5,0)
 
"KRN",8994,3949,3,6,0)
CURRENTLY TRACKING:
"KRN",8994,3949,3,7,0)
1 for Yes, 0 for No or no tracking history for this patient.
"KRN",8994,3949,3,8,0)
 
"KRN",8994,3949,3,9,0)
IF NOTHING IS FOUND:
"KRN",8994,3949,3,10,0)
RET(0)="-1^Patient not found."
"KRN",8994,3950,-1)
0^23
"KRN",8994,3950,0)
DSIO NEXT CONTACT DATE^CONTACT^DSIO4^1
"KRN",8994,3950,2,0)
^8994.02A^1^1
"KRN",8994,3950,2,1,0)
DFN^1^^1^1
"KRN",8994,3950,2,1,1,0)
^8994.021^1^1^3140205^^
"KRN",8994,3950,2,1,1,1,0)
PATIENT IEN
"KRN",8994,3950,2,"B","DFN",1)

"KRN",8994,3950,2,"PARAMSEQ",1,1)

"KRN",8994,3950,3,0)
^8994.03^1^1^3140205^^
"KRN",8994,3950,3,1,0)
EXTERANL DATE FORMAT OR NULL
"KRN",8994,3951,-1)
0^26
"KRN",8994,3951,0)
DSIO SAVE NON VA ENTITY^SENT^DSIO4^1
"KRN",8994,3951,2,0)
^8994.02A^1^1
"KRN",8994,3951,2,1,0)
SAVE^2^^1^1
"KRN",8994,3951,2,1,1,0)
^^2^2^3140127^
"KRN",8994,3951,2,1,1,1,0)
AN ARRAY OF FIELDS AND THEIR VALUES TO SAVE AS THE NON VA PROVIDER OR 
"KRN",8994,3951,2,1,1,2,0)
FACILITY. SAVE(#)=".01^VALUE" IS REQUIRED.
"KRN",8994,3951,2,"B","SAVE",1)

"KRN",8994,3951,2,"PARAMSEQ",1,1)

"KRN",8994,3951,3,0)
^^1^1^3140127^
"KRN",8994,3951,3,1,0)
-1^ERROR MESSAGE OR 1^IEN ON SUCCESS
"KRN",8994,3952,-1)
0^25
"KRN",8994,3952,0)
DSIO RETURN ENTITY^RENT^DSIO4^4^^^^1
"KRN",8994,3952,1,0)
^8994.01^1^1^3140127^
"KRN",8994,3952,1,1,0)
ENTITY LIST BY PROVIDER, FACILITY OR BOTH.
"KRN",8994,3952,2,0)
^8994.02A^1^1
"KRN",8994,3952,2,1,0)
TYP^1^^0^1
"KRN",8994,3952,2,1,1,0)
^^2^2^3140127^
"KRN",8994,3952,2,1,1,1,0)
INDICATE P TO RETURN A LIST OF PROVIDERS OR F FOR A LIST OF FACILITIES; 
"KRN",8994,3952,2,1,1,2,0)
NO TYP RETURNS A LIST OF ALL ENTITIES.
"KRN",8994,3952,2,"B","TYP",1)

"KRN",8994,3952,2,"PARAMSEQ",1,1)

"KRN",8994,3952,3,0)
^^3^3^3140127^
"KRN",8994,3952,3,1,0)
  IEN^NAME^TYPE^INACTIVE^STREE ADDRESS 1^STREE ADDRESS 2
"KRN",8994,3952,3,2,0)
  ^STREET ADDRESS 3^CITY^STATE^ZIP CODE^PHONE NUMBER (HOME)
"KRN",8994,3952,3,3,0)
  ^PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX NUMBER
"KRN",8994,3953,-1)
0^8
"KRN",8994,3953,0)
DSIO CREATE A NOTE^CREATE^DSIO3^1
"KRN",8994,3953,2,0)
^8994.02A^4^4
"KRN",8994,3953,2,1,0)
DFN^1^^1^1
"KRN",8994,3953,2,1,1,0)
^^1^1^3140127^
"KRN",8994,3953,2,1,1,1,0)
PATIENT IEN
"KRN",8994,3953,2,2,0)
TITLE^1^^1^2
"KRN",8994,3953,2,2,1,0)
^^1^1^3140127^
"KRN",8994,3953,2,2,1,1,0)
THE PROGRESS NOTE TITLE
"KRN",8994,3953,2,3,0)
NOTE^2^^1^3
"KRN",8994,3953,2,3,1,0)
^^1^1^3140127^
"KRN",8994,3953,2,3,1,1,0)
THE PROGESS NOTE AS AN ARRAY.
"KRN",8994,3953,2,4,0)
DATA^2^^^4
"KRN",8994,3953,2,4,1,0)
^^2^2^3140127^
"KRN",8994,3953,2,4,1,1,0)
DISCREET DATA ELEMENTS TO BE SAVED AND ASSOCIATED WITH THIS NOTE. THE 
"KRN",8994,3953,2,4,1,2,0)
ARRAY MUST BE LIST(#)=FIELD^VALUE
"KRN",8994,3953,2,"B","DATA",4)

"KRN",8994,3953,2,"B","DFN",1)

"KRN",8994,3953,2,"B","NOTE",3)

"KRN",8994,3953,2,"B","TITLE",2)

"KRN",8994,3953,2,"PARAMSEQ",1,1)

"KRN",8994,3953,2,"PARAMSEQ",2,2)

"KRN",8994,3953,2,"PARAMSEQ",3,3)

"KRN",8994,3953,2,"PARAMSEQ",4,4)

"KRN",8994,3953,3,0)
^^5^5^3140127^
"KRN",8994,3953,3,1,0)
 If successful:
"KRN",8994,3953,3,2,0)
  <IEN in TIU DOCUMENT FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"KRN",8994,3953,3,3,0)
  
"KRN",8994,3953,3,4,0)
 If unsuccessful:
"KRN",8994,3953,3,5,0)
  0^0^0^Explanatory text
"KRN",8994,3954,-1)
0^30
"KRN",8994,3954,0)
DSIO UPDATE A NOTE^SET^DSIO3^1
"KRN",8994,3954,2,0)
^8994.02A^3^3
"KRN",8994,3954,2,1,0)
IEN^1^^1^1
"KRN",8994,3954,2,1,1,0)
^^1^1^3140127^
"KRN",8994,3954,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3954,2,2,0)
NOTE^2^^1^2
"KRN",8994,3954,2,2,1,0)
^^1^1^3140127^
"KRN",8994,3954,2,2,1,1,0)
THE PROGESS NOTE AS AN ARRAY.
"KRN",8994,3954,2,3,0)
DATA^2^^^3
"KRN",8994,3954,2,3,1,0)
^8994.021^2^2^3140214^^^
"KRN",8994,3954,2,3,1,1,0)
DISCREET DATA ELEMENTS TO BE SAVED AND ASSOCIATED WITH THIS NOTE. THE 
"KRN",8994,3954,2,3,1,2,0)
ARRAY MUST BE LIST(#)=FIELD^VALUE
"KRN",8994,3954,2,"B","DATA",3)

"KRN",8994,3954,2,"B","IEN",1)

"KRN",8994,3954,2,"B","NOTE",2)

"KRN",8994,3954,2,"PARAMSEQ",1,1)

"KRN",8994,3954,2,"PARAMSEQ",2,2)

"KRN",8994,3954,2,"PARAMSEQ",3,3)

"KRN",8994,3954,3,0)
^8994.03^5^5^3140214^^^
"KRN",8994,3954,3,1,0)
 If successful:  
"KRN",8994,3954,3,2,0)
  <IEN in TIU DOCUMENT FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"KRN",8994,3954,3,3,0)
   
"KRN",8994,3954,3,4,0)
 If unsuccessful:  
"KRN",8994,3954,3,5,0)
  0^0^0^Explanatory text
"KRN",8994,3955,-1)
0^22
"KRN",8994,3955,0)
DSIO MAKE ADDENDUM^ADDEN^DSIO3^1
"KRN",8994,3955,2,0)
^8994.02A^3^3
"KRN",8994,3955,2,1,0)
IEN^1^^1^1
"KRN",8994,3955,2,1,1,0)
^8994.021^1^1^3140127^^
"KRN",8994,3955,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3955,2,2,0)
NOTE^2^^1^2
"KRN",8994,3955,2,2,1,0)
^^1^1^3140127^
"KRN",8994,3955,2,2,1,1,0)
THE PROGESS NOTE AS AN ARRAY.
"KRN",8994,3955,2,3,0)
DATA^2^^^3
"KRN",8994,3955,2,3,1,0)
^^2^2^3140127^
"KRN",8994,3955,2,3,1,1,0)
DISCREET DATA ELEMENTS TO BE SAVED AND ASSOCIATED WITH THIS NOTE. THE 
"KRN",8994,3955,2,3,1,2,0)
ARRAY MUST BE LIST(#)=FIELD^VALUE
"KRN",8994,3955,2,"B","DATA",3)

"KRN",8994,3955,2,"B","IEN",1)

"KRN",8994,3955,2,"B","NOTE",2)

"KRN",8994,3955,2,"PARAMSEQ",1,1)

"KRN",8994,3955,2,"PARAMSEQ",2,2)

"KRN",8994,3955,2,"PARAMSEQ",3,3)

"KRN",8994,3955,3,0)
^^5^5^3140127^
"KRN",8994,3955,3,1,0)
 If successful:  
"KRN",8994,3955,3,2,0)
  <IEN in TIU DOCUMENT FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"KRN",8994,3955,3,3,0)
   
"KRN",8994,3955,3,4,0)
 If unsuccessful:  
"KRN",8994,3955,3,5,0)
  0^0^0^Explanatory text 
"KRN",8994,3956,-1)
0^16
"KRN",8994,3956,0)
DSIO GET RECORD TEXT^GET^DSIO3^4^^^^1
"KRN",8994,3956,2,0)
^8994.02A^1^1
"KRN",8994,3956,2,1,0)
IEN^1^^1^1
"KRN",8994,3956,2,1,1,0)
^^1^1^3140127^
"KRN",8994,3956,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3956,2,"B","IEN",1)

"KRN",8994,3956,2,"PARAMSEQ",1,1)

"KRN",8994,3956,3,0)
^^3^3^3140127^
"KRN",8994,3956,3,1,0)
THE PROGRESS NOTE IS RETURNED AS AN ARRAY WITH AN DISCREET DATA FIELDS 
"KRN",8994,3956,3,2,0)
RETURNED AS A LIST FIELD: DATA AT THE BOTTOM OF THE NOTE AS PART OF THE 
"KRN",8994,3956,3,3,0)
SAME ARRAY.
"KRN",8994,3957,-1)
0^11
"KRN",8994,3957,0)
DSIO DELETE A NOTE^DELETE^DSIO3^1
"KRN",8994,3957,2,0)
^8994.02A^2^2
"KRN",8994,3957,2,1,0)
IEN^1^^1^1
"KRN",8994,3957,2,1,1,0)
^^1^1^3140127^
"KRN",8994,3957,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3957,2,2,0)
JUST^1^^^2
"KRN",8994,3957,2,2,1,0)
^^2^2^3140127^
"KRN",8994,3957,2,2,1,1,0)
DELETION MAY REQUIRE JUSTIFICATION; IF IT DOES IT IS REQUIRED IN ORDER TO 
"KRN",8994,3957,2,2,1,2,0)
DELETE THE NOTE.
"KRN",8994,3957,2,"B","IEN",1)

"KRN",8994,3957,2,"B","JUST",2)

"KRN",8994,3957,2,"PARAMSEQ",1,1)

"KRN",8994,3957,2,"PARAMSEQ",2,2)

"KRN",8994,3958,-1)
0^29
"KRN",8994,3958,0)
DSIO SIGN A NOTE^SIGN^DSIO3^1
"KRN",8994,3958,2,0)
^8994.02A^2^2
"KRN",8994,3958,2,1,0)
IEN^1^^1^1
"KRN",8994,3958,2,1,1,0)
^^1^1^3140127^
"KRN",8994,3958,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3958,2,2,0)
SIG^1^^1^2
"KRN",8994,3958,2,2,1,0)
^^1^1^3140127^
"KRN",8994,3958,2,2,1,1,0)
USER SIGUATURE - IT MUST BE ENCRYPTED
"KRN",8994,3958,2,"B","IEN",1)

"KRN",8994,3958,2,"B","SIG",2)

"KRN",8994,3958,2,"PARAMSEQ",1,1)

"KRN",8994,3958,2,"PARAMSEQ",2,2)

"KRN",8994,3959,-1)
0^24
"KRN",8994,3959,0)
DSIO NOTES BY DFN AND TITLE^LIST^DSIO3^4^^^^1
"KRN",8994,3959,2,0)
^8994.02A^2^2
"KRN",8994,3959,2,1,0)
DFN^1^^1^1
"KRN",8994,3959,2,1,1,0)
^^1^1^3140128^
"KRN",8994,3959,2,1,1,1,0)
PATIENT IEN
"KRN",8994,3959,2,2,0)
TITLE^1^^1^2
"KRN",8994,3959,2,2,1,0)
^^1^1^3140128^
"KRN",8994,3959,2,2,1,1,0)
PROGRESS NOTE TITLE
"KRN",8994,3959,2,"B","DFN",1)

"KRN",8994,3959,2,"B","TITLE",2)

"KRN",8994,3959,2,"PARAMSEQ",1,1)

"KRN",8994,3959,2,"PARAMSEQ",2,2)

"KRN",8994,3959,3,0)
^^1^1^3140128^
"KRN",8994,3959,3,1,0)
LIST - IENS^STATUS
"KRN",8994,3960,-1)
0^14
"KRN",8994,3960,0)
DSIO GET NOTE ELEMENT^GETDATA^DSIO3^2
"KRN",8994,3960,1,0)
^8994.01^1^1^3140205^^
"KRN",8994,3960,1,1,0)
GET DATA SAVED AS DISCREET ELEMENTS LINKED TO A TIU NOTE
"KRN",8994,3960,2,0)
^8994.02A^2^2
"KRN",8994,3960,2,1,0)
IEN^1^^1^1
"KRN",8994,3960,2,1,1,0)
^8994.021^1^1^3140205^^
"KRN",8994,3960,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3960,2,2,0)
FLD^1^^1^2
"KRN",8994,3960,2,2,1,0)
^8994.021^1^1^3140205^^
"KRN",8994,3960,2,2,1,1,0)
DISCREET DATA FIELD
"KRN",8994,3960,2,"B","FLD",2)

"KRN",8994,3960,2,"B","IEN",1)

"KRN",8994,3960,2,"PARAMSEQ",1,1)

"KRN",8994,3960,2,"PARAMSEQ",2,2)

"KRN",8994,3960,3,0)
^8994.03^1^1^3140205^^
"KRN",8994,3960,3,1,0)
NULL OR THE VALUE OF THE FIELD
"KRN",8994,3961,-1)
0^21
"KRN",8994,3961,0)
DSIO IS IT CONTROLLED?^TRACK^DSIO3^1
"KRN",8994,3961,1,0)
^8994.01^1^1^3140205^^^
"KRN",8994,3961,1,1,0)
IS THIS NOTE'S TITLE WITHIN THE DSIO CONTROL FILE?
"KRN",8994,3961,2,0)
^8994.02A^1^1
"KRN",8994,3961,2,1,0)
IEN^1^^1^1
"KRN",8994,3961,2,1,1,0)
^8994.021^1^1^3140205^^^
"KRN",8994,3961,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,3961,2,"B","IEN",1)

"KRN",8994,3961,2,"PARAMSEQ",1,1)

"KRN",8994,3961,3,0)
^8994.03^2^2^3140205^^^
"KRN",8994,3961,3,1,0)
1 = YES/TRUE
"KRN",8994,3961,3,2,0)
0 = NO/FALSE
"KRN",8994,3962,-1)
0^28
"KRN",8994,3962,0)
DSIO SET NOTE DATA^CPRS^DSIO3^1
"KRN",8994,3962,2,0)
^8994.02A^4^3
"KRN",8994,3962,2,1,0)
IEN^1^^1^1
"KRN",8994,3962,2,2,0)
DATA^2^^1^2
"KRN",8994,3962,2,4,0)
ELE^1^^1^3
"KRN",8994,3962,2,"B","DATA",2)

"KRN",8994,3962,2,"B","ELE",4)

"KRN",8994,3962,2,"B","IEN",1)

"KRN",8994,3962,2,"PARAMSEQ",1,1)

"KRN",8994,3962,2,"PARAMSEQ",2,2)

"KRN",8994,3962,2,"PARAMSEQ",3,4)

"KRN",8994,3963,-1)
0^15
"KRN",8994,3963,0)
DSIO GET PARAMETER VALUE^PARAM^DSIO0^1
"KRN",8994,3963,2,0)
^8994.02A^2^2
"KRN",8994,3963,2,1,0)
PARAM^1^^1^1
"KRN",8994,3963,2,2,0)
VAL^1^^^2
"KRN",8994,3963,2,"B","PARAM",1)

"KRN",8994,3963,2,"B","VAL",2)

"KRN",8994,3963,2,"PARAMSEQ",1,1)

"KRN",8994,3963,2,"PARAMSEQ",2,2)

"KRN",8994,3964,-1)
0^4
"KRN",8994,3964,0)
DSIO CNT STORE^STORE^DSIO0^1
"KRN",8994,3964,2,0)
^8994.02A^3^3
"KRN",8994,3964,2,1,0)
IEN^1^^1^1
"KRN",8994,3964,2,2,0)
DATA^2^^1^2
"KRN",8994,3964,2,3,0)
DIALOG^1^^^3
"KRN",8994,3964,2,"B","DATA",2)

"KRN",8994,3964,2,"B","DIALOG",3)

"KRN",8994,3964,2,"B","IEN",1)

"KRN",8994,3964,2,"PARAMSEQ",1,1)

"KRN",8994,3964,2,"PARAMSEQ",2,2)

"KRN",8994,3964,2,"PARAMSEQ",3,3)

"KRN",8994,3966,-1)
0^9
"KRN",8994,3966,0)
DSIO CREATE DIALOG^DLGLKUP^DSIO0^1
"KRN",8994,3966,2,0)
^8994.02A^1^1
"KRN",8994,3966,2,1,0)
DISP^1^^1^1
"KRN",8994,3966,2,"B","DISP",1)

"KRN",8994,3966,2,"PARAMSEQ",1,1)

"KRN",8994,3967,-1)
0^7
"KRN",8994,3967,0)
DSIO CNT RESTORE^RESTORE^DSIO0^2
"KRN",8994,3967,2,0)
^8994.02A^2^2
"KRN",8994,3967,2,1,0)
IEN^1^^1^1
"KRN",8994,3967,2,2,0)
DIALOG^1^^^2
"KRN",8994,3967,2,"B","DIALOG",2)

"KRN",8994,3967,2,"B","IEN",1)

"KRN",8994,3967,2,"PARAMSEQ",1,1)

"KRN",8994,3967,2,"PARAMSEQ",2,2)

"KRN",8994,3968,-1)
0^5
"KRN",8994,3968,0)
DSIO CNT POPULATE^POP^DSIO0^2
"KRN",8994,3968,2,0)
^8994.02A^2^2
"KRN",8994,3968,2,1,0)
IEN^1^^1^1
"KRN",8994,3968,2,2,0)
CONTROL^1^^1^2
"KRN",8994,3968,2,"B","CONTROL",2)

"KRN",8994,3968,2,"B","IEN",1)

"KRN",8994,3968,2,"PARAMSEQ",1,1)

"KRN",8994,3968,2,"PARAMSEQ",2,2)

"KRN",8994,3969,-1)
0^20
"KRN",8994,3969,0)
DSIO IHE SAVE^SAVE^DSIO3A^1
"KRN",8994,3969,2,0)
^8994.02A^10^10
"KRN",8994,3969,2,1,0)
DFN^1^^1^2
"KRN",8994,3969,2,2,0)
DIRECT^1^^1^3
"KRN",8994,3969,2,3,0)
DTC^1^^1^4
"KRN",8994,3969,2,4,0)
DTIE^1^^1^5
"KRN",8994,3969,2,5,0)
DTYE^1^^1^6
"KRN",8994,3969,2,6,0)
TITLE^1^^1^7
"KRN",8994,3969,2,7,0)
FAC^1^^1^8
"KRN",8994,3969,2,8,0)
REC^1^^1^9
"KRN",8994,3969,2,9,0)
DOC^2^^1^10
"KRN",8994,3969,2,10,0)
GUID^1^^1^1
"KRN",8994,3969,2,"B","DFN",1)

"KRN",8994,3969,2,"B","DIRECT",2)

"KRN",8994,3969,2,"B","DOC",9)

"KRN",8994,3969,2,"B","DTC",3)

"KRN",8994,3969,2,"B","DTIE",4)

"KRN",8994,3969,2,"B","DTYE",5)

"KRN",8994,3969,2,"B","FAC",7)

"KRN",8994,3969,2,"B","GUID",10)

"KRN",8994,3969,2,"B","REC",8)

"KRN",8994,3969,2,"B","TITLE",6)

"KRN",8994,3969,2,"PARAMSEQ",1,10)

"KRN",8994,3969,2,"PARAMSEQ",2,1)

"KRN",8994,3969,2,"PARAMSEQ",3,2)

"KRN",8994,3969,2,"PARAMSEQ",4,3)

"KRN",8994,3969,2,"PARAMSEQ",5,4)

"KRN",8994,3969,2,"PARAMSEQ",6,5)

"KRN",8994,3969,2,"PARAMSEQ",7,6)

"KRN",8994,3969,2,"PARAMSEQ",8,7)

"KRN",8994,3969,2,"PARAMSEQ",9,8)

"KRN",8994,3969,2,"PARAMSEQ",10,9)

"KRN",8994,3970,-1)
0^6
"KRN",8994,3970,0)
DSIO CNT DIALOG POPULATE^POPD^DSIO0^2
"KRN",8994,3970,2,0)
^8994.02A^2^2
"KRN",8994,3970,2,1,0)
IEN^1^^1^1
"KRN",8994,3970,2,2,0)
CONTROL^1^^1^2
"KRN",8994,3970,2,"B","CONTROL",2)

"KRN",8994,3970,2,"B","IEN",1)

"KRN",8994,3970,2,"PARAMSEQ",1,1)

"KRN",8994,3970,2,"PARAMSEQ",2,2)

"KRN",8994,3971,-1)
0^3
"KRN",8994,3971,0)
DSIO CNT DIALOG LOOKUP^DIALK^DSIO0^1
"KRN",8994,3971,2,0)
^8994.02A^1^1
"KRN",8994,3971,2,1,0)
CLASS^1^^1^1
"KRN",8994,3971,2,"B","CLASS",1)

"KRN",8994,3971,2,"PARAMSEQ",1,1)

"KRN",8994,3972,-1)
0^19
"KRN",8994,3972,0)
DSIO IHE PATIENT LIST^LIST^DSIO3A^4^^^^1
"KRN",8994,3972,2,0)
^8994.02A^2^2
"KRN",8994,3972,2,1,0)
DFN^1^^1^1
"KRN",8994,3972,2,2,0)
SORT^1^^^2
"KRN",8994,3972,2,"B","DFN",1)

"KRN",8994,3972,2,"B","SORT",2)

"KRN",8994,3972,2,"PARAMSEQ",1,1)

"KRN",8994,3972,2,"PARAMSEQ",2,2)

"KRN",8994,3973,-1)
0^18
"KRN",8994,3973,0)
DSIO IHE GET DOC^DOC^DSIO3A^4^^^^1
"KRN",8994,3973,2,0)
^8994.02A^2^2
"KRN",8994,3973,2,1,0)
IEN^1^^1^1
"KRN",8994,3973,2,2,0)
XML^1^^^2
"KRN",8994,3973,2,"B","IEN",1)

"KRN",8994,3973,2,"B","XML",2)

"KRN",8994,3973,2,"PARAMSEQ",1,1)

"KRN",8994,3973,2,"PARAMSEQ",2,2)

"MBREQ")
0
"ORD",3,19.1)
19.1;3;;;KEY^XPDTA1;KEYF1^XPDIA1;KEYE1^XPDIA1;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"ORD",20,8989.51)
8989.51;20;;;PAR1E1^XPDTA2;PAR1F1^XPDIA3;PAR1E1^XPDIA3;PAR1F2^XPDIA3;;PAR1DEL^XPDIA3(%)
"ORD",20,8989.51,0)
PARAMETER DEFINITION
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
14
"RTN","DSIO0")
0^1^B19026129
"RTN","DSIO0",1,0)
DSIO0 ;DSS/TFF - DSIO OCNT SUPPORT;06/28/2013 15:19
"RTN","DSIO0",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO0",3,0)
 ;Copyright 1995-2014,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO0",4,0)
 ;
"RTN","DSIO0",5,0)
 ;
"RTN","DSIO0",6,0)
 ; Documented API and ICRs
"RTN","DSIO0",7,0)
 ; -----------------------
"RTN","DSIO0",8,0)
 ;
"RTN","DSIO0",9,0)
 Q
"RTN","DSIO0",10,0)
 ;
"RTN","DSIO0",11,0)
PARAM(RET,PARAM,VAL) ; DSIO GET PARAMETER VALUE
"RTN","DSIO0",12,0)
 ;
"RTN","DSIO0",13,0)
 ; ADD,CHANGES,DELETES
"RTN","DSIO0",14,0)
 ;
"RTN","DSIO0",15,0)
 N OUT,ERR,SYS S RET=""
"RTN","DSIO0",16,0)
 I $G(VAL)'="" D EN^XPAR("USR",PARAM,,VAL,"ERR") Q:$D(ERR)
"RTN","DSIO0",17,0)
 D ENVAL^XPAR(.OUT,PARAM,,"ERR") Q:$D(ERR)
"RTN","DSIO0",18,0)
 I $G(OUT)>0 D
"RTN","DSIO0",19,0)
 .I $G(OUT(DUZ_";VA(200,",1))'="" S RET=OUT(DUZ_";VA(200,",1) Q
"RTN","DSIO0",20,0)
 .S SYS=+$$GET1^DIQ(8989.3,"1,",.01,"I") D
"RTN","DSIO0",21,0)
 ..I $G(OUT(SYS_";DIC(4.2,",1))'="" S RET=OUT(SYS_";DIC(4.2,",1)
"RTN","DSIO0",22,0)
 Q
"RTN","DSIO0",23,0)
 ;
"RTN","DSIO0",24,0)
DIALK(RET,CLASS) ; DSIO CNT DIALOG LOOKUP
"RTN","DSIO0",25,0)
 ; DIALOG LOOKUP BY CLASSNAME
"RTN","DSIO0",26,0)
 ;
"RTN","DSIO0",27,0)
 S RET=$$FIND1^DIC(19641.49,,"X",$G(CLASS),"C")
"RTN","DSIO0",28,0)
 Q
"RTN","DSIO0",29,0)
 ;
"RTN","DSIO0",30,0)
STORE(RET,IEN,DATA,DIALOG) ; DSIO CNT STORE
"RTN","DSIO0",31,0)
 ;
"RTN","DSIO0",32,0)
 ; DIALOGS CAN SAVE DISCREET DATA UNDER THE TIU NOTE IEN
"RTN","DSIO0",33,0)
 ; WITHIN THE DSIO NOTE DATA FILE
"RTN","DSIO0",34,0)
 ;
"RTN","DSIO0",35,0)
 S RET=1 I +$G(DIALOG)>0 D  Q
"RTN","DSIO0",36,0)
 .D SETDATA^DSIO3(IEN,.DATA,"D",DIALOG)
"RTN","DSIO0",37,0)
 D SETDATA^DSIO3(IEN,.DATA,"C")
"RTN","DSIO0",38,0)
 Q
"RTN","DSIO0",39,0)
 ;
"RTN","DSIO0",40,0)
POP(RET,IEN,CONTROL) ; DSIO CNT POPULATE
"RTN","DSIO0",41,0)
 ;
"RTN","DSIO0",42,0)
 ; LOOK IN THE CNT CONFIGURATION FILE FOR THE CONTROL AND RETURN
"RTN","DSIO0",43,0)
 ; THE CONFIGURATION/STARTUP VALUES
"RTN","DSIO0",44,0)
 ;
"RTN","DSIO0",45,0)
 ; FOR MULTI VALUED CONTROLS
"RTN","DSIO0",46,0)
 ; =========================
"RTN","DSIO0",47,0)
 ;   DIALOGS : 19641.49
"RTN","DSIO0",48,0)
 ;   ------------------
"RTN","DSIO0",49,0)
 ;   IEN ^ DISPLAY NAME ^ CLASS NAME
"RTN","DSIO0",50,0)
 ;   - FOR TLISTBOX CONTROLS ONLY
"RTN","DSIO0",51,0)
 ;
"RTN","DSIO0",52,0)
 ;   OTHERWISE
"RTN","DSIO0",53,0)
 ;   ---------
"RTN","DSIO0",54,0)
 ;   TEXT ^ INDEX
"RTN","DSIO0",55,0)
 ;
"RTN","DSIO0",56,0)
 ; FOR SINGLE VALUED CONTROLS
"RTN","DSIO0",57,0)
 ; ==========================
"RTN","DSIO0",58,0)
 ;   TEXT
"RTN","DSIO0",59,0)
 ;
"RTN","DSIO0",60,0)
 N TITLE,OUT,FILE,EN,ERR,ITM,I S RET(0)=""
"RTN","DSIO0",61,0)
 S CONTROL=$$UP^XLFSTR($G(CONTROL)) Q:CONTROL=""
"RTN","DSIO0",62,0)
 S TITLE=$$TITLE^DSIO3(.OUT,IEN) Q:TITLE<1
"RTN","DSIO0",63,0)
 F FILE=19641.481,19641.482 S EN=$$FIND1^DIC(FILE,","_TITLE_",","X",CONTROL) Q:EN>0
"RTN","DSIO0",64,0)
 Q:EN<1
"RTN","DSIO0",65,0)
 ;
"RTN","DSIO0",66,0)
 ; MULTI CONTROL
"RTN","DSIO0",67,0)
 I FILE=19641.481 D  Q
"RTN","DSIO0",68,0)
 .K OUT D GETS^DIQ(FILE,EN_","_TITLE_",","1*","I","OUT","ERR") Q:$D(ERR)
"RTN","DSIO0",69,0)
 .I $D(OUT) S ITM=$NA(OUT) F I=0:1 S ITM=$Q(@ITM) Q:ITM=""  D
"RTN","DSIO0",70,0)
 ..S RET(I)=@ITM_U_$$GET1^DIQ(19641.49,@ITM_",",.01)_U_$$GET1^DIQ(19641.49,@ITM_",",.03)
"RTN","DSIO0",71,0)
 .Q:$D(OUT)
"RTN","DSIO0",72,0)
 .K OUT D GETS^DIQ(FILE,EN_","_TITLE_",","2*","I","OUT","ERR") Q:$D(ERR)
"RTN","DSIO0",73,0)
 .I $D(OUT) S I=0,ITM=$NA(OUT) F  S ITM=$Q(@ITM) Q:ITM=""  D
"RTN","DSIO0",74,0)
 ..I $QS(ITM,3)=.01 S $P(RET(I),U,2)=@ITM Q
"RTN","DSIO0",75,0)
 ..S $P(RET(I),U)=@ITM,I=I+1
"RTN","DSIO0",76,0)
 ;
"RTN","DSIO0",77,0)
 ; SINGLE CONTROL
"RTN","DSIO0",78,0)
 I FILE=19641.482 D  Q
"RTN","DSIO0",79,0)
 .S RET(0)=$$GET1^DIQ(FILE,EN_","_TITLE_",",.02)
"RTN","DSIO0",80,0)
 Q
"RTN","DSIO0",81,0)
 ;
"RTN","DSIO0",82,0)
POPD(RET,IEN,CONTROL) ; DSIO CNT DIALOG POPULATE
"RTN","DSIO0",83,0)
 ;
"RTN","DSIO0",84,0)
 ; LOOK IN THE CNT DIALOGS FILE FOR THE CONTROL AND RETURN
"RTN","DSIO0",85,0)
 ; THE CONFIGURATION/STARTUP VALUES
"RTN","DSIO0",86,0)
 ;
"RTN","DSIO0",87,0)
 ; FOR MULTI VALUED CONTROLS
"RTN","DSIO0",88,0)
 ; =========================
"RTN","DSIO0",89,0)
 ;   TEXT ^ INDEX
"RTN","DSIO0",90,0)
 ;
"RTN","DSIO0",91,0)
 ; FOR SINGLE VALUED CONTROLS
"RTN","DSIO0",92,0)
 ; ==========================
"RTN","DSIO0",93,0)
 ;   TEXT
"RTN","DSIO0",94,0)
 ;
"RTN","DSIO0",95,0)
 N FILE,EN,ERR,ITM,I S RET(0)=""
"RTN","DSIO0",96,0)
 S CONTROL=$$UP^XLFSTR($G(CONTROL)) Q:CONTROL=""
"RTN","DSIO0",97,0)
 F FILE=19641.491,19641.492 S EN=$$FIND1^DIC(FILE,","_IEN_",","X",CONTROL) Q:EN>0
"RTN","DSIO0",98,0)
 Q:EN<1
"RTN","DSIO0",99,0)
 ;
"RTN","DSIO0",100,0)
 ; MULTI CONTROL
"RTN","DSIO0",101,0)
 I FILE=19641.491 D  Q
"RTN","DSIO0",102,0)
 .K OUT D GETS^DIQ(FILE,EN_","_IEN_",","1*","I","OUT","ERR") Q:$D(ERR)
"RTN","DSIO0",103,0)
 .I $D(OUT) S I=0,ITM=$NA(OUT) F  S ITM=$Q(@ITM) Q:ITM=""  D
"RTN","DSIO0",104,0)
 ..I $QS(ITM,3)=.01 S $P(RET(I),U,2)=@ITM Q
"RTN","DSIO0",105,0)
 ..S $P(RET(I),U)=@ITM,I=I+1
"RTN","DSIO0",106,0)
 ;
"RTN","DSIO0",107,0)
 ; SINGLE CONTROL
"RTN","DSIO0",108,0)
 I FILE=19641.492 D  Q
"RTN","DSIO0",109,0)
 .S RET(0)=$$GET1^DIQ(FILE,EN_","_IEN_",",.02)
"RTN","DSIO0",110,0)
 Q
"RTN","DSIO0",111,0)
 ;
"RTN","DSIO0",112,0)
RESTORE(RET,IEN,DIALOG) ; DSIO CNT RESTORE
"RTN","DSIO0",113,0)
 ;
"RTN","DSIO0",114,0)
 ; RESTORE THE DISCREET VALUES OF A LAST USED CNT
"RTN","DSIO0",115,0)
 ;
"RTN","DSIO0",116,0)
 N FLE,MIENS,OUT,ERR,I,ND,GET,GL,IENS,CK,CON,MULT,FLD,VAL S RET(0)=""
"RTN","DSIO0",117,0)
 Q:'$$FIND1^DIC(19641.41,,"A",IEN)
"RTN","DSIO0",118,0)
 I +$G(DIALOG)>0 S FLE=19641.4121,MIENS=","_DIALOG_","_IEN_","
"RTN","DSIO0",119,0)
 I +$G(DIALOG)<1 S FLE=19641.411,MIENS=","_IEN_","
"RTN","DSIO0",120,0)
 D LIST^DIC(FLE,MIENS,,"P",,,,"C",,,"OUT","ERR")
"RTN","DSIO0",121,0)
 Q:$D(ERR)
"RTN","DSIO0",122,0)
 S I=0,ND=$NA(OUT) F  S ND=$Q(@ND) Q:ND=""  D
"RTN","DSIO0",123,0)
 .Q:$QL(ND)<3
"RTN","DSIO0",124,0)
 .K GET,GL,IENS S GET=$$GET1^DIQ(FLE,$P(@ND,U)_MIENS,.01,"I")
"RTN","DSIO0",125,0)
 .S GL=$TR($P($P(GET,U,";",2),"(",2),",",""),IENS=$P(GET,";")
"RTN","DSIO0",126,0)
 .S CON=$P(@ND,U,2)
"RTN","DSIO0",127,0)
 .Q:CON=""  Q:$D(CK(CON))
"RTN","DSIO0",128,0)
 .S CK(CON)=""
"RTN","DSIO0",129,0)
 .;
"RTN","DSIO0",130,0)
 .; SINGLE
"RTN","DSIO0",131,0)
 .I GL=19641.43 D  Q
"RTN","DSIO0",132,0)
 ..S RET(I)=CON_U_$$GET1^DIQ(GL,IENS_",",1.1),I=I+1
"RTN","DSIO0",133,0)
 .;
"RTN","DSIO0",134,0)
 .K MULT
"RTN","DSIO0",135,0)
 .; MULTIPLE
"RTN","DSIO0",136,0)
 .I GL=19641.44 S FLD="1.1*" D  Q
"RTN","DSIO0",137,0)
 ..D GETS^DIQ(GL,IENS_",",FLD,,"MULT") Q:'$D(MULT)
"RTN","DSIO0",138,0)
 ..S VAL=$NA(MULT) F  S VAL=$Q(@VAL) Q:VAL=""  D
"RTN","DSIO0",139,0)
 ...I $QS(VAL,3)=.01 S RET(I)=CON_U_U_@VAL Q
"RTN","DSIO0",140,0)
 ...S $P(RET(I),U,2)=@VAL,I=I+1
"RTN","DSIO0",141,0)
 .;
"RTN","DSIO0",142,0)
 .; WORD PROCESSING
"RTN","DSIO0",143,0)
 .I GL=19641.45 S FLD="1.1" D  Q
"RTN","DSIO0",144,0)
 ..D GETS^DIQ(GL,IENS_",",FLD,,"MULT") Q:'$D(MULT)
"RTN","DSIO0",145,0)
 ..S VAL=$NA(MULT) F  S VAL=$Q(@VAL) Q:VAL=""  D
"RTN","DSIO0",146,0)
 ...Q:$QL(VAL)<4
"RTN","DSIO0",147,0)
 ...S RET(I)=CON_U_@VAL,I=I+1
"RTN","DSIO0",148,0)
 Q
"RTN","DSIO1")
0^2^B82056477
"RTN","DSIO1",1,0)
DSIO1 ;DSS/TFF - DSIO RPCS;06/28/2013 15:19
"RTN","DSIO1",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO1",3,0)
 ;Copyright 1995-2014,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO1",4,0)
 ;
"RTN","DSIO1",5,0)
 ;
"RTN","DSIO1",6,0)
 ; Documented API and ICRs
"RTN","DSIO1",7,0)
 ; -----------------------
"RTN","DSIO1",8,0)
 ;
"RTN","DSIO1",9,0)
 Q
"RTN","DSIO1",10,0)
 ;
"RTN","DSIO1",11,0)
PATIENT1(RET,KEY) ; RPC: DSIO FEMALE PATIENT FIND
"RTN","DSIO1",12,0)
 ;
"RTN","DSIO1",13,0)
 ; X-REFERENCES:
"RTN","DSIO1",14,0)
 ; -------------
"RTN","DSIO1",15,0)
 ; SSN: SSN
"RTN","DSIO1",16,0)
 ;  BS: LAST 4
"RTN","DSIO1",17,0)
 ; BS5: FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",18,0)
 ;
"RTN","DSIO1",19,0)
 ; KEY: FULL SSN, FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",20,0)
 ;
"RTN","DSIO1",21,0)
 ; RETURN FORMAT
"RTN","DSIO1",22,0)
 ; -------------
"RTN","DSIO1",23,0)
 ; DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"RTN","DSIO1",24,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING
"RTN","DSIO1",25,0)
 ;
"RTN","DSIO1",26,0)
 ; CURRENTLY TRACKING: 0:NO,1:YES,2:FLAG
"RTN","DSIO1",27,0)
 ;
"RTN","DSIO1",28,0)
 ; IF NOTHING IS FOUND: RET(0)="-1^Patient(s) not found."
"RTN","DSIO1",29,0)
 ;
"RTN","DSIO1",30,0)
 N FLD,SCR,IX,OUT,ERR S RET(0)="-1^Patient not found." Q:$G(KEY)=""
"RTN","DSIO1",31,0)
 S FLD="@;.01;1901;.1;.101;.301",SCR="I $P(^(0),U,2)=""F"""
"RTN","DSIO1",32,0)
 ; DFN^NAME^VETERAN (Y/N)?^WARD LOCATION^ROOM-BED^SERVICE CONNECTED?
"RTN","DSIO1",33,0)
 ;
"RTN","DSIO1",34,0)
 ; LIST BY FULL SSN
"RTN","DSIO1",35,0)
 I KEY?9N!(KEY?3N1"-"2N1"-"4N) S KEY=$TR(KEY,"-",""),IX="SSN"
"RTN","DSIO1",36,0)
 ;
"RTN","DSIO1",37,0)
 ; LIST BY LAST 4
"RTN","DSIO1",38,0)
 I KEY?4N S IX="BS"
"RTN","DSIO1",39,0)
 ;
"RTN","DSIO1",40,0)
 ; LIST BY FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",41,0)
 I KEY?1A4N S IX="BS5"
"RTN","DSIO1",42,0)
 ;
"RTN","DSIO1",43,0)
 D:$D(IX) LIST^DIC(2,,FLD,"P",,,KEY,IX,SCR,,"OUT","ERR") Q:$D(ERR)
"RTN","DSIO1",44,0)
 D:$D(OUT) BUILD1
"RTN","DSIO1",45,0)
 ;
"RTN","DSIO1",46,0)
 Q
"RTN","DSIO1",47,0)
 ;
"RTN","DSIO1",48,0)
BUILD1 ; FORMAT THE RETURN ARRAY
"RTN","DSIO1",49,0)
 N I,Z,DFN,SSN S I=0,Z=$NA(OUT) F  S Z=$Q(@Z) Q:Z=""  D
"RTN","DSIO1",50,0)
 .Q:$QS(Z,2)<1
"RTN","DSIO1",51,0)
 .K DFN,SSN S DFN=$P(@Z,U)
"RTN","DSIO1",52,0)
 .S SSN=$$SSN^DPTLK1(DFN) I SSN?.N S SSN=$E(SSN,6,9)
"RTN","DSIO1",53,0)
 .S RET(I)=DFN_U_$$NAME^DSIO2($P(@Z,U,2))_U_SSN_U_$$DOB^DPTLK1(DFN,0)_U
"RTN","DSIO1",54,0)
 .S RET(I)=RET(I)_$P(@Z,U,3,99)_U_+$$GET1^DIQ(19641,DFN,.02,"I"),I=I+1
"RTN","DSIO1",55,0)
 Q
"RTN","DSIO1",56,0)
 ;
"RTN","DSIO1",57,0)
PATIENT2(RET,KEY,SORT) ; RPC: DSIO FEMALE PATIENT SEARCH
"RTN","DSIO1",58,0)
 ;
"RTN","DSIO1",59,0)
 ;  KEY: PARTIAL NAME - TO - FULL NAME
"RTN","DSIO1",60,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",61,0)
 ;
"RTN","DSIO1",62,0)
 ; FEMALE PATIENTS WITH PAGING (SEE PATIENT FOR MORE DETAILS)
"RTN","DSIO1",63,0)
 ;
"RTN","DSIO1",64,0)
 N OUT,FM,SCR,ERR,TO S KEY=$G(KEY),TO=0
"RTN","DSIO1",65,0)
 S OUT=$NA(^TMP($J,"DSIO PATALL")),FM=$NA(^TMP($J,"DSIO PATALL1"))
"RTN","DSIO1",66,0)
 S RET=$NA(^TMP($J,"DSIO PATIENT")) K @OUT,@FM,@RET
"RTN","DSIO1",67,0)
 S @RET@(0)="-1^Patient(s) not found."
"RTN","DSIO1",68,0)
 ;
"RTN","DSIO1",69,0)
 ; ALL PATIENTS
"RTN","DSIO1",70,0)
 I $G(KEY)="" D  Q:$D(ERR)  D BUILD2 Q
"RTN","DSIO1",71,0)
 .S SCR="S @OUT@($P(^DPT(Y,0),U),Y)="""",TO=TO+1"
"RTN","DSIO1",72,0)
 .D LIST^DIC(2,,"@","P",,,"F","ASX",SCR,,FM,"ERR") K @FM
"RTN","DSIO1",73,0)
 ;
"RTN","DSIO1",74,0)
 ; LIST BY LAST NAME, PARTIAL LAST NAME, OR FULL NAME
"RTN","DSIO1",75,0)
 S SCR="S:$E($P(^DPT(Y,0),U),1,$L(KEY))=KEY @OUT@($P(^DPT(Y,0),U),Y)="""",TO=TO+1"
"RTN","DSIO1",76,0)
 D LIST^DIC(2,,"@","P",,,"F","ASX",SCR,,FM,"ERR") K @FM
"RTN","DSIO1",77,0)
 D:'$D(ERR) BUILD2
"RTN","DSIO1",78,0)
 ;
"RTN","DSIO1",79,0)
 Q
"RTN","DSIO1",80,0)
 ;
"RTN","DSIO1",81,0)
BUILD2 ; FORMAT THE RETURN GLOBAL
"RTN","DSIO1",82,0)
 N STRT,T,CT,I,Z,DFN,SSN,FD,R
"RTN","DSIO1",83,0)
 S (STRT,T)=0 I $G(SORT)?.N1",".N D
"RTN","DSIO1",84,0)
 .S STRT=$$FN^DSIO2($P(SORT,","),$P(SORT,",",2))
"RTN","DSIO1",85,0)
 S CT=1,Z="" F I=0:1 S Z=$O(@OUT@(Z)) Q:Z=""  D
"RTN","DSIO1",86,0)
 .Q:I<STRT
"RTN","DSIO1",87,0)
 .I $P($G(SORT),",",2)'="" I T>=$P($G(SORT),",",2) S T=T+1 Q
"RTN","DSIO1",88,0)
 .K DFN,SSN,FD,R S DFN=$O(@OUT@(Z,""))
"RTN","DSIO1",89,0)
 .S SSN=$$SSN^DPTLK1(DFN) I SSN?.N S SSN=$E(SSN,6,9)
"RTN","DSIO1",90,0)
 .F FD=.01,1901,.1,.101,.301 S R=$G(R)_$$GET1^DIQ(2,DFN,FD,,,"ERR")_U
"RTN","DSIO1",91,0)
 .S @RET@(CT)=DFN_U_$$NAME^DSIO2($P(R,U))_U_SSN_U_$$DOB^DPTLK1(DFN,0)_U
"RTN","DSIO1",92,0)
 .S @RET@(CT)=@RET@(CT)_$P(R,U,2,99)_+$$GET1^DIQ(19641,DFN,.02,"I",,"ERR")
"RTN","DSIO1",93,0)
 .S T=T+1,CT=CT+1
"RTN","DSIO1",94,0)
 I T>0 S @RET@(0)=TO
"RTN","DSIO1",95,0)
 K @OUT
"RTN","DSIO1",96,0)
 Q
"RTN","DSIO1",97,0)
 ;
"RTN","DSIO1",98,0)
TRCLIST(RET,TYP,SORT) ; RPC: DSIO GET TRACKING
"RTN","DSIO1",99,0)
 ;
"RTN","DSIO1",100,0)
 ; RETURN MATERNITY TRACKING LISTS
"RTN","DSIO1",101,0)
 ;
"RTN","DSIO1",102,0)
 ; INPUT PARAMETERS:
"RTN","DSIO1",103,0)
 ; -----------------
"RTN","DSIO1",104,0)
 ; ALL: ALL LOGS
"RTN","DSIO1",105,0)
 ;   T: ALL CURRENTLY TRACKED PATIENTS
"RTN","DSIO1",106,0)
 ;   F: ALL CURRENTLY FLAGGED PATIENTS
"RTN","DSIO1",107,0)
 ; DFN: ALL LOGS FOR A PATIENT
"RTN","DSIO1",108,0)
 ;  F#: ALL CURRENTLY FLAGGED LOGS FOR A PATIENT
"RTN","DSIO1",109,0)
 ;
"RTN","DSIO1",110,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",111,0)
 ;
"RTN","DSIO1",112,0)
 N LOG,FLD,ERR,DFN,NM S TYP=$G(TYP)
"RTN","DSIO1",113,0)
 S LOG=$NA(^TMP($J,"DSIO TLOGS")),RET=$NA(^TMP($J,"DSIO TRACK"))
"RTN","DSIO1",114,0)
 K @LOG,@RET S @RET@(0)="-1^No entries found.",FLD="@;.01I;.02IE;.04E;.03I"
"RTN","DSIO1",115,0)
 ;
"RTN","DSIO1",116,0)
 ; GET ALL LOGS
"RTN","DSIO1",117,0)
 ; L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",118,0)
 ; C^IEN^COMMENT
"RTN","DSIO1",119,0)
 I TYP="ALL"!(TYP="") D  S NM=1
"RTN","DSIO1",120,0)
 .D LIST^DIC(19641.2,,,"IP",,,,"C",,,LOG,"ERR")
"RTN","DSIO1",121,0)
 ;
"RTN","DSIO1",122,0)
 ; GET ALL CURRENTLY TRACKED PATIENTS
"RTN","DSIO1",123,0)
 ; P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD
"RTN","DSIO1",124,0)
 I TYP="T" D  S NM=4
"RTN","DSIO1",125,0)
 .D LIST^DIC(19641.2,,,"P",,,,"TRACKING",,,LOG,"ERR")
"RTN","DSIO1",126,0)
 ;
"RTN","DSIO1",127,0)
 ; GET ALL CURRENTLY FLAGGED PATIENTS
"RTN","DSIO1",128,0)
 ; P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"RTN","DSIO1",129,0)
 I TYP="F" D  S NM=5
"RTN","DSIO1",130,0)
 .D LIST^DIC(19641.2,,,"P",,,,"FLAGGED",,,LOG,"ERR")
"RTN","DSIO1",131,0)
 ;
"RTN","DSIO1",132,0)
 ; GET ALL LOGS FOR A PATIENT
"RTN","DSIO1",133,0)
 ; L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",134,0)
 ; C^IEN^COMMENT
"RTN","DSIO1",135,0)
 I TYP?.N D  S NM=2
"RTN","DSIO1",136,0)
 .S DFN=TYP
"RTN","DSIO1",137,0)
 .D LIST^DIC(19641.24,","_DFN_",",,"IP",,,,"B",,,LOG,"ERR")
"RTN","DSIO1",138,0)
 ;
"RTN","DSIO1",139,0)
 ; GET CURRENTLY FLAGGED ENTRIES FOR A PATIENT
"RTN","DSIO1",140,0)
 ; L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",141,0)
 ; C^IEN^COMMENT
"RTN","DSIO1",142,0)
 I TYP?1"F"1.N D  S NM=3
"RTN","DSIO1",143,0)
 .S DFN=$E(TYP,2,$L(TYP))
"RTN","DSIO1",144,0)
 .D LIST^DIC(19641.24,","_DFN_",",,"IP",,,,"FLAG",,,LOG,"ERR")
"RTN","DSIO1",145,0)
 ;
"RTN","DSIO1",146,0)
 Q:$D(ERR)
"RTN","DSIO1",147,0)
 D FORMAT(NM) K @LOG
"RTN","DSIO1",148,0)
 ;
"RTN","DSIO1",149,0)
 Q
"RTN","DSIO1",150,0)
 ;
"RTN","DSIO1",151,0)
FORMAT(TYP) ; FORMAT AND PAGE THE RETURN OF TRCLIST
"RTN","DSIO1",152,0)
 ;
"RTN","DSIO1",153,0)
 ; IF RESULTS THEN THE ZERO NODE = TOTAL NUMBER OF RESULTS
"RTN","DSIO1",154,0)
 ;
"RTN","DSIO1",155,0)
 ; ALL(1), DFN(2), F#(3): 
"RTN","DSIO1",156,0)
 ;   L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",157,0)
 ;   C^IEN^COMMENT
"RTN","DSIO1",158,0)
 ;
"RTN","DSIO1",159,0)
 ;   T(4): P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD
"RTN","DSIO1",160,0)
 ;
"RTN","DSIO1",161,0)
 ;   F(5): P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"RTN","DSIO1",162,0)
 ;
"RTN","DSIO1",163,0)
 N STRT,T,CT,Z,L,IENS,SSN,FD,AC,RES,FLG,R,COM,C
"RTN","DSIO1",164,0)
 S CT=1,(STRT,T)=0 I $G(SORT)?.N1",".N D
"RTN","DSIO1",165,0)
 .S STRT=$$FN^DSIO2($P(SORT,","),$P(SORT,",",2))
"RTN","DSIO1",166,0)
 S Z=STRT F  S Z=$O(@LOG@("DILIST",Z)) Q:'Z!(T=$P($G(SORT),",",2))  D
"RTN","DSIO1",167,0)
 .K L S L=@LOG@("DILIST",Z,0)
"RTN","DSIO1",168,0)
 .;
"RTN","DSIO1",169,0)
 .I TYP<4 D
"RTN","DSIO1",170,0)
 ..I TYP=1 K DFN S DFN=$P(L,U)
"RTN","DSIO1",171,0)
 ..K IENS S IENS=$P(L,U,3) S:IENS'["," IENS=IENS_","_DFN
"RTN","DSIO1",172,0)
 ..I $P(IENS,",")="" S $P(IENS,",")=$P(L,U)
"RTN","DSIO1",173,0)
 ..S @RET@(CT)="L^"_IENS_U_$$FMTE^XLFDT($P(L,U,2),5)_U_DFN_U
"RTN","DSIO1",174,0)
 ..S @RET@(CT)=@RET@(CT)_$$NAME^DSIO2($$GET1^DIQ(2,DFN,.01))_U
"RTN","DSIO1",175,0)
 ..S AC="E" F FD=.03,.02,.04 D
"RTN","DSIO1",176,0)
 ...I FD=.03 S @RET@(CT)=@RET@(CT)_$$NAME^DSIO2($$GET1^DIQ(19641.24,IENS,FD,AC))_U,AC="I" Q
"RTN","DSIO1",177,0)
 ...S @RET@(CT)=@RET@(CT)_$$TITLE^XLFSTR($$GET1^DIQ(19641.24,IENS,FD,AC))_U
"RTN","DSIO1",178,0)
 ..;INCLUDE RESONS AND COMMENTS
"RTN","DSIO1",179,0)
 ..D RES,COM
"RTN","DSIO1",180,0)
 .;
"RTN","DSIO1",181,0)
 .I TYP>3 D
"RTN","DSIO1",182,0)
 ..K DFN S DFN=$P(L,U)
"RTN","DSIO1",183,0)
 ..K IENS S IENS=$P(L,U,4) S:IENS'["," IENS=IENS_","_DFN
"RTN","DSIO1",184,0)
 ..S SSN=$$SSN^DPTLK1(DFN) I SSN?.N S SSN=$E(SSN,6,9)
"RTN","DSIO1",185,0)
 ..S @RET@(CT)="P^"_DFN_U_$$NAME^DSIO2($$GET1^DIQ(2,DFN,.01))_U
"RTN","DSIO1",186,0)
 ..S @RET@(CT)=@RET@(CT)_SSN_U_$$DOB^DPTLK1(DFN,0)_U_$$GET1^DIQ(2,DFN,.131)_U
"RTN","DSIO1",187,0)
 .I TYP=4 S @RET@(CT)=@RET@(CT)_"EDD"
"RTN","DSIO1",188,0)
 .I TYP=5 D RES
"RTN","DSIO1",189,0)
 .;
"RTN","DSIO1",190,0)
 .S T=T+1,CT=CT+1
"RTN","DSIO1",191,0)
 ;
"RTN","DSIO1",192,0)
 I T>0 S @RET@(0)=$O(@LOG@("DILIST",""),-1)
"RTN","DSIO1",193,0)
 Q
"RTN","DSIO1",194,0)
 ;
"RTN","DSIO1",195,0)
RES ; INCLUDE REASONS
"RTN","DSIO1",196,0)
 K RES D GETS^DIQ(19641.24,IENS,"1*","I","RES")
"RTN","DSIO1",197,0)
 K FLG I $D(RES) S R=$NA(RES) F  S R=$Q(@R) Q:R=""  D
"RTN","DSIO1",198,0)
 .I '$D(FLG) S $E(@RET@(CT),$L(@RET@(CT))+1)=$$TITLE^XLFSTR(@R) S FLG=1
"RTN","DSIO1",199,0)
 .E  S $E(@RET@(CT),$L(@RET@(CT))+1)="|"_$$TITLE^XLFSTR(@R)
"RTN","DSIO1",200,0)
 Q
"RTN","DSIO1",201,0)
 ;
"RTN","DSIO1",202,0)
COM ; INCLUDE COMMENTS
"RTN","DSIO1",203,0)
 K COM D GETS^DIQ(19641.24,IENS,2,,"COM")
"RTN","DSIO1",204,0)
 I $D(COM) S C=$NA(COM) F  S C=$Q(@C) Q:C=""  D
"RTN","DSIO1",205,0)
 .Q:$QL(C)<4
"RTN","DSIO1",206,0)
 .S CT=CT+1,@RET@(CT)="C^"_IENS_U_@C
"RTN","DSIO1",207,0)
 Q
"RTN","DSIO1",208,0)
 ;
"RTN","DSIO1",209,0)
REC(RET,DFN,ACT,RES,COM,SOR) ; RPC: DSIO CREATE TRACKING LOG
"RTN","DSIO1",210,0)
 ;
"RTN","DSIO1",211,0)
 ; CREATE A TRACKING LOG AND POSSIBLY CHANGE
"RTN","DSIO1",212,0)
 ; THE PATIENT'S TRACKING STATUS
"RTN","DSIO1",213,0)
 ;
"RTN","DSIO1",214,0)
 ; MCC DASHBOARD PURPOSE -  TO CHANGE THE TRACKING STATUS OF A PATIENT
"RTN","DSIO1",215,0)
 ;
"RTN","DSIO1",216,0)
 ; INPUT PARAMETER:
"RTN","DSIO1",217,0)
 ;  DFN : PATIENT NUMBER
"RTN","DSIO1",218,0)
 ;  ACT : ACTION (0:STOP,1:START,2:FLAG,3:REJECT,4:ACCEPT)
"RTN","DSIO1",219,0)
 ;  RES : REASON  - #^#^#
"RTN","DSIO1",220,0)
 ;  COM : COMMENT - ARRAY
"RTN","DSIO1",221,0)
 ;  SOR : SOURCE  - DEFAULT IS DASHBOARD
"RTN","DSIO1",222,0)
 ;
"RTN","DSIO1",223,0)
 ; RETURN:
"RTN","DSIO1",224,0)
 ; -1/1^COMMENT
"RTN","DSIO1",225,0)
 ;
"RTN","DSIO1",226,0)
 Q:$G(DFN)=""!($G(ACT)="")
"RTN","DSIO1",227,0)
 N DIC,DA,X,Y,CT,ACT1,IEN,DB,IPT,I,%X,%Y
"RTN","DSIO1",228,0)
 S RES=$G(RES),COM=$G(COM),RET="-1^M Error - Check the trap."
"RTN","DSIO1",229,0)
 ; 
"RTN","DSIO1",230,0)
 S DIC="^DSIO(19641,",DIC(0)="XL",X="`"_DFN D ^DIC
"RTN","DSIO1",231,0)
 I +Y<1 S RET="-1^Patient entry not found." Q
"RTN","DSIO1",232,0)
 S CT=$$GET1^DIQ(19641,DFN_",",.02,"I")
"RTN","DSIO1",233,0)
 ;
"RTN","DSIO1",234,0)
 S (ACT,ACT1)=$$STAT(ACT) I ACT="" D  Q
"RTN","DSIO1",235,0)
 .S RET="-1^EVENT TYPE could not be identified."
"RTN","DSIO1",236,0)
 I ACT<2&(CT=ACT) S RET="-1^Tracking status already "_$$STAT(ACT,1)_"." Q
"RTN","DSIO1",237,0)
 D
"RTN","DSIO1",238,0)
 .I ACT>2 S ACT=$S(ACT=3:0,ACT=4:1,1:"") Q:ACT=""
"RTN","DSIO1",239,0)
 .I CT'=""&(ACT=CT!(ACT=2&(CT'=0))) D TRAK^DSIO2(DFN,ACT1) Q
"RTN","DSIO1",240,0)
 .S IPT(19641,DFN_",",.02)=ACT D FILE^DIE("I","IPT") K IPT I ACT1>2 D
"RTN","DSIO1",241,0)
 ..S IEN=+$G(^TMP($J,"DSIO TRAK")) K ^TMP($J,"DSIO TRAK")
"RTN","DSIO1",242,0)
 ..S IPT(19641.24,IEN_","_DFN_",",.02)=ACT1 D FILE^DIE("I","IPT") K IPT
"RTN","DSIO1",243,0)
 ;
"RTN","DSIO1",244,0)
 I '$D(IEN) S IEN=+$G(^TMP($J,"DSIO TRAK")) K ^TMP($J,"DSIO TRAK")
"RTN","DSIO1",245,0)
 I IEN<1 S RET="-1^Tracking log not created." Q
"RTN","DSIO1",246,0)
 ;
"RTN","DSIO1",247,0)
 ;"DASHBOARD" AND "FILEMAN" ARE SYSTEM ENTRIES (SOURCE)
"RTN","DSIO1",248,0)
 S SOR=$$UP^XLFSTR($G(SOR,"DASHBOARD")) S:SOR="" SOR="DASHBOARD"
"RTN","DSIO1",249,0)
 S DB(1)=$$FIND1^DIC(19641.22,,"O",SOR) I DB(1)<1 K IPT,DB D
"RTN","DSIO1",250,0)
 .S IPT(19641.22,"?+1,",.01)=SOR D UPDATE^DIE(,"IPT","DB") K IPT
"RTN","DSIO1",251,0)
 .S IPT(19641.22,DB(1)_",",.02)=1 D FILE^DIE("I","IPT") K IPT
"RTN","DSIO1",252,0)
 I DB(1)<1 S RET="-1^Unable to define source." Q
"RTN","DSIO1",253,0)
 S IPT(19641.24,IEN_","_DFN_",",.04)=SOR D FILE^DIE("I","IPT","ERR") K IPT
"RTN","DSIO1",254,0)
 ;"DASHBOARD" DOES NOT WANT MULTIPLE MESSAGES
"RTN","DSIO1",255,0)
 ; SO THIS WILL BE OVERWRITTEN BY SUCCESS
"RTN","DSIO1",256,0)
 I $D(ERR) S RET="1^Unable to set the source as """_SOR_"""."
"RTN","DSIO1",257,0)
 ;
"RTN","DSIO1",258,0)
 ;REASON AND COMMENT
"RTN","DSIO1",259,0)
 F I=1:1:$L(RES,U) D
"RTN","DSIO1",260,0)
 .S IPT(19641.23,"?+1,",.01)=$P(RES,U,I) D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",261,0)
 .S IPT(19641.241,"?+1,"_IEN_","_DFN_",",.01)=$P(RES,U,I) D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",262,0)
 ;
"RTN","DSIO1",263,0)
 ; WE CAN'T PROCESS THE ZERO NODE WITH WP^DIE SO INSTEAD OF MERGING
"RTN","DSIO1",264,0)
 ; WE CAN USE %XY^%RCR TO CONCATENATE A SUBSCRIPT
"RTN","DSIO1",265,0)
 ;
"RTN","DSIO1",266,0)
 K ^TMP($J,"DSIO REC")
"RTN","DSIO1",267,0)
 S %X="COM(",%Y="^TMP($J,""DSIO REC"",1" D %XY^%RCR
"RTN","DSIO1",268,0)
 D WP^DIE(19641.24,IEN_","_DFN_",",2,"K","^TMP($J,""DSIO REC"")")
"RTN","DSIO1",269,0)
 K ^TMP($J,"DSIO REC")
"RTN","DSIO1",270,0)
 S RET="1^SUCCESS"
"RTN","DSIO1",271,0)
 Q
"RTN","DSIO1",272,0)
 ;
"RTN","DSIO1",273,0)
STAT(ACT,FL) ; WRITE THE STAT IF FL = DO THE INVERSE
"RTN","DSIO1",274,0)
 I ACT'?1N S ACT=$$UP^XLFSTR(ACT) D
"RTN","DSIO1",275,0)
 .S ACT=$S(ACT["STO":0,ACT["STA":1,ACT["FL":2,ACT["RE":3,ACT["AC":4,1:"")
"RTN","DSIO1",276,0)
 I +$G(FL)&(ACT?1N) D
"RTN","DSIO1",277,0)
 .S ACT=$S(ACT=0:"STOPPED",ACT=1:"STARTED",1:ACT)
"RTN","DSIO1",278,0)
 Q ACT
"RTN","DSIO1",279,0)
 ;
"RTN","DSIO1",280,0)
SELECT(RET,TYP) ; RPC: DSIO SELECT LIST
"RTN","DSIO1",281,0)
 ;
"RTN","DSIO1",282,0)
 ; RETURN DROP DOWN LIST
"RTN","DSIO1",283,0)
 ;
"RTN","DSIO1",284,0)
 ; INPUT PARAMETER:
"RTN","DSIO1",285,0)
 ;  TYP : 'S' FOR FILE 19641.22
"RTN","DSIO1",286,0)
 ;  TYP : 'R' FOR FILE 19641.23
"RTN","DSIO1",287,0)
 ;
"RTN","DSIO1",288,0)
 ;  LETTER^ENTRY^A : ADD AN ENTRY TO ONE OF THE ABOVE FILES
"RTN","DSIO1",289,0)
 ;  LETTER^ENTRY^D : DELETE AN ENTRY FROM ONE OF THE ABOVE FILES
"RTN","DSIO1",290,0)
 ;
"RTN","DSIO1",291,0)
 ;  RETURN LIST FOR SUCCESS OR RET(0)="-1^MESSAGE" FOR FAILURE
"RTN","DSIO1",292,0)
 ;
"RTN","DSIO1",293,0)
 N FILE,FLD,DIK,DA,X,Y,IPT,OUT,ERR,I,Z
"RTN","DSIO1",294,0)
 S TYP=$G(TYP) S RET(0)="-1^Bad input parameter value."
"RTN","DSIO1",295,0)
 S FILE=$S($P(TYP,U)="S":19641.22,$P(TYP,U)="R":19641.23,1:"") Q:FILE=""
"RTN","DSIO1",296,0)
 S FLD=$S(FILE=19641.22:"@;.01;.02I",FILE=19641.23:"@;.01")
"RTN","DSIO1",297,0)
 I TYP["^"&($P(TYP,U,3)="D") D
"RTN","DSIO1",298,0)
 .S DA=$$FIND1^DIC(FILE,,"X",$$UP^XLFSTR($P(TYP,U,2)))
"RTN","DSIO1",299,0)
 .S DIK="^DSIO("_FILE_"," D ^DIK
"RTN","DSIO1",300,0)
 I TYP["^"&($P(TYP,U,3)="A") D
"RTN","DSIO1",301,0)
 .S IPT(FILE,"?+1,",.01)=$$UP^XLFSTR($P(TYP,U,2)) D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",302,0)
 D LIST^DIC(FILE,,FLD,"P",,,,,"I '+$P(^(0),U,2)=1",,"OUT","ERR") D
"RTN","DSIO1",303,0)
 .I $D(ERR) S RET(0)="-1^There was an error in generating the list." Q
"RTN","DSIO1",304,0)
 .S I=0,Z=$NA(OUT) F  S Z=$Q(@Z) Q:Z=""  D
"RTN","DSIO1",305,0)
 ..Q:$QS(Z,2)<1
"RTN","DSIO1",306,0)
 ..S RET(I)=$$TITLE^XLFSTR($P(@Z,U,2)),I=I+1
"RTN","DSIO1",307,0)
 .I +RET(0)=-1 S RET(0)="-1^No entries."
"RTN","DSIO1",308,0)
 Q
"RTN","DSIO2")
0^3^B5408129
"RTN","DSIO2",1,0)
DSIO2 ;DSS/TFF - DSIO X-REFERENCES AND UTILITIES;06/28/2013 15:19
"RTN","DSIO2",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO2",3,0)
 ;Copyright 1995-2014,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO2",4,0)
 ;
"RTN","DSIO2",5,0)
 ;
"RTN","DSIO2",6,0)
 ; Documented API and ICRs
"RTN","DSIO2",7,0)
 ; -----------------------
"RTN","DSIO2",8,0)
 ;
"RTN","DSIO2",9,0)
 Q
"RTN","DSIO2",10,0)
 ;
"RTN","DSIO2",11,0)
 ;=====================================================================
"RTN","DSIO2",12,0)
 ;                       X - R E F  S U P P O R T
"RTN","DSIO2",13,0)
 ;=====================================================================
"RTN","DSIO2",14,0)
 ;
"RTN","DSIO2",15,0)
TRAK(DFN,ANS) ; CREATE A TRACKING ENTRY FROM DSIO PATIENT WHEN THE
"RTN","DSIO2",16,0)
 ;              CURRENTLY TRACKING STATUS CHANGES (.02)
"RTN","DSIO2",17,0)
 ;
"RTN","DSIO2",18,0)
 Q:$G(ANS)=""
"RTN","DSIO2",19,0)
 N FM,IPT,DIC,DA,DG,DLAYGO,DR,N,X,Y,IEN S DLAYGO=19641.2
"RTN","DSIO2",20,0)
 S FM(1)=$$FIND1^DIC(19641.22,,"O","FILEMAN")
"RTN","DSIO2",21,0)
 I FM(1)<1 K FM D
"RTN","DSIO2",22,0)
 .S IPT(19641.22,"?+1,",.01)="FILEMAN" D UPDATE^DIE(,"IPT","FM") K IPT
"RTN","DSIO2",23,0)
 .S IPT(19641.22,FM(1)_",",.02)=1 D FILE^DIE("I","IPT") K IPT
"RTN","DSIO2",24,0)
 S DIC="^DSIO(19641.2,",DIC(0)="XL",X="`"_DFN D ^DIC I +Y>0 D
"RTN","DSIO2",25,0)
 .S IPT(19641.24,"+1,"_DFN_",",.01)=$$NOW^XLFDT D UPDATE^DIE(,"IPT","IEN")
"RTN","DSIO2",26,0)
 .K IPT I $D(IEN(1)) D
"RTN","DSIO2",27,0)
 ..K ^TMP($J,"DSIO TRAK") S ^TMP($J,"DSIO TRAK")=IEN(1)
"RTN","DSIO2",28,0)
 ..S IPT(19641.24,IEN(1)_","_DFN_",",.02)=ANS
"RTN","DSIO2",29,0)
 ..S IPT(19641.24,IEN(1)_","_DFN_",",.03)=DUZ
"RTN","DSIO2",30,0)
 ..S IPT(19641.24,IEN(1)_","_DFN_",",.04)="FILEMAN"
"RTN","DSIO2",31,0)
 ..D FILE^DIE("I","IPT") K IPT
"RTN","DSIO2",32,0)
 Q
"RTN","DSIO2",33,0)
 ;
"RTN","DSIO2",34,0)
 ;=====================================================================
"RTN","DSIO2",35,0)
 ;                         U T I L I T I E S
"RTN","DSIO2",36,0)
 ;=====================================================================
"RTN","DSIO2",37,0)
 ;
"RTN","DSIO2",38,0)
FN(P,C) ; GET THE NEXT RECORD BY DASHBOARD PAGE AND COUNT FORWARDS
"RTN","DSIO2",39,0)
 Q:P<2 0
"RTN","DSIO2",40,0)
 Q C*(P-1)
"RTN","DSIO2",41,0)
 ;
"RTN","DSIO2",42,0)
NAME(NAM) ; TRANSFORM NAME,NAME TO TITLE CASE THATS - Name,Name
"RTN","DSIO2",43,0)
 N RET S RET=""
"RTN","DSIO2",44,0)
 S RET=$$TITLE^XLFSTR($P(NAM,","))_","_$$TITLE^XLFSTR($P(NAM,",",2))
"RTN","DSIO2",45,0)
 Q RET
"RTN","DSIO2",46,0)
 ;
"RTN","DSIO2",47,0)
DT(VAL) ; TRANSLATE EXTERNAL DATE TIME TO FM DATE TIME
"RTN","DSIO2",48,0)
 ;
"RTN","DSIO2",49,0)
 ; Converts these 9/23/2004 10:53:25 AM
"RTN","DSIO2",50,0)
 ;                2009-10-22 05:00:00.0
"RTN","DSIO2",51,0)
 ;
"RTN","DSIO2",52,0)
 ; THE FM CALL BELOW DOES NOT WORK WITH THE ABOVE FORMAT
"RTN","DSIO2",53,0)
 ; -----------------------------------------------------
"RTN","DSIO2",54,0)
 ; D DT^DILF("E","DEC 12,2014",.RESULT) 
"RTN","DSIO2",55,0)
 ; RESULT=3141212
"RTN","DSIO2",56,0)
 ; RESULT(0)="DEC 12, 2014"
"RTN","DSIO2",57,0)
 ;
"RTN","DSIO2",58,0)
 N D,RET,YR,YRP,MH,MHP,DY,DYP,TM,HR,I S RET=-1
"RTN","DSIO2",59,0)
 I VAL["/" S D="/",YRP=3,MHP=1,DYP=2
"RTN","DSIO2",60,0)
 I VAL["-" S D="-",YRP=1,MHP=2,DYP=3
"RTN","DSIO2",61,0)
 Q:'$D(D) -1
"RTN","DSIO2",62,0)
 S YR=$P($P(VAL,D,YRP)," ")-1700
"RTN","DSIO2",63,0)
 S MH=$P($P(VAL,D,MHP)," ") I $L(MH)=1 S MH=0_MH
"RTN","DSIO2",64,0)
 S DY=$P($P(VAL,D,DYP)," ") I $L(DY)=1 S DY=0_DY
"RTN","DSIO2",65,0)
 ;
"RTN","DSIO2",66,0)
 ;TIME
"RTN","DSIO2",67,0)
 S (TM,HR)=""
"RTN","DSIO2",68,0)
 I VAL[":" S TM=$P($P(VAL," ",2),".") S HR=$P(TM,":"),TM=$TR(TM,":","")
"RTN","DSIO2",69,0)
 I $P(VAL," ",3)="PM" S TM=TM+120000
"RTN","DSIO2",70,0)
 I $E(TM,1,2)=24 S $E(TM,1,2)=00
"RTN","DSIO2",71,0)
 F I=$L(TM):-1:1 Q:$E(TM,I)'=0  I $E(TM,I)=0 S TM=$E(TM,1,I-1)
"RTN","DSIO2",72,0)
 ;EXAMPLE: IF 600(6:00) INSTEAD OF 0600 FOR 6 AM
"RTN","DSIO2",73,0)
 I HR<10&($P(VAL," ",3)="AM") S TM=0_TM
"RTN","DSIO2",74,0)
 ;
"RTN","DSIO2",75,0)
 S RET=YR_MH_DY_"."_TM
"RTN","DSIO2",76,0)
 I TM="" S RET=$E(RET,1,$L(RET)-1)
"RTN","DSIO2",77,0)
 Q RET
"RTN","DSIO3")
0^4^B131576446
"RTN","DSIO3",1,0)
DSIO3 ;DSS/TFF - DSIO TIU SUPPORT;06/28/2013 15:19
"RTN","DSIO3",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO3",3,0)
 ;Copyright 1995-2014,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO3",4,0)
 ;
"RTN","DSIO3",5,0)
 ;
"RTN","DSIO3",6,0)
 ; Documented API and ICRs
"RTN","DSIO3",7,0)
 ; -----------------------
"RTN","DSIO3",8,0)
 ;
"RTN","DSIO3",9,0)
 Q
"RTN","DSIO3",10,0)
 ;
"RTN","DSIO3",11,0)
CREATE(RET,DFN,TITLE,NOTE,DATA) ; RPC: DSIO CREATE A NOTE
"RTN","DSIO3",12,0)
 ;
"RTN","DSIO3",13,0)
 ; ADDITIONAL PARAMETER TO SAVE DISCREET INFORMATION
"RTN","DSIO3",14,0)
 ; ARRAY(#)=LABEL/FIELD^VALUE
"RTN","DSIO3",15,0)
 ;
"RTN","DSIO3",16,0)
 ; TIUX(1202)=USER
"RTN","DSIO3",17,0)
 ; TIUX(1205)=LOCATION
"RTN","DSIO3",18,0)
 ; TIUX(1208)=COSIGNER
"RTN","DSIO3",19,0)
 ; TIUX(1301)=DT OF ENTRY
"RTN","DSIO3",20,0)
 ; TIUX(1405)=PKGREF
"RTN","DSIO3",21,0)
 ; TIUX(1701)=SUBJECT
"RTN","DSIO3",22,0)
 ; TIUX(2101)=IDPARENT
"RTN","DSIO3",23,0)
 ;
"RTN","DSIO3",24,0)
 ; ORDER:
"RTN","DSIO3",25,0)
 ; CREATE - BOILER - LOCK - UPDATE - SET - UNLOCK
"RTN","DSIO3",26,0)
 ;
"RTN","DSIO3",27,0)
 ; RETURN: LITERAL
"RTN","DSIO3",28,0)
 ;
"RTN","DSIO3",29,0)
 N TIUX,IEN,TMP,BLR S RET="0^Title not found."
"RTN","DSIO3",30,0)
 S TIUX(1202)=DUZ,TIUX(1301)=$$NOW^XLFDT
"RTN","DSIO3",31,0)
 S TITLE=$$FIND1^DIC(8925.1,,"O",TITLE) Q:TITLE=0
"RTN","DSIO3",32,0)
 D MAKE^TIUSRVP(.IEN,DFN,TITLE,,,.TIUX,,1) I +IEN=0 S RET=IEN Q
"RTN","DSIO3",33,0)
 D BLRSHELL^TIUSRVD(.TMP,TITLE,DFN) I $D(TMP) M BLR("TEXT")=@TMP
"RTN","DSIO3",34,0)
 D UPDATE
"RTN","DSIO3",35,0)
 Q
"RTN","DSIO3",36,0)
 ;
"RTN","DSIO3",37,0)
SET(RET,IEN,NOTE,DATA) ; RPC: DSIO UPDATE A NOTE
"RTN","DSIO3",38,0)
 ; 
"RTN","DSIO3",39,0)
 ; REQUIRED INPUT:
"RTN","DSIO3",40,0)
 ; ---------------
"RTN","DSIO3",41,0)
 ; IEN,NOTE
"RTN","DSIO3",42,0)
 ;
"RTN","DSIO3",43,0)
 ; THIS RETURN ALSO APPLIES TO CREATE AND ADDENDUM
"RTN","DSIO3",44,0)
 ; -----------------------------------------------
"RTN","DSIO3",45,0)
 ; If successful:
"RTN","DSIO3",46,0)
 ;   <IEN in TIU DOCUMENT FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"RTN","DSIO3",47,0)
 ; 
"RTN","DSIO3",48,0)
 ; If unsuccessful:
"RTN","DSIO3",49,0)
 ;   0^0^0^Explanatory text
"RTN","DSIO3",50,0)
 ;
"RTN","DSIO3",51,0)
 ; RETURN: LITERAL
"RTN","DSIO3",52,0)
 ;
"RTN","DSIO3",53,0)
 Q:'$$AUTH(.RET,IEN,"EDIT RECORD")
"RTN","DSIO3",54,0)
UPDATE ;
"RTN","DSIO3",55,0)
 N TITLE,TIUX,NOTIN,CT,I,X
"RTN","DSIO3",56,0)
 S TITLE=$$TITLE(.RET,IEN) Q:TITLE<1
"RTN","DSIO3",57,0)
 S TIUX(.01)=TITLE,TIUX(1202)=DUZ,TIUX(1301)=$$NOW^XLFDT
"RTN","DSIO3",58,0)
 Q:'$$LCK(.RET,IEN)
"RTN","DSIO3",59,0)
 D UPDATE^TIUSRVP(.RET,IEN,.TIUX) I $P(RET,U,2)=1 D  Q
"RTN","DSIO3",60,0)
 .S RET="0^Error updating." D UNLCK(IEN)
"RTN","DSIO3",61,0)
 D SETDATA(IEN,.DATA)
"RTN","DSIO3",62,0)
 I $D(BLR) M NOTIN=BLR S CT=$O(NOTIN("TEXT",""),-1)+1
"RTN","DSIO3",63,0)
 S CT=1,X="" F I=CT:1 S X=$O(NOTE(X)) Q:X=""  S NOTIN("TEXT",I,0)=NOTE(X)
"RTN","DSIO3",64,0)
 S NOTIN("HDR")="1^1" ;<# of Current Page>^<Total # of Pages>
"RTN","DSIO3",65,0)
 D SETTEXT^TIUSRVPT(.RET,IEN,.NOTIN),UNLCK(IEN)
"RTN","DSIO3",66,0)
 S:+RET=0 RET="0^"_$P(RET,U,4)
"RTN","DSIO3",67,0)
 Q
"RTN","DSIO3",68,0)
 ;
"RTN","DSIO3",69,0)
ADDEN(RET,IEN,NOTE,DATA) ; RPC: DSIO MAKE ADDENDUM
"RTN","DSIO3",70,0)
 ;
"RTN","DSIO3",71,0)
 ; RETURN: LITERAL
"RTN","DSIO3",72,0)
 ;
"RTN","DSIO3",73,0)
 N TITLE,TIUX,AIEN
"RTN","DSIO3",74,0)
 Q:'$$AUTH(.RET,IEN,"MAKE ADDENDUM")
"RTN","DSIO3",75,0)
 D MAKEADD^TIUSRVP(.AIEN,IEN,.TIUX) I +AIEN=-1 S RET="0^"_$P(AIEN,U,4) Q
"RTN","DSIO3",76,0)
 S IEN=AIEN D UPDATE
"RTN","DSIO3",77,0)
 Q
"RTN","DSIO3",78,0)
 ;
"RTN","DSIO3",79,0)
GET(RET,IEN) ; RPC: DSIO GET RECORD TEXT
"RTN","DSIO3",80,0)
 ;
"RTN","DSIO3",81,0)
 ; RETURN: GLOBAL ARRAY
"RTN","DSIO3",82,0)
 ;
"RTN","DSIO3",83,0)
 N LIST S LIST(IEN)="",RET=$NA(^TMP("DSIO TIUVIEW",$J)) K @RET
"RTN","DSIO3",84,0)
 Q:'$$AUTH(.RET,IEN,"VIEW")
"RTN","DSIO3",85,0)
 D TGET^TIUSRVR1(.RET,IEN),GETS(.RET,IEN),ADD(IEN)
"RTN","DSIO3",86,0)
 Q
"RTN","DSIO3",87,0)
 ;
"RTN","DSIO3",88,0)
ADD(IEN) ;
"RTN","DSIO3",89,0)
 N SCR,CT,OUT,ERR,I S SCR="I $P(^(0),U,6)=IEN,$$STATUS^DSIO3(Y)"
"RTN","DSIO3",90,0)
 ; DOES IT HAVE ADDENDA? IF YES THEN GET ADDENDA
"RTN","DSIO3",91,0)
 I $$HASKIDS^TIUSRVLI(IEN) D
"RTN","DSIO3",92,0)
 .S CT=$O(@RET@(""),-1)+1
"RTN","DSIO3",93,0)
 .S @RET@(CT)="------------------------ ADDENDA -----------------------"
"RTN","DSIO3",94,0)
 .D LIST^DIC(8925,,"@;.01;.05;1201;1202","P",,,,"DAD",SCR,,"OUT","ERR") Q:$D(ERR)
"RTN","DSIO3",95,0)
 .S I=0 F  S I=$O(OUT("DILIST",I)) Q:I=""  D
"RTN","DSIO3",96,0)
 ..S @RET@(CT+I)=OUT("DILIST",I,0)
"RTN","DSIO3",97,0)
 Q
"RTN","DSIO3",98,0)
 ;
"RTN","DSIO3",99,0)
DELETE(RET,IEN,JUST) ; RPC: DSIO DELETE A NOTE
"RTN","DSIO3",100,0)
 ;
"RTN","DSIO3",101,0)
 ; RETURN: LITERAL
"RTN","DSIO3",102,0)
 ;
"RTN","DSIO3",103,0)
 Q:'$$AUTH(.RET,IEN,"DELETE RECORD")
"RTN","DSIO3",104,0)
 D NEEDJUST^TIUSRVA(.RET,IEN) I +RET=1&($G(JUST)="") D  Q
"RTN","DSIO3",105,0)
 .S RET="0^Justification for deletion is required."
"RTN","DSIO3",106,0)
 Q:'$$LCK(.RET,IEN)
"RTN","DSIO3",107,0)
 D DELETE^TIUSRVP(.RET,IEN,$G(JUST)) I +RET=0 S RET=1
"RTN","DSIO3",108,0)
 I +RET>1 S $P(RET,U)=0
"RTN","DSIO3",109,0)
 D UNLCK(IEN)
"RTN","DSIO3",110,0)
 Q
"RTN","DSIO3",111,0)
 ;
"RTN","DSIO3",112,0)
SIGN(RET,IEN,SIG) ; RPC: DSIO SIGN A NOTE
"RTN","DSIO3",113,0)
 ;
"RTN","DSIO3",114,0)
 ; RETURN: LITERAL
"RTN","DSIO3",115,0)
 ;
"RTN","DSIO3",116,0)
 ; $$ENCRYP^XUSRB1 - DEBUG
"RTN","DSIO3",117,0)
 ;
"RTN","DSIO3",118,0)
 D SAVED^TIUSRVP1(.RET,IEN) Q:+RET=0
"RTN","DSIO3",119,0)
 Q:'$$LCK(.RET,IEN)
"RTN","DSIO3",120,0)
 N ACT D WHATACT^TIUSRVA(.ACT,IEN)
"RTN","DSIO3",121,0)
 Q:'$$AUTH(.RET,IEN,ACT)
"RTN","DSIO3",122,0)
 D SIGN^TIUSRVP(.RET,IEN,SIG),UNLCK(IEN)
"RTN","DSIO3",123,0)
 S:+RET=0&($P(RET,U,2)="") RET=1
"RTN","DSIO3",124,0)
 Q
"RTN","DSIO3",125,0)
 ;
"RTN","DSIO3",126,0)
LIST(RET,DFN,TITLE,SORT) ; RPC: DSIO NOTES BY DFN AND TITLE
"RTN","DSIO3",127,0)
 ;
"RTN","DSIO3",128,0)
 ; SORT: PAGE#,CT
"RTN","DSIO3",129,0)
 ;
"RTN","DSIO3",130,0)
 ; X-REF: ACLPT = ALL OF PATIENTS PROGRESS NOTES IF
"RTN","DSIO3",131,0)
 ;                ^TIU(8925,"ACLPT",3(DOC CLASS-PROGRESS NOTES),8(DFN),DT,NOTE IEN
"RTN","DSIO3",132,0)
 ;
"RTN","DSIO3",133,0)
 ; STATUS : POINTER TO TIU STATUS FILE (#8925.6)
"RTN","DSIO3",134,0)
 ;
"RTN","DSIO3",135,0)
 ; RETURN: GLOBAL ARRAY - LIST ITEM^IEN^TITLE(.01)^STATUS(.05)^ENTRY DATE/TIME(1201)^
"RTN","DSIO3",136,0)
 ;                        AUTHOR/DICTATOR(1202)^VISIT LOCATION(1211)^LINKED DOC(.06)
"RTN","DSIO3",137,0)
 ; LINKED DOC
"RTN","DSIO3",138,0)
 ; ----------
"RTN","DSIO3",139,0)
 ; O:## = ORIGINAL DOC'S IEN
"RTN","DSIO3",140,0)
 ; A:## = ADDENDA DOC'S IEN
"RTN","DSIO3",141,0)
 ;
"RTN","DSIO3",142,0)
 N TNAM,OUT,SCR,ERR,TO,REC,STRT,T,CT,Z,I,LN S TNAM=TITLE
"RTN","DSIO3",143,0)
 S RET=$NA(^TMP($J,"DSIO LISTRET")),OUT=$NA(^TMP($J,"DSIO TIULIST"))
"RTN","DSIO3",144,0)
 K @RET,@OUT S @RET@(0)="0^Title not found."
"RTN","DSIO3",145,0)
 S TITLE=$$FIND1^DIC(8925.1,,"O",TITLE) Q:TITLE=0
"RTN","DSIO3",146,0)
 S (REC,TO,STRT,T)=0 I $G(SORT)?.N1",".N D
"RTN","DSIO3",147,0)
 .S STRT=$$FN^DSIO2($P(SORT,","),$P(SORT,",",2))
"RTN","DSIO3",148,0)
 S SCR="I +^(0)=TITLE,$P(^(0),U,2)=DFN,$$STATUS^DSIO3(Y) S TO=TO+1"
"RTN","DSIO3",149,0)
 D LIST^DIC(8925,,"@;.01;.05;1201;1202","P",,,,"B",SCR,,OUT,"ERR") Q:$D(ERR)
"RTN","DSIO3",150,0)
 I '$O(@OUT@("DILIST",""),-1) S @RET@(0)="Patient has no "_TNAM_" notes." Q
"RTN","DSIO3",151,0)
 S CT=1,Z="" F I=0:1 S Z=$O(@OUT@("DILIST",Z),-1) Q:Z=""  D 
"RTN","DSIO3",152,0)
 .Q:I<STRT
"RTN","DSIO3",153,0)
 .I $P($G(SORT),",",2)'="" I T>=$P($G(SORT),",",2) S T=T+1 Q
"RTN","DSIO3",154,0)
 .I Z'=0 S LN=@OUT@("DILIST",Z,0) D
"RTN","DSIO3",155,0)
 ..S REC=REC+1,@RET@(CT)=REC_U_LN_U_$$GET1^DIQ(8925,+LN_",",1211)_U D PARTS(+LN)
"RTN","DSIO3",156,0)
 ..S T=T+1,CT=CT+1
"RTN","DSIO3",157,0)
 K @OUT I T>0 S @RET@(0)=TO
"RTN","DSIO3",158,0)
 E  S @RET@(0)="0^No notes found."
"RTN","DSIO3",159,0)
 Q
"RTN","DSIO3",160,0)
 ;
"RTN","DSIO3",161,0)
PARTS(IEN) ;
"RTN","DSIO3",162,0)
 N SCR,SUB,ERR,I,IENS S SCR="I $P(^(0),U,6)=IEN,$$STATUS^DSIO3(Y)"
"RTN","DSIO3",163,0)
 ;
"RTN","DSIO3",164,0)
 ; DOES IT HAVE ADDENDA? IF YES THEN GET ADDENDA
"RTN","DSIO3",165,0)
 I $$HASKIDS^TIUSRVLI(IEN) D  S CT=$O(@RET@(""),-1)
"RTN","DSIO3",166,0)
 .D LIST^DIC(8925,,"@;.01;.05;1201;1202","P",,,,"DAD",SCR,,"SUB","ERR") Q:$D(ERR)
"RTN","DSIO3",167,0)
 .S I=0 F  S I=$O(SUB("DILIST",I)) Q:I=""  D
"RTN","DSIO3",168,0)
 ..K IENS S IENS=+SUB("DILIST",I,0)
"RTN","DSIO3",169,0)
 ..S @RET@(CT)=@RET@(CT)_"A:"_IENS_";"
"RTN","DSIO3",170,0)
 ..S @RET@(CT+I)=REC_U_SUB("DILIST",I,0)_U_$$GET1^DIQ(8925,IENS_",",1211)_U_"O:"_IEN
"RTN","DSIO3",171,0)
 ..S $P(@RET@(CT+I),U,2)=$P(@RET@(CT+I),U,2)_" to "_$P(@RET@(CT),U,2)
"RTN","DSIO3",172,0)
 ;
"RTN","DSIO3",173,0)
 ; IS IT ADDENDA? IF YES THEN GET ORIGINAL DOC
"RTN","DSIO3",174,0)
 I $$HASDAD^TIUSRVLI(IEN) D
"RTN","DSIO3",175,0)
 .; THE $P(^(0),U,6) IS PARENT (P8925'), [0;6] (IEN OF THE PARENT DOC)
"RTN","DSIO3",176,0)
 .S @RET@(CT)=@RET@(CT)_"O:"_$$GET1^DIQ(8925,IEN,.06,"I")
"RTN","DSIO3",177,0)
 Q
"RTN","DSIO3",178,0)
 ;
"RTN","DSIO3",179,0)
STATUS(IEN) ; CHECK THE STATUS OF THE NOTE, CAN THIS USER VIEW IT
"RTN","DSIO3",180,0)
 N RET I '$$AUTH(.RET,IEN,"VIEW") Q 0
"RTN","DSIO3",181,0)
 Q 1
"RTN","DSIO3",182,0)
 ;
"RTN","DSIO3",183,0)
 ;=====================================================================
"RTN","DSIO3",184,0)
 ;               D I S C R E E T  D A T A  E L E M E N T S
"RTN","DSIO3",185,0)
 ;=====================================================================
"RTN","DSIO3",186,0)
 ;
"RTN","DSIO3",187,0)
 ; DSIO TIU DISCREET CONTROL (FILE TO PUSH DISCREET DATA ELEMENTS
"RTN","DSIO3",188,0)
 ;                            ELSEWHERE) (19641.4)
"RTN","DSIO3",189,0)
 ; - FIRST BY TIU DOCUMENT DEFINITION (8925.1) THEN BY DATA ELEMENT
"RTN","DSIO3",190,0)
 ;   - A DOCUMENT DEFINITION CAN CONTROL MANY DATA ELEMENTS
"RTN","DSIO3",191,0)
 ;     - THUS IF A DATA ELEMENT IS WITHIN THE DOC DEFINITION IT WILL
"RTN","DSIO3",192,0)
 ;       EXECUTE PROVIDED M CODE TO SAVE THE DATA ELSEWHERE
"RTN","DSIO3",193,0)
 ;
"RTN","DSIO3",194,0)
 ; DSIO TIU DISCREET DATA (FILE THAT STORES THE DISCREET DATA) (19641.41)
"RTN","DSIO3",195,0)
 ; - FIRST BY PATIENT - THEN BY NOTE (8925)
"RTN","DSIO3",196,0)
 ;   - THUS MULTIPLE PATIENT NOTES (EVEN OF THE SAME TYPE) CAN HAVE
"RTN","DSIO3",197,0)
 ;     DIFFERENT DISCREET DATA ELEMENTS
"RTN","DSIO3",198,0)
 ;
"RTN","DSIO3",199,0)
 ; DSIOSILENT - SET THIS TO PREVENT THE SPECIAL X-REFS FROM TRIGGERING
"RTN","DSIO3",200,0)
 ;              THAT HELP A USER TO CREATE AN ENTRY THROUGH FM
"RTN","DSIO3",201,0)
 ;
"RTN","DSIO3",202,0)
CONTROL(IEN,FLD,S,M,WP) ; CHECK THE CONTROL FILE AND XECUTE ADDITIONAL CODE
"RTN","DSIO3",203,0)
 N DFN,TITLE,RET,XE S S=$G(S),M=$G(M),WP=$G(WP)
"RTN","DSIO3",204,0)
 S DFN=$$GET1^DIQ(8925,IEN_",",.02,"I") Q:DFN=""
"RTN","DSIO3",205,0)
 S TITLE=$$TITLE(.RET,IEN) Q:TITLE<1
"RTN","DSIO3",206,0)
 K RET S RET=$$FIND1^DIC(19641.4,,"A",TITLE) Q:RET=0
"RTN","DSIO3",207,0)
 K RET S RET=$$FIND1^DIC(19641.42,","_TITLE_",","X",FLD) Q:RET=0
"RTN","DSIO3",208,0)
 S XE=$$GET1^DIQ(19641.42,RET_","_TITLE,1) X:XE'="" XE
"RTN","DSIO3",209,0)
 Q
"RTN","DSIO3",210,0)
 ;
"RTN","DSIO3",211,0)
CPRS(RET,IEN,DATA,ELE) ; RPC: DSIO SET NOTE DATA
"RTN","DSIO3",212,0)
 ; USED FROM CPRS - PREPARE TO USE SETDATA
"RTN","DSIO3",213,0)
 ;
"RTN","DSIO3",214,0)
 ; EXAMPLE:
"RTN","DSIO3",215,0)
 ; ^TMP("TEST","DATA",0)=""
"RTN","DSIO3",216,0)
 ; ^TMP("TEST","DATA",0,1)="3^Feb 26,2014"
"RTN","DSIO3",217,0)
 ; ^TMP("TEST","DATA",0,2)="4^"
"RTN","DSIO3",218,0)
 ; ^TMP("TEST","ELE",0)=5333
"RTN","DSIO3",219,0)
 ; ^TMP("TEST","IEN",0)=5142
"RTN","DSIO3",220,0)
 ;
"RTN","DSIO3",221,0)
 N FLD,I,EN,TWO,FIN S RET="" Q:$G(IEN)=""
"RTN","DSIO3",222,0)
 S FLD=$$GET1^DIQ(801.41,+$G(ELE)_",",5) Q:FLD=""
"RTN","DSIO3",223,0)
 S I=0,EN=$NA(DATA) F  S EN=$Q(@EN) Q:EN=""  D
"RTN","DSIO3",224,0)
 .S:$P(@EN,U,2)'="" TWO(I)=$P(@EN,U,2),I=I+1
"RTN","DSIO3",225,0)
 Q:'$D(TWO)
"RTN","DSIO3",226,0)
 I $O(TWO(""),-1)>0 D
"RTN","DSIO3",227,0)
 .S I="" F  S I=$O(TWO(I)) Q:I=""  S FIN(I)="M^"_+$G(ELE)_U_FLD_U_TWO(I)
"RTN","DSIO3",228,0)
 I $O(TWO(""),-1)<1 S FIN(0)="S^"_+$G(ELE)_U_FLD_U_TWO($O(TWO(""),-1))
"RTN","DSIO3",229,0)
 D SETDATA(IEN,.FIN)
"RTN","DSIO3",230,0)
 Q
"RTN","DSIO3",231,0)
 ;
"RTN","DSIO3",232,0)
SETDATA(IEN,DATA,SOR,DIEN) ; SAVE DATA AS DISCREET ELEMENTS FOR A TIU NOTE
"RTN","DSIO3",233,0)
 ;
"RTN","DSIO3",234,0)
 ; DSIO NOTE CONTROL = 19641.4
"RTN","DSIO3",235,0)
 ;    DSIO NOTE DATA = 19641.41
"RTN","DSIO3",236,0)
 ;  .01          NOTE
"RTN","DSIO3",237,0)
 ;  .02          JOB      - USER JOB NUMBER TO OVERWRITE DATA DURING A SESSION
"RTN","DSIO3",238,0)
 ;  1            DATA     (multiple)
"RTN","DSIO3",239,0)
 ;  2            DIALOGS  (multiple)
"RTN","DSIO3",240,0)
 ;
"RTN","DSIO3",241,0)
 ;  IEN = TIU DOCUMENT     - IEN OF 8925
"RTN","DSIO3",242,0)
 ; DATA = ELEMENTS TO FILE - FIELD^DATA
"RTN","DSIO3",243,0)
 ;  SOR = SOURCE           - O(THER),C(NT),R(EMINDER DIALOG)
"RTN","DSIO3",244,0)
 ; DIEN = DIALOG IEN       - FILE 19641.49
"RTN","DSIO3",245,0)
 ;
"RTN","DSIO3",246,0)
 ; DSIO NOTE (S,M,WP) - FIELDS
"RTN","DSIO3",247,0)
 ;  .01          FIELD
"RTN","DSIO3",248,0)
 ;  1.1          VALUE  (MULTIPLE, WORD PROCESSING)
"RTN","DSIO3",249,0)
 ;  2.1          NOTE
"RTN","DSIO3",250,0)
 ;  2.2          SOURCE
"RTN","DSIO3",251,0)
 ;  2.3          DATE
"RTN","DSIO3",252,0)
 ;  2.4          CONTROL (NAME OF THE DELPHI CONTROL OR REMINDER DIALOG IEN)
"RTN","DSIO3",253,0)
 ;
"RTN","DSIO3",254,0)
 ; TYPE^ID^FIELD^VALUE
"RTN","DSIO3",255,0)
 ;
"RTN","DSIO3",256,0)
 ;  TYPE : S - SINGLE (IGNORES ID)
"RTN","DSIO3",257,0)
 ;         M - MULTIPLE (FIRST FIELD NAME TAKES PRIORITY)
"RTN","DSIO3",258,0)
 ;        WP - WORD PROCESSING (FIRST FIELD NAME TAKES PRIORITY)
"RTN","DSIO3",259,0)
 ; FIELD : THE LABEL OR CAPTION
"RTN","DSIO3",260,0)
 ; VALUE : THE VALUE TO BE STORED
"RTN","DSIO3",261,0)
 ;
"RTN","DSIO3",262,0)
 ; EXAMPLE ARRAY:
"RTN","DSIO3",263,0)
 ; --------------
"RTN","DSIO3",264,0)
 ; S^CONTROL^LABEL 1^SOME VALUE
"RTN","DSIO3",265,0)
 ; S^CONTROL^LABEL 2^SOME OTHER VALUE
"RTN","DSIO3",266,0)
 ; M^CONTROL^M LABEL^VALUE 1^INDEX
"RTN","DSIO3",267,0)
 ; M^CONTROL^M LABEL^VALUE 2^INDEX
"RTN","DSIO3",268,0)
 ; WP^CONTROL^WP LABEL^THIS TYPE IS USED MORE FOR A FIELD THAT
"RTN","DSIO3",269,0)
 ; WP^CONTROL^WP LABEL^CONTAINS A LOT OF TEXT THAT'S MEANT TO BE READ
"RTN","DSIO3",270,0)
 ; WP^CONTROL^WP LABEL^TOGETHER.
"RTN","DSIO3",271,0)
 ;
"RTN","DSIO3",272,0)
 N DSIOSILENT,DIC,DA,X,Y,CT,TYP,DONE,FLE,OUT,IENS,IPT,CK,ID,I,TMP,WP
"RTN","DSIO3",273,0)
 N CM,CWP,RPL,SCR,MFLE,MIENS,ND S RPL=0,SOR=$G(SOR,"O"),DSIOSILENT=1
"RTN","DSIO3",274,0)
 S DIC="^DSIO(19641.41,",DIC(0)="XL",X="`"_IEN D ^DIC
"RTN","DSIO3",275,0)
 ;
"RTN","DSIO3",276,0)
 S CT="" F  S CT=$O(DATA(CT)) Q:CT=""  D  K DB
"RTN","DSIO3",277,0)
 .S TYP=$P(DATA(CT),U) Q:$D(DONE(CT))
"RTN","DSIO3",278,0)
 .S FLE=$S(TYP="S":19641.43,TYP="M":19641.44,TYP="WP":19641.45,1:0) Q:FLE=0
"RTN","DSIO3",279,0)
 .;
"RTN","DSIO3",280,0)
 .; SESSION HANDLING
"RTN","DSIO3",281,0)
 .I $$GET1^DIQ(19641.41,IEN_",",.02)=$J S RPL=1
"RTN","DSIO3",282,0)
 .;
"RTN","DSIO3",283,0)
 .I RPL D  I +IENS<1 S RPL=0
"RTN","DSIO3",284,0)
 ..I SOR="D" S MFLE=19641.4121,MIENS=","_DIEN_","_IEN_","
"RTN","DSIO3",285,0)
 ..I SOR'="D" S MFLE=19641.411,MIENS=","_IEN_","
"RTN","DSIO3",286,0)
 ..S SCR="I $P(^(0),U,2)=$J,$$GET1^DIQ($TR($P($P(X,"";"",2),""("",2),"","""
"RTN","DSIO3",287,0)
 ..S SCR=SCR_",""""),$P(X,"";"")_"","",2.4)="""_$P(DATA(CT),U,2)_""""
"RTN","DSIO3",288,0)
 ..D LIST^DIC(MFLE,MIENS,,"BP",1,,,"J",SCR,,"OUT")
"RTN","DSIO3",289,0)
 ..S ND=$P($G(OUT("DILIST",+$O(OUT("DILIST",""),-1),0)),U)
"RTN","DSIO3",290,0)
 ..S IENS=$P($$GET1^DIQ(MFLE,ND_MIENS,.01,"I"),";")
"RTN","DSIO3",291,0)
 .;
"RTN","DSIO3",292,0)
 .; CREATE THE DATA ENTRY IF NOT REPLACING
"RTN","DSIO3",293,0)
 .I 'RPL D  Q:$G(CK(IENS))=""
"RTN","DSIO3",294,0)
 ..S IPT(19641.41,IEN_",",.02)=$J D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO3",295,0)
 ..D FILE^DID(FLE,,"ENTRIES","OUT") S IENS=OUT("ENTRIES")+1
"RTN","DSIO3",296,0)
 ..S IPT(FLE,"+"_IENS_",",.01)=$P(DATA(CT),U,3),IPT(FLE,"+"_IENS_",",2.1)=IEN
"RTN","DSIO3",297,0)
 ..S IPT(FLE,"+"_IENS_",",2.2)=SOR,IPT(FLE,"+"_IENS_",",2.3)=$$NOW^XLFDT
"RTN","DSIO3",298,0)
 ..S IPT(FLE,"+"_IENS_",",2.4)=$P(DATA(CT),U,2)
"RTN","DSIO3",299,0)
 ..D UPDATE^DIE(,"IPT","CK") K IPT
"RTN","DSIO3",300,0)
 .;
"RTN","DSIO3",301,0)
 .; ADD THE ENTRY INTO THE DATA FILE IF NOT REPLACING
"RTN","DSIO3",302,0)
 .I 'RPL D
"RTN","DSIO3",303,0)
 ..I SOR="D" D
"RTN","DSIO3",304,0)
 ...; SET THE DIALOG (DIEN) AS DINUM
"RTN","DSIO3",305,0)
 ...S DA(1)=IEN,DIC="^DSIO(19641.41,"_DA(1)_",2,",DIC(0)="XL",X="`"_DIEN
"RTN","DSIO3",306,0)
 ...D ^DIC Q:+Y<1
"RTN","DSIO3",307,0)
 ...S IPT(19641.4121,"?+1,"_DIEN_","_IEN_",",.01)=IENS_";DSIO("_FLE_","
"RTN","DSIO3",308,0)
 ...S IPT(19641.4121,"?+1,"_DIEN_","_IEN_",",.02)=$J
"RTN","DSIO3",309,0)
 ...D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO3",310,0)
 ..I SOR'="D" D
"RTN","DSIO3",311,0)
 ...S IPT(19641.411,"?+1,"_IEN_",",.01)=IENS_";DSIO("_FLE_","
"RTN","DSIO3",312,0)
 ...S IPT(19641.411,"?+1,"_IEN_",",.02)=$J
"RTN","DSIO3",313,0)
 ...D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO3",314,0)
 .;
"RTN","DSIO3",315,0)
 .; S - SINGLE
"RTN","DSIO3",316,0)
 .I TYP="S" D
"RTN","DSIO3",317,0)
 ..S IPT(FLE,IENS_",",1.1)=$P(DATA(CT),U,4) D FILE^DIE(,"IPT") K IPT
"RTN","DSIO3",318,0)
 ..D CONTROL(IEN,$P(DATA(CT),U,3),$P(DATA(CT),U,4))
"RTN","DSIO3",319,0)
 .;
"RTN","DSIO3",320,0)
 .; M - MULTIPLE
"RTN","DSIO3",321,0)
 .I TYP="M" K CM D
"RTN","DSIO3",322,0)
 ..S ID=$P(DATA(CT),U,2) Q:ID=""
"RTN","DSIO3",323,0)
 ..S I="" F  S I=$O(DATA(I)) Q:I=""  D
"RTN","DSIO3",324,0)
 ...I $P(DATA(I),U,2)=ID&($P(DATA(I),U)="M") D
"RTN","DSIO3",325,0)
 ....I $P(DATA(I),U,5)="" S $P(DATA(I),U,5)="+"
"RTN","DSIO3",326,0)
 ....S (CM,IPT(19641.46,"?+1,"_IENS_",",.01))=$P(DATA(I),U,5)
"RTN","DSIO3",327,0)
 ....S IPT(19641.46,"?+1,"_IENS_",",.02)=$P(DATA(I),U,4),DONE(I)=""
"RTN","DSIO3",328,0)
 ....D:$D(IPT) UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO3",329,0)
 ..D:$D(CM) CONTROL(IEN,$P(DATA(CT),U,3),,.CM)
"RTN","DSIO3",330,0)
 .;
"RTN","DSIO3",331,0)
 .; WP - WORD PROCESSING
"RTN","DSIO3",332,0)
 .I TYP="WP" K CWP D  K @TMP
"RTN","DSIO3",333,0)
 ..S TMP=$NA(^TMP($J,"SETDATA")) K @TMP
"RTN","DSIO3",334,0)
 ..S ID=$P(DATA(CT),U,2) Q:ID=""
"RTN","DSIO3",335,0)
 ..S WP=1,I="" F  S I=$O(DATA(I)) Q:I=""  D
"RTN","DSIO3",336,0)
 ...I $P(DATA(I),U,2)=ID&($P(DATA(I),U)="WP") D
"RTN","DSIO3",337,0)
 ....S (CWP,@TMP@(WP))=$P(DATA(I),U,4),DONE(I)="",WP=WP+1
"RTN","DSIO3",338,0)
 ..D:$G(@TMP@(1))'="" WP^DIE(FLE,IENS_",",1.1,"K","@TMP")
"RTN","DSIO3",339,0)
 ..D:$D(CWP) CONTROL(IEN,$P(DATA(CT),U,3),,,.CWP)
"RTN","DSIO3",340,0)
 ;
"RTN","DSIO3",341,0)
 S IPT(19641.41,IEN_",",.02)=$J D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO3",342,0)
 Q
"RTN","DSIO3",343,0)
 ;
"RTN","DSIO3",344,0)
GETS(ARY,IEN) ; APPEND DISCREET DATA TO A NOTE ARRAY
"RTN","DSIO3",345,0)
 N I,FLD,OUT,CT S I=$O(@ARY@(""),-1)+1
"RTN","DSIO3",346,0)
 S @ARY@(I)="----------------- DISCREET DATA FIELDS -----------------",I=I+1
"RTN","DSIO3",347,0)
 S FLD="" F  S FLD=$O(^DSIO(19641.41,"FLD",IEN,FLD)) Q:FLD=""  D
"RTN","DSIO3",348,0)
 .K OUT D GETDATA(.OUT,IEN,FLD) Q:'$D(OUT)
"RTN","DSIO3",349,0)
 .S @ARY@(I)=FLD_": "_OUT(0),I=I+1
"RTN","DSIO3",350,0)
 .I $O(OUT(""),-1)>0 S CT=0 F  S CT=$O(OUT(CT)) Q:CT=""  D
"RTN","DSIO3",351,0)
 ..S $E(@ARY@(I),$L(FLD)+3)=OUT(CT),I=I+1
"RTN","DSIO3",352,0)
 I @ARY@($O(@ARY@(""),-1))="----------------- DISCREET DATA FIELDS -----------------" D
"RTN","DSIO3",353,0)
 .K @ARY@($O(@ARY@(""),-1))
"RTN","DSIO3",354,0)
 Q
"RTN","DSIO3",355,0)
 ;
"RTN","DSIO3",356,0)
GETDATA(OUT,IEN,FLD) ; RPC: DSIO GET NOTE ELEMENT
"RTN","DSIO3",357,0)
 ;
"RTN","DSIO3",358,0)
 ; GET DATA SAVED AS DISCREET ELEMENTS LINKED TO A TIU NOTE
"RTN","DSIO3",359,0)
 ; THE FLD X-REF IS BUILT FROM FILES 19641.43,.44,.45
"RTN","DSIO3",360,0)
 ;
"RTN","DSIO3",361,0)
 ; RETURN: LIST
"RTN","DSIO3",362,0)
 ;
"RTN","DSIO3",363,0)
 N I,FLE,FI,CT,M S I=0,OUT(I)=""
"RTN","DSIO3",364,0)
 S FLD=$$UP^XLFSTR($G(FLD)) Q:FLD=""
"RTN","DSIO3",365,0)
 S FLE="" F  S FLE=$O(^DSIO(19641.41,"FLD",IEN,FLD,FLE)) Q:FLE=""  D
"RTN","DSIO3",366,0)
 .S FI="" F  S FI=$O(^DSIO(19641.41,"FLD",IEN,FLD,FLE,FI)) Q:FI=""  D
"RTN","DSIO3",367,0)
 ..I FLE[".43" S OUT(I)=$$GET1^DIQ(FLE,FI_",",1.1),I=I+1
"RTN","DSIO3",368,0)
 ..I FLE[".44" D
"RTN","DSIO3",369,0)
 ...K M D GETS^DIQ(FLE,FI_",","1.1*",,"M") I $D(M) D
"RTN","DSIO3",370,0)
 ....S CT=$NA(M) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO3",371,0)
 .....I $QS(CT,3)=.01 S OUT(I)=@CT Q
"RTN","DSIO3",372,0)
 .....S OUT(I)=OUT(I)_U_@CT,I=I+1
"RTN","DSIO3",373,0)
 ..I FLE[".45" D
"RTN","DSIO3",374,0)
 ...K M D GETS^DIQ(FLE,FI_",","1.1",,"M") I $D(M) D
"RTN","DSIO3",375,0)
 ....S CT=$NA(M) F  S CT=$Q(@CT) Q:CT=""  S:$QL(CT)=4 OUT(I)=@CT,I=I+1
"RTN","DSIO3",376,0)
 Q
"RTN","DSIO3",377,0)
 ;
"RTN","DSIO3",378,0)
TRACK(RET,IEN) ; RPC: DSIO IS IT CONTROLLED?
"RTN","DSIO3",379,0)
 ;
"RTN","DSIO3",380,0)
 ;IS THIS A DISCREET DATA COLLECTING NOTE?
"RTN","DSIO3",381,0)
 ;
"RTN","DSIO3",382,0)
 I $$FIND1^DIC(19641.4,,"A",+$$TITLE(.RET,IEN))>0 S RET=1
"RTN","DSIO3",383,0)
 E  S RET=0
"RTN","DSIO3",384,0)
 Q
"RTN","DSIO3",385,0)
 ;
"RTN","DSIO3",386,0)
 ;=====================================================================
"RTN","DSIO3",387,0)
 ;                         U T I L I T I E S
"RTN","DSIO3",388,0)
 ;=====================================================================
"RTN","DSIO3",389,0)
 ;
"RTN","DSIO3",390,0)
TITLE(OUT,IEN) ; TIU GET DOCUMENT TITLE
"RTN","DSIO3",391,0)
 N RET S RET="" D GETTITLE^TIUSRVA(.RET,IEN)
"RTN","DSIO3",392,0)
 I +RET<1 S OUT="0^Title not found."
"RTN","DSIO3",393,0)
 Q +RET
"RTN","DSIO3",394,0)
 ;
"RTN","DSIO3",395,0)
AUTH(OUT,IEN,ACT) ; TIU AUTHORIZATION
"RTN","DSIO3",396,0)
 N RET S RET="" D CANDO^TIUSRVA(.RET,IEN,ACT)
"RTN","DSIO3",397,0)
 I +RET=0 D
"RTN","DSIO3",398,0)
 .I $G(OUT)["^TMP(" S @OUT@(0)=RET Q
"RTN","DSIO3",399,0)
 .S OUT=RET
"RTN","DSIO3",400,0)
 Q RET
"RTN","DSIO3",401,0)
 ;
"RTN","DSIO3",402,0)
LCK(OUT,IEN) ; TIU LOCK RECORD
"RTN","DSIO3",403,0)
 ;
"RTN","DSIO3",404,0)
 ; 0 if the LOCK was GRANTED
"RTN","DSIO3",405,0)
 ; 1^<Explanatory Message> if LOCK was DENIED
"RTN","DSIO3",406,0)
 ;
"RTN","DSIO3",407,0)
 ; TRANSFORMED: 0 IS FAIL
"RTN","DSIO3",408,0)
 ;              1 IS PASS
"RTN","DSIO3",409,0)
 ;
"RTN","DSIO3",410,0)
 S OUT="" D LOCK^TIUSRVP(.OUT,IEN) I +OUT=1 S $P(OUT,U)=0 Q OUT
"RTN","DSIO3",411,0)
 Q 1
"RTN","DSIO3",412,0)
 ;
"RTN","DSIO3",413,0)
UNLCK(IEN) ; TIU UNLOCK RECORD
"RTN","DSIO3",414,0)
 N OUT S OUT="" D UNLOCK^TIUSRVP(.OUT,IEN)
"RTN","DSIO3",415,0)
 Q 1
"RTN","DSIO3A")
0^5^B13791794
"RTN","DSIO3A",1,0)
DSIO3A ;DSS/TFF - DSIO IHE SUPPORT;06/28/2013 15:19
"RTN","DSIO3A",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO3A",3,0)
 ;Copyright 1995-2014,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO3A",4,0)
 ;
"RTN","DSIO3A",5,0)
 ;
"RTN","DSIO3A",6,0)
 ; Documented API and ICRs
"RTN","DSIO3A",7,0)
 ; -----------------------
"RTN","DSIO3A",8,0)
 ;
"RTN","DSIO3A",9,0)
 Q
"RTN","DSIO3A",10,0)
 ;
"RTN","DSIO3A",11,0)
SAVE(RET,GUID,DFN,DIRECT,DTC,DTIE,DTYE,TITLE,FAC,REC,DOC) ; DSIO IHE SAVE
"RTN","DSIO3A",12,0)
 ;
"RTN","DSIO3A",13,0)
 ; .01    GUID = GUID
"RTN","DSIO3A",14,0)
 ; .02     DFN = PATIENT NUMBER
"RTN","DSIO3A",15,0)
 ; .03     DTC = DATE/TIME OF CREATION
"RTN","DSIO3A",16,0)
 ; .04    DTIE = DATE/TIME OF IMPORT/EXPORT
"RTN","DSIO3A",17,0)
 ; .05    DTYE = DOCUMENT TYPE
"RTN","DSIO3A",18,0)
 ; .06  DIRECT = DIRECTION (IN/OUT)
"RTN","DSIO3A",19,0)
 ; 1.1   TITLE = DOCUMENT TITLE
"RTN","DSIO3A",20,0)
 ; 1.2     FAC = SENDING FACILITY/PROVIDER
"RTN","DSIO3A",21,0)
 ; 1.3     REC = INTENDED RECIPIENT
"RTN","DSIO3A",22,0)
 ; 2       DOC = DOCUMENT CONTENT IN XML
"RTN","DSIO3A",23,0)
 ;
"RTN","DSIO3A",24,0)
 ;I '$$TM^%ZTLOAD S RET="TASKMAN must be running." Q
"RTN","DSIO3A",25,0)
 N IPT,DATE,IEN,%X,%Y
"RTN","DSIO3A",26,0)
 S GUID=$G(GUID),DFN=$G(DFN),DIRECT=$G(DIRECT),DTC=$G(DTC),DTIE=$G(DTIE)
"RTN","DSIO3A",27,0)
 S DTYE=$G(DTYE),TITLE=$G(TITLE),FAC=$G(FAC),REC=$G(REC),DOC=$G(DOC)
"RTN","DSIO3A",28,0)
 I '$$VALID(.01,GUID)!($$FIND1^DIC(19641.6,,,GUID)) D  Q
"RTN","DSIO3A",29,0)
 .S RET="-1^The GUID is invalid or not unique."
"RTN","DSIO3A",30,0)
 S IPT(19641.6,"+1,",.01)=GUID
"RTN","DSIO3A",31,0)
 I '$$VALID(.02,"`"_DFN) D  Q
"RTN","DSIO3A",32,0)
 .S RET="-1^The DFN is invalid."
"RTN","DSIO3A",33,0)
 S IPT(19641.6,"+1,",.02)="`"_DFN
"RTN","DSIO3A",34,0)
 S DATE=$$DT^DSIO2(DTC) I DATE=-1!('$$VALID(.03,DATE)) D  Q
"RTN","DSIO3A",35,0)
 .S RET="-1^Unable to translate Date of Creation."
"RTN","DSIO3A",36,0)
 S IPT(19641.6,"+1,",.03)=DATE
"RTN","DSIO3A",37,0)
 S DATE=$$DT^DSIO2(DTIE) I DATE=-1!('$$VALID(.04,DATE)) D  Q
"RTN","DSIO3A",38,0)
 .S RET="-1^Unable to translate Date of Import/Export."
"RTN","DSIO3A",39,0)
 S IPT(19641.6,"+1,",.04)=$G(DATE,$$NOW^XLFDT)
"RTN","DSIO3A",40,0)
 I '$$VALID(.05,DTYE) D  Q
"RTN","DSIO3A",41,0)
 .S RET="-1^Unknown DOCUMENT TYPE."
"RTN","DSIO3A",42,0)
 S IPT(19641.6,"+1,",.05)=DTYE
"RTN","DSIO3A",43,0)
 I '$$VALID(.06,DIRECT) D  Q
"RTN","DSIO3A",44,0)
 .S RET="-1^Unknown DIRECTION."
"RTN","DSIO3A",45,0)
 S IPT(19641.6,"+1,",.06)=DIRECT
"RTN","DSIO3A",46,0)
 S IPT(19641.6,"+1,",1.1)=TITLE
"RTN","DSIO3A",47,0)
 S IPT(19641.6,"+1,",1.2)=FAC
"RTN","DSIO3A",48,0)
 S IPT(19641.6,"+1,",1.3)=REC
"RTN","DSIO3A",49,0)
 D UPDATE^DIE("E","IPT","IEN")
"RTN","DSIO3A",50,0)
 I +$G(IEN(1))<1 S RET=-1 Q
"RTN","DSIO3A",51,0)
 ;
"RTN","DSIO3A",52,0)
 ; WE CAN'T PROCESS THE ZERO NODE WITH WP^DIE SO INSTEAD OF MERGING
"RTN","DSIO3A",53,0)
 ; WE CAN USE %XY^%RCR TO CONCATENATE A SUBSCRIPT
"RTN","DSIO3A",54,0)
 ;
"RTN","DSIO3A",55,0)
 K ^TMP($J,"DSIOIHE")
"RTN","DSIO3A",56,0)
 S %X="DOC(",%Y="^TMP($J,""DSIOIHE"",1" D %XY^%RCR
"RTN","DSIO3A",57,0)
 D WP^DIE(19641.6,IEN(1)_",",2,"K","^TMP($J,""DSIOIHE"")")
"RTN","DSIO3A",58,0)
 K ^TMP($J,"DSIOIHE") S RET=IEN(1)
"RTN","DSIO3A",59,0)
 Q
"RTN","DSIO3A",60,0)
 ;
"RTN","DSIO3A",61,0)
VALID(FLD,VAL) ; CHECK IF A VALUE IS VALID
"RTN","DSIO3A",62,0)
 N VALID,ERR D VAL^DIE(19641.6,,FLD,,VAL,.VALID,,"ERR")
"RTN","DSIO3A",63,0)
 I VALID["^"!($D(ERR)) Q 0
"RTN","DSIO3A",64,0)
 Q 1
"RTN","DSIO3A",65,0)
 ;
"RTN","DSIO3A",66,0)
LIST(RET,DFN,SORT) ; DSIO IHE PATIENT LIST
"RTN","DSIO3A",67,0)
 N SCR,FLDS,OUT,ERR,STRT,T,CT,I,Z
"RTN","DSIO3A",68,0)
 S RET=$NA(^TMP($J,"DSIOIHEL")),OUT=$NA(^TMP($J,"DSIOIHEP")) K @RET,@OUT
"RTN","DSIO3A",69,0)
 S SCR="I $P(^(0),U,2)=DFN",FLDS="@;.01;.02;.03;.04;.05;.06;1.1;1.2;1.3"
"RTN","DSIO3A",70,0)
 S @RET@(0)=-1 D LIST^DIC(19641.6,,FLDS,"P",,,,"P",SCR,,OUT,"ERR") Q:$D(ERR)
"RTN","DSIO3A",71,0)
 S (STRT,T)=0 I $G(SORT)?.N1",".N D
"RTN","DSIO3A",72,0)
 .S STRT=$$FN^DSIO2($P(SORT,","),$P(SORT,",",2))
"RTN","DSIO3A",73,0)
 S CT=1,Z=0 F I=0:1 S Z=$O(@OUT@("DILIST",Z)) Q:Z=""  D
"RTN","DSIO3A",74,0)
 .Q:I<STRT
"RTN","DSIO3A",75,0)
 .I $P($G(SORT),",",2)'="" I T>=$P($G(SORT),",",2) S T=T+1 Q
"RTN","DSIO3A",76,0)
 .S @RET@(CT)=@OUT@("DILIST",Z,0)
"RTN","DSIO3A",77,0)
 .S T=T+1,CT=CT+1
"RTN","DSIO3A",78,0)
 I T>0 S @RET@(0)=T
"RTN","DSIO3A",79,0)
 K @OUT
"RTN","DSIO3A",80,0)
 Q
"RTN","DSIO3A",81,0)
 ;
"RTN","DSIO3A",82,0)
DOC(RET,IEN,XML) ; DSIO IHE GET DOC
"RTN","DSIO3A",83,0)
 N DFN,FLDS,OUT,I,LB
"RTN","DSIO3A",84,0)
 S RET=$NA(^TMP($J,"DSIOIHED")) K @RET S @RET@(0)=-1 Q:$G(IEN)<1
"RTN","DSIO3A",85,0)
 I $G(XML)=1 D  S:'$D(@RET) @RET@(0)=-1 Q
"RTN","DSIO3A",86,0)
 .K @RET D GETS^DIQ(19641.6,IEN_",",2,"E",RET)
"RTN","DSIO3A",87,0)
 .K @RET@(19641.6,IEN_",",2,"E")
"RTN","DSIO3A",88,0)
 S DFN=$$GET1^DIQ(19641.6,IEN_",",.02,"I")
"RTN","DSIO3A",89,0)
 S FLDS="@;.01;.02;.03;.04;.05;.06;1.1;1.2;1.3"
"RTN","DSIO3A",90,0)
 D GETS^DIQ(19641.6,IEN_",",FLDS,,"OUT")
"RTN","DSIO3A",91,0)
 S Z=$NA(OUT) F I=0:1 S Z=$Q(@Z) Q:Z=""  D
"RTN","DSIO3A",92,0)
 .K LB D FIELD^DID(19641.6,$QS(Z,3),,"LABEL","LB")
"RTN","DSIO3A",93,0)
 .S @RET@(I)=$G(LB("LABEL"))_U_@Z
"RTN","DSIO3A",94,0)
 .S:$P(@RET@(I),U)="PATIENT" $P(@RET@(I),U,3)=DFN
"RTN","DSIO3A",95,0)
 Q
"RTN","DSIO3A",96,0)
 ;
"RTN","DSIO3A",97,0)
 ; TASK AND SAVE1 IF SAVE NEEDS TO BE BECOME A SCHEDULED TASK
"RTN","DSIO3A",98,0)
 ;
"RTN","DSIO3A",99,0)
TASK ; TASK THE SAVE
"RTN","DSIO3A",100,0)
 N ZTRTN,ZTDESC,ZTDTH,ZTIO,ZTUCI,ZTCPU,ZTPRI,ZTSAVE,ZTKIL,ZTSYNC,ZTSK
"RTN","DSIO3A",101,0)
 S ZTRTN="SAVE1^DSIO3A",ZTDESC="DSIO IHE IMPORT"
"RTN","DSIO3A",102,0)
 S ZTDTH=$$FMTH^XLFDT($$NOW^XLFDT),ZTSAVE("DOC")=$NA(^TMP($J,"DSIOIHES"))
"RTN","DSIO3A",103,0)
 D ^%ZTLOAD
"RTN","DSIO3A",104,0)
 Q $G(ZTSK)
"RTN","DSIO3A",105,0)
 ;
"RTN","DSIO3A",106,0)
SAVE1 ; DO THE SAVE
"RTN","DSIO3A",107,0)
 Q
"RTN","DSIO4")
0^6^B9478189
"RTN","DSIO4",1,0)
DSIO4 ;DSS/TFF - DSIO RPCS;06/28/2013 15:19
"RTN","DSIO4",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO4",3,0)
 ;Copyright 1995-2014,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO4",4,0)
 ;
"RTN","DSIO4",5,0)
 ;
"RTN","DSIO4",6,0)
 ; Documented API and ICRs
"RTN","DSIO4",7,0)
 ; -----------------------
"RTN","DSIO4",8,0)
 ;
"RTN","DSIO4",9,0)
 Q
"RTN","DSIO4",10,0)
 ;
"RTN","DSIO4",11,0)
CONTACT(RET,DFN) ; RPC: DSIO NEXT CONTACT DATE
"RTN","DSIO4",12,0)
 ;
"RTN","DSIO4",13,0)
 ; RETURN = LITERAL
"RTN","DSIO4",14,0)
 ;
"RTN","DSIO4",15,0)
 S DFN=$G(DFN),RET=$$GET1^DIQ(19641,DFN_",",.03)
"RTN","DSIO4",16,0)
 Q
"RTN","DSIO4",17,0)
 ;
"RTN","DSIO4",18,0)
SENT(RET,SAVE) ; RPC: DSIO SAVE NON VA ENTITY
"RTN","DSIO4",19,0)
 ;
"RTN","DSIO4",20,0)
 ; SAVE(#)=FIELD^VALUE   (FOR .01: FIELD^OLD^NEW VALUE)
"RTN","DSIO4",21,0)
 ; RETURN: LITERAL
"RTN","DSIO4",22,0)
 ;         -1^ERROR MESSAGE
"RTN","DSIO4",23,0)
 ;          1^IEN
"RTN","DSIO4",24,0)
 ;
"RTN","DSIO4",25,0)
 N CT,FLD,TMP,IPT,IEN,FLG S RET="-1"
"RTN","DSIO4",26,0)
 S CT="" F  S CT=$O(SAVE(CT)) Q:CT=""  D
"RTN","DSIO4",27,0)
 .S FLD=$$FLDNUM^DILFD(19641.1,$$UP^XLFSTR($P(SAVE(CT),U))) Q:FLD=0
"RTN","DSIO4",28,0)
 .S TMP(FLD)=$P(SAVE(CT),U,2,3)
"RTN","DSIO4",29,0)
 I $G(TMP(.01))="" S RET="-1^The name of the entity must be provided." Q
"RTN","DSIO4",30,0)
 S IEN(1)=$$FIND1^DIC(19641.1,,"O",$$UP^XLFSTR($P(TMP(.01),U))) I IEN(1)=0 D
"RTN","DSIO4",31,0)
 .K IEN S IPT(19641.1,"?+1,",.01)=$$UP^XLFSTR($P(TMP(.01),U)) D UPDATE^DIE(,"IPT","IEN")
"RTN","DSIO4",32,0)
 I +$G(IEN(1))<1 S RET="-1^Could not identify entity." Q
"RTN","DSIO4",33,0)
 K IPT S FLD="" F  S FLD=$O(TMP(FLD)) Q:FLD=""  D  Q:$D(FLG)
"RTN","DSIO4",34,0)
 .I FLD=.01&($P(TMP(FLD),U,2)'="") D  Q
"RTN","DSIO4",35,0)
 ..I $$FIND1^DIC(19641.1,,"O",$$UP^XLFSTR($P(TMP(FLD),U,2))) D  Q
"RTN","DSIO4",36,0)
 ...S RET="-1^Cannot rename an entity to match an existing entity.",FLG=1
"RTN","DSIO4",37,0)
 ..S IPT(19641.1,IEN(1)_",",FLD)=$$UP^XLFSTR($P(TMP(FLD),U,2))
"RTN","DSIO4",38,0)
 .S:FLD'=.01 IPT(19641.1,IEN(1)_",",FLD)=$P(TMP(FLD),U)
"RTN","DSIO4",39,0)
 D:$D(IPT) FILE^DIE("E","IPT") K IPT
"RTN","DSIO4",40,0)
 S:'$D(FLG) RET="1^"_IEN(1)
"RTN","DSIO4",41,0)
 Q
"RTN","DSIO4",42,0)
 ;
"RTN","DSIO4",43,0)
RENT(RET,TYP,SORT) ; RPC: DSIO RETURN ENTITY
"RTN","DSIO4",44,0)
 ;
"RTN","DSIO4",45,0)
 ; SORT: PAGE#,CT
"RTN","DSIO4",46,0)
 ;
"RTN","DSIO4",47,0)
 ; RETURN: GLOBAL ARRAY
"RTN","DSIO4",48,0)
 ;
"RTN","DSIO4",49,0)
 ; IEN^NAME^TYPE^INACTIVE^PRIMARY PROVIDER NAME^STREET ADDRESS 1
"RTN","DSIO4",50,0)
 ; ^STREET ADDRESS 2^STREET ADDRESS 3^CITY^STATE^ZIP CODE
"RTN","DSIO4",51,0)
 ; ^PHONE NUMBER (HOME)^PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX NUMBER
"RTN","DSIO4",52,0)
 ;
"RTN","DSIO4",53,0)
 ; TYP - F        (FACILITIES)
"RTN","DSIO4",54,0)
 ;       P        (PROVIDERS)
"RTN","DSIO4",55,0)
 ;       NULL     (ALL ENTITIES)
"RTN","DSIO4",56,0)
 ;       IEN/NAME (SINGLE ENTITY)
"RTN","DSIO4",57,0)
 ;
"RTN","DSIO4",58,0)
 N FLD,IEN,OUT,ERR,TO,STRT,T,CT,Z,I,LN
"RTN","DSIO4",59,0)
 S TYP=$$UP^XLFSTR($G(TYP,"B"))
"RTN","DSIO4",60,0)
 S RET=$NA(^TMP("DSIO RENTRET",$J)),OUT=$NA(^TMP("DSIO RENT",$J))
"RTN","DSIO4",61,0)
 K @RET,@OUT S @RET@(0)="-1^No entries found."
"RTN","DSIO4",62,0)
 S FLD="@;.01;.02;.03;.04E;1.1;1.2;1.3;1.4;1.5I;1.6;2.1;2.2;2.3;2.4"
"RTN","DSIO4",63,0)
 I TYP?.N!($L(TYP)>1)&(TYP'="") D  Q
"RTN","DSIO4",64,0)
 .I TYP?.N S IEN=$$FIND1^DIC(19641.1,,"A",TYP) Q:IEN=0
"RTN","DSIO4",65,0)
 .S:'$D(IEN) IEN=$$FIND1^DIC(19641.1,,"X",TYP) Q:IEN=0
"RTN","DSIO4",66,0)
 .D GETS^DIQ(19641.1,IEN_",","*","EI","OUT") Q:'$D(OUT)
"RTN","DSIO4",67,0)
 .S @RET@(0)=IEN_U,CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO4",68,0)
 ..I $QS(CT,4)="E"!($QS(CT,3)=.04&($QS(CT,4)="I")) S @RET@(0)=@RET@(0)_@CT_U
"RTN","DSIO4",69,0)
 S (TO,STRT,T)=0 I $G(SORT)?.N1",".N D
"RTN","DSIO4",70,0)
 .S STRT=$$FN^DSIO2($P(SORT,","),$P(SORT,",",2))
"RTN","DSIO4",71,0)
 D LIST^DIC(19641.1,,FLD,"P",,,,$G(TYP),"S TO=TO+1",,OUT,"ERR") Q:$D(ERR)
"RTN","DSIO4",72,0)
 S CT=1,Z=STRT F I=0:1 S Z=$O(@OUT@("DILIST",Z)) Q:Z=""  D
"RTN","DSIO4",73,0)
 .I $P($G(SORT),",",2)'="" I T>=$P($G(SORT),",",2) S T=T+1 Q
"RTN","DSIO4",74,0)
 .S @RET@(CT)=@OUT@("DILIST",Z,0),$P(@RET@(CT),U,2)=$$TITLE^XLFSTR($P(@RET@(CT),U,2))
"RTN","DSIO4",75,0)
 .S T=T+1,CT=CT+1
"RTN","DSIO4",76,0)
 K @OUT I T>0 S @RET@(0)=TO
"RTN","DSIO4",77,0)
 Q
"RTN","DSIO5")
0^7^B21522649
"RTN","DSIO5",1,0)
DSIO5 ;DSS/CMW - DSIO TRIGGER;06/28/2013 15:19
"RTN","DSIO5",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIO5",3,0)
 ;Copyright 1995-2013,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO5",4,0)
 ;
"RTN","DSIO5",5,0)
 Q
"RTN","DSIO5",6,0)
 ;
"RTN","DSIO5",7,0)
 ; ^DD("IX","IX","AVFD",687)="" WV PATIENT
"RTN","DSIO5",8,0)
 ;                      688)="" CPRS PROBLEM
"RTN","DSIO5",9,0)
 ;                     LRVER3="" LAB TEST
"RTN","DSIO5",10,0)
 ;
"RTN","DSIO5",11,0)
LABMT(DSDFN,DSIDT,DSSB,DSSB2) ; LAB ENTRY POINT FROM ROUTINE LRVER3
"RTN","DSIO5",12,0)
 N DS
"RTN","DSIO5",13,0)
 S DS(1)=DSSB_"^"_DSSB2,DS(2)=DSDFN,DS(3)=DSIDT
"RTN","DSIO5",14,0)
 D EN^DSIO5(.DS,"LAB^TEST^SET")
"RTN","DSIO5",15,0)
 Q
"RTN","DSIO5",16,0)
 ;
"RTN","DSIO5",17,0)
EN(DSTRG,DSSOR) ;DSIO PREGNANCY TRIGGER ENTRY POINT
"RTN","DSIO5",18,0)
 ;
"RTN","DSIO5",19,0)
 ;S DSIDSAV="DSIO5" D DSAVE^DSIDSAV(DSIDSAV,$J,$H)
"RTN","DSIO5",20,0)
 ;W !,"RUN DSIO LAB TRIGGER LOGIC"
"RTN","DSIO5",21,0)
 ;
"RTN","DSIO5",22,0)
 Q:'$D(DSTRG)
"RTN","DSIO5",23,0)
 S DSTRG=$G(DSTRG(1)),DSDFN=$G(DSTRG(2)),DSDTM=$G(DSTRG(3))
"RTN","DSIO5",24,0)
 I $G(DSDFN)="",$G(DSTRG)="",$G(DSSOR)="" Q
"RTN","DSIO5",25,0)
 ;S II="DSIOMSG"
"RTN","DSIO5",26,0)
 S DSIOMSG(1)=DSDFN,DSIOMSG(2)=DSTRG,DSIOMSG(3)=DSSOR,DSIOMSG(4)=DSDTM
"RTN","DSIO5",27,0)
 K ^TMP("DSIO5",$J) S ^TMP("DSIO5",$J,"EN",DSSOR,DSDFN)=DSTRG
"RTN","DSIO5",28,0)
 S DSSOR=$P(DSSOR,"^")
"RTN","DSIO5",29,0)
 I $G(DSSOR)="WVP" D MVPAT
"RTN","DSIO5",30,0)
 I $G(DSSOR)="CPR" D PROB
"RTN","DSIO5",31,0)
 I $G(DSSOR)="LAB" D LAB
"RTN","DSIO5",32,0)
 ;
"RTN","DSIO5",33,0)
 K DSTRG,DSDFN,DSDTM,DSIOMSG,DSSOR
"RTN","DSIO5",34,0)
 K DSODFN,DSOACT,DSORES,DSOCOM,DSOSOR
"RTN","DSIO5",35,0)
 Q
"RTN","DSIO5",36,0)
 ;N ZTRTN,ZTDTH,ZTIO,ZTDESC,ZTSAVE
"RTN","DSIO5",37,0)
 ;I $G(DSSOR)="WVP" S ZTRTN="MVPAT^DSIO5"
"RTN","DSIO5",38,0)
 ;I $G(DSSOR)="PROBLEM LIST" S ZTRTN="PROB^DSIO5"
"RTN","DSIO5",39,0)
 ;I $G(ZTRTN)="" Q
"RTN","DSIO5",40,0)
 ;S ZTDTH=$H,ZTIO="",ZTDESC="DSIO MT Trigger"
"RTN","DSIO5",41,0)
 ;S ZTSAVE("DSIOMSG(")=""
"RTN","DSIO5",42,0)
 ;D:$G(ZTRTN)'="" ^%ZTLOAD
"RTN","DSIO5",43,0)
 Q
"RTN","DSIO5",44,0)
 ;
"RTN","DSIO5",45,0)
MVPAT ;TRIGGER LOGIC FOR WV PATIENT CURRENTLY PREG
"RTN","DSIO5",46,0)
 ; TRIGGERED BY ENTRY IN ^WV FILE DD(790,.13) "CURRENTLY PREGNANT^S^1:YES;0:NO
"RTN","DSIO5",47,0)
 N DSODFN,DSOTRG,DSOSOR,DSOACT,DSORES,DSOCOM
"RTN","DSIO5",48,0)
 ;K ^TMP("DSIO5",$J)
"RTN","DSIO5",49,0)
 M ^TMP("DSIO5",$J)=DSIOMSG
"RTN","DSIO5",50,0)
 S DSODFN=$G(^TMP("DSIO5",$J,1)),DSOTRG=$G(^TMP("DSIO5",$J,2)),DSOSOR=$G(^TMP("DSIO5",$J,3))
"RTN","DSIO5",51,0)
 I $G(DSOTRG)=1 D
"RTN","DSIO5",52,0)
 . S DSORES="Pregnant Status Positive",DSOCOM(0)="CURRENTY PREGNANT WV PATIENT",DSOSOR="W. Vet"
"RTN","DSIO5",53,0)
 . S DSOACT=2 ;FLAGGED MT PATIENT ACTION (2)
"RTN","DSIO5",54,0)
 . D REC
"RTN","DSIO5",55,0)
 Q
"RTN","DSIO5",56,0)
 ;
"RTN","DSIO5",57,0)
PROB ;TRIGGER LOGIC FOR CPRS PROBLEM LIST PREGNANCY ICD9
"RTN","DSIO5",58,0)
 ; TRIGGERED BY ENTRY IN ^AUPNPROB DD(9000011,.01) "DIAGNOSIS"
"RTN","DSIO5",59,0)
 N DSODFN,DSOTRG,DSOSOR,DOSACT,DSORES,DSOCOM
"RTN","DSIO5",60,0)
 N DSICD9,DSICDI
"RTN","DSIO5",61,0)
 ;K ^TMP("DSIO5",$J)
"RTN","DSIO5",62,0)
 M ^TMP("DSIO5",$J)=DSIOMSG
"RTN","DSIO5",63,0)
 S DSODFN=$G(^TMP("DSIO5",$J,1)),DSOTRG=$G(^TMP("DSIO5",$J,2)),DSOSOR=$G(^TMP("DSIO5",$J,3))
"RTN","DSIO5",64,0)
 I DSOTRG D
"RTN","DSIO5",65,0)
 . S DSICD9=$$GET1^DIQ(80,DSOTRG_",",.01,"I") I $G(DSICD9)="" Q  ;CHECK FOR VALID ICD9 CODE
"RTN","DSIO5",66,0)
 . S DSICDI=$O(^DSIO(19641.31,"B",DSOTRG,"")) I $G(DSICDI)="" Q  ;CHECK FOR VALID MT PREG CODE
"RTN","DSIO5",67,0)
 . S DSORES="PROBLEM LIST PREGNANT",DSOCOM(0)="PREGNANT PROBLEM DIAG SET IN CPRS",DSOSOR="PROBLEM LIST"
"RTN","DSIO5",68,0)
 . S DSOACT=2 ;FLAGGED MT PATIENT ACTION (2)
"RTN","DSIO5",69,0)
 . D REC
"RTN","DSIO5",70,0)
 Q
"RTN","DSIO5",71,0)
 ;
"RTN","DSIO5",72,0)
LAB ;TRIGGER LOGIC FOR VISTA LAB
"RTN","DSIO5",73,0)
 ; TRIGGERED BY ENTRY IN ^LR(63 LAB DATA FILE
"RTN","DSIO5",74,0)
 ;N DSOLFN,DSODTM,DSOSOR,DSOLDN,DSOLDR,DSOLR0,DSODFN,DSOST,DSOQ
"RTN","DSIO5",75,0)
 S DSOQ=0
"RTN","DSIO5",76,0)
 D LABTST ;GET MT LAB TEST
"RTN","DSIO5",77,0)
 ;M ^TMP("DSIO5",$J)=DSIOMSG
"RTN","DSIO5",78,0)
 ;S DSOLRN=$G(^TMP("DSIO5",$J,1)),DSODTM=$G(^TMP("DSIO5",$J,2)),DSOSOR=$G(^TMP("DSIO5",$J,3))
"RTN","DSIO5",79,0)
 ;S DSOLRN=$G(^TMP("DSIO5",$J,1)),DSOLDR=$G(^TMP("DSIO5",$J,2)),DSOSOR=$G(^TMP("DSIO5",$J,3)),DSODTM=$G(^TMP("DSIO5",$J,4))
"RTN","DSIO5",80,0)
 S DSOLRN=$G(DSIOMSG(1)),DSOLDR=$G(DSIOMSG(2)),DSOSOR=$G(DSIOMSG(3)),DSODTM=$G(DSIOMSG(4))
"RTN","DSIO5",81,0)
 S DSOLDN=0 F  S DSOLDN=$O(DSOLAB(DSOLDN)) Q:$G(DSOLDN)=""  D  Q:$G(DSOQ)
"RTN","DSIO5",82,0)
 . ;S DSOODT=9999999-$$FMADD^XLFDT(DSODTM)
"RTN","DSIO5",83,0)
 . S DSOODT=DSODTM
"RTN","DSIO5",84,0)
 . I '$D(^LR(DSOLRN,"CH",DSOODT,DSOLDN)) Q
"RTN","DSIO5",85,0)
 . ;LAB DATA NAME FOUND
"RTN","DSIO5",86,0)
 . S DSOCH0=^LR(DSOLRN,"CH",DSOODT,0),DSOST=$P(DSOCH0,"^",5) ;GET SPECIMEN TYPE FROM ^LR
"RTN","DSIO5",87,0)
 . I '$D(DSOLAB(DSOLDN,DSOST)) Q  ;QUIT IF NO SPECIMEN SITE
"RTN","DSIO5",88,0)
 . S DSOLAB=DSOLAB(DSOLDN,DSOST),DSOAMT=$P(DSOLAB,"^"),DSORES=$P(DSOLAB,"^",2) ;GET SPECIMEN TYPE MINUMUM AND REASON
"RTN","DSIO5",89,0)
 . S DSOLRDN=^LR(DSOLRN,"CH",DSOODT,DSOLDN),DSOLDR=+DSOLRDN ;GET LAB DATA RESULT
"RTN","DSIO5",90,0)
 . S DSOLR0=^LR(DSOLRN,0),DSODFN=$P(DSOLR0,"^",3) ;PATIENT IEN
"RTN","DSIO5",91,0)
 . I DSOLDR<DSOAMT Q  ;CHECK RESULT VALUE
"RTN","DSIO5",92,0)
 . S DSOCOM(0)="PREGNANT LAB TEST RESULT RETURNED",DSOSOR="LAB PREGNANT"
"RTN","DSIO5",93,0)
 . S DSOACT=2 ;FLAGGED MT PATIENT ACTION (2)
"RTN","DSIO5",94,0)
 . D REC
"RTN","DSIO5",95,0)
 . S DSOQ=1
"RTN","DSIO5",96,0)
 K DSDFN,DSDTM
"RTN","DSIO5",97,0)
 K DSOCH0,DSODTM,DSOLDR,DSOLR0,DSOLRDN,DSOLRN,DSOODT,DSOQ,DSOLAB,DSOREA,DSORET,DSOST,DSOST0,DSOSTN
"RTN","DSIO5",98,0)
 ;K ^TMP("DSIO5",$J)
"RTN","DSIO5",99,0)
 Q
"RTN","DSIO5",100,0)
 ;
"RTN","DSIO5",101,0)
LABTST ;CREATE MT LAB TEST ARRAY
"RTN","DSIO5",102,0)
 N DSOLT,DSOLDN,DSOAMT S DSOLT=0
"RTN","DSIO5",103,0)
 K DSOLAB
"RTN","DSIO5",104,0)
 F  S DSOLT=$O(^DSIO(19641.33,DSOLT)) Q:'DSOLT  D
"RTN","DSIO5",105,0)
 . S DSOLAB=$P(^DSIO(19641.33,DSOLT,0),"^")
"RTN","DSIO5",106,0)
 . S DSOLDN=^LAB(60,DSOLAB,.2) ;LAB DATA NAME DD(60,400)
"RTN","DSIO5",107,0)
 . S DSOST=0 F  S DSOST=$O(^DSIO(19641.33,DSOLT,1,DSOST)) Q:'DSOST  D
"RTN","DSIO5",108,0)
 . . S DSOST0=^DSIO(19641.33,DSOLT,1,DSOST,0),DSOSTN=$P(DSOST0,"^"),DSOAMT=$P(DSOST0,"^",2),DSOREA=$P(DSOST0,"^",3)
"RTN","DSIO5",109,0)
 . . S DSOLAB(DSOLDN,DSOSTN)=DSOAMT_"^"_DSOREA
"RTN","DSIO5",110,0)
 Q
"RTN","DSIO5",111,0)
REC ; RPC: DSIO CREATE TRACKING LOG
"RTN","DSIO5",112,0)
 ;
"RTN","DSIO5",113,0)
 D REC^DSIO1(.DSORET,$G(DSODFN),$G(DSOACT),$G(DSORES),.DSOCOM,$G(DSOSOR)) ;MT FLAG PATIENT
"RTN","DSIO5",114,0)
 S ^TMP("DSIO5",$J,"RET","PROB",DSORET)=DSODFN_"^"_DSOACT_"^"_DSORES_"^"_DSOCOM(0)_"^"_DSOSOR
"RTN","DSIO5",115,0)
 Q
"RTN","DSIO5",116,0)
 ;
"RTN","DSIO5",117,0)
UNLOCK ;
"RTN","DSIO5",118,0)
 ;L -^LR(LRDFN,"CH",DSOODT,0) ;LOCK
"RTN","DSIO5",119,0)
 ;L +^LR(LRDFN,"CH",DSOODT,0) ;UNLOCK
"RTN","DSIO5",120,0)
 ;L +LR(LRDFN)
"RTN","DSIO5",121,0)
 Q
"RTN","DSIO5",122,0)
 ;
"RTN","DSIO5",123,0)
DUZ ;set duz to programmer access
"RTN","DSIO5",124,0)
 ;
"RTN","DSIO5",125,0)
 S DUZ=10000000032
"RTN","DSIO5",126,0)
 S $P(^VA(200,DUZ,0),"^",4)="@"
"RTN","DSIO5",127,0)
 Q
"RTN","DSIO5",128,0)
DXREF ;
"RTN","DSIO5",129,0)
 ; FILE 63.04 
"RTN","DSIO5",130,0)
 ; SET LOGIC - S X(2)=$G(DA(1)),X(3)=$G(DA) D EN^DSIO5(.X,"LAB^HCG^SET")
"RTN","DSIOP")
0^^B1900659
"RTN","DSIOP",1,0)
DSIOP ;DSS/TFF - POST INSTALL ACTION;06/28/2013 15:19
"RTN","DSIOP",2,0)
 ;;1.0;DSS,INC OPEN SOURCE;;28 Jan 2013;Build 18
"RTN","DSIOP",3,0)
 ;Copyright 1995-2013,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIOP",4,0)
 ;
"RTN","DSIOP",5,0)
 ;
"RTN","DSIOP",6,0)
 ; Documented API and ICRs
"RTN","DSIOP",7,0)
 ; -----------------------
"RTN","DSIOP",8,0)
 ;THESE ARE FOR THE DSIO CORE BUILDS
"RTN","DSIOP",9,0)
 D CPRS("1.0.29.25")
"RTN","DSIOP",10,0)
 ;
"RTN","DSIOP",11,0)
 ;THESE ARE FOR THE SMART ALERT BUILDS
"RTN","DSIOP",12,0)
 D ORATR ; DSIO ORATR 1.0
"RTN","DSIOP",13,0)
 ;
"RTN","DSIOP",14,0)
 Q
"RTN","DSIOP",15,0)
ORATR ; ADD ORATR RPCs TO OR CPRS GUI CHART
"RTN","DSIOP",16,0)
 N ER,IEN,OUT,ERR,IPT
"RTN","DSIOP",17,0)
 S ER="W !,""** NOT ABLE TO ADD ORATR RPCs TO ""OR CPRS GUI CHART"" **"",! Q"
"RTN","DSIOP",18,0)
 S IEN=$$FIND1^DIC(19,,"O","OR CPRS GUI CHART") X:IEN="" ER
"RTN","DSIOP",19,0)
 D LIST^DIC(8994,,"@;.01","P",,"ORATR","ORATR",,,,"OUT","ERR") X:$D(ERR) ER
"RTN","DSIOP",20,0)
 S Z=0 F  S Z=$O(OUT("DILIST",Z)) Q:'Z  D
"RTN","DSIOP",21,0)
 .S IPT(19.05,"?+1,"_IEN_",",.01)=$P(OUT("DILIST",Z,0),U,2)
"RTN","DSIOP",22,0)
 .D:$D(IPT) UPDATE^DIE("E","IPT") K IPT
"RTN","DSIOP",23,0)
 Q
"RTN","DSIOP",24,0)
 ;
"RTN","DSIOP",25,0)
CPRS(VR) ; UPDATE OR CPRS GUI CHART CONTEXT (SILENT)
"RTN","DSIOP",26,0)
 N ER,IEN,IPT,ERR
"RTN","DSIOP",27,0)
 S ER="**NOT ABLE TO SET CPRS VERSION**"
"RTN","DSIOP",28,0)
 S IEN=$$FIND1^DIC(19,,"O","OR CPRS GUI CHART") I IEN=0 W !,ER,! Q
"RTN","DSIOP",29,0)
 S IPT(19,IEN_",",1)="CPRSChart version "_VR D FILE^DIE(,"IPT","ERR")
"RTN","DSIOP",30,0)
 W:$D(ERR) !,ER,!
"RTN","DSIOP",31,0)
 Q
"RTN","LRVER3")
0^13^B78650473
"RTN","LRVER3",1,0)
LRVER3 ;DALOI/STAFF - DATA VERIFICATION ;05/10/11  13:50
"RTN","LRVER3",2,0)
 ;;5.2;LAB SERVICE;**42,100,121,140,171,153,221,286,291,406,350**;Sep 27, 1994;Build 18
"RTN","LRVER3",3,0)
 ;
"RTN","LRVER3",4,0)
 D V1
"RTN","LRVER3",5,0)
 I $D(LRLOCKER)#2 L -@(LRLOCKER) K LRLOCKER
"RTN","LRVER3",6,0)
 Q
"RTN","LRVER3",7,0)
 ;
"RTN","LRVER3",8,0)
 ;
"RTN","LRVER3",9,0)
V1 ;
"RTN","LRVER3",10,0)
 ;
"RTN","LRVER3",11,0)
 I $D(LRLOCKER)#2 L -@(LRLOCKER)
"RTN","LRVER3",12,0)
 S LRLOCKER="^LR("_LRDFN_","""_LRSS_""","_LRIDT_")"
"RTN","LRVER3",13,0)
 D LOCK^DILF(LRLOCKER) ; L +@(LRLOCKER):DILOCKTM
"RTN","LRVER3",14,0)
 I '$T W !," This entry is being edited by someone else." Q
"RTN","LRVER3",15,0)
 ;
"RTN","LRVER3",16,0)
 I $D(LRGVP) S X="1-"_LRNTN D RANGE^LRWU2 G L10
"RTN","LRVER3",17,0)
 S LRALL="",LRALERT=LROUTINE,LRLCT=6
"RTN","LRVER3",18,0)
 ;
"RTN","LRVER3",19,0)
 ; List any not performed tests.
"RTN","LRVER3",20,0)
 S I=0
"RTN","LRVER3",21,0)
 F  S I=$O(^LRO(68,LRAA,1,LRAD,1,LRAN,4,I)) Q:I<1  D
"RTN","LRVER3",22,0)
 . S LRX=$G(^LRO(68,LRAA,1,LRAD,1,LRAN,4,I,0))
"RTN","LRVER3",23,0)
 . I $P(LRX,"^",6)'="*Not Performed" Q
"RTN","LRVER3",24,0)
 . W !,?3,$P(^LAB(60,I,0),"^"),?25," ",$P(LRX,"^",6)
"RTN","LRVER3",25,0)
 . S LRLCT=LRLCT+1 D:LRLCT>22 WT^LRVER4
"RTN","LRVER3",26,0)
 ;
"RTN","LRVER3",27,0)
 ; No tests to edit
"RTN","LRVER3",28,0)
 I LRNTN=0 D COM^LRVR4 G EXIT
"RTN","LRVER3",29,0)
 ;
"RTN","LRVER3",30,0)
 F I=1:1:LRNTN I $D(LRNAME(I)) D
"RTN","LRVER3",31,0)
 . S LRALL=LRALL_","_I W !,I,"  ",LRNAME(I)
"RTN","LRVER3",32,0)
 . I $D(^LRO(68,LRAA,1,LRAD,1,LRAN,4,$O(LRNAME(I,0)),0))#2 D
"RTN","LRVER3",33,0)
 . . S LRX=^LRO(68,LRAA,1,LRAD,1,LRAN,4,$O(LRNAME(I,0)),0)
"RTN","LRVER3",34,0)
 . . S LRAL=$P(LRX,U,2)#50
"RTN","LRVER3",35,0)
 . . I $P(LRX,U,5) W ?25,$S($P(LRX,U,6)'="":$P(LRX,U,6),1:" verified")
"RTN","LRVER3",36,0)
 . . I LRAL S LRALERT=$S(LRAL<LRALERT:LRAL,1:LRALERT)
"RTN","LRVER3",37,0)
 . S LRLCT=LRLCT+1 D:LRLCT>22 WT^LRVER4
"RTN","LRVER3",38,0)
 ;
"RTN","LRVER3",39,0)
 I $D(LRALERT),LRALERT<($P(LRPARAM,U,20)+1) D
"RTN","LRVER3",40,0)
 . W !?15 W:IOST["C-" @LRVIDO
"RTN","LRVER3",41,0)
 . W "Test ordered "_$P($G(^LAB(62.05,+LRALERT,0)),U)
"RTN","LRVER3",42,0)
 . W:IOST["C-" @LRVIDOF W !,$C(7)
"RTN","LRVER3",43,0)
 ;
"RTN","LRVER3",44,0)
 S X9="" I LRNTN=1 S T1=1 G L10
"RTN","LRVER3",45,0)
V9 S LRALL=$P(LRALL,",",2,99)
"RTN","LRVER3",46,0)
 R !!,"TEST #(s) (or ""ALL""): ",X:DTIME S:'$T X=U S:X["A" X=LRALL
"RTN","LRVER3",47,0)
 I X["?" W !,"Enter for example 1,2,5-9." G V9
"RTN","LRVER3",48,0)
 Q:X[U!(X="")  D RANGE^LRWU2 G EXIT:X9="" X (X9_"S:'$D(LRNAME(T1)) X=0") G EXIT:X=0
"RTN","LRVER3",49,0)
 ;
"RTN","LRVER3",50,0)
L10 ;
"RTN","LRVER3",51,0)
 N LRCORECT S LRCORECT=0
"RTN","LRVER3",52,0)
 S LRNX=0 X (X9_"D EX1^LRVER1")
"RTN","LRVER3",53,0)
 ;
"RTN","LRVER3",54,0)
 ; Calculate days back for delta check based on specimen collection date/time.
"RTN","LRVER3",55,0)
 S LRTM60=$$LRTM60^LRVR(LRCDT)
"RTN","LRVER3",56,0)
 D V7^LRVER2
"RTN","LRVER3",57,0)
 ;
"RTN","LRVER3",58,0)
 S LRCMTDSP=$$CHKCDSP^LRVERA
"RTN","LRVER3",59,0)
 K LRSA,LRSB,LRORU3
"RTN","LRVER3",60,0)
 F LRSB=1:0 S LRSB=$O(^LR(LRDFN,LRSS,LRIDT,LRSB)) Q:LRSB<1  D
"RTN","LRVER3",61,0)
 . S LRSB(LRSB)=^(LRSB),LRSB(LRSB,"P")=$P(LRSB(LRSB),U,3)
"RTN","LRVER3",62,0)
 . I $D(LRNOVER) S LRNOVER(LRSB)=""
"RTN","LRVER3",63,0)
 S LREDIT=1
"RTN","LRVER3",64,0)
 D ^LRVER4
"RTN","LRVER3",65,0)
 ;
"RTN","LRVER3",66,0)
 ; If group data review then quit before updating results
"RTN","LRVER3",67,0)
 I $D(LRGVP) G EXIT
"RTN","LRVER3",68,0)
 ;
"RTN","LRVER3",69,0)
 I '$O(LRORD(0)) G EXIT
"RTN","LRVER3",70,0)
 ;
"RTN","LRVER3",71,0)
 ; Set reporting site in file #63.
"RTN","LRVER3",72,0)
 D SETRL^LRVERA(LRDFN,LRSS,LRIDT,DUZ(2))
"RTN","LRVER3",73,0)
 ;
"RTN","LRVER3",74,0)
 I '$G(LRCHG),'LRVF D
"RTN","LRVER3",75,0)
 . N LRNOW S LRNOW=$$NOW^XLFDT
"RTN","LRVER3",76,0)
 . F LRSB=1:0 S LRSB=$O(LRSB(LRSB)) Q:LRSB<1  I $P(LRSB(LRSB),"^")'="" D
"RTN","LRVER3",77,0)
 . . S $P(LRSB(LRSB),U,6)=LRNOW
"RTN","LRVER3",78,0)
 . . S ^LR(LRDFN,LRSS,LRIDT,LRSB)=LRSB(LRSB)
"RTN","LRVER3",79,0)
 . . ;DSS/CMW - BEGIN MOD - MATERNITY TRACKER TRIGGER 02/06/14
"RTN","LRVER3",80,0)
 . . D LABMT^DSIO5(LRDFN,LRIDT,LRSB,+LRSB(LRSB))
"RTN","LRVER3",81,0)
 . . ;DSS/CMW - END MOD
"RTN","LRVER3",82,0)
 . . ;S DA(1)=LRDFN,DA=SFILEIEN,DIK="^LR("_DA(1)_",""CH""," D IX1^DIK  ;CLASS 1 LOGIC
"RTN","LRVER3",83,0)
 ;
"RTN","LRVER3",84,0)
 I $G(LRCHG) D CHG K LRCHG,LRUP I $G(LREND) S LREND=0 D ASKXQA,EXIT Q
"RTN","LRVER3",85,0)
 ;
"RTN","LRVER3",86,0)
 I $D(LRSA),$D(LRF) D  Q
"RTN","LRVER3",87,0)
 . K LRF
"RTN","LRVER3",88,0)
 . S X=$P(^LR(LRDFN,LRSS,LRIDT,0),U,9)
"RTN","LRVER3",89,0)
 . S:$L(X)&($E(X)'["-") $P(^(0),U,9)="-"_X
"RTN","LRVER3",90,0)
 . D V11,ASKXQA
"RTN","LRVER3",91,0)
 ;
"RTN","LRVER3",92,0)
 ;G EXIT:$D(LRGVP),V11:LRVF&$D(LRSA),V1:LRVF&(LRNTN>1),EXIT:LRVF
"RTN","LRVER3",93,0)
 I $D(LRGVP) D EXIT Q
"RTN","LRVER3",94,0)
 I LRVF,$D(LRSA) D V11,ASKXQA Q
"RTN","LRVER3",95,0)
 I LRVF,LRNTN>1 D V1 Q
"RTN","LRVER3",96,0)
 I LRVF D ASKXQA,EXIT Q
"RTN","LRVER3",97,0)
 ;
"RTN","LRVER3",98,0)
NOVER ;
"RTN","LRVER3",99,0)
 I $O(LRNOVER(0)) D  G EXIT
"RTN","LRVER3",100,0)
 . N LRI,LRX
"RTN","LRVER3",101,0)
 . S LRI=1
"RTN","LRVER3",102,0)
 . F  S LRI=+$O(LRNOVER(LRI)) Q:LRI<2  D
"RTN","LRVER3",103,0)
 . . N LRX,LRERR
"RTN","LRVER3",104,0)
 . . S LRX="Test Not Reviewed: "_$$GET1^DID(63.04,LRI,"","LABEL","","LRERR")
"RTN","LRVER3",105,0)
 . . I $G(LRERR("DIERR",1)) W !,"For DATANAME "_LRI_" - "_LRERR("DIERR",1,"TEXT",1) Q
"RTN","LRVER3",106,0)
 . . W !,LRX
"RTN","LRVER3",107,0)
 . . I $D(LRSB(LRI))#2 W " = "_$P(LRSB(LRI),U)_" "_$P(LRSB(LRI),U,2)
"RTN","LRVER3",108,0)
 . W !,$$CJ^XLFSTR("The above test(s) have results already entered,",IOM)
"RTN","LRVER3",109,0)
 . W !,$$CJ^XLFSTR("but you did not select them for review.",IOM)
"RTN","LRVER3",110,0)
 . W !,$$CJ^XLFSTR(" Accession NOT approved. ",IOM),$C(7)
"RTN","LRVER3",111,0)
 . W !,$$CJ^XLFSTR("You must review all results before ANY can be released.",IOM),!!
"RTN","LRVER3",112,0)
 . W:$E(IOST,1,2)="C-" @LRVIDO
"RTN","LRVER3",113,0)
 . W $$CJ^XLFSTR("Suggest you select 'ALL' tests for verification/review. ",IOM)
"RTN","LRVER3",114,0)
 . W:$E(IOST,1,2)="C-" @LRVIDOF W !,$C(7)
"RTN","LRVER3",115,0)
 I $O(LRNOVER(0)) W !,"Has not been reviewed and have data.  Not approved.",! G EXIT
"RTN","LRVER3",116,0)
 I '$P($G(LRLABKY),U) W !,$C(7),"ENTERED BUT NOT APPROVED",! G EXIT
"RTN","LRVER3",117,0)
 I '$O(LRSB(0)) W !?5,"Nothing verified ",$C(7),! G EXIT
"RTN","LRVER3",118,0)
 N CNT S CNT=1
"RTN","LRVER3",119,0)
 ;
"RTN","LRVER3",120,0)
AGAIN ;
"RTN","LRVER3",121,0)
 R !,"Approve for release by entering your initials: ",LRINI:DTIME
"RTN","LRVER3",122,0)
 I $E(LRINI)="^" W !!?5,$C(7),"Nothing verified!" D READ G EXIT
"RTN","LRVER3",123,0)
 I LRINI'=LRUSI,$$UP^XLFSTR(LRINI)=$$UP^XLFSTR(LRUSI) S LRINI=LRUSI
"RTN","LRVER3",124,0)
 I $S($E(LRINI)="?":1,LRINI'=LRUSI&(CNT<2):1,1:0) W !,$C(7),"Please enter your correct initials" S:$E(LRINI)="?" CNT=0 S CNT=CNT+1 G AGAIN
"RTN","LRVER3",125,0)
 I LRINI'=LRUSI W !!?5,$C(7),"Nothing verified!" D READ G EXIT
"RTN","LRVER3",126,0)
 D V11
"RTN","LRVER3",127,0)
 D ASKXQA
"RTN","LRVER3",128,0)
 Q
"RTN","LRVER3",129,0)
 ;
"RTN","LRVER3",130,0)
 ;
"RTN","LRVER3",131,0)
V11 ;
"RTN","LRVER3",132,0)
 I $D(XRTL) D T0^%ZOSV ; START RESPONSE TIME LOGGING
"RTN","LRVER3",133,0)
 I +LRDPF=2&($G(LRSS)'="BB")&('$$CHKINP^LRBEBA4(LRDFN,LRODT)) D
"RTN","LRVER3",134,0)
 .D BAWRK^LRBEBA(LRODT,LRSN,1,.LRBEY,.LRTEST)
"RTN","LRVER3",135,0)
 D VER^LRVER3A
"RTN","LRVER3",136,0)
 I $P(LRPARAM,U,14),$P($G(^LRO(68,LRAA,0)),U,16) D LOOK^LRCAPV1
"RTN","LRVER3",137,0)
 N LRX
"RTN","LRVER3",138,0)
 S LRX=0
"RTN","LRVER3",139,0)
 F  S LRX=$O(^TMP("LR",$J,"TMP",LRX)) Q:LRX<1  S:'$D(^LRO(68,"AC",LRDFN,LRIDT,LRX)) ^(LRX)="" I LRVF S ^(LRX)=""
"RTN","LRVER3",140,0)
 I $P($G(LRORU3),U,3),$O(LRSB(0)) D LRORU3
"RTN","LRVER3",141,0)
 I $D(XRT0) S XRTN="V11^LRVER3" D T1^%ZOSV ; STOP RESPONSE TIME LOGGING
"RTN","LRVER3",142,0)
 S LRVF=1
"RTN","LRVER3",143,0)
 Q
"RTN","LRVER3",144,0)
 ;
"RTN","LRVER3",145,0)
 ;
"RTN","LRVER3",146,0)
EXIT Q
"RTN","LRVER3",147,0)
 ;
"RTN","LRVER3",148,0)
 ;
"RTN","LRVER3",149,0)
READ ;
"RTN","LRVER3",150,0)
 N X W !!,"Press ENTER or RETURN to continue: " R X:DTIME
"RTN","LRVER3",151,0)
 Q
"RTN","LRVER3",152,0)
 ;
"RTN","LRVER3",153,0)
 ;
"RTN","LRVER3",154,0)
CHG ; Check for changes, save results and create audit trail
"RTN","LRVER3",155,0)
 N LRNOW
"RTN","LRVER3",156,0)
 S LRUP="",LRNOW=$$NOW^XLFDT
"RTN","LRVER3",157,0)
  F  S LRCHG=$O(LRSB(LRCHG)) Q:LRCHG<1  D
"RTN","LRVER3",158,0)
 . I '$D(LRSA(LRCHG)) S LRUP=1 Q
"RTN","LRVER3",159,0)
 . I $P(LRSA(LRCHG),"^")=""!($P(LRSA(LRCHG),"^")="pending") D  Q   ; Update user/release time/performing lab if results entered.
"RTN","LRVER3",160,0)
 . . S LRSA(LRCHG,3)=1
"RTN","LRVER3",161,0)
 . . S LRUP=1
"RTN","LRVER3",162,0)
 . . S $P(LRSB(LRCHG),U,4)=$S($G(LRDUZ):LRDUZ,1:$G(DUZ))
"RTN","LRVER3",163,0)
 . . S $P(LRSB(LRCHG),U,6)=LRNOW
"RTN","LRVER3",164,0)
 . . S $P(LRSB(LRCHG),U,9)=$S($G(LRDUZ(2)):LRDUZ(2),$G(DUZ(2)):DUZ(2),1:"")
"RTN","LRVER3",165,0)
 . I $P(LRSA(LRCHG),"^")'=$P(LRSB(LRCHG),"^") S LRUP=1,$P(LRSA(LRCHG,2),"^")=1 ; results changed
"RTN","LRVER3",166,0)
 . I $P(LRSA(LRCHG),"^",2)'=$P(LRSB(LRCHG),"^",2) S LRUP=1,$P(LRSA(LRCHG,2),"^",2)=1 ; normalcy flag changed
"RTN","LRVER3",167,0)
 . I $P(LRSA(LRCHG),"^",5)'=$P(LRSB(LRCHG),"^",5) D  ; units/normals changed
"RTN","LRVER3",168,0)
 . . N LRX,LRY
"RTN","LRVER3",169,0)
 . . S LRX=$$UP^XLFSTR($P(LRSA(LRCHG),"^",5)),LRX=$TR(LRX,"""")
"RTN","LRVER3",170,0)
 . . S LRY=$$UP^XLFSTR($P(LRSB(LRCHG),"^",5)),LRY=$TR(LRY,"""")
"RTN","LRVER3",171,0)
 . . I LRX'=LRY S LRUP=1,$P(LRSA(LRCHG,2),"^",5)=1
"RTN","LRVER3",172,0)
 . I $D(LRSA(LRCHG,2)) D  ; Update user/release time/performing lab if results changed.
"RTN","LRVER3",173,0)
 . . S $P(LRSB(LRCHG),U,4)=$S($G(LRDUZ):LRDUZ,1:$G(DUZ))
"RTN","LRVER3",174,0)
 . . S $P(LRSB(LRCHG),U,6)=LRNOW
"RTN","LRVER3",175,0)
 . . S $P(LRSB(LRCHG),U,9)=$S($G(LRDUZ(2)):LRDUZ(2),$G(DUZ(2)):DUZ(2),1:"")
"RTN","LRVER3",176,0)
 I 'LRUP S LREND=1 Q
"RTN","LRVER3",177,0)
 S LREND=0
"RTN","LRVER3",178,0)
 W !! W:IOST["C-" @LRVIDO W "Approve update of data by entering your initials: " W:IOST["C-" @LRVIDOF
"RTN","LRVER3",179,0)
 R LRINI:DTIME
"RTN","LRVER3",180,0)
 I '$T S LREND=1
"RTN","LRVER3",181,0)
 I 'LREND,LRINI'=LRUSI,$$UP^XLFSTR(LRINI)=$$UP^XLFSTR(LRUSI) S LRINI=LRUSI
"RTN","LRVER3",182,0)
 I LRINI'=LRUSI S LREND=1
"RTN","LRVER3",183,0)
 I LREND W !,$C(7),"No updating occurred ",! Q
"RTN","LRVER3",184,0)
 ;
"RTN","LRVER3",185,0)
 F LRSB=1:0 S LRSB=$O(LRSB(LRSB)) Q:LRSB<1  D
"RTN","LRVER3",186,0)
 . K:'$D(^LR(LRDFN,LRSS,LRIDT,LRSB)) LRSA(LRSB)
"RTN","LRVER3",187,0)
 . I $P(LRSB(LRSB),"^")'="" S ^LR(LRDFN,LRSS,LRIDT,LRSB)=LRSB(LRSB)
"RTN","LRVER3",188,0)
 . I $D(LRSA(LRSB,1)),$D(LRSA(LRSB,2)) D DIDLE
"RTN","LRVER3",189,0)
 ;
"RTN","LRVER3",190,0)
 W !!
"RTN","LRVER3",191,0)
 Q
"RTN","LRVER3",192,0)
 ;
"RTN","LRVER3",193,0)
 ;
"RTN","LRVER3",194,0)
DIDLE ;
"RTN","LRVER3",195,0)
 ; Check if no previous result or pending result - no audit trail needed
"RTN","LRVER3",196,0)
 I $P(LRSA(LRSB),"^")=""!($P(LRSA(LRSB),"^")="pending") Q
"RTN","LRVER3",197,0)
 ;
"RTN","LRVER3",198,0)
 S LRF=1
"RTN","LRVER3",199,0)
 L +^LR(LRDFN,LRSS,LRIDT):DILOCKTM+999
"RTN","LRVER3",200,0)
NOW ;
"RTN","LRVER3",201,0)
 N LRNOW7
"RTN","LRVER3",202,0)
 S LRNOW7=$S($G(LRNOW):LRNOW,1:$$NOW^XLFDT)
"RTN","LRVER3",203,0)
 W !
"RTN","LRVER3",204,0)
 D ^LRDIDLE0
"RTN","LRVER3",205,0)
 I 'LROK K LRSA
"RTN","LRVER3",206,0)
 L -^LR(LRDFN,LRSS,LRIDT)
"RTN","LRVER3",207,0)
 S LRCORECT=1
"RTN","LRVER3",208,0)
 Q
"RTN","LRVER3",209,0)
 ;
"RTN","LRVER3",210,0)
 ;
"RTN","LRVER3",211,0)
RONLT ; (R)esolve (O)rder NLT code from file #68 original ordered test or
"RTN","LRVER3",212,0)
 ; use default when not specified for file #60 test.
"RTN","LRVER3",213,0)
 ;
"RTN","LRVER3",214,0)
 N LR60,LRX,LRY,X
"RTN","LRVER3",215,0)
 S LR60=+LRTS,LRY=$P(LRSB(LRSB),U,3)
"RTN","LRVER3",216,0)
 ;
"RTN","LRVER3",217,0)
 ; Try to determine order NLT from original ordered test
"RTN","LRVER3",218,0)
 F  Q:'LR60  D
"RTN","LRVER3",219,0)
 . S LRX=$G(^LRO(68,LRAA,1,LRAD,1,LRAN,4,LR60,0)),LR60=+$P(LRX,"^",9)
"RTN","LRVER3",220,0)
 . I LR60,LR60'=$P(LRX,"^") D
"RTN","LRVER3",221,0)
 . . S X=$$NLT^LRVER1(LR60)
"RTN","LRVER3",222,0)
 . . I X'="" S $P(LRY,"!")=X
"RTN","LRVER3",223,0)
 . I LR60=$P(LRX,"^") S LR60=0
"RTN","LRVER3",224,0)
 ;
"RTN","LRVER3",225,0)
 ; Otherwise use default for lab package
"RTN","LRVER3",226,0)
 I $P(LRY,"!")="" S $P(LRY,"!")=$P($$DEFCODE^LA7VHLU5(LRSS,LRSB,LRY,+LRSPEC),"!")
"RTN","LRVER3",227,0)
 ;
"RTN","LRVER3",228,0)
 S $P(LRSB(LRSB),U,3)=LRY
"RTN","LRVER3",229,0)
 ;
"RTN","LRVER3",230,0)
 Q
"RTN","LRVER3",231,0)
 ;
"RTN","LRVER3",232,0)
 ;
"RTN","LRVER3",233,0)
LRORU3 ;
"RTN","LRVER3",234,0)
SET ;
"RTN","LRVER3",235,0)
 N LR64,LR7V,LRDN,LROTA,LRT,LRTPN,LRTPNN,LRTYPE,X
"RTN","LRVER3",236,0)
 ;
"RTN","LRVER3",237,0)
 ; Go through LRSB array and sort results by order NLT code
"RTN","LRVER3",238,0)
 ; and put into ordered test array (LROTA).
"RTN","LRVER3",239,0)
 S LRDN=0
"RTN","LRVER3",240,0)
 F  S LRDN=$O(LRSB(LRDN)) Q:'LRDN  D
"RTN","LRVER3",241,0)
 . I $P(LRSB(LRDN),"^")="" Q
"RTN","LRVER3",242,0)
 . S LRTPNN=$P($P(LRSB(LRDN),U,3),"!"),LRT=+$G(^TMP("LR",$J,"TMP",LRDN))
"RTN","LRVER3",243,0)
 . I LRTPNN="" Q
"RTN","LRVER3",244,0)
 . S LRTYPE=$P($G(^LAB(60,LRT,0)),U,3)
"RTN","LRVER3",245,0)
 . I LRTYPE=""!("OB"'[LRTYPE) Q
"RTN","LRVER3",246,0)
 . S LROTA(LRTPNN,LRDN)=LRT
"RTN","LRVER3",247,0)
 . I $D(LRSA(LRDN,2)) S LROTA(LRTPNN,LRDN,1)="C"
"RTN","LRVER3",248,0)
 ;
"RTN","LRVER3",249,0)
 ; For each order NLT code setup call to put results into #62.49 queue
"RTN","LRVER3",250,0)
 S LRTPNN=""
"RTN","LRVER3",251,0)
 F  S LRTPNN=$O(LROTA(LRTPNN)) Q:LRTPNN=""  D
"RTN","LRVER3",252,0)
 . S LR64=+$O(^LAM("C",LRTPNN_" ",0)),LRTPN=$$GET1^DIQ(64,LR64_",",.01)
"RTN","LRVER3",253,0)
 . K LR7V
"RTN","LRVER3",254,0)
 . M LR7V=LROTA(LRTPNN)
"RTN","LRVER3",255,0)
 . D SET^LA7VMSG($P(LRORU3,U,4),$P(LRORU3,U,2),$P(LRORU3,U,5),$P(LRORU3,U,3),LRTPN,LRTPNN,LRIDT,LRSS,LRDFN,LRODT,.LR7V,"ORU")
"RTN","LRVER3",256,0)
 Q
"RTN","LRVER3",257,0)
 ;
"RTN","LRVER3",258,0)
 ;
"RTN","LRVER3",259,0)
ASKXQA ; Determine if user should be asked to send CPRS Alert
"RTN","LRVER3",260,0)
 ;
"RTN","LRVER3",261,0)
 N LRDEFAULT
"RTN","LRVER3",262,0)
 ;
"RTN","LRVER3",263,0)
 ; No CPRS alert for non-PATIENT file (#2) patients
"RTN","LRVER3",264,0)
 I +LRDPF'=2 Q
"RTN","LRVER3",265,0)
 ;
"RTN","LRVER3",266,0)
 S LRDEFAULT=$$GET^XPAR("USR^DIV^PKG","LR CH VERIFY CPRS ALERT",1,"Q")
"RTN","LRVER3",267,0)
 I LRDEFAULT>0 D ASKXQA^LR7ORB3(LRDFN,"CH",LRIDT,LRUID,LRDEFAULT)
"RTN","LRVER3",268,0)
 ;
"RTN","LRVER3",269,0)
 Q
"RTN","ORATR")
0^8^B83352251
"RTN","ORATR",1,0)
ORATR ; DSS/SMP/ASF - Abnormal Alert Utilities ; AUG 28, 2012
"RTN","ORATR",2,0)
 ;;1.0;VENDOR - DOCUMENT STORAGE SYSTEMS;;7/17/2012;Build 18
"RTN","ORATR",3,0)
 ;;;
"RTN","ORATR",4,0)
 Q
"RTN","ORATR",5,0)
 ;
"RTN","ORATR",6,0)
 ; Documented API and ICRs
"RTN","ORATR",7,0)
 ; -----------------------
"RTN","ORATR",8,0)
 ; 2043      EN1^RAO7PC1
"RTN","ORATR",9,0)
 ; 2051      FIND^DIC   
"RTN","ORATR",10,0)
 ; 2056      $$GET1^DIQ
"RTN","ORATR",11,0)
 ; 2056      GETS^DIQ
"RTN","ORATR",12,0)
 ; 2263      ^XPAR
"RTN","ORATR",13,0)
 ; 3315      UPDATE^DIE
"RTN","ORATR",14,0)
 ;
"RTN","ORATR",15,0)
 ;=====================================================================
"RTN","ORATR",16,0)
 ;                 A B N O R M A L   A L E R T   R P C S
"RTN","ORATR",17,0)
 ;=====================================================================
"RTN","ORATR",18,0)
PROVIDER(ORRET,ORUSR) ; RPC - ORATR PROVIDER
"RTN","ORATR",19,0)
 ; ORRET - Return array, passed by reference
"RTN","ORATR",20,0)
 ; ORUSR - IEN of provider (FILE 200)
"RTN","ORATR",21,0)
 ;
"RTN","ORATR",22,0)
 K ORRET
"RTN","ORATR",23,0)
 N ORX S ORUSR=$G(ORUSR),ORX=$$PROV^ORATRPC
"RTN","ORATR",24,0)
 I 'ORX S ORRET=0
"RTN","ORATR",25,0)
 Q
"RTN","ORATR",26,0)
 ;
"RTN","ORATR",27,0)
PATIENT(ORRET,ORDFN) ; RPC - ORATR PATIENT
"RTN","ORATR",28,0)
 ; ORRET - Return array, passed by reference
"RTN","ORATR",29,0)
 ; ORDFN - IEN of patient (FILE 2)
"RTN","ORATR",30,0)
 ;
"RTN","ORATR",31,0)
 K ORRET
"RTN","ORATR",32,0)
 N ORX S ORDFN=$G(ORDFN),ORX=$$PAT^ORATRPC
"RTN","ORATR",33,0)
 I 'ORX S ORRET=0
"RTN","ORATR",34,0)
 Q
"RTN","ORATR",35,0)
 ;
"RTN","ORATR",36,0)
NOTE(ORRET,ORNOTE) ; RPC - ORATR GET NOTE
"RTN","ORATR",37,0)
 ; ORRET  - Return string
"RTN","ORATR",38,0)
 ; ORNOTE - IEN in the VFD ATR CONTROL file (21695.5)
"RTN","ORATR",39,0)
 K ORRET
"RTN","ORATR",40,0)
 N ORX S ORNOTE=$G(ORNOTE),ORX=$$NOTE^ORATRPC
"RTN","ORATR",41,0)
 I ORX=-1 S ORRET="-1^Error"
"RTN","ORATR",42,0)
 Q
"RTN","ORATR",43,0)
 ;
"RTN","ORATR",44,0)
PARAM(ORRET,ORVAL) ; RPC - ORATR SET FILTER PARAM
"RTN","ORATR",45,0)
 ;PARAM NAME = ORATR FILTER TAR
"RTN","ORATR",46,0)
 D EN^XPAR("USR","ORATR FILTER TAR",,ORVAL,.ORRET)
"RTN","ORATR",47,0)
 Q
"RTN","ORATR",48,0)
 ;
"RTN","ORATR",49,0)
TEMPLATE(ORRET,ORRDIEN) ; RPC - ORATR GET TIU TEMPLATE
"RTN","ORATR",50,0)
 ; ORRET   - Return string
"RTN","ORATR",51,0)
 ; ORRDIEN - IEN in the TIU TEMPLATE file (#8927) ;TFF
"RTN","ORATR",52,0)
 K ORRET
"RTN","ORATR",53,0)
 N ORX S ORRDIEN=$G(ORRDIEN),ORX=$$TEMPLATE^ORATRPC
"RTN","ORATR",54,0)
 I 'ORX S ORRET="-1^Error"
"RTN","ORATR",55,0)
 Q
"RTN","ORATR",56,0)
 ;
"RTN","ORATR",57,0)
PROCESS(ORRET,ORIEN,ORPRO) ; RPC - ORATR SET ATR PROCESSING LEVEL
"RTN","ORATR",58,0)
 ; ORRET - Return String
"RTN","ORATR",59,0)
 ; ORIEN - IEN in the VFD ALERT TRACKING file (#21695.2)
"RTN","ORATR",60,0)
 ; ORPRO - Internal form of PROCESSED field (#1.05)
"RTN","ORATR",61,0)
 ;
"RTN","ORATR",62,0)
 ; 0 - Not Processed
"RTN","ORATR",63,0)
 ; 1 - Partially Processed
"RTN","ORATR",64,0)
 ; 2 - Completed
"RTN","ORATR",65,0)
 ; 3 - Transmitted
"RTN","ORATR",66,0)
 ;
"RTN","ORATR",67,0)
 K ORRET
"RTN","ORATR",68,0)
 D FOLLOWUP^ORATR2(ORIEN)
"RTN","ORATR",69,0)
 S ORRET=$$PROCESS^ORATRPC(ORIEN,ORPRO)
"RTN","ORATR",70,0)
 Q
"RTN","ORATR",71,0)
 ;
"RTN","ORATR",72,0)
RESULTS(ORRET,ORDATA) ; RPC - ORATR GET TEST RESULTS
"RTN","ORATR",73,0)
 ; ORRET  - Return array, passed by reference
"RTN","ORATR",74,0)
 ; ORDATA - Input array
"RTN","ORATR",75,0)
 ;     passed by reference
"RTN","ORATR",76,0)
 ;     format:  ORDATA(sub) = code ^ value   where
"RTN","ORATR",77,0)
 ;         code = PAT for patient (#2)
"RTN","ORATR",78,0)
 ;                ATR for notification (#21695.2)
"RTN","ORATR",79,0)
 ;        value = for code PAT - patient DFN
"RTN","ORATR",80,0)
 ;                for code ATR - IEN in VFD ALERT TRACKING (#21695.2)
"RTN","ORATR",81,0)
 K ORRET
"RTN","ORATR",82,0)
 D RESULTS^ORATRDO
"RTN","ORATR",83,0)
 I '$D(ORRET) S ORRET(1)="Input is invalid"
"RTN","ORATR",84,0)
 Q
"RTN","ORATR",85,0)
 ;
"RTN","ORATR",86,0)
SETNOTE(ORRET,ORIEN,ORNOTE) ; RPC - ORATR SET TIU NOTE
"RTN","ORATR",87,0)
 ; ORRET  - Return string, passed by reference
"RTN","ORATR",88,0)
 ; ORIEN  - IEN in the VFD ALERT TRACKING file (#21695.2)
"RTN","ORATR",89,0)
 ; ORNOTE - Pointer to the TIU DOCUMENT file (#8925)
"RTN","ORATR",90,0)
 N ORFDA,ORERR K ORRET
"RTN","ORATR",91,0)
 S ORNOTE=$S(ORNOTE:"`"_ORNOTE,ORNOTE="@":"@",1:-1)
"RTN","ORATR",92,0)
 S ORFDA(21695.2,ORIEN_",",1.07)=ORNOTE
"RTN","ORATR",93,0)
 L +^VFD(21695.2,ORIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR",94,0)
 D UPDATE^DIE("E","ORFDA",,"ORERR")
"RTN","ORATR",95,0)
 L -^VFD(21695.2,ORIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR",96,0)
 S ORRET=$S('$D(ORERR):1,1:-1)
"RTN","ORATR",97,0)
 Q
"RTN","ORATR",98,0)
 ;
"RTN","ORATR",99,0)
BCCCR(ORRET) ; RPC - ORATR BCCCR TRANSMIT
"RTN","ORATR",100,0)
 ; ORRET - Return array, passed by reference
"RTN","ORATR",101,0)
 N ORIEN,ORFLAG
"RTN","ORATR",102,0)
 K ORRET S ORIEN="",ORFLAG=0
"RTN","ORATR",103,0)
 F  S ORIEN=$O(^VFD(21695.2,"APROC",2,ORIEN)) Q:'ORIEN  D  Q:ORFLAG
"RTN","ORATR",104,0)
 .N ORTYPE S ORTYPE=$$GET1^DIQ(21695.2,ORIEN,1.09,"I")
"RTN","ORATR",105,0)
 .;I $$GET1^DIQ(21695.5,+ORTYPE,.01)'["BCCCR" D PROCESS^ORATRPC(ORIEN,3) Q
"RTN","ORATR",106,0)
 .I '$$GET1^DIQ(21695.5,ORTYPE,.06,"I") D PROCESS^ORATRPC(ORIEN,3) Q
"RTN","ORATR",107,0)
 .S ORFLAG=1
"RTN","ORATR",108,0)
 I ORIEN="" S ORRET(1)="-1^Error" Q
"RTN","ORATR",109,0)
 D BCCCR^ORATRPC(ORIEN)
"RTN","ORATR",110,0)
 I '$D(ORRET) S ORRET(1)="-1^Error"
"RTN","ORATR",111,0)
 Q
"RTN","ORATR",112,0)
 ;
"RTN","ORATR",113,0)
GETHF(ORRET,ORIEN,ORHF) ;
"RTN","ORATR",114,0)
 ; HEALTH FACTORS       ^AUTTHF(
"RTN","ORATR",115,0)
 ; V HEALTH FACTOR      ^AUPNVHF(
"RTN","ORATR",116,0)
 N X,Y,Z,ORERR S ORIEN=+$G(ORIEN)
"RTN","ORATR",117,0)
 N ZTIO,ZTRTN,ZTDTH,ZTSAVE,ZTDESC,ZTSYNC,ZTSK
"RTN","ORATR",118,0)
 S ZTRTN="GETHF^ORATRPC",ZTDTH=$H,$P(ZTDTH,",",2)=100+$P(ZTDTH,",",2)
"RTN","ORATR",119,0)
 S ZTDESC="Track Health Factors for SMART Notifications"
"RTN","ORATR",120,0)
 M ^TMP("ORATRHF",$$NOW^XLFDT,ORIEN)=ORHF
"RTN","ORATR",121,0)
 D ^%ZTLOAD I '$D(ZTSK) D GETHF^ORATRPC
"RTN","ORATR",122,0)
 S ORRET=1
"RTN","ORATR",123,0)
 Q 
"RTN","ORATR",124,0)
 ;
"RTN","ORATR",125,0)
 ;=====================================================================
"RTN","ORATR",126,0)
 ;                            U T I L I T E S
"RTN","ORATR",127,0)
 ;=====================================================================
"RTN","ORATR",128,0)
TRANSFER(ORATIEN) ;Transfer data from Alert Tracking to VFD Alert Tracking
"RTN","ORATR",129,0)
 ;asf 7/14/12
"RTN","ORATR",130,0)
 ;ORATIEN- IEN of file 8992.1
"RTN","ORATR",131,0)
 N X,%X,%Y,DA,DIK,ORATRFDA,ORDATA,ORFLAG,ORLOC,ORNOT,VFDNEWIEN,ORERR
"RTN","ORATR",132,0)
 S ORATIEN=+ORATIEN ;remove trailing comma asf 7/17
"RTN","ORATR",133,0)
 I '$D(^XTV(8992.1,ORATIEN)) Q -1  ;out--> bad ien
"RTN","ORATR",134,0)
 S ORDATA=$$GETIEN($$GET1^DIQ(8992.1,ORATIEN,.01,,,"ORERR"))
"RTN","ORATR",135,0)
 S VFDNEWIEN(1)=$P(ORDATA,U) I VFDNEWIEN(1)'>0 Q -1  ;Entry not made out-->
"RTN","ORATR",136,0)
 L +^VFD(21695.2,VFDNEWIEN(1)):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR",137,0)
 D SETUP(VFDNEWIEN(1),'$G(ORFLAG))
"RTN","ORATR",138,0)
 L -^VFD(21695.2,VFDNEWIEN(1)):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR",139,0)
 Q VFDNEWIEN(1)
"RTN","ORATR",140,0)
 ;
"RTN","ORATR",141,0)
GETIEN(ORNM) ;
"RTN","ORATR",142,0)
 ; ORNM is the .01 field in 8992.1
"RTN","ORATR",143,0)
 N ORATRFDA,ORERR,ORIEN,NEWIEN
"RTN","ORATR",144,0)
 S ORNM=$$TRNSFRM(ORNM) Q:ORNM="" -1
"RTN","ORATR",145,0)
 ; check inactive
"RTN","ORATR",146,0)
 Q:$$GET1^DIQ(21695.5,$P(ORNM,";",5),.04,"I") -1
"RTN","ORATR",147,0)
 S ORIEN=$$FIND1^DIC(21695.2,,"X",ORNM,,,"ORERR")
"RTN","ORATR",148,0)
 I ORIEN S ORFLAG=1 Q ORIEN_U_ORNM
"RTN","ORATR",149,0)
 S ORATRFDA(21695.2,"+1,",.01)=ORNM
"RTN","ORATR",150,0)
 D UPDATE^DIE("U","ORATRFDA","NEWIEN")
"RTN","ORATR",151,0)
 Q NEWIEN(1)_U_ORNM
"RTN","ORATR",152,0)
 ;
"RTN","ORATR",153,0)
TRNSFRM(ORNM) ; Transform the .01 field for an ATR notification
"RTN","ORATR",154,0)
 ;TFF - REMOVED THE DUPLICATE N OR ORFLAG
"RTN","ORATR",155,0)
 N ORX,ORDATA,ORDER,ORERR,ORFLAG,ORID,ORI,ORY,ORPAT,ORNOT
"RTN","ORATR",156,0)
 Q:$E(ORNM,1,2)'="OR" ""
"RTN","ORATR",157,0)
 S ORPAT=$$GET1^DIQ(8992.1,ORATIEN,.04,"I",,"ORERR")
"RTN","ORATR",158,0)
 S ORX=$P($P(ORNM,";"),",",3) Q:'ORX ""
"RTN","ORATR",159,0)
 Q:'$D(^VFD(21695.5,"AB",ORX)) ""  S ORNOT=ORX
"RTN","ORATR",160,0)
 S ORDATA=$$GET1^DIQ(8992.1,ORATIEN,2)
"RTN","ORATR",161,0)
 I ORDATA["@OR"&($D(^OR(100,+ORDATA))) S ORDER=+ORDATA_","
"RTN","ORATR",162,0)
 ;TFF - ADDED THE SET CONDITION FOR THE NEXT TWO LINES
"RTN","ORATR",163,0)
 E  S:$G(ORDATA)'="" ORDER=$$GETORDER(ORPAT,ORDATA)
"RTN","ORATR",164,0)
 D:$D(ORDER) GETS^DIQ(100,ORDER,".1*","I","ORDER","ORERR")
"RTN","ORATR",165,0)
 S ORX="ORDER" F  S ORX=$Q(@ORX) Q:ORX=""  D  Q:$D(ORID)
"RTN","ORATR",166,0)
 .;TFF - REBUILT THE C X-REF ^VFD(21695.5,"C",3028,1,2)="" TO
"RTN","ORATR",167,0)
 .; ^VFD(21695.5,"C",ORNOT,3028,1,2)="" WHERE ORNOT = OR NOTIFICATION
"RTN","ORATR",168,0)
 .; IF DIFFERENT OR NOTIFICATIONS CAN HAVE THE SAME ORDERS THEN LOOKING UP ON
"RTN","ORATR",169,0)
 .; ORDER ID ALONE WILL CAUSE TO ORID TO BE SET INCORRECTLY
"RTN","ORATR",170,0)
 .;
"RTN","ORATR",171,0)
 .I $D(^VFD(21695.5,"C",ORNOT,@ORX)) S ORID=$O(^(@ORX,""))
"RTN","ORATR",172,0)
 .I $D(ORID) S ORLOC=$$GET1^DIQ(100,+ORDER_",",6,"I",,"ORERR")
"RTN","ORATR",173,0)
 .;TFF - ADDED ORNOT TO $$LABTEST
"RTN","ORATR",174,0)
 .;TFF - WHY FIND ORID FROM AN ORDERABLE ITEM?
"RTN","ORATR",175,0)
 .I '$D(ORID) S ORID=$$LABTEST(ORATIEN,ORDATA,ORNOT)
"RTN","ORATR",176,0)
 ;TFF - ADDED $G TO ORID
"RTN","ORATR",177,0)
 ;Q:$G(ORID)="" "" ;COMMENTED THIS LINE OUT - SEE BELOW
"RTN","ORATR",178,0)
 ;TFF - IF THE ALERT IS CREATED WITH AN OR NOTIFICATION THAT'S IN THE CONTROL FILE
"RTN","ORATR",179,0)
 ; WITH AN ORDERABLE ITEM THAT IS NOT OR IS SET TO A DIFFERENT CONTROL TYPE THEN
"RTN","ORATR",180,0)
 ; THE WRONG IEN WILL BE SET TO PIECE 5 (ORID)
"RTN","ORATR",181,0)
 ;TFF - CHANGED THE FIFTH PIECE OF ORNM FROM ORID TO 
"RTN","ORATR",182,0)
 ;
"RTN","ORATR",183,0)
 ; XQAID=p1;p2..;p5;p6 where p1, p2,...p8 are:
"RTN","ORATR",184,0)
 ;     p1  := ATR , PATIENT , NOTIFICATION ID (pointer to 100.9)
"RTN","ORATR",185,0)
 ;     p2  := 10000 (constant)
"RTN","ORATR",186,0)
 ;     p3  := PATIENT
"RTN","ORATR",187,0)
 ;     p4  := date/time notification was sent
"RTN","ORATR",188,0)
 ;     p5  := type of ATR (pointer to VFD ATR CONTROL file #21695.5) - was incorrectly being set
"RTN","ORATR",189,0)
 ;     p6  := date/time of original order
"RTN","ORATR",190,0)
 ;     p7  := IEN in VFD ALERT TRACKING file (#21695.2)
"RTN","ORATR",191,0)
 ;     p8  := IEN of the associated TIU Note
"RTN","ORATR",192,0)
 ;
"RTN","ORATR",193,0)
 S ORNM="ATR,"_ORPAT_","_ORNOT_";10000;"_ORPAT_";"_$P(ORNM,";",3)_";"_$O(^VFD(21695.5,"AB",ORNOT,""))
"RTN","ORATR",194,0)
 S ORNM=ORNM_";"_$$GET1^DIQ(100,$G(ORDER),4,"I")
"RTN","ORATR",195,0)
 Q ORNM
"RTN","ORATR",196,0)
 ;
"RTN","ORATR",197,0)
GETORDER(ORPAT,ORDATA) ;
"RTN","ORATR",198,0)
 N ORX,ORY,ORIEN,TODAY
"RTN","ORATR",199,0)
 S TODAY=$$DT^XLFDT,ORDATA=$TR(ORDATA,"~","-")
"RTN","ORATR",200,0)
 K ^TMP($J,"RAE1")
"RTN","ORATR",201,0)
 D EN1^RAO7PC1(ORPAT,$$FMADD^XLFDT(TODAY,-60),TODAY,10)
"RTN","ORATR",202,0)
 Q:'$D(^TMP($J,"RAE1",ORPAT,ORDATA)) -1  S ORIEN=$P(^(ORDATA),U,11)
"RTN","ORATR",203,0)
 S ORIEN=ORIEN_"," K ^TMP($J,"RAE1")
"RTN","ORATR",204,0)
 Q ORIEN
"RTN","ORATR",205,0)
 ;
"RTN","ORATR",206,0)
LABTEST(ORATIEN,ORDATA,ORNOT) ;
"RTN","ORATR",207,0)
 ; TFF - ADDED ORNOT AS THE THIRD PARAMETER
"RTN","ORATR",208,0)
 N ORDT,ORSN,TEMP,OR,ORRET,LBTST S ORRET=""
"RTN","ORATR",209,0)
 I ORDATA'["|" Q ORRET
"RTN","ORATR",210,0)
 S ORDT=$P(ORDATA,";",2),ORSN=$P(ORDATA,";",3)
"RTN","ORATR",211,0)
 I 'ORDT!('ORSN) Q ORRET
"RTN","ORATR",212,0)
 K ^TMP("LRX",$J)
"RTN","ORATR",213,0)
 D 69^LR7OB69(ORDT,ORSN)
"RTN","ORATR",214,0)
 ;TFF - X-REF CHANGE FROM ^VFD(21695.5,"D",(LAB TEST)
"RTN","ORATR",215,0)
 ; (ORNOT = OR NOTIFICATION) TO ^VFD(21695.5,"D",ORNOT,(LAB TEST)
"RTN","ORATR",216,0)
 S TEMP=$NA(^TMP("LRX",$J,69)),OR=0
"RTN","ORATR",217,0)
 F  S OR=$O(@TEMP@(OR)) Q:'OR  S LBTST=+@TEMP@(OR) D  Q:ORRET
"RTN","ORATR",218,0)
 .Q:'$D(^VFD(21695.5,"D",ORNOT,LBTST))
"RTN","ORATR",219,0)
 .N RESULT,NODE S NODE=$O(@TEMP@(OR,63,"")) Q:NODE=""
"RTN","ORATR",220,0)
 .S RESULT=$P($G(@TEMP@(OR,63,NODE)),U,2) Q:RESULT=""
"RTN","ORATR",221,0)
 .I $$GET1^DIQ(8992.1,ORATIEN,1.01)[RESULT D
"RTN","ORATR",222,0)
 ..Q:'$D(^VFD(21695.5,"D",ORNOT,LBTST))
"RTN","ORATR",223,0)
 ..S ORRET=$O(^VFD(21695.5,"D",ORNOT,LBTST,""))
"RTN","ORATR",224,0)
 K ^TMP("LRX",$J)
"RTN","ORATR",225,0)
 Q ORRET
"RTN","ORATR",226,0)
 ;
"RTN","ORATR",227,0)
SETUP(ORIEN,ORNEW) ; Add data to the new entry in 21695.2
"RTN","ORATR",228,0)
 N ORCNT,ORDA,ORDATA,ORERR,ORFDA,ORNA,ORTEMP,ORX,ORGUID,ORIPT
"RTN","ORATR",229,0)
 S ORNA=$NA(ORFDA(21695.2,ORIEN_",")),ORCNT=1
"RTN","ORATR",230,0)
 I ORNEW D SETUP1(ORIEN)
"RTN","ORATR",231,0)
 D GETS^DIQ(8992.1,ORATIEN_",","20*","I","ORDATA","ORERR")
"RTN","ORATR",232,0)
 ; Update 21695.21 Multiple
"RTN","ORATR",233,0)
 S ORX="" F  S ORX=$O(ORDATA(8992.11,ORX)) Q:'ORX  D
"RTN","ORATR",234,0)
 .S ORDA=$$FIND1^DIC(21695.21,","_ORIEN_",","Q",ORDATA(8992.11,ORX,.01,"I"))
"RTN","ORATR",235,0)
 .S:'ORDA ORDA="+"_ORCNT,ORCNT=ORCNT+1
"RTN","ORATR",236,0)
 .D SETUP2(21695.21,8992.11,ORDA_","_ORIEN_",",ORX)
"RTN","ORATR",237,0)
 .S ORTEMP(+ORX)=ORDA
"RTN","ORATR",238,0)
 ; Update 21695.211 Multiple
"RTN","ORATR",239,0)
 S ORX="" F  S ORX=$O(ORDATA(8992.111,ORX)) Q:'ORX  D
"RTN","ORATR",240,0)
 .S ORDA=ORTEMP($P(ORX,",",2))
"RTN","ORATR",241,0)
 .I $E(ORDA,1)="+" S ORDA="+"_ORCNT_","_ORDA_","_ORIEN_",",ORCNT=ORCNT+1
"RTN","ORATR",242,0)
 .E  D
"RTN","ORATR",243,0)
 ..S ORDA(1)=$$FIND1^DIC(21695.211,","_ORDA_","_ORIEN_",","Q",ORDATA(8992.111,ORX,.01,"I"))
"RTN","ORATR",244,0)
 ..S:ORDA(1) ORDA=ORDA(1)_","_ORDA_","_ORIEN_","
"RTN","ORATR",245,0)
 ..S:'ORDA(1) ORDA="+"_ORCNT_","_ORDA_","_ORIEN_",",ORCNT=ORCNT+1
"RTN","ORATR",246,0)
 .D SETUP2(21695.211,8992.111,ORDA,ORX)
"RTN","ORATR",247,0)
 ; Update 21695.212 Multiple
"RTN","ORATR",248,0)
 S ORX="" F  S ORX=$O(ORDATA(8992.112,ORX)) Q:'ORX  D
"RTN","ORATR",249,0)
 .S ORDA=ORTEMP($P(ORX,",",2))
"RTN","ORATR",250,0)
 .I $E(ORDA,1)="+" S ORDA="+"_ORCNT_","_ORDA_","_ORIEN_",",ORCNT=ORCNT+1
"RTN","ORATR",251,0)
 .E  D
"RTN","ORATR",252,0)
 ..S ORDA(1)=$$FIND1^DIC(21695.212,","_ORDA_","_ORIEN_",","Q",ORDATA(8992.112,ORX,.01,"I"))
"RTN","ORATR",253,0)
 ..S:ORDA(1) ORDA=ORDA(1)_","_ORDA_","_ORIEN_","
"RTN","ORATR",254,0)
 ..S:'ORDA(1) ORDA="+"_ORCNT_","_ORDA_","_ORIEN_",",ORCNT=ORCNT+1
"RTN","ORATR",255,0)
 .D SETUP2(21695.212,8992.112,ORDA,ORX)
"RTN","ORATR",256,0)
 D UPDATE^DIE(,"ORFDA",,"ORERR")
"RTN","ORATR",257,0)
 Q
"RTN","ORATR",258,0)
 ;
"RTN","ORATR",259,0)
SETUP1(ORIEN) ; Set top level data
"RTN","ORATR",260,0)
 ; ORIEN - IEN in 21695.2
"RTN","ORATR",261,0)
 N ORDT,ORDUZ,ORERR,ORFDA,ORNA,ORDATA
"RTN","ORATR",262,0)
 D GETS^DIQ(8992.1,ORATIEN_",","*","I","ORDATA","ORERR")
"RTN","ORATR",263,0)
 S ORNA=$NA(ORFDA(21695.2,ORIEN_","))
"RTN","ORATR",264,0)
 S ORX=.01 F  S ORX=$O(ORDATA(8992.1,ORATIEN_",",ORX)) Q:'ORX  D
"RTN","ORATR",265,0)
 .Q:ORX=.08  S @ORNA@(ORX)=ORDATA(8992.1,ORATIEN_",",ORX,"I")
"RTN","ORATR",266,0)
 S ORDUZ=$$GET1^DIQ(8992.11,"1,"_ORATIEN_",",.01,"I",,"ORERR")
"RTN","ORATR",267,0)
 S ORDT=@ORNA@(.02)
"RTN","ORATR",268,0)
 S @ORNA@(.09)=ORATIEN
"RTN","ORATR",269,0)
 S:$G(ORNOT)'="" @ORNA@(.1)=ORNOT
"RTN","ORATR",270,0)
 I ORDUZ,ORDT D
"RTN","ORATR",271,0)
 .S @ORNA@(.11)=$$GET1^DIQ(8992.01,ORDT_","_ORDUZ,.1,"I",,"ORERR")
"RTN","ORATR",272,0)
 S:$G(ORLOC)'="" @ORNA@(.12)=ORLOC
"RTN","ORATR",273,0)
 S @ORNA@(1.05)=0
"RTN","ORATR",274,0)
 S @ORNA@(1.09)=$P($$GET1^DIQ(21695.2,ORIEN,.01),";",5)
"RTN","ORATR",275,0)
 D UPDATE^DIE(,"ORFDA",,"ORERR")
"RTN","ORATR",276,0)
 Q
"RTN","ORATR",277,0)
 ;
"RTN","ORATR",278,0)
SETUP2(ORNEW,OROLD,ORIENS,ORX) ;
"RTN","ORATR",279,0)
 N ORNA,ORY
"RTN","ORATR",280,0)
 S ORNA=$NA(ORFDA(ORNEW,ORIENS))
"RTN","ORATR",281,0)
 S ORY=0 F  S ORY=$O(ORDATA(OROLD,ORX,ORY)) Q:'ORY  D
"RTN","ORATR",282,0)
 .S @ORNA@(ORY)=ORDATA(OROLD,ORX,ORY,"I")
"RTN","ORATR",283,0)
 Q
"RTN","ORATR2")
0^9^B119831724
"RTN","ORATR2",1,0)
ORATR2 ; DSS/SMP/ASF - Abnormal Alert Utilities ; NOV 08, 2012
"RTN","ORATR2",2,0)
 ;;1.0;VENDOR - DOCUMENT STORAGE SYSTEMS;;7/17/2012;Build 18
"RTN","ORATR2",3,0)
 ;;;
"RTN","ORATR2",4,0)
 Q
"RTN","ORATR2",5,0)
 ;
"RTN","ORATR2",6,0)
 ; Documented API and ICRs
"RTN","ORATR2",7,0)
 ; -----------------------
"RTN","ORATR2",8,0)
 ; 1252      ^SDUTL3
"RTN","ORATR2",9,0)
 ; 2043      EN1^RAO7PC1
"RTN","ORATR2",10,0)
 ; 2051      FIND^DIC
"RTN","ORATR2",11,0)
 ; 2056      $$GET1^DIQ
"RTN","ORATR2",12,0)
 ; 2056      GETS^DIQ
"RTN","ORATR2",13,0)
 ; 2182      MAIN^PXRM
"RTN","ORATR2",14,0)
 ; 2263      ^XPAR
"RTN","ORATR2",15,0)
 ; 3315      UPDATE^DIE
"RTN","ORATR2",16,0)
 ; 10081     ^XQALERT    ACTION^XQALERT
"RTN","ORATR2",17,0)
 ; 10013     ^DIK
"RTN","ORATR2",18,0)
 ; 10103     ^XLFDT 
"RTN","ORATR2",19,0)
 ;
"RTN","ORATR2",20,0)
 ;=====================================================================
"RTN","ORATR2",21,0)
 ;         M A M M O G R A M   F O L L O W - U P   A L E R T S
"RTN","ORATR2",22,0)
 ;=====================================================================
"RTN","ORATR2",23,0)
1 ; Scheduled task that sends TAR alerts based on Clinical Reminders
"RTN","ORATR2",24,0)
 ;  Can be scheduled to run multiple times a day
"RTN","ORATR2",25,0)
 N DFN,ORNOT,PXRM,TYPE,ORIEN
"RTN","ORATR2",26,0)
 D PROCESS
"RTN","ORATR2",27,0)
 ;TFF - X-REF CHANGE FROM ^VFD(21695.5,"CR",(CLINICAL REMINDER)
"RTN","ORATR2",28,0)
 ; (ORNOT = OR NOTIFICATION) TO ^VFD(21695.5,"CR",ORNOT,(CLINICAL REMINDER)
"RTN","ORATR2",29,0)
 S ORNOT="" F  S ORNOT=$O(^VFD(21695.5,"AB",ORNOT)) Q:'ORNOT  D
"RTN","ORATR2",30,0)
 .S PXRM="" F  S PXRM=$O(^VFD(21695.5,"CR",ORNOT,PXRM)) Q:'PXRM  D
"RTN","ORATR2",31,0)
 ..S TYPE=$O(^VFD(21695.5,"CR",ORNOT,PXRM,""))
"RTN","ORATR2",32,0)
 ..Q:$$GET1^DIQ(21695.5,TYPE,.04,"I")
"RTN","ORATR2",33,0)
 ..D CHECKHF(PXRM,TYPE)
"RTN","ORATR2",34,0)
 Q
"RTN","ORATR2",35,0)
 ;
"RTN","ORATR2",36,0)
2 ; Scheduled task that runs once a day
"RTN","ORATR2",37,0)
 N DFN,ORNOT,PXRM,TYPE
"RTN","ORATR2",38,0)
 D PROCESS
"RTN","ORATR2",39,0)
 ;TFF - X-REF CHANGE FROM ^VFD(21695.5,"CR",(CLINICAL REMINDER)
"RTN","ORATR2",40,0)
 ; (ORNOT = OR NOTIFICATION) TO ^VFD(21695.5,"CR",ORNOT,(CLINICAL REMINDER)
"RTN","ORATR2",41,0)
 S ORNOT="" F  S ORNOT=$O(^VFD(21695.5,"AB",ORNOT)) Q:'ORNOT  D
"RTN","ORATR2",42,0)
 .S PXRM="" F  S PXRM=$O(^VFD(21695.5,"CR",ORNOT,PXRM)) Q:'PXRM  D
"RTN","ORATR2",43,0)
 ..S TYPE=$O(^VFD(21695.5,"CR",ORNOT,PXRM,""))
"RTN","ORATR2",44,0)
 ..Q:$$GET1^DIQ(21695.5,TYPE,.04,"I")
"RTN","ORATR2",45,0)
 ..S DFN=0 F  S DFN=$O(^DPT(DFN)) Q:'DFN  D
"RTN","ORATR2",46,0)
 ...Q:$$GET1^DIQ(2,DFN,.351,"I")
"RTN","ORATR2",47,0)
 ...K ^TMP("PXRHM",$J) D MAIN^PXRM(DFN,PXRM,0)
"RTN","ORATR2",48,0)
 ...I $D(^TMP("PXRHM",$J)) D SETUP(DFN,TYPE)
"RTN","ORATR2",49,0)
 K ^TMP("PXRHM",$J)
"RTN","ORATR2",50,0)
 Q
"RTN","ORATR2",51,0)
 ;
"RTN","ORATR2",52,0)
PROCESS ; Check current notificaitons
"RTN","ORATR2",53,0)
 N ORIEN
"RTN","ORATR2",54,0)
 S ORIEN=0 F  S ORIEN=$O(^VFD(21695.2,ORIEN)) Q:'ORIEN  D
"RTN","ORATR2",55,0)
 .D CLEANHF(ORIEN)
"RTN","ORATR2",56,0)
 .N ORPROC S ORPROC=$$GET1^DIQ(21695.2,ORIEN,1.05,"I")
"RTN","ORATR2",57,0)
 .I ORPROC=0 D CHECKDUE(ORIEN)
"RTN","ORATR2",58,0)
 .I ORPROC=1 D FOLLOWUP(ORIEN)
"RTN","ORATR2",59,0)
 .I ORPROC=3 D PURGE(ORIEN)
"RTN","ORATR2",60,0)
 Q
"RTN","ORATR2",61,0)
 ;
"RTN","ORATR2",62,0)
CHECKDUE(ORIEN) ;
"RTN","ORATR2",63,0)
 N ORDT,TODAY S TODAY=$$DT^XLFDT
"RTN","ORATR2",64,0)
 Q:$$GET1^DIQ(21695.2,ORIEN,1.05,"I")'=0
"RTN","ORATR2",65,0)
 S ORDT=$$GET1^DIQ(21695.2,ORIEN,.02,"I")
"RTN","ORATR2",66,0)
 I ORDT<$$FMADD^XLFDT(TODAY,$$GETDAYS) D SENDUP(ORIEN)
"RTN","ORATR2",67,0)
 Q
"RTN","ORATR2",68,0)
 ;
"RTN","ORATR2",69,0)
CHECKHF(PXRM,TYPE) ; 
"RTN","ORATR2",70,0)
 N DFN,HF,HFIEN,PATS
"RTN","ORATR2",71,0)
 ;^PXRMINDX(9000010.23,"IP",HF,DFN)
"RTN","ORATR2",72,0)
 D CHECKHF1
"RTN","ORATR2",73,0)
 S HFIEN="" F  S HFIEN=$O(HF(HFIEN)) Q:'HFIEN  D
"RTN","ORATR2",74,0)
 .S DFN="" F  S DFN=$O(^PXRMINDX(9000010.23,"IP",HFIEN,DFN)) Q:'DFN  D
"RTN","ORATR2",75,0)
 ..S PATS(DFN)=""
"RTN","ORATR2",76,0)
 S DFN=0 F  S DFN=$O(PATS(DFN)) Q:'DFN  D
"RTN","ORATR2",77,0)
 .K ^TMP("PXRHM",$J) D MAIN^PXRM(DFN,PXRM,0)
"RTN","ORATR2",78,0)
 .I $D(^TMP("PXRHM",$J)) D SETUP(DFN,TYPE)
"RTN","ORATR2",79,0)
 K ^TMP("PXRHM",$J)
"RTN","ORATR2",80,0)
 Q
"RTN","ORATR2",81,0)
 ;
"RTN","ORATR2",82,0)
CHECKHF1 ;
"RTN","ORATR2",83,0)
 N REM,TERM,DATA,ORDATA,ORX,ORY
"RTN","ORATR2",84,0)
 D GETS^DIQ(811.9,PXRM_",","20*","I","DATA")
"RTN","ORATR2",85,0)
 S ORX="" F  S ORX=$O(DATA(811.902,ORX)) Q:'ORX  D
"RTN","ORATR2",86,0)
 .S TERM=$G(DATA(811.902,ORX,.01,"I"))
"RTN","ORATR2",87,0)
 .I TERM["AUTTHF(" S HF(+TERM)="" Q
"RTN","ORATR2",88,0)
 .I TERM["PXRMD(811.5" D
"RTN","ORATR2",89,0)
 ..K ORDATA D GETS^DIQ(811.5,+TERM_",","20*","I","ORDATA")
"RTN","ORATR2",90,0)
 ..S ORY="" F  S ORY=$O(ORDATA(811.52,ORY)) Q:'ORY  D
"RTN","ORATR2",91,0)
 ...S TERM=$G(ORDATA(811.52,ORY,.01,"I"))
"RTN","ORATR2",92,0)
 ...I TERM["AUTTHF(" S HF(+TERM)="" Q
"RTN","ORATR2",93,0)
 Q
"RTN","ORATR2",94,0)
 ;
"RTN","ORATR2",95,0)
CHKSENT() ;
"RTN","ORATR2",96,0)
 N IEN,SENT S SENT=0
"RTN","ORATR2",97,0)
 S IEN=0 F  S IEN=$O(^VFD(21695.2,"C",PAT,IEN)) Q:'IEN  D  Q:SENT
"RTN","ORATR2",98,0)
 .S PROV=0 F  S PROV=$O(RECIP(PROV)) Q:'PROV  D
"RTN","ORATR2",99,0)
 ..Q:'$D(^VFD(21695.2,"R",PROV,IEN))
"RTN","ORATR2",100,0)
 ..I $P($$GET1^DIQ(21695.2,IEN,.01),";",5)'=TYPE Q
"RTN","ORATR2",101,0)
 ..S SENT=IEN_U_$$GET1^DIQ(21695.2,IEN,.02,"I")
"RTN","ORATR2",102,0)
 Q SENT
"RTN","ORATR2",103,0)
 ;
"RTN","ORATR2",104,0)
CLEANHF(TARIEN) ; Clean up Health Factor multiple
"RTN","ORATR2",105,0)
 N ORDATA,ORX,ORERR,ORFDA,NEWHF,ORY,VST,VHF
"RTN","ORATR2",106,0)
 D GETS^DIQ(21695.2,TARIEN_",","6*","I","ORDATA","ORERR")
"RTN","ORATR2",107,0)
 S ORX="" F  S ORX=$O(ORDATA(21695.26,ORX)) Q:'ORX  D
"RTN","ORATR2",108,0)
 .S VHF=$G(ORDATA(21695.26,ORX,.01,"I"))
"RTN","ORATR2",109,0)
 .I $D(^AUPNVHF(VHF)) S VST=$$GET1^DIQ(9000010.23,VHF,.03,"I")  D
"RTN","ORATR2",110,0)
 ..S ORY=0 F  S ORY=$O(^AUPNVHF("AD",VST,ORY)) Q:'ORY  D
"RTN","ORATR2",111,0)
 ...I '$D(^VFD(21695.2,TARIEN,6,"B",ORY)) S NEWHF(ORY)=""
"RTN","ORATR2",112,0)
 .I '$D(^AUPNVHF(VHF)) D CLEANHF1(ORX)
"RTN","ORATR2",113,0)
 Q:'$D(NEWHF)
"RTN","ORATR2",114,0)
 S ORX="" F ORY=1:1 S ORX=$O(NEWHF(ORX)) Q:'ORX  D
"RTN","ORATR2",115,0)
 .S ORFDA(21695.26,"+"_ORY_","_TARIEN_",",.01)=ORX
"RTN","ORATR2",116,0)
 L +^VFD(21695.2,TARIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",117,0)
 D UPDATE^DIE(,"ORFDA",,"ORERR")
"RTN","ORATR2",118,0)
 L -^VFD(21695.2,TARIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",119,0)
 Q
"RTN","ORATR2",120,0)
 ;
"RTN","ORATR2",121,0)
CLEANHF1(IENS) ;
"RTN","ORATR2",122,0)
 N ORFDA,ORERR Q:'IENS
"RTN","ORATR2",123,0)
 S ORFDA(21695.26,IENS,.04)=1
"RTN","ORATR2",124,0)
 L +^VFD(21695.2,TARIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",125,0)
 D UPDATE^DIE(,"ORFDA",,"ORERR")
"RTN","ORATR2",126,0)
 L -^VFD(21695.2,TARIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",127,0)
 Q
"RTN","ORATR2",128,0)
 ;
"RTN","ORATR2",129,0)
FOLLOWUP(TARIEN) ; Get follow-up orders based on health factors
"RTN","ORATR2",130,0)
 N CNT,DATE,HF,HFNM,NA,ORERR,ORFDA,ORIEN,PAT,VST
"RTN","ORATR2",131,0)
 S CNT=1,TARIEN=+$G(TARIEN)
"RTN","ORATR2",132,0)
 Q:'TARIEN!($$GET1^DIQ(21695.2,TARIEN,1.05,"I",,"ORERR")'=1)
"RTN","ORATR2",133,0)
 S PAT=$$GET1^DIQ(21695.2,TARIEN,.04,"I") Q:'PAT
"RTN","ORATR2",134,0)
 S HF="" F  S HF=$O(^VFD(21695.2,TARIEN,6,"B",HF)) Q:'HF  D
"RTN","ORATR2",135,0)
 .S HFNM=$$GET1^DIQ(9000010.23,HF,.01) Q:HFNM["PT CONTACT"
"RTN","ORATR2",136,0)
 .S VST=$$GET1^DIQ(9000010,$$GET1^DIQ(9000010.23,HF,.03,"I"),.01,"I")
"RTN","ORATR2",137,0)
 .S:VST DATE(VST)=""
"RTN","ORATR2",138,0)
 Q:'$D(DATE)
"RTN","ORATR2",139,0)
 S DATE=9999999-$P($O(DATE("")),"."),NA=$NA(^OR(100,"ACT",PAT_";DPT("))
"RTN","ORATR2",140,0)
 F  S NA=$Q(@NA) Q:$QS(NA,3)'[PAT!($QS(NA,4)>DATE)  D
"RTN","ORATR2",141,0)
 .S ORIEN=$QS(NA,6),ORIEN(1)=$QS(NA,7)
"RTN","ORATR2",142,0)
 .Q:$$GET1^DIQ(100.008,ORIEN(1)_","_ORIEN_",",2)'="NEW"
"RTN","ORATR2",143,0)
 .Q:$D(^VFD(21695.2,TARIEN,5,"B",ORIEN))
"RTN","ORATR2",144,0)
 .S ORFDA(21695.25,"+"_CNT_","_TARIEN_",",.01)=ORIEN,CNT=CNT+1
"RTN","ORATR2",145,0)
 I $D(ORFDA) D
"RTN","ORATR2",146,0)
 .L +^VFD(21695.2,TARIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",147,0)
 .D UPDATE^DIE("U","ORFDA",,"ORERR")
"RTN","ORATR2",148,0)
 .L -^VFD(21695.2,TARIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",149,0)
 Q
"RTN","ORATR2",150,0)
 ;
"RTN","ORATR2",151,0)
GETDATE(DFN,PXRM) ; 
"RTN","ORATR2",152,0)
 N X,DATE,FIND,SORT,RET S RET=0
"RTN","ORATR2",153,0)
 D FIDATA^PXRM(DFN,PXRM,.FIND)
"RTN","ORATR2",154,0)
 S X=0 F  S X=$O(FIND(X)) Q:'X  D
"RTN","ORATR2",155,0)
 .Q:$G(FIND(X,"TERM"))'["ORDER"
"RTN","ORATR2",156,0)
 .S DATE=$G(FIND(X,"DATE")) Q:'DATE
"RTN","ORATR2",157,0)
 .S SORT(9999999-DATE)=DATE
"RTN","ORATR2",158,0)
 I $D(SORT) S X=$O(SORT(X)),RET=SORT(X)
"RTN","ORATR2",159,0)
 Q RET
"RTN","ORATR2",160,0)
 ;
"RTN","ORATR2",161,0)
GETDAYS() ;
"RTN","ORATR2",162,0)
 N ORX
"RTN","ORATR2",163,0)
 D GETLST^XPAR(.ORX,"SYS","ORATR DAYS TO ROLL-UP","I")
"RTN","ORATR2",164,0)
 Q $S(ORX:-ORX(1),1:-14) ; Defaults to 14 days
"RTN","ORATR2",165,0)
 ;
"RTN","ORATR2",166,0)
GETORD(PAT) ;
"RTN","ORATR2",167,0)
 N ORATIEN,ORDER,ORIEN,ORNOT,TARIEN
"RTN","ORATR2",168,0)
 S TARIEN="" F  S TARIEN=$O(^VFD(21695.2,"C",PAT,TARIEN)) Q:'TARIEN  D
"RTN","ORATR2",169,0)
 .S ORIEN=$$GET1^DIQ(21695.2,TARIEN,2)
"RTN","ORATR2",170,0)
 .I ORIEN["~" D
"RTN","ORATR2",171,0)
 ..S ORIEN=+$$GETORDER^ORATR(PAT,$TR(ORIEN,"~","-"))
"RTN","ORATR2",172,0)
 ..S:ORIEN=-1 ORIEN=""
"RTN","ORATR2",173,0)
 .I ORIEN S ORDER=+ORIEN
"RTN","ORATR2",174,0)
 Q $G(ORDER)
"RTN","ORATR2",175,0)
 ;
"RTN","ORATR2",176,0)
GETRAD(PAT,TODAY) ; Get info on last mammogram screening
"RTN","ORATR2",177,0)
 N X,RET S RET=""
"RTN","ORATR2",178,0)
 K ^TMP($J,"RAE1")
"RTN","ORATR2",179,0)
 D EN1^RAO7PC1(PAT,$$FMADD^XLFDT(TODAY,-60),TODAY,10)
"RTN","ORATR2",180,0)
 S X="" F  S X=$O(^TMP($J,"RAE1",PAT,X)) Q:X=""  D  Q:RET'=""
"RTN","ORATR2",181,0)
 .Q:$P(^TMP($J,"RAE1",PAT,X),U)'="MAMMOGRAM SCREEENING"
"RTN","ORATR2",182,0)
 .S RET=X,ORD=$P(^TMP($J,"RAE1",PAT,X),U,11)
"RTN","ORATR2",183,0)
 .I +$$GET1^DIQ(100,ORD,.02,"I")'=PAT K ORD
"RTN","ORATR2",184,0)
 K ^TMP($J,"RAE1")
"RTN","ORATR2",185,0)
 Q $TR(RET,"-","~")
"RTN","ORATR2",186,0)
 ;
"RTN","ORATR2",187,0)
GETRECIP(DFN,TYPE) ;
"RTN","ORATR2",188,0)
 ; P (Primary Provider): deliver notification to 
"RTN","ORATR2",189,0)
 ; the patient's Primary Provider.  
"RTN","ORATR2",190,0)
 ; 
"RTN","ORATR2",191,0)
 ; A (Attending Physician): deliver notification
"RTN","ORATR2",192,0)
 ; to the patient's Attending Physician.  
"RTN","ORATR2",193,0)
 ; 
"RTN","ORATR2",194,0)
 ; T (Patient Care Team): deliver notification to
"RTN","ORATR2",195,0)
 ; the patient's  primary care Team.  
"RTN","ORATR2",196,0)
 ; 
"RTN","ORATR2",197,0)
 ; M (PCMM Team): deliver notification to
"RTN","ORATR2",198,0)
 ; users/providers linked to the patient via PCMM
"RTN","ORATR2",199,0)
 ; Team Position assignments.  
"RTN","ORATR2",200,0)
 ; 
"RTN","ORATR2",201,0)
 ; E (Encounter Provider): deliver notification to
"RTN","ORATR2",202,0)
 ; the encounter provider who is associated with
"RTN","ORATR2",203,0)
 ; the health factors generating this notification.
"RTN","ORATR2",204,0)
 ; 
"RTN","ORATR2",205,0)
 ; R (PCMM Primary Care Practitioner): deliver
"RTN","ORATR2",206,0)
 ; notification to the patient's PCMM Primary Care
"RTN","ORATR2",207,0)
 ; Practitioner.  
"RTN","ORATR2",208,0)
 ; 
"RTN","ORATR2",209,0)
 ; S (PCMM Associate Provider): deliver
"RTN","ORATR2",210,0)
 ; notification to the patient's PCMM Associate
"RTN","ORATR2",211,0)
 ; Provider.
"RTN","ORATR2",212,0)
 ;
"RTN","ORATR2",213,0)
 S RECIP=$$GET1^DIQ(21695.5,TYPE,.05)
"RTN","ORATR2",214,0)
 I RECIP["P" D P
"RTN","ORATR2",215,0)
 I RECIP["A" D A
"RTN","ORATR2",216,0)
 I RECIP["T" D T
"RTN","ORATR2",217,0)
 I RECIP["E" D E
"RTN","ORATR2",218,0)
 I RECIP["R" D R
"RTN","ORATR2",219,0)
 I RECIP["S" D S
"RTN","ORATR2",220,0)
 I RECIP["M" D M
"RTN","ORATR2",221,0)
 Q
"RTN","ORATR2",222,0)
 ;
"RTN","ORATR2",223,0)
PURGE(ORIEN) ; Purge transmitted notifications out of file 21695.2
"RTN","ORATR2",224,0)
 ; Only purge notifications that were marked "TRANSMITTED" after
"RTN","ORATR2",225,0)
 ; a specified period of time
"RTN","ORATR2",226,0)
 N ORDT,ORDAYS,ORX,TODAY S TODAY=$$DT^XLFDT
"RTN","ORATR2",227,0)
 Q:$$GET1^DIQ(21695.2,ORIEN,1.05,"I")'=3
"RTN","ORATR2",228,0)
 D GETLST^XPAR(.ORX,"SYS","ORATR DAYS TO PURGE","I")
"RTN","ORATR2",229,0)
 S ORDAYS=$S(ORX:-ORX(1),1:-30) ; Defaults to 30 days
"RTN","ORATR2",230,0)
 S ORDT=$$GET1^DIQ(21695.2,ORIEN,1.06,"I")
"RTN","ORATR2",231,0)
 I ORDT<$$FMADD^XLFDT(TODAY,ORDAYS) D
"RTN","ORATR2",232,0)
 .N DA,DIK S DA=ORIEN,DIK="^VFD(21695.2," D ^DIK
"RTN","ORATR2",233,0)
 Q
"RTN","ORATR2",234,0)
 ;
"RTN","ORATR2",235,0)
ROLLDUP(IEN,KEY) ;
"RTN","ORATR2",236,0)
 N ORX,DATA,ERR,NM,RET S RET=0
"RTN","ORATR2",237,0)
 D GETS^DIQ(21695.2,IEN_",","20*",,"DATA","ERR")
"RTN","ORATR2",238,0)
 S ORX="" F  S ORX=$O(DATA(21695.21,ORX)) Q:ORX=""  D
"RTN","ORATR2",239,0)
 .S NM=$G(DATA(21695.21,ORX,.01))
"RTN","ORATR2",240,0)
 .I $D(^VA(200,KEY,NM)) S RET=1
"RTN","ORATR2",241,0)
 Q RET
"RTN","ORATR2",242,0)
 ;
"RTN","ORATR2",243,0)
SEND(PAT,RECIP,TYPE,DATA) ;
"RTN","ORATR2",244,0)
 N NAME,NEWIEN,NOW,ORFDA,ORLOC,ORNA,SENT,TEXT,TODAY,ORX,ORCNT
"RTN","ORATR2",245,0)
 S SENT=$$CHKSENT,TODAY=$$DT^XLFDT
"RTN","ORATR2",246,0)
 I SENT D  Q
"RTN","ORATR2",247,0)
 .I $P(SENT,U,2)<$$FMADD^XLFDT(TODAY,$$GETDAYS) D SENDUP(+SENT)
"RTN","ORATR2",248,0)
 S NOW=$$NOW^XLFDT
"RTN","ORATR2",249,0)
 S NAME="ATR,"_PAT_",;10000;"_PAT_";"_NOW_";"_TYPE_";"
"RTN","ORATR2",250,0)
 I $G(ORD)'="" S NAME=NAME_$$GET1^DIQ(100,ORD,4,"I")
"RTN","ORATR2",251,0)
 I $G(ORD)=""  S NAME=NAME_+$G(DATE)
"RTN","ORATR2",252,0)
 S TEXT=$$GET1^DIQ(21695.5,TYPE,3),ORNA=$NA(ORFDA(21695.2,"+1,"))
"RTN","ORATR2",253,0)
 S @ORNA@(.01)=NAME,@ORNA@(.02)=NOW,@ORNA@(.04)=PAT
"RTN","ORATR2",254,0)
 S @ORNA@(1.01)=TEXT,@ORNA@(1.05)=0,@ORNA@(1.09)=TYPE
"RTN","ORATR2",255,0)
 I $G(ORD)'="" S ORLOC=+$$GET1^DIQ(100,ORD,6,"I",,"ORERR") D
"RTN","ORATR2",256,0)
 .I ORLOC S @ORNA@(.12)=+ORLOC
"RTN","ORATR2",257,0)
 I $G(DATA)'="" S @ORNA@(2)=DATA
"RTN","ORATR2",258,0)
 E  S:$G(ORD)'="" @ORNA@(2)=ORD_"@OR"
"RTN","ORATR2",259,0)
 S ORX=0,ORCNT=2 F  S ORX=$O(RECIP(ORX)) Q:'ORX  D
"RTN","ORATR2",260,0)
 .S ORFDA(21695.21,"+"_ORCNT_",+1,",.01)=ORX
"RTN","ORATR2",261,0)
 .S ORFDA(21695.211,"+"_(ORCNT+1)_",+"_ORCNT_",+1,",.01)=1
"RTN","ORATR2",262,0)
 .S ORCNT=ORCNT+2
"RTN","ORATR2",263,0)
 D UPDATE^DIE("U","ORFDA","NEWIEN")
"RTN","ORATR2",264,0)
 Q
"RTN","ORATR2",265,0)
 ;
"RTN","ORATR2",266,0)
SENDUP(ATRIEN) ; Send this alert to the holder of the key
"RTN","ORATR2",267,0)
 N I,RECIP,KEY,ORFDA,ORERR
"RTN","ORATR2",268,0)
 Q:$$GET1^DIQ(21695.2,ATRIEN,1.05,"I")>1
"RTN","ORATR2",269,0)
 S KEY="AK.ORATRC",RECIP=$NA(^VA(200,KEY))
"RTN","ORATR2",270,0)
 Q:$$ROLLDUP(ATRIEN,KEY)
"RTN","ORATR2",271,0)
 F I=1:1 S RECIP=$Q(@RECIP) Q:$QS(RECIP,2)'=KEY  D
"RTN","ORATR2",272,0)
 .N IENS S IENS="+"_I_","_ATRIEN_","
"RTN","ORATR2",273,0)
 .S ORFDA(21695.21,IENS,.01)=$QS(RECIP,4)
"RTN","ORATR2",274,0)
 .S I=I+1,ORFDA(21695.211,"+"_I_","_IENS,.01)=1
"RTN","ORATR2",275,0)
 L +^VFD(21695.2,ATRIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",276,0)
 D UPDATE^DIE(,"ORFDA",,"ORERR")
"RTN","ORATR2",277,0)
 L -^VFD(21695.2,ATRIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATR2",278,0)
 Q
"RTN","ORATR2",279,0)
 ;
"RTN","ORATR2",280,0)
SETUP(DFN,TYPE) ;
"RTN","ORATR2",281,0)
 N DATA,PROV,ORD,DATE,RECIP,ORX
"RTN","ORATR2",282,0)
 I $$GET1^DIQ(21695.5,TYPE,.01)["PATIENT NOTIFICATION" D
"RTN","ORATR2",283,0)
 .S DATA=$$GETRAD(DFN,$$DT^XLFDT)
"RTN","ORATR2",284,0)
 I '$D(ORD) S ORD=$$GETORD(DFN)
"RTN","ORATR2",285,0)
 D GETRECIP(DFN,TYPE)
"RTN","ORATR2",286,0)
 I $D(RECIP)'>1 D
"RTN","ORATR2",287,0)
 .S ORX=$NA(^VA(200,"AK.ORATRC"))
"RTN","ORATR2",288,0)
 .F  S ORX=$Q(@ORX) Q:$QS(ORX,2)'="AK.ORATRC"  D
"RTN","ORATR2",289,0)
 ..S RECIP($QS(ORX,4))=""
"RTN","ORATR2",290,0)
 I $G(ORD)="" S DATE=$$GETDATE(DFN,PXRM)
"RTN","ORATR2",291,0)
 D SEND(DFN,.RECIP,TYPE,$G(DATA))
"RTN","ORATR2",292,0)
 Q
"RTN","ORATR2",293,0)
 ;
"RTN","ORATR2",294,0)
 ;=====================================================================
"RTN","ORATR2",295,0)
 ;                R E C I P I E N T   U T I L I T I E S
"RTN","ORATR2",296,0)
 ;=====================================================================
"RTN","ORATR2",297,0)
A ; Attending Physician
"RTN","ORATR2",298,0)
 N ORX,VAIN,VADM
"RTN","ORATR2",299,0)
 D OERR^VADPT
"RTN","ORATR2",300,0)
 S ORX=+$P(VAIN(11),U) I ORX S RECIP(ORX)=""
"RTN","ORATR2",301,0)
 Q
"RTN","ORATR2",302,0)
 ;
"RTN","ORATR2",303,0)
E ; Encounter Provider
"RTN","ORATR2",304,0)
 N DEFARR,FIEVAL,ORX,PROV,VHF
"RTN","ORATR2",305,0)
 D DEF^PXRMLDR(PXRM,.DEFARR)
"RTN","ORATR2",306,0)
 D EVAL^PXRM(DFN,.DEFARR,0,1,.FIEVAL)
"RTN","ORATR2",307,0)
 S ORX=0 F  S ORX=$O(FIEVAL(ORX)) Q:'ORX  D
"RTN","ORATR2",308,0)
 .Q:'$G(FIEVAL(ORX))!($G(FIEVAL(ORX,"FILE NUMBER"))'=9000010.23)
"RTN","ORATR2",309,0)
 .S VHF=$G(FIEVAL(ORX,"DAS")) Q:'VHF
"RTN","ORATR2",310,0)
 .S PROV=$$GET1^DIQ(9000010.23,VHF,1204,"I") S:PROV RECIP(PROV)=""
"RTN","ORATR2",311,0)
 Q
"RTN","ORATR2",312,0)
 ;
"RTN","ORATR2",313,0)
M ; PCMM Team
"RTN","ORATR2",314,0)
 N ORPCMM,ORX,ORLST,ORERR,ORTM K ^TMP("ORPCMM",$J)
"RTN","ORATR2",315,0)
 S ORPCMM=$$PRPT^SCAPMC(DFN,,,,,,"^TMP(""ORPCMM"",$J)",)  ;DBIA #1916
"RTN","ORATR2",316,0)
 S ORX=0 F  S ORX=$O(^TMP("ORPCMM",$J,"SCPR",ORX)) Q:'ORX  D
"RTN","ORATR2",317,0)
 .S RECIP(ORX)=""
"RTN","ORATR2",318,0)
 K ^TMP("ORPCMM",$J)
"RTN","ORATR2",319,0)
 ;
"RTN","ORATR2",320,0)
 S ORPCMM=$$TMPT^SCAPMC(DFN,,,"ORLST","ORERR")
"RTN","ORATR2",321,0)
 S ORTM=0 F  S ORTM=$O(ORLST(ORTM)) Q:'ORTM  D
"RTN","ORATR2",322,0)
 .N ORPROV S ORPROV=$$PRTM^SCAPMC(+ORLST(ORTM),,,,"ORPROV","ORERR")
"RTN","ORATR2",323,0)
 .S ORX=0 F  S ORX=$O(ORPROV("SCPR",ORX)) Q:'ORX  D
"RTN","ORATR2",324,0)
 ..S RECIP(ORX)=""
"RTN","ORATR2",325,0)
 Q
"RTN","ORATR2",326,0)
 ;
"RTN","ORATR2",327,0)
P ; Primary Provider
"RTN","ORATR2",328,0)
 N ORX,VAIN,VADM
"RTN","ORATR2",329,0)
 D OERR^VADPT
"RTN","ORATR2",330,0)
 S ORX=+$P(VAIN(2),U) I ORX S RECIP(ORX)=""
"RTN","ORATR2",331,0)
 Q
"RTN","ORATR2",332,0)
 ;
"RTN","ORATR2",333,0)
R ; PCMM Primary Care Practitioner
"RTN","ORATR2",334,0)
 N ORX
"RTN","ORATR2",335,0)
 S ORX=+$$OUTPTPR^SDUTL3(DFN,$$NOW^XLFDT,1)
"RTN","ORATR2",336,0)
 I ORX S RECIP(ORX)=""
"RTN","ORATR2",337,0)
 Q
"RTN","ORATR2",338,0)
 ;
"RTN","ORATR2",339,0)
S ; PCMM Associate Provider
"RTN","ORATR2",340,0)
 N ORX
"RTN","ORATR2",341,0)
 S ORX=+$$OUTPTAP^SDUTL3(DFN,$$NOW^XLFDT)
"RTN","ORATR2",342,0)
 I ORX S RECIP(ORX)=""
"RTN","ORATR2",343,0)
 Q
"RTN","ORATR2",344,0)
 ;
"RTN","ORATR2",345,0)
T ; Patient Care Team
"RTN","ORATR2",346,0)
 N ORLST,ORX
"RTN","ORATR2",347,0)
 D TMSPT^ORQPTQ1(.ORLST,DFN)
"RTN","ORATR2",348,0)
 S ORX=0 F  S ORX=$O(ORLST(ORX)) Q:'ORX  D
"RTN","ORATR2",349,0)
 .N ORTM,ORLST2 S ORTM=+ORLST(ORX) Q:'ORTM
"RTN","ORATR2",350,0)
 .D TEAMPROV^ORQPTQ1(.ORLST2,ORTM)
"RTN","ORATR2",351,0)
 .S ORY=0 F  S ORY=$O(ORLST2(ORY)) Q:'ORY  D
"RTN","ORATR2",352,0)
 ..I +ORLST2(ORY) S RECIP(+ORLST2(ORY))=""
"RTN","ORATR2",353,0)
 Q
"RTN","ORATR2",354,0)
 ;
"RTN","ORATR2",355,0)
TEST ;
"RTN","ORATR2",356,0)
 N OR S OR=0 F  S OR=$O(^VFD(21695.5,"AB",OR)) Q:'OR  D
"RTN","ORATR2",357,0)
 .N NA,ORIEN S NA=$NA(^XTV(8992.1,"PKGID","OR,"_OR)) Q:'$D(@NA)
"RTN","ORATR2",358,0)
 .S ORIEN=0 F  S ORIEN=$O(@NA@(ORIEN)) Q:'ORIEN  D
"RTN","ORATR2",359,0)
 ..Q:$$COMPLETE(ORIEN)  D TRANSFER^ORATR(ORIEN)
"RTN","ORATR2",360,0)
 Q
"RTN","ORATR2",361,0)
 ;
"RTN","ORATR2",362,0)
COMPLETE(ORIEN) ;
"RTN","ORATR2",363,0)
 N DATA,ORERR,FLAG,ORX S FLAG=0
"RTN","ORATR2",364,0)
 D GETS^DIQ(8992.1,ORIEN_",","20*",,"DATA","ORERR")
"RTN","ORATR2",365,0)
 S ORX="" F  S ORX=$O(DATA(8992.11,ORX)) Q:ORX=""  D
"RTN","ORATR2",366,0)
 .I $G(DATA(8992.11,ORX,.04))'="" S FLAG=1
"RTN","ORATR2",367,0)
 Q FLAG
"RTN","ORATR2",368,0)
 ;
"RTN","ORATRPC")
0^10^B64999387
"RTN","ORATRPC",1,0)
ORATRPC ; DSS/SMP - Abnormal Alert RPCs ; AUG 17, 2012
"RTN","ORATRPC",2,0)
 ;;1.0;VENDOR - DOCUMENT STORAGE SYSTEMS;;7/17/2012;Build 18
"RTN","ORATRPC",3,0)
 Q
"RTN","ORATRPC",4,0)
 ;
"RTN","ORATRPC",5,0)
 ; Documented API and ICRs
"RTN","ORATRPC",6,0)
 ; -----------------------
"RTN","ORATRPC",7,0)
 ; 2056      $$GET1^DIQ
"RTN","ORATRPC",8,0)
 ; 2056      GETS^DIQ
"RTN","ORATRPC",9,0)
 ; 10103     $$FMTE^XLFDT
"RTN","ORATRPC",10,0)
 ; XXXXX     $$NODEDATA^TIUSRVT
"RTN","ORATRPC",11,0)
 ;
"RTN","ORATRPC",12,0)
 ; Return Array Format For PAT and PROV
"RTN","ORATRPC",13,0)
 ;  ^ Piece
"RTN","ORATRPC",14,0)
 ;  1 - Info Flag
"RTN","ORATRPC",15,0)
 ;  2 - Patient Name ABC,PATIE (A4321)
"RTN","ORATRPC",16,0)
 ;  3 - Patient Location
"RTN","ORATRPC",17,0)
 ;  4 - Alert Urgency Level (HIGH, Moderate, low)
"RTN","ORATRPC",18,0)
 ;  5 - Alert Date/Time
"RTN","ORATRPC",19,0)
 ;  6 - Alert Message
"RTN","ORATRPC",20,0)
 ;  7 - Forwarded By/When
"RTN","ORATRPC",21,0)
 ;  8 - XQAID
"RTN","ORATRPC",22,0)
 ;  9 - null
"RTN","ORATRPC",23,0)
 ; 10 - Remove w/o Processing Flag
"RTN","ORATRPC",24,0)
 ; 11 - Forwarding Comments (if applicable)
"RTN","ORATRPC",25,0)
 ; 12 - Pointer to the Order File (#100)
"RTN","ORATRPC",26,0)
 ; 13 - Processing Level
"RTN","ORATRPC",27,0)
 ;
"RTN","ORATRPC",28,0)
 ; Return Array Example
"RTN","ORATRPC",29,0)
 ; RET(1)="^BHYHGDST  (B1022)^^HIGH^06/06/2012@10:15^BCCCR.^^ATR;10000;155^^"
"RTN","ORATRPC",30,0)
 ;
"RTN","ORATRPC",31,0)
PAT() ; RPC - ORATR PATIENT
"RTN","ORATRPC",32,0)
 N ORX,ORNA,ORCNT S ORCNT=1
"RTN","ORATRPC",33,0)
 S ORNA=$NA(^VFD(21695.2,"C",ORDFN)) Q:'$D(@ORNA) 0
"RTN","ORATRPC",34,0)
 S ORX=0 F  S ORX=$O(@ORNA@(ORX)) Q:'ORX  D
"RTN","ORATRPC",35,0)
 .N ORY D GETINFO(ORX) D:$G(ORY)'="" ADD(ORY)
"RTN","ORATRPC",36,0)
 Q 1
"RTN","ORATRPC",37,0)
 ;
"RTN","ORATRPC",38,0)
PROV() ; RPC - ORATR PROVIDER
"RTN","ORATRPC",39,0)
 N ORX,ORX2,ORNA,ORCNT S ORCNT=1
"RTN","ORATRPC",40,0)
 S ORNA=$NA(^VFD(21695.2,"R",ORUSR)) Q:'$D(@ORNA) 0
"RTN","ORATRPC",41,0)
 S ORX=0 F  S ORX=$O(@ORNA@(ORX)) Q:'ORX  D
"RTN","ORATRPC",42,0)
 .S ORX2=0 F  S ORX2=$O(@ORNA@(ORX,ORX2)) Q:'ORX2  D
"RTN","ORATRPC",43,0)
 ..N ORY D GETINFO(ORX,ORX2,1) D:$G(ORY)'="" ADD(ORY)
"RTN","ORATRPC",44,0)
 Q 1
"RTN","ORATRPC",45,0)
 ;
"RTN","ORATRPC",46,0)
NOTE() ; RPC - ORATR GET NOTE
"RTN","ORATRPC",47,0)
 N ORX,ORFLDS,ORIENS,ORDATA,ORERR,ORNA
"RTN","ORATRPC",48,0)
 Q:'$D(^VFD(21695.5,ORNOTE)) -1
"RTN","ORATRPC",49,0)
 S ORIENS=ORNOTE_",",ORFLDS=".02;.03"
"RTN","ORATRPC",50,0)
 D GETS^DIQ(21695.5,ORIENS,ORFLDS,"IE","ORDATA","ORERR")
"RTN","ORATRPC",51,0)
 Q:$D(ORERR) -1  S ORNA=$NA(ORDATA(21695.5,ORIENS))
"RTN","ORATRPC",52,0)
 S ORRET=$G(@ORNA@(.03,"I"))_U_$G(@ORNA@(.03,"E"))_U_$G(@ORNA@(.02,"I"))
"RTN","ORATRPC",53,0)
 Q 1
"RTN","ORATRPC",54,0)
 ;
"RTN","ORATRPC",55,0)
TEMPLATE() ; RPC - ORATR GET TIU TEMPLATE
"RTN","ORATRPC",56,0)
 ;TFF - GET THE TEMPLATE WITH THE PASSING IN OF THE TIU TEMPLATE IEN?
"RTN","ORATRPC",57,0)
 N ORX Q:'ORRDIEN 0
"RTN","ORATRPC",58,0)
 ;Q:'$D(^PXRMD(801.41,ORRDIEN)) 0
"RTN","ORATRPC",59,0)
 ;S ORX=0 F  S ORX=$O(^TIU(8927,ORX)) Q:'ORX  D  ;Q:$D(ORRET)
"RTN","ORATRPC",60,0)
 ;.Q:$P(^TIU(8927,ORX,0),U,15)'=ORRDIEN
"RTN","ORATRPC",61,0)
 ;.S ORRET=$$NODEDATA^TIUSRVT(ORX)
"RTN","ORATRPC",62,0)
 S ORRET=$$NODEDATA^TIUSRVT(ORRDIEN)
"RTN","ORATRPC",63,0)
 Q $D(ORRET)
"RTN","ORATRPC",64,0)
 ;
"RTN","ORATRPC",65,0)
PROCESS(ORIEN,ORPRO) ; RPC - ORATR SET ATR PROCESSING LEVEL
"RTN","ORATRPC",66,0)
 N ORFDA,ORERR
"RTN","ORATRPC",67,0)
 S ORFDA(21695.2,ORIEN_",",1.05)=ORPRO
"RTN","ORATRPC",68,0)
 ; if COMPLETED, put date/time in DATE COMPLETED field
"RTN","ORATRPC",69,0)
 I ORPRO=2 D
"RTN","ORATRPC",70,0)
 .S ORFDA(21695.2,ORIEN_",",1.08)=$$NOW^XLFDT
"RTN","ORATRPC",71,0)
 .N ALERT S ALERT=$$GET1^DIQ(21695.2,ORIEN,.09)
"RTN","ORATRPC",72,0)
 .I ALERT'="" D ACTION^XQALERT(ALERT)
"RTN","ORATRPC",73,0)
 ; if TRANSMITTED, put date in DATE TRANSMITTED field
"RTN","ORATRPC",74,0)
 I ORPRO=3 S ORFDA(21695.2,ORIEN_",",1.06)=$$DT^XLFDT
"RTN","ORATRPC",75,0)
 L +^VFD(21695.2,ORIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATRPC",76,0)
 D UPDATE^DIE("E","ORFDA",,"ORERR")
"RTN","ORATRPC",77,0)
 L -^VFD(21695.2,ORIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATRPC",78,0)
 Q $S('$D(ORERR):1,1:-1)
"RTN","ORATRPC",79,0)
 ;
"RTN","ORATRPC",80,0)
BCCCR(ORIEN) ; RPC - ORATR BCCCR TRANSMIT
"RTN","ORATRPC",81,0)
 ;  1     TAR IEN
"RTN","ORATRPC",82,0)
 ;  2     Patient DFN
"RTN","ORATRPC",83,0)
 ;  3     Site NUM
"RTN","ORATRPC",84,0)
 ;  4     Patient ICN
"RTN","ORATRPC",85,0)
 ;  5     HF Name
"RTN","ORATRPC",86,0)
 ;  6     HF Date
"RTN","ORATRPC",87,0)
 ;  7     HF Deleted (Yes/No)
"RTN","ORATRPC",88,0)
 ;  8     HF BI-RAD
"RTN","ORATRPC",89,0)
 ;  9     HF Contact Method
"RTN","ORATRPC",90,0)
 ; 10     HF Contact Individual
"RTN","ORATRPC",91,0)
 ; 11     Order IEN
"RTN","ORATRPC",92,0)
 ; 12     Order Date
"RTN","ORATRPC",93,0)
 ; 13     Orderable Item Name
"RTN","ORATRPC",94,0)
 ; 14     Orderable Item CPT Code
"RTN","ORATRPC",95,0)
 ; 15     Orderable Item Package
"RTN","ORATRPC",96,0)
 ; 16     Encounter Provider DUZ
"RTN","ORATRPC",97,0)
 ; 17     Ordering Provider DUZ
"RTN","ORATRPC",98,0)
 ;
"RTN","ORATRPC",99,0)
 N DATA,DFN,FLDS,IENS,NA,ORCNT,ORCPT,ORDER,ORERR,ORHF,ORX,ORY,SITE,TYPE
"RTN","ORATRPC",100,0)
 N STATION,ICN
"RTN","ORATRPC",101,0)
 S ORCNT=1,STATION=$P($$SITE^VASITE,U,3)
"RTN","ORATRPC",102,0)
 S IENS=ORIEN_",",FLDS=".01;.04;.12;2;5*;6*"
"RTN","ORATRPC",103,0)
 D GETS^DIQ(21695.2,IENS,FLDS,"I","DATA","ORERR")
"RTN","ORATRPC",104,0)
 ;D GETS^DIQ(21695.2,IENS,FLDS,"IE","DATA","ORERR")
"RTN","ORATRPC",105,0)
 S NA=$NA(DATA(21695.2,IENS)) Q:'$D(@NA)
"RTN","ORATRPC",106,0)
 S DFN=$G(@NA@(.04,"I")),ORX=$G(@NA@(2,"I"))
"RTN","ORATRPC",107,0)
 I $L($T(GETICN^MPIF001)) S ICN=$$GETICN^MPIF001(DFN)
"RTN","ORATRPC",108,0)
 ; GETICN returns ICN_"V"_CHECKSUM
"RTN","ORATRPC",109,0)
 I +ICN=-1 ;DO SOMETHING
"RTN","ORATRPC",110,0)
 S ID=ORIEN_U_DFN_U_STATION_U_ICN_U
"RTN","ORATRPC",111,0)
 S ORX="" F  S ORX=$O(DATA(21695.26,ORX)) Q:ORX=""  D
"RTN","ORATRPC",112,0)
 .D ADD(ID_$$HF(ORX))
"RTN","ORATRPC",113,0)
 S ORX="" F  S ORX=$O(DATA(21695.25,ORX)) Q:ORX=""  D
"RTN","ORATRPC",114,0)
 .N ORDER,ORDATA S ORDER=DATA(21695.25,ORX,.01,"I")
"RTN","ORATRPC",115,0)
 .D ORDATA(ORDER,ID)
"RTN","ORATRPC",116,0)
 Q
"RTN","ORATRPC",117,0)
 ;
"RTN","ORATRPC",118,0)
GETHF ; RPC - ORATR HEALTH FACTORS
"RTN","ORATRPC",119,0)
 ; HEALTH FACTORS       ^AUTTHF(
"RTN","ORATRPC",120,0)
 ; V HEALTH FACTOR      ^AUPNVHF(
"RTN","ORATRPC",121,0)
 N ORIEN,ORHF,ORX,HFIEN,ORFDA,ORERR,CNT,DFN,ORDT
"RTN","ORATRPC",122,0)
 S ORDT=$O(^TMP("ORATRHF","")) Q:'ORDT
"RTN","ORATRPC",123,0)
 S ORIEN=$O(^TMP("ORATRHF",ORDT,"")) Q:'ORIEN  S ORHF=$G(^(ORIEN))
"RTN","ORATRPC",124,0)
 S DFN=$$GET1^DIQ(21695.2,ORIEN,.04,"I"),ORIEN=ORIEN_",",CNT=1
"RTN","ORATRPC",125,0)
 F ORX=2:1:$L(ORHF,U) D
"RTN","ORATRPC",126,0)
 .K ORERR S HF=$$FIND1^DIC(9999999.64,,"X",$P(ORHF,U,ORX),,,"ORERR")
"RTN","ORATRPC",127,0)
 .I '$D(ORERR) S ORHF(HF)=$P(ORHF,U,ORX)
"RTN","ORATRPC",128,0)
 S HF="" F  S HF=$O(ORHF(HF)) Q:'HF  D
"RTN","ORATRPC",129,0)
 .N FLAG S VHF=""
"RTN","ORATRPC",130,0)
 .F  S VHF=$O(^AUPNVHF("B",HF,VHF),-1) Q:'VHF  D  Q:$D(FLAG)
"RTN","ORATRPC",131,0)
 ..Q:'$D(^AUPNVHF("C",DFN,VHF))
"RTN","ORATRPC",132,0)
 ..I $D(^VFD(21695.2,+ORIEN,6,"B",VHF)) S FLAG=1 Q
"RTN","ORATRPC",133,0)
 ..D GETHF1
"RTN","ORATRPC",134,0)
 D:$D(ORFDA)
"RTN","ORATRPC",135,0)
 .L +^VFD(21695.2,ORIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATRPC",136,0)
 .D UPDATE^DIE(,"ORFDA",,"ORERR")
"RTN","ORATRPC",137,0)
 .L -^VFD(21695.2,ORIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:5)
"RTN","ORATRPC",138,0)
 I '$D(ORERR) K ^TMP("ORATRHF",ORDT,+ORIEN)
"RTN","ORATRPC",139,0)
 D FOLLOWUP^ORATR2(+ORIEN)
"RTN","ORATRPC",140,0)
 Q
"RTN","ORATRPC",141,0)
 ;
"RTN","ORATRPC",142,0)
 ;=====================================================================
"RTN","ORATRPC",143,0)
 ;                      R P C   U T I L I T I E S
"RTN","ORATRPC",144,0)
 ;=====================================================================
"RTN","ORATRPC",145,0)
 ;
"RTN","ORATRPC",146,0)
GETINFO(ORIEN,ORSUB,ORPROV) ; gets info for alert at ^VFD(21695.2,ORIEN,"XQA",ORSUB)
"RTN","ORATRPC",147,0)
 ; TOP LEVEL INFORMATION
"RTN","ORATRPC",148,0)
 ; PATIENT               .04
"RTN","ORATRPC",149,0)
 ; ALERT DATE/TIME       .01 (can be obtained thru .01 field)
"RTN","ORATRPC",150,0)
 ; ALERT MESSAGE        1.01
"RTN","ORATRPC",151,0)
 ; XQAID                 .01
"RTN","ORATRPC",152,0)
 ; URGNECY               .1  (can be obtained thru .1 field)
"RTN","ORATRPC",153,0)
 ; CAN DELETE...         .11
"RTN","ORATRPC",154,0)
 ; PATIENT LOCATION      .12
"RTN","ORATRPC",155,0)
 ; DATA FOR PROCESSING  2
"RTN","ORATRPC",156,0)
 ; PROCESSED            1.05
"RTN","ORATRPC",157,0)
 ;
"RTN","ORATRPC",158,0)
 ;
"RTN","ORATRPC",159,0)
 N X,ORX,OROUT,ORIENS,ORFLDS,ORERR,ORSSN,ORNA,ORURG
"RTN","ORATRPC",160,0)
 S ORFLDS=".01;.04;.1;.11;.12;1.01;1.05;1.07;2",ORIENS=ORIEN_","
"RTN","ORATRPC",161,0)
 D GETS^DIQ(21695.2,ORIENS,ORFLDS,"IE","OROUT","ORERR")
"RTN","ORATRPC",162,0)
 S ORNA=$NA(OROUT(21695.2,ORIENS))
"RTN","ORATRPC",163,0)
 ; Patient Name/SSN
"RTN","ORATRPC",164,0)
 S ORX=$G(@ORNA@(.04,"I"))_U_$G(@ORNA@(.04,"E"))
"RTN","ORATRPC",165,0)
 I ORX S ORSSN=$$GET1^DIQ(2,+ORX,.09,"E") D
"RTN","ORATRPC",166,0)
 .S ORX=$E($P(ORX,U,2),1,9)_" (",ORX=ORX_$E(ORX,1)_$E(ORSSN,6,9)_")"
"RTN","ORATRPC",167,0)
 .S $P(ORY,U,2)=ORX
"RTN","ORATRPC",168,0)
 ; Patient Location
"RTN","ORATRPC",169,0)
 S $P(ORY,U,3)=$G(@ORNA@(.12,"E"))
"RTN","ORATRPC",170,0)
 ; Alert Urgency Level
"RTN","ORATRPC",171,0)
 S ORX=$G(@ORNA@(.1,"I"))
"RTN","ORATRPC",172,0)
 I ORX D URGENCY^ORQORB(.ORURG,ORX) S ORURG=$S($G(ORURG)>0:ORURG,1:2) D
"RTN","ORATRPC",173,0)
 .S $P(ORY,U,4)=$S(ORURG=1:"HIGH",ORURG=2:"Moderate",1:"low")
"RTN","ORATRPC",174,0)
 ; Alert Date/Time
"RTN","ORATRPC",175,0)
 S ORX=$P($G(@ORNA@(.01,"I")),";",4)
"RTN","ORATRPC",176,0)
 S $P(ORY,U,5)=$$FMTE^XLFDT(ORX,"7M")
"RTN","ORATRPC",177,0)
 ; Alert Message
"RTN","ORATRPC",178,0)
 S ORX=$G(@ORNA@(1.01,"E")) I $G(ORPROV),$L(ORX,"):")>1 S ORX=$P(ORX,": ",2,99)
"RTN","ORATRPC",179,0)
 S $P(ORY,U,6)=ORX
"RTN","ORATRPC",180,0)
 ; XQAID
"RTN","ORATRPC",181,0)
 ;============================================
"RTN","ORATRPC",182,0)
 ;    Set ORX to the TIU DOCUMENT POINTER
"RTN","ORATRPC",183,0)
 ;============================================
"RTN","ORATRPC",184,0)
 S ORX=$G(@ORNA@(1.07,"I"))
"RTN","ORATRPC",185,0)
 S $P(ORY,U,8)=$G(@ORNA@(.01,"E"))_";"_ORIEN_";"_ORX_U
"RTN","ORATRPC",186,0)
 ; Remove w/o Processing Flag
"RTN","ORATRPC",187,0)
 S $P(ORY,U,10)=$G(@ORNA@(.11,"I"))
"RTN","ORATRPC",188,0)
 ; Pointer to the Order File (#100)
"RTN","ORATRPC",189,0)
 S ORX=$G(@ORNA@(2,"E")) I ORX["@OR" D
"RTN","ORATRPC",190,0)
 .S $P(ORY,U,12)=+ORX
"RTN","ORATRPC",191,0)
 ; Processing Level
"RTN","ORATRPC",192,0)
 S $P(ORY,U,13)=$G(@ORNA@(1.05,"I"))
"RTN","ORATRPC",193,0)
 ; Get latest forwarding information
"RTN","ORATRPC",194,0)
 I '$D(ORSUB) S ORSUB=$$GETSUB(ORIEN)
"RTN","ORATRPC",195,0)
 S ORX=$O(^VFD(21695.2,ORIEN,20,ORSUB,2,"A"),-1)
"RTN","ORATRPC",196,0)
 K @ORNA S ORIENS=ORX_","_ORSUB_","_ORIEN_",",ORFLDS=".01;.03;1.01"
"RTN","ORATRPC",197,0)
 I ORX D GETS^DIQ(21695.212,ORIENS,ORFLDS,"IE","OROUT","ORERR") D
"RTN","ORATRPC",198,0)
 .S ORNA=$NA(OROUT(21695.212,ORIENS))
"RTN","ORATRPC",199,0)
 .; Forwarded by/when
"RTN","ORATRPC",200,0)
 .S ORX=$G(@ORNA@(.03,"E"))_";"_$$FMTE^XLFDT($G(@ORNA@(.01,"I")),"7M")
"RTN","ORATRPC",201,0)
 .S $P(ORY,U,7)=ORX
"RTN","ORATRPC",202,0)
 .; Forwarding Comments (if applicable)
"RTN","ORATRPC",203,0)
 .S $P(ORY,U,11)=$G(@ORNA@(1.01,"E"))
"RTN","ORATRPC",204,0)
 Q
"RTN","ORATRPC",205,0)
 ;
"RTN","ORATRPC",206,0)
GETHF1 ;
"RTN","ORATRPC",207,0)
 N VST,VSTDT
"RTN","ORATRPC",208,0)
 S VST=$$GET1^DIQ(9000010.23,VHF,.03,"I")
"RTN","ORATRPC",209,0)
 S VSTDT=$$GET1^DIQ(9000010,VST,.01,"I")
"RTN","ORATRPC",210,0)
 S ORFDA(21695.26,"+"_CNT_","_ORIEN,.01)=VHF
"RTN","ORATRPC",211,0)
 S ORFDA(21695.26,"+"_CNT_","_ORIEN,.02)=$$GET1^DIQ(9999999.64,HF,.03,"I")
"RTN","ORATRPC",212,0)
 S ORFDA(21695.26,"+"_CNT_","_ORIEN,.03)=ORHF(HF)
"RTN","ORATRPC",213,0)
 S ORFDA(21695.26,"+"_CNT_","_ORIEN,1)=VSTDT
"RTN","ORATRPC",214,0)
 S CNT=CNT+1,FLAG=1
"RTN","ORATRPC",215,0)
 Q
"RTN","ORATRPC",216,0)
 ;
"RTN","ORATRPC",217,0)
ADD(ORSTR) ;
"RTN","ORATRPC",218,0)
 S ORRET(ORCNT)=ORSTR,ORCNT=ORCNT+1
"RTN","ORATRPC",219,0)
 Q
"RTN","ORATRPC",220,0)
 ;
"RTN","ORATRPC",221,0)
GETSUB(ORIEN) ;
"RTN","ORATRPC",222,0)
 N ORX,RET
"RTN","ORATRPC",223,0)
 S ORX=0 F  S ORX=$O(^VFD(21695.2,ORIEN,20,ORX)) Q:'ORX  D
"RTN","ORATRPC",224,0)
 .I $D(^VFD(21695.2,ORIEN,20,ORX,2)) S RET=ORX
"RTN","ORATRPC",225,0)
 Q $G(RET,-1)
"RTN","ORATRPC",226,0)
 ;
"RTN","ORATRPC",227,0)
 ;=====================================================================
"RTN","ORATRPC",228,0)
 ;     U S E D   W I T H   O R A T R   B C C C R   T R A N S M I T
"RTN","ORATRPC",229,0)
 ;=====================================================================
"RTN","ORATRPC",230,0)
 ;
"RTN","ORATRPC",231,0)
HF(IENS) ; Returns information relating to a health factor
"RTN","ORATRPC",232,0)
 ;  5     HF Name
"RTN","ORATRPC",233,0)
 ;  6     HF Date
"RTN","ORATRPC",234,0)
 ;  7     HF Deleted (Yes/No)
"RTN","ORATRPC",235,0)
 ;  8     HF BI-RAD
"RTN","ORATRPC",236,0)
 ;  9     HF Contact Method
"RTN","ORATRPC",237,0)
 ; 10     HF Contact Individual
"RTN","ORATRPC",238,0)
 ; 16     Encounter Provider DUZ
"RTN","ORATRPC",239,0)
 N X,DEL,FLDS,HF,HFDATA,HFERR,PROV,RET,VST
"RTN","ORATRPC",240,0)
 S HF(1)=$G(DATA(21695.26,IENS,.03,"I"))
"RTN","ORATRPC",241,0)
 S HF(2)=$G(DATA(21695.26,IENS,1,"I"))
"RTN","ORATRPC",242,0)
 S DEL=+$G(DATA(21695.26,IENS,.04,"I"))
"RTN","ORATRPC",243,0)
 S HF=$G(DATA(21695.26,IENS,.01,"I"))_",",FLDS=".01;.03;1201;1204;81101"
"RTN","ORATRPC",244,0)
 I 'DEL D
"RTN","ORATRPC",245,0)
 .D GETS^DIQ(9000010.23,HF,FLDS,"IE","HFDATA","HFERR")
"RTN","ORATRPC",246,0)
 S HF(3)=$S('DEL:"No",1:"Yes")
"RTN","ORATRPC",247,0)
 I HF(1)["BI-RAD" S HF(4)=+$P(HF(1),"RAD ",2)
"RTN","ORATRPC",248,0)
 I HF(1)["CONTACT METHOD" D
"RTN","ORATRPC",249,0)
 .S HF(5)=$P(HF(1),":",2)
"RTN","ORATRPC",250,0)
 .S HF(6)=$G(HFDATA(9000010.23,HF,81101,"E"))
"RTN","ORATRPC",251,0)
 S X="" F  S X=$O(HF(X)) Q:'X  S $P(RET,U,X)=HF(X)
"RTN","ORATRPC",252,0)
 S PROV=$G(HFDATA(9000010.23,HF,1204,"I"))
"RTN","ORATRPC",253,0)
 S $P(RET,U,12)=PROV
"RTN","ORATRPC",254,0)
 Q RET
"RTN","ORATRPC",255,0)
 ;
"RTN","ORATRPC",256,0)
ORDATA(IEN,ID) ; Gathers information relating to an order
"RTN","ORATRPC",257,0)
 ; 11     Order IEN
"RTN","ORATRPC",258,0)
 ; 12     Order Date
"RTN","ORATRPC",259,0)
 ; 13     Orderable Item Name
"RTN","ORATRPC",260,0)
 ; 14     Orderable Item CPT Code
"RTN","ORATRPC",261,0)
 ; 15     Orderable Item Package
"RTN","ORATRPC",262,0)
 ; 17     Ordering Provider
"RTN","ORATRPC",263,0)
 N CPT,ORDATA,ORITEM,ORX,PROV S $P(ID,U,11)=IEN
"RTN","ORATRPC",264,0)
 D GETS^DIQ(100,IEN_",",".1*;1;4","IE","ORDATA","ORERR")
"RTN","ORATRPC",265,0)
 S $P(ID,U,12)=$G(ORDATA(100,IEN_",",4,"I"))
"RTN","ORATRPC",266,0)
 S PROV=$G(ORDATA(100,IEN_",",1,"I"))
"RTN","ORATRPC",267,0)
 S ORY="" F  S ORY=$O(ORDATA(100.001,ORY)) Q:ORY=""  D
"RTN","ORATRPC",268,0)
 .N ORX S ORX=ID,ORITEM=ORDATA(100.001,ORY,.01,"I")
"RTN","ORATRPC",269,0)
 .S $P(ORX,U,13)=ORDATA(100.001,ORY,.01,"E")
"RTN","ORATRPC",270,0)
 .S ORX=ORX_U_$$GETORITM(ORITEM),$P(ORX,U,17)=PROV
"RTN","ORATRPC",271,0)
 .D ADD(ORX)
"RTN","ORATRPC",272,0)
 Q
"RTN","ORATRPC",273,0)
 ;
"RTN","ORATRPC",274,0)
GETORITM(ORITEM) ;
"RTN","ORATRPC",275,0)
 N CPT,IENS,ORERR,ORINFO,RET S IENS=ORITEM_","
"RTN","ORATRPC",276,0)
 D GETS^DIQ(101.43,IENS,"1.1;3;4",,"ORINFO","ORERR")
"RTN","ORATRPC",277,0)
 I $G(ORINFO(101.43,IENS,4))["CPT" D
"RTN","ORATRPC",278,0)
 .S CPT=$G(ORINFO(101.43,IENS,3))
"RTN","ORATRPC",279,0)
 .Q:$$GET1^DIQ(81,CPT,5,"I")
"RTN","ORATRPC",280,0)
 .S RET=CPT
"RTN","ORATRPC",281,0)
 S $P(RET,U,2)=$G(ORINFO(101.43,IENS,1.1))
"RTN","ORATRPC",282,0)
 Q RET
"RTN","ORATRPC",283,0)
 ;
"RTN","ORWDX")
0^11^B68176473
"RTN","ORWDX",1,0)
ORWDX ; SLC/KCM/REV/JLI - Order dialog utilities ;12/14/12  09:24
"RTN","ORWDX",2,0)
 ;;3.0;ORDER ENTRY/RESULTS REPORTING;**10,85,125,131,132,141,164,178,187,190,195,215,246,243,283,296,280,306**;Dec 17, 1997;Build 18
"RTN","ORWDX",3,0)
 ;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","ORWDX",4,0)
 ;Reference to DIC(9.4 supported by IA #2058
"RTN","ORWDX",5,0)
 ;
"RTN","ORWDX",6,0)
ORDITM(Y,FROM,DIR,XREF) ; Subset of orderable items
"RTN","ORWDX",7,0)
 ; Y(n)=IEN^.01 Name^.01 Name  -or-  IEN^Synonym <.01 Name>^.01 Name
"RTN","ORWDX",8,0)
 N I,IEN,CNT,X,DTXT,CURTM,DEFROUTE
"RTN","ORWDX",9,0)
 S DEFROUTE=""
"RTN","ORWDX",10,0)
 S I=0,CNT=44,CURTM=$$NOW^XLFDT
"RTN","ORWDX",11,0)
 F  Q:I'<CNT  S FROM=$O(^ORD(101.43,XREF,FROM),DIR) Q:FROM=""  D
"RTN","ORWDX",12,0)
 . S IEN="" F  S IEN=$O(^ORD(101.43,XREF,FROM,IEN),DIR) Q:'IEN  D
"RTN","ORWDX",13,0)
 . . S X=^ORD(101.43,XREF,FROM,IEN)
"RTN","ORWDX",14,0)
 . . I +$P(X,U,3),$P(X,U,3)<CURTM Q
"RTN","ORWDX",15,0)
 . . Q:$P(X,U,5)  S I=I+1
"RTN","ORWDX",16,0)
 . . I 'X S Y(I)=IEN_U_$P(X,U,2)_U_$P(X,U,2)
"RTN","ORWDX",17,0)
 . . E  S Y(I)=IEN_U_$P(X,U,2)_$C(9)_"<"_$P(X,U,4)_">"_U_$P(X,U,4)
"RTN","ORWDX",18,0)
 Q
"RTN","ORWDX",19,0)
ODITMBC(Y,XREF,ODLST) ;
"RTN","ORWDX",20,0)
 N CNT,NM,XRF
"RTN","ORWDX",21,0)
 S CNT=0,NM=0,XRF=XREF
"RTN","ORWDX",22,0)
 F  S CNT=$O(ODLST(CNT)) Q:'CNT  D FNDINFO(.Y,ODLST(CNT))
"RTN","ORWDX",23,0)
 Q
"RTN","ORWDX",24,0)
FNDINFO(Y,ODIEN) ;
"RTN","ORWDX",25,0)
 D FNDINFO^ORWDX1(.Y,.ODIEN)
"RTN","ORWDX",26,0)
 Q
"RTN","ORWDX",27,0)
DLGDEF(LST,DLG) ; Format mapping for a dlg
"RTN","ORWDX",28,0)
 D DLGDEF^ORWDX1(.LST,.DLG)
"RTN","ORWDX",29,0)
 Q
"RTN","ORWDX",30,0)
DLGQUIK(LST,QO) ;(NOT USED)
"RTN","ORWDX",31,0)
 D LOADRSP(.LST,QO)
"RTN","ORWDX",32,0)
 Q
"RTN","ORWDX",33,0)
LOADRSP(LST,RSPID,TRANS)      ; Load responses from 101.41 or 100
"RTN","ORWDX",34,0)
 ; RSPID:  C123456;1-3243 = cached copy,   134-3234 = cached quick
"RTN","ORWDX",35,0)
 ;         X123456;1      = change order,  134      = quick dialog
"RTN","ORWDX",36,0)
 N I,J,DLG,INST,ID,VAL,ILST,ROOT,ORLOC S ROOT=""
"RTN","ORWDX",37,0)
 I RSPID["-" S ROOT="^TMP(""ORWDXMQ"",$J,"""_RSPID_""")" G XROOT^ORWDX2
"RTN","ORWDX",38,0)
 I $E(RSPID)="X" S ROOT="^OR(100,"_+$P(RSPID,"X",2)_",4.5)"  G XROOT^ORWDX2
"RTN","ORWDX",39,0)
 I +RSPID=RSPID  S ROOT="^ORD(101.41,"_+RSPID_",6)" G XROOT^ORWDX2
"RTN","ORWDX",40,0)
 Q:ROOT=""
"RTN","ORWDX",41,0)
 G XROOT^ORWDX2
"RTN","ORWDX",42,0)
SAVE(REC,ORVP,ORNP,ORL,DLG,ORDG,ORIT,ORIFN,ORDIALOG,ORDEA,ORAPPT,ORSRC,OREVTDF) ;
"RTN","ORWDX",43,0)
 ; ORVP=DFN, ORNP=Provider, ORL=Location, DLG=Order Dialog,
"RTN","ORWDX",44,0)
 ; ORDG=Display Group, ORIT=Quick Order Dialog, ORAPPT=Appointment
"RTN","ORWDX",45,0)
 N ORDUZ,ORSTS,OREVENT,ORCAT,ORDA,ORTS,ORNEW,ORCHECK,ORLOG,ORLEAD,ORTRAIL,ORPKG,ORWP94,ORCATFN,OREVTYPE,ONPASS
"RTN","ORWDX",46,0)
 N XCNT,XCOMM,XDONE,XX  ;SBR
"RTN","ORWDX",47,0)
 S (XCOMM,XCNT)=""  ;SBR
"RTN","ORWDX",48,0)
 I $G(ORIFN)'="" D  ;SBR problem only occurs on change or renew orders
"RTN","ORWDX",49,0)
 . S XCNT=$O(^OR(100,+ORIFN,4.5,"ID","COMMENT",XCNT))  ;SBR
"RTN","ORWDX",50,0)
 . I XCNT'="" S XCOMM=$P($G(^OR(100,+ORIFN,4.5,XCNT,0)),"^",2)  ;SBR
"RTN","ORWDX",51,0)
 . I XCOMM'="" S XDONE=0,XX="" F  S XX=$O(ORDIALOG("WP",XCOMM,1,XX)) Q:XX=""  D  ;SBR
"RTN","ORWDX",52,0)
 . . I ORDIALOG("WP",XCOMM,1,XX,0)'="" S XDONE=1 Q  ;SBR
"RTN","ORWDX",53,0)
 . I XCOMM'="",'$G(XDONE),$D(ORDIALOG("WP",XCOMM)) K ORDIALOG("WP",XCOMM)  ;SBR
"RTN","ORWDX",54,0)
 S ORCATFN="" I $L($P(DLG,U,2)) S ORCATFN=$P(DLG,U,2),DLG=$P(DLG,U,1)
"RTN","ORWDX",55,0)
 ;Remove treating facility if inpatient and IMO order 26.42
"RTN","ORWDX",56,0)
 I $G(^DPT(ORVP,.1))'="",$P($G(^ORD(100.98,ORDG,0)),U)="CLINIC ORDERS" K ORDIALOG("ORTS")
"RTN","ORWDX",57,0)
 I $G(ORDIALOG("ORTS")) S ORTS=ORDIALOG("ORTS") K ORDIALOG("ORTS")
"RTN","ORWDX",58,0)
 I $G(ORDIALOG("ORSLOG")) S ORLOG=ORDIALOG("ORSLOG") K ORDIALOG("ORSLOG")
"RTN","ORWDX",59,0)
 I $D(ORDIALOG("OREVENT")) S OREVENT=ORDIALOG("OREVENT") K ORDIALOG("OREVENT")
"RTN","ORWDX",60,0)
 ;=====================================================
"RTN","ORWDX",61,0)
 ; Changed for v26.27 (RV)
"RTN","ORWDX",62,0)
 S ORCAT=$$INPT^ORCD,ORCAT=$S(ORCAT=1:"I",1:"O")
"RTN","ORWDX",63,0)
 ;I $L($G(OREVENT)) D
"RTN","ORWDX",64,0)
 ;. S ONPASS=0
"RTN","ORWDX",65,0)
 ;. S OREVTYPE=$$TYPE^OREVNTX(OREVENT)
"RTN","ORWDX",66,0)
 ;. I OREVTYPE="T" D ISPASS^OREVNTX1(.ONPASS,+OREVENT,"T")
"RTN","ORWDX",67,0)
 ;. S ORCAT=$S(OREVTYPE="A":"I",OREVTYPE="T":"I",ONPASS=1:"O",1:"O")
"RTN","ORWDX",68,0)
 ;E  S ORCAT=$S($L($P($G(^DPT(+ORVP,.1)),U)):"I",1:"O")
"RTN","ORWDX",69,0)
 ;=====================================================
"RTN","ORWDX",70,0)
 I DLG="PS MEDS" S ORWP94=1 D
"RTN","ORWDX",71,0)
 . I ORIT=$O(^ORD(101.41,"AB","PSO SUPPLY",0)) S DLG="PSO SUPPLY"
"RTN","ORWDX",72,0)
 . I ORIT=$O(^ORD(101.41,"AB","PSO OERR",0)) S DLG="PSO OERR"
"RTN","ORWDX",73,0)
 . I ORIT=$O(^ORD(101.41,"AB","PSJ OR PAT OE",0)) S DLG="PSJ OR PAT OE"
"RTN","ORWDX",74,0)
 I DLG="PSO OERR" S ORCAT="O" I $G(OREVENT("EFFECTIVE")) D
"RTN","ORWDX",75,0)
 . S ORDIALOG($O(^ORD(101.41,"B","OR GTX START DATE"_$S($G(ORWP94):"/TIME",1:""),0)),1)=OREVENT("EFFECTIVE")
"RTN","ORWDX",76,0)
 I DLG="PSJ OR PAT OE" S ORCAT="I"
"RTN","ORWDX",77,0)
 S:DLG="FHW1" ORCAT="I" S:DLG?1"FHW "2.7U1" MEAL" ORCAT="O"
"RTN","ORWDX",78,0)
 S ORVP=ORVP_";DPT(",ORL(2)=ORL_";SC(",ORL=ORL(2)
"RTN","ORWDX",79,0)
 I ORDG=$O(^ORD(100.98,"B","LAB",0)) D  ;use section
"RTN","ORWDX",80,0)
 . N OI,SUB S OI=+$G(ORDIALOG($$PTR^ORCD("OR GTX ORDERABLE ITEM"),1))
"RTN","ORWDX",81,0)
 . S SUB=$P($G(^ORD(101.43,OI,"LR")),U,6),ORDG=$$DGRP^ORMLR(SUB)
"RTN","ORWDX",82,0)
 K:'ORDG ORDG K:'ORIT ORIT ; Dgrp & Quick must be non-zero
"RTN","ORWDX",83,0)
 M ORCHECK=ORDIALOG("ORCHECK") K ORDIALOG("ORCHECK")
"RTN","ORWDX",84,0)
 S ORDIALOG=$O(^ORD(101.41,"AB",DLG,0))
"RTN","ORWDX",85,0)
 I 'ORDIALOG S ORDIALOG=$O(^ORD(101.41,"B",DLG,0))
"RTN","ORWDX",86,0)
 I $D(ORDIALOG("ORLEAD")) S ORLEAD=ORDIALOG("ORLEAD")
"RTN","ORWDX",87,0)
 I $D(ORDIALOG("ORTRAIL")) S ORTRAIL=ORDIALOG("ORTRAIL")
"RTN","ORWDX",88,0)
 D GETDLG1^ORCD(ORDIALOG)
"RTN","ORWDX",89,0)
 I $L(ORCATFN) S ORCAT=ORCATFN
"RTN","ORWDX",90,0)
 I $G(ORWP94) D
"RTN","ORWDX",91,0)
 . N SIGPRMT S SIGPRMT=$O(^ORD(101.41,"B","OR GTX SIG",0))
"RTN","ORWDX",92,0)
 . N INSPRMT S INSPRMT=$O(^ORD(101.41,"B","OR GTX INSTRUCTIONS",0))
"RTN","ORWDX",93,0)
 . I $L($G(ORDIALOG(SIGPRMT,1))) S ORDIALOG(INSPRMT,"FORMAT")="@"
"RTN","ORWDX",94,0)
 . I ORCAT="O" S ORPKG=$O(^DIC(9.4,"C","PSO",0))
"RTN","ORWDX",95,0)
 . I ORCAT="I" S ORPKG=$O(^DIC(9.4,"C","PSJ",0))
"RTN","ORWDX",96,0)
 S ORSRC=$G(ORSRC)
"RTN","ORWDX",97,0)
 D DELPI^ORWDX1 ;delete empty PI
"RTN","ORWDX",98,0)
 I $G(ORIFN)="" D  ; new order
"RTN","ORWDX",99,0)
 . D EN^ORCSAVE
"RTN","ORWDX",100,0)
 . S REC="" I ORIFN D GETBYIFN^ORWORR(.REC,ORIFN)
"RTN","ORWDX",101,0)
 . I '$D(^TMP("ORECALL",$J,ORDIALOG)) M ^TMP("ORECALL",$J,ORDIALOG)=ORDIALOG
"RTN","ORWDX",102,0)
 E  D
"RTN","ORWDX",103,0)
 . N OR0
"RTN","ORWDX",104,0)
 . S OR0=$G(^OR(100,+ORIFN,0)),ORSTS=$P($G(^(3)),U,3),ORDG=$P(OR0,U,11)
"RTN","ORWDX",105,0)
 . I $L($P(OR0,U,17)),ORSTS=10 S OREVENT=$P(OR0,U,17),OREVENT("TS")=$P(OR0,U,13)
"RTN","ORWDX",106,0)
 . D XX^ORCSAVE ; edit order
"RTN","ORWDX",107,0)
 . S REC="" S ORIFN=+ORIFN_";"_ORDA D GETBYIFN^ORWORR(.REC,ORIFN)
"RTN","ORWDX",108,0)
 Q
"RTN","ORWDX",109,0)
SENDED(ORWLST,ORIENS,TS,LOC) ; Release EDOs to svc
"RTN","ORWDX",110,0)
 N OK,ORVP,ORWERR,ORSIGST,ORDA,ORNATURE,ORIX,X,PTEVT,ORIFN,J,EVENT,LOCK,OR3
"RTN","ORWDX",111,0)
 S ORWERR="",ORIX=0,LOC=LOC_";SC("
"RTN","ORWDX",112,0)
 F  S ORIX=$O(ORIENS(ORIX)) Q:'ORIX  D  Q:ORWERR]""
"RTN","ORWDX",113,0)
 . S (ORIFN,ORWLST(ORIX))=ORIENS(ORIX)
"RTN","ORWDX",114,0)
 . S PTEVT=$P(^OR(100,+ORIFN,0),U,17)
"RTN","ORWDX",115,0)
 . I PTEVT D
"RTN","ORWDX",116,0)
 .. I $D(EVENT(PTEVT)) S LOCK=1 Q
"RTN","ORWDX",117,0)
 .. S LOCK=$$LCKEVT^ORX2(PTEVT) S:LOCK EVENT(PTEVT)=""
"RTN","ORWDX",118,0)
 . I 'LOCK S ORWERR="1^delayed event is locked - another user is processing orders for this event" S ORWLST(ORIX)=ORWLST(ORIX)_"^E^"_ORWERR Q
"RTN","ORWDX",119,0)
 . S ORDA=$P(ORIFN,";",2) S:'ORDA ORDA=1
"RTN","ORWDX",120,0)
 . S ORVP=$P($G(^OR(100,+ORIFN,0)),U,2)
"RTN","ORWDX",121,0)
 . I $D(^OR(100,+ORIFN,8,ORDA,0)) D
"RTN","ORWDX",122,0)
 .. S ORSIGST=$P($G(^(0)),U,4),ORNATURE=$P($G(^(0)),U,12) ;naked references refer to OR(100,+ORIFN,8,ORDA on line above
"RTN","ORWDX",123,0)
 . S OK=$$LOCK1^ORX2(ORIFN) I 'OK S ORWERR="1^"_$P(OK,U,2)
"RTN","ORWDX",124,0)
 . I OK,$G(LOCK) D
"RTN","ORWDX",125,0)
 .. S OR3=$G(^OR(100,+ORIFN,3)) I $P(OR3,"^",3)'=10!($P(OR3,"^",9)]"") D UNLK1^ORX2(ORIENS(ORIX)) Q  ;order already released or has a parent
"RTN","ORWDX",126,0)
 .. S:$G(LOC) $P(^OR(100,+ORIFN,0),U,10)=LOC ;set location
"RTN","ORWDX",127,0)
 .. S:$G(TS) $P(^OR(100,+ORIFN,0),U,13)=TS ;set specialty
"RTN","ORWDX",128,0)
 .. D EN2^ORCSEND(ORIENS(ORIX),ORSIGST,ORNATURE,.ORWERR),UNLK1^ORX2(ORIENS(ORIX)) ;add ,LOCK to if statement for 195
"RTN","ORWDX",129,0)
 . I $L(ORWERR) S ORWLST(ORIX)=ORWLST(ORIX)_"^E^"_ORWERR Q
"RTN","ORWDX",130,0)
 . E  D
"RTN","ORWDX",131,0)
 .. S PTEVT=$P($G(^OR(100,+ORIENS(ORIX),0)),U,17)
"RTN","ORWDX",132,0)
 .. D:$$TYPE^OREVNTX(PTEVT)="M" SAVE^ORMEVNT1(ORIENS(ORIX),PTEVT,2)
"RTN","ORWDX",133,0)
 . S X="RS"
"RTN","ORWDX",134,0)
 . S $P(ORWLST(ORIX),U,2)=X
"RTN","ORWDX",135,0)
 S J=0 F  S J=$O(EVENT(J)) Q:'+J  D UNLEVT^ORX2(J) ;195
"RTN","ORWDX",136,0)
 Q
"RTN","ORWDX",137,0)
SEND(ORWLST,DFN,ORNP,ORL,ES,ORWREC) ; Sign
"RTN","ORWDX",138,0)
 ; DFN=Patient, ORNP=Provider, ORL=Location, ES=Encrypted ES code
"RTN","ORWDX",139,0)
 ; ORWREC(n)=ORIFN;Action^Signature Sts^Release Sts^Nature of Order
"RTN","ORWDX",140,0)
SEND1 N ORVP,ORWI,ORWERR,ORWREL,ORWSIG,ORWNATR,ORDERID,ORBEF,ORLR,ORLAB,X,I
"RTN","ORWDX",141,0)
 S ORVP=DFN_";DPT(",ORL=ORL_";SC(",ORL(2)=ORL,ORWLST=0
"RTN","ORWDX",142,0)
 F I="LR","VBEC" S X=+$O(^DIC(9.4,"C",I,0)) S:X ORLR(X)=1
"RTN","ORWDX",143,0)
 S ORWI=0 F  S ORWI=$O(ORWREC(ORWI)) Q:'ORWI  D
"RTN","ORWDX",144,0)
 . S X=ORWREC(ORWI),ORWERR=""
"RTN","ORWDX",145,0)
 . S ORDERID=$P(X,U),ORWSIG=$P(X,U,2),ORWREL=$P(X,U,3),ORWNATR=$P(X,U,4)
"RTN","ORWDX",146,0)
 . S ORBEF=0
"RTN","ORWDX",147,0)
 . I '$D(^OR(100,+ORDERID,0)) Q
"RTN","ORWDX",148,0)
 . I $D(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0)) S ORBEF=$P(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0),U,15)
"RTN","ORWDX",149,0)
 . S:$D(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0)) ORWNATR=$S($P(^OR(100,+ORDERID,8,+$P(ORDERID,";",2),0),"^",4)=3:"",1:ORWNATR)
"RTN","ORWDX",150,0)
 . S ORWERR=$$CHKACT^ORWDXR(ORDERID,ORWSIG,ORWREL,ORWNATR)
"RTN","ORWDX",151,0)
 . I $L(ORWERR) S ORWERR="1^"_ORWERR
"RTN","ORWDX",152,0)
 . I '$L(ORWERR) D
"RTN","ORWDX",153,0)
 .. I $G(ORLR(+$P(^OR(100,+ORDERID,0),U,14))),'$G(ORLAB) D  ; lab batch start
"RTN","ORWDX",154,0)
 ... I $L($T(BHS^ORMBLD)) D BHS^ORMBLD(ORVP) S ORLAB=1
"RTN","ORWDX",155,0)
 .. N OK S OK=$$LOCK1^ORX2(ORDERID) I 'OK S ORWERR="1^"_$P(OK,U,2)
"RTN","ORWDX",156,0)
 .. I OK D EN^ORCSEND(ORDERID,"",ORWSIG,ORWREL,ORWNATR,"",.ORWERR),UNLK1^ORX2(ORDERID)
"RTN","ORWDX",157,0)
 . S ORWLST(ORWI)=ORDERID,X=""
"RTN","ORWDX",158,0)
 . I $L(ORWERR) S ORWLST(ORWI)=ORWLST(ORWI)_"^E^"_ORWERR Q
"RTN","ORWDX",159,0)
 . I ORWREL,((ORBEF=10)!(ORBEF=11)),($P(^OR(100,+ORDERID,3),U,3)'=10) S X="R"
"RTN","ORWDX",160,0)
 . I ORWSIG'=2 S X=X_"S"
"RTN","ORWDX",161,0)
 . S $P(ORWLST(ORWI),U,2)=X
"RTN","ORWDX",162,0)
 I $G(ORLAB) D BTS^ORMBLD(ORVP)
"RTN","ORWDX",163,0)
 ;DSS/SMP - BEGIN MOD - for Order Group ID call
"RTN","ORWDX",164,0)
 I $L(ES)>1,$T(ORDERID^ORATRORG)'="" D
"RTN","ORWDX",165,0)
 .N VFDOID S VFDOID=$$ORDERID^ORATRORG(.ORWREC,1)
"RTN","ORWDX",166,0)
 ;DSS/SMP - END MOD
"RTN","ORWDX",167,0)
 I $D(ORWLST)>9 D
"RTN","ORWDX",168,0)
 . N I,A
"RTN","ORWDX",169,0)
 . S I=0 F  S I=$O(ORWLST(I)) Q:I=""  S A=$G(ORWLST(I)) I A["Invalid Procedure, Inactive, no Imaging Type" D SM^ORWDX2(A)
"RTN","ORWDX",170,0)
  Q
"RTN","ORWDX",171,0)
DLGID(VAL,ORIFN) ; return dlg IEN for order
"RTN","ORWDX",172,0)
 S VAL=$P(^OR(100,+ORIFN,0),U,5)
"RTN","ORWDX",173,0)
 S VAL=$S($P(VAL,";",2)="ORD(101.41,":+VAL,1:0)
"RTN","ORWDX",174,0)
 Q
"RTN","ORWDX",175,0)
FORMID(VAL,ORIFN) ; Base dlg FormID for an order
"RTN","ORWDX",176,0)
 N DLG
"RTN","ORWDX",177,0)
 S VAL=0,DLG=$P(^OR(100,+ORIFN,0),U,5)
"RTN","ORWDX",178,0)
 Q:$P(DLG,";",2)'="ORD(101.41,"
"RTN","ORWDX",179,0)
 D FORMID^ORWDXM(.VAL,+DLG)
"RTN","ORWDX",180,0)
 Q
"RTN","ORWDX",181,0)
AGAIN(VAL,DLG) ; return true to keep dlg for another order
"RTN","ORWDX",182,0)
 S VAL=''$P($G(^ORD(101.41,DLG,0)),U,9)
"RTN","ORWDX",183,0)
 Q
"RTN","ORWDX",184,0)
DGRP(VAL,DLG) ; Display grp pointer for a dlg
"RTN","ORWDX",185,0)
 S DLG=$S($E(DLG)="`":+$P(DLG,"`",2),1:$O(^ORD(101.41,"AB",DLG,0))) ;kcm
"RTN","ORWDX",186,0)
 S VAL=$P($G(^ORD(101.41,DLG,0)),U,5)
"RTN","ORWDX",187,0)
 Q
"RTN","ORWDX",188,0)
DGNM(VAL,NM) ; Display grp pointer for name
"RTN","ORWDX",189,0)
 S VAL=$O(^ORD(100.98,"B",NM,0))
"RTN","ORWDX",190,0)
 Q
"RTN","ORWDX",191,0)
WRLST(LST,LOC) ; List of dlgs for writing orders
"RTN","ORWDX",192,0)
 G WRLST1^ORWDX1
"RTN","ORWDX",193,0)
MSG(LST,IEN) ; Msg text for orderable item
"RTN","ORWDX",194,0)
 N I
"RTN","ORWDX",195,0)
 S I=0 F  S I=$O(^ORD(101.43,IEN,8,I)) Q:I'>0  S LST(I)=^(I,0)
"RTN","ORWDX",196,0)
 Q
"RTN","ORWDX",197,0)
DISMSG(VAL,IEN) ; Disabled mge for ordering dlg
"RTN","ORWDX",198,0)
 S VAL=$P($G(^ORD(101.41,+IEN,0)),U,3)
"RTN","ORWDX",199,0)
 Q
"RTN","ORWDX",200,0)
LOCK(OK,DFN) ; Attempt to lock pt for ordering
"RTN","ORWDX",201,0)
 S OK=$$LOCK^ORX2(DFN)
"RTN","ORWDX",202,0)
 Q
"RTN","ORWDX",203,0)
UNLOCK(OK,DFN) ; Unlock pt for ordering
"RTN","ORWDX",204,0)
 D UNLOCK^ORX2(DFN) S OK=1
"RTN","ORWDX",205,0)
 Q
"RTN","ORWDX",206,0)
LOCKORD(OK,ORIFN) ; Attempt to lock order
"RTN","ORWDX",207,0)
 S OK=$$LOCK1^ORX2(ORIFN)
"RTN","ORWDX",208,0)
 Q
"RTN","ORWDX",209,0)
UNLKORD(OK,ORIFN) ; Unlock order
"RTN","ORWDX",210,0)
 D UNLK1^ORX2(ORIFN) S OK=1
"RTN","ORWDX",211,0)
 Q
"RTN","ORWDX",212,0)
UNLKOTH(OK,ORIFN) ; Unlock pt not by this session
"RTN","ORWDX",213,0)
 K ^XTMP("ORPTLK-"_ORIFN) S OK=1
"RTN","ORWDX",214,0)
 Q
"RTN","XQALSET")
0^12^B73846237
"RTN","XQALSET",1,0)
XQALSET ;ISC-SF.SEA/JLI - SETUP ALERTS ;4/10/07  14:06
"RTN","XQALSET",2,0)
 ;;8.0;KERNEL;**1,6,65,75,114,125,173,207,285,443,602**;Jul 10, 1995;Build 18
"RTN","XQALSET",3,0)
 ;Per VHA Directive 2004-038, this routine should not be modified
"RTN","XQALSET",4,0)
 ;;
"RTN","XQALSET",5,0)
 Q
"RTN","XQALSET",6,0)
 ; Original entry point - throw away return value since no value expected
"RTN","XQALSET",7,0)
SETUP ;
"RTN","XQALSET",8,0)
 N I S I=$$SETUP1() K XQALERR
"RTN","XQALSET",9,0)
 Q
"RTN","XQALSET",10,0)
 ;
"RTN","XQALSET",11,0)
SETUP1() ; .SR Returns a string beginning with 1 if successful, 0 if not successful, the second piece is the IEN in the Alert Tracking File and the third piece is the value of XQAID.
"RTN","XQALSET",12,0)
 ; If not successful XQALERR is defined and contains reason for failure.
"RTN","XQALSET",13,0)
 K XQALERR
"RTN","XQALSET",14,0)
 I $O(XQA(0))="" S XQALERR="No recipient list in XQA array" Q 0
"RTN","XQALSET",15,0)
 I '($D(XQAMSG)#2)!($G(XQAMSG)="") S XQALERR="No valid XQAMSG for display" Q 0
"RTN","XQALSET",16,0)
 N X,XQI,XQJ,XQX,XQK,XQACOMNT,XQARESET,DA,XQADA,XQALTYPE
"RTN","XQALSET",17,0)
 S XQALTYPE="INITIAL RECIPIENT"
"RTN","XQALSET",18,0)
 S XQAOPT1=$S('($D(XQAROU)#2):U,XQAROU'[U:U_XQAROU,1:XQAROU),XQAOPT1=$S(XQAOPT1'=U:XQAOPT1,$D(XQAOPT)#2:XQAOPT_U,1:XQAOPT1) S:XQAOPT1=U XQAOPT1=U_" "
"RTN","XQALSET",19,0)
NOW S XQX=$$NOW^XLFDT()
"RTN","XQALSET",20,0)
 S:$S('$D(XQAID):1,XQAID="":1,1:0) XQAID="NO-ID" S:XQAID[";" XQAID=$P(XQAID,";") S XQA1=XQAID,XQI=XQX
"RTN","XQALSET",21,0)
 S XQAID=$$SETIEN(XQA1,XQX),XQADA=""
"RTN","XQALSET",22,0)
 Q $$REENT()
"RTN","XQALSET",23,0)
 ;
"RTN","XQALSET",24,0)
REENT() ; Entry for forwarding, etc.
"RTN","XQALSET",25,0)
 N RETVAL S RETVAL=1
"RTN","XQALSET",26,0)
 K ^TMP("XQAGROUP",$J) ; P443 - clear location for storage of groups processed
"RTN","XQALSET",27,0)
 N XQADATIM,XQALIST,XQALIST1,XQNRECIP S XQNRECIP=0 S XQADATIM=$$NOW^XLFDT()
"RTN","XQALSET",28,0)
 S XQALIN1=$S($D(XQAID)#2:XQAID,1:"")_U_$E(XQAMSG,1,80)_"^1^"_$S(XQAOPT1=U:"D",1:"R")_U_$S($D(XQACTMSG):$E(XQACTMSG,1,40),1:"")_U_XQAOPT1
"RTN","XQALSET",29,0)
 S:$D(XQACNDEL) $P(XQALIN1,U,9)=1 S:$D(XQASURO) $P(XQALIN1,U,12)=XQASURO S:$D(XQASUPV) $P(XQALIN1,U,13)=XQASUPV S:$D(XQAREVUE) $P(XQALIN1,U,14)=XQAREVUE
"RTN","XQALSET",30,0)
 S XQALIN=XQX_U_XQALIN1,XQJ=0
"RTN","XQALSET",31,0)
 K XQALIN1 S:$D(XQADATA) XQALIN1=XQADATA
"RTN","XQALSET",32,0)
LOOP1 S XQJ=$O(XQA(" ")) I XQJ'="" K:"G.g."'[$E(XQJ_",,",1,2) XQA(XQJ) D:$D(XQA(XQJ)) GROUP^XQALSET1 G LOOP1
"RTN","XQALSET",33,0)
LOOP2 ; RE-ENTRY FOR FORWARDING IF ALL RECIPIENTS ARE UNDELIVERABLE
"RTN","XQALSET",34,0)
 N:'$D(XQAUSER) XQAUSER M XQALIST=XQA F I=0:0 S I=$O(XQALIST(I)) Q:I'>0  S XQALIST(I,XQALTYPE)="" I '$D(XQAUSER) S XQAUSER=I ; SAVE ORIGINAL LIST OF RECIPIENTS AND REASON
"RTN","XQALSET",35,0)
 ; The following section of code was added to provide a generalized way to handle surrogates
"RTN","XQALSET",36,0)
 F XQJ=0:0 S XQJ=$O(XQA(XQJ)) Q:XQJ=""  D
"RTN","XQALSET",37,0)
 . N X S X=$$ACTVSURO^XQALSURO(XQJ) I X>0 D  ; Modified to get final surrogate if a sequence of them
"RTN","XQALSET",38,0)
 . . S XQA(X)="" K XQA(XQJ) ; Add Surrogate to XQA array, delete XQJ entry
"RTN","XQALSET",39,0)
 . . S XQALIST(X,$O(XQALIST(XQJ,""))_"-SURROGATE")="" ; Add Surrogate to XQALIST with same type as original
"RTN","XQALSET",40,0)
 . . S XQALIST(X,"z AS_SURO",XQJ)="" ; Mark user as in list as a surrogate, subscript for surrogate to
"RTN","XQALSET",41,0)
 . . S XQALIST(XQJ,"z TO_SURO",X)=""
"RTN","XQALSET",42,0)
 . . Q
"RTN","XQALSET",43,0)
 . Q
"RTN","XQALSET",44,0)
 ;
"RTN","XQALSET",45,0)
 S XQJ=0
"RTN","XQALSET",46,0)
LOOP ;
"RTN","XQALSET",47,0)
 S XQJ=$O(XQA(XQJ)) G:XQJ="" WRAP
"RTN","XQALSET",48,0)
 ;
"RTN","XQALSET",49,0)
 I '(+$$ACTIVE^XUSER(XQJ)) K XQA(XQJ) N XX S XX=$O(XQALIST(XQJ,"")) K XQALIST(XQJ,XX) S XQALIST(XQJ,XX_"-UNDELIVERABLE")="" G LOOP ;Don't send to users that can't sign-on
"RTN","XQALSET",50,0)
 ;
"RTN","XQALSET",51,0)
 I '$D(^XTV(8992,XQJ,0)) D  I '$D(^XTV(8992,XQJ,0)) S ^(0)=XQJ
"RTN","XQALSET",52,0)
 . N FDA,IENS
"RTN","XQALSET",53,0)
 . F  D  Q:'$D(DIERR)  Q:'$D(^TMP("DIERR",$J,"E",110))&'$D(^TMP("DIERR",$J,"E",111))
"RTN","XQALSET",54,0)
 . . K DIERR,^TMP("DIERR",$J)
"RTN","XQALSET",55,0)
 . . S FDA=$NA(^TMP($J,"XQALSET")) K @FDA S @FDA@(8992,"+1,",.01)=XQJ
"RTN","XQALSET",56,0)
 . . S IENS(1)=XQJ
"RTN","XQALSET",57,0)
 . . D UPDATE^DIE("S",FDA,"IENS")
"RTN","XQALSET",58,0)
 . . Q
"RTN","XQALSET",59,0)
 . Q
"RTN","XQALSET",60,0)
 L +^XTV(8992,XQJ):10 S XQXI=XQX S:'$D(^XTV(8992,XQJ,"XQA",0)) ^(0)="^8992.01DA^"
"RTN","XQALSET",61,0)
REP I $D(^XTV(8992,XQJ,"XQA",XQXI,0)) S XQXI=XQXI+.00000001 G REP
"RTN","XQALSET",62,0)
 S ^XTV(8992,XQJ,"XQA",XQXI,0)=XQALIN S:$D(XQALIN1) ^(1)=XQALIN1 S:$D(XQAGUID)!$D(XQADFN) ^(3)=$G(XQAGUID)_U_$G(XQADFN) S:$D(XQARESET) ^(2)=XQAUSER_U_XQX_U_$G(XQACOMNT) S ^(0)=$P(^XTV(8992,XQJ,"XQA",0),U,1,2)_U_XQXI_U_($P(^(0),U,4)+1)
"RTN","XQALSET",63,0)
 I $D(XQATEXT) S:($D(XQATEXT)#2) XQATEXT(.1)=XQATEXT D WP^DIE(8992.01,(XQXI_","_XQJ_","),4,"","XQATEXT") ; P443 PUT DATA IN XQATEXT INTO ARRAY
"RTN","XQALSET",64,0)
 L -^XTV(8992,XQJ)
"RTN","XQALSET",65,0)
 K XQA(XQJ) S:XQAID'="" ^XTV(8992,"AXQA",XQAID,XQJ,XQXI)="",^XTV(8992,"AXQAN",XQA1,XQJ,XQXI)=""
"RTN","XQALSET",66,0)
 S XQNRECIP=XQNRECIP+1
"RTN","XQALSET",67,0)
 G LOOP
"RTN","XQALSET",68,0)
 ;
"RTN","XQALSET",69,0)
WRAP ;
"RTN","XQALSET",70,0)
 M XQALIST1=XQALIST
"RTN","XQALSET",71,0)
 I XQNRECIP=0,'$$SNDNACTV(XQAID) S RETVAL=0,XQALERR="NO ACTIVE RECIPIENTS - OLDER TIU ALERTS"
"RTN","XQALSET",72,0)
 E  I XQNRECIP=0 D  I $D(XQA) S XQACOMNT=$E("None of recipients were active users. "_$G(XQACOMNT),1,245),XQNRECIP=1,XQARESET=1 K XQALIST G LOOP2 ; SET NUMBER OF RECIPIENTS TO 1 SO WE WON'T COME HERE AGAIN
"RTN","XQALSET",73,0)
 . N XQAA,XQJ F XQI=0:0 S XQI=$O(XQALIST(XQI)) Q:XQI'>0  D GETBKUP^XQALDEL(.XQAA,XQI) S XQALTYPE="BACKUP REVIEWER" F XQJ=0:0 S XQJ=$O(XQAA(XQJ)) Q:XQJ'>0  S XQA(XQAA(XQJ))=""
"RTN","XQALSET",74,0)
 . I $D(XQA) D CHEKACTV^XQALSET1(.XQA)
"RTN","XQALSET",75,0)
 . I '$D(XQA) S XQJ="G.XQAL UNPROCESSED ALERTS" D GROUP^XQALSET1 S XQALTYPE="UNPROCESSED ALERTS MAIL GROUP" ;D GETMLGRP(.XQA,XQI) ; COULDN'T FIND ANY BACKUP, GET A MAILGROUP AND MEMBERS TO SEND IT TO
"RTN","XQALSET",76,0)
 . I '$D(XQA) S XQJ="G.PATCHES" D GROUP^XQALSET1 S XQALTYPE="LAST HOPE" ; Last gasp, send it to G.PATCHES
"RTN","XQALSET",77,0)
 . I '$D(XQA) S XQJ="G.PATCH" D GROUP^XQALSET1 S XQALTYPE="LAST HOPE" ; Last gasp, send it to G.PATCH
"RTN","XQALSET",78,0)
 . I '$D(XQA) S RETVAL=0,XQALERR="Could not find any active user to send it to" ; Should not get here, this is only if all backups and mail groups tried don't have any active users
"RTN","XQALSET",79,0)
 . Q
"RTN","XQALSET",80,0)
 ; END OF JLI 030129 INSERTION P285
"RTN","XQALSET",81,0)
 ; moved recording of users in Alert Tracking file to here to include all of them  030220
"RTN","XQALSET",82,0)
 ; modified code to use FM calls instead of direct global references
"RTN","XQALSET",83,0)
 I RETVAL,$G(XQADA)'>0,XQAID'="" D SETTRACK ; moved to here to avoid tracking entries with no users
"RTN","XQALSET",84,0)
 ;
"RTN","XQALSET",85,0)
 I RETVAL,$G(XQADA)>0 L +^XTV(8992.1,XQADA):10 D  L -^XTV(8992.1,XQADA) ; 030131
"RTN","XQALSET",86,0)
 . F XQJ=0:0 S XQJ=$O(XQALIST1(XQJ)) Q:XQJ'>0  D
"RTN","XQALSET",87,0)
 . . N NCOUNT,SUBSCRPT,SUBSCRPN,KCNT,IENVAL
"RTN","XQALSET",88,0)
 . . S IENVAL=XQADA_",",KCNT=$$FIND1^DIC(8992.11,","_IENVAL,"Q",XQJ)
"RTN","XQALSET",89,0)
 . . S FDA=$NA(^TMP($J,"XQALSET")) K @FDA I KCNT=0 S @FDA@(8992.11,"+1,"_IENVAL,.01)=XQJ,KCNT="+1"
"RTN","XQALSET",90,0)
 . . S IENVAL=","_KCNT_","_IENVAL,NCOUNT=1 S SUBSCRPT="" F  S SUBSCRPT=$O(XQALIST1(XQJ,SUBSCRPT)) Q:SUBSCRPT=""  I $E(SUBSCRPT,1)'="z" D
"RTN","XQALSET",91,0)
 . . . S SUBSCRPN=$$FIND1^DIC(8992.2,"","X",SUBSCRPT) I SUBSCRPN'>0 D
"RTN","XQALSET",92,0)
 . . . . N FDA1,IENROOT S FDA1=$NA(^TMP($J,"XQALSET1")) K @FDA1 S @FDA1@(8992.2,"+1,",.01)=SUBSCRPT D UPDATE^DIE("",FDA1,"IENROOT") S SUBSCRPN=$G(IENROOT(1))
"RTN","XQALSET",93,0)
 . . . . Q
"RTN","XQALSET",94,0)
 . . . S NCOUNT=NCOUNT+1,@FDA@(8992.111,"+"_NCOUNT_IENVAL,.01)=SUBSCRPN,@FDA@(8992.111,"+"_NCOUNT_IENVAL,.04)=XQADATIM
"RTN","XQALSET",95,0)
 . . . Q
"RTN","XQALSET",96,0)
 . . I $D(XQALIST1(XQJ,"z TO_SURO")) S @FDA@(8992.111,"+"_NCOUNT_IENVAL,.02)=$O(XQALIST1(XQJ,"z TO_SURO",0))
"RTN","XQALSET",97,0)
 . . I $D(XQALIST1(XQJ,"z AS_SURO")) D
"RTN","XQALSET",98,0)
 . . . S @FDA@(8992.111,"+"_NCOUNT_IENVAL,.03)="Y"
"RTN","XQALSET",99,0)
 . . . N XQK S NCOUNT=NCOUNT+1 F XQK=0:0 S XQK=$O(XQALIST1(XQJ,"z AS_SURO",XQK)) Q:XQK'>0  S @FDA@(8992.113,"+"_NCOUNT_IENVAL,.01)=XQK,@FDA@(8992.113,"+"_NCOUNT_IENVAL,.02)=XQADATIM
"RTN","XQALSET",100,0)
 . . . Q
"RTN","XQALSET",101,0)
 . . S SUBSCRPT=$O(XQALIST1(XQJ,"")) I SUBSCRPT'["INITIAL" S SUBSCRPT=$P(SUBSCRPT,"-") D  ; FORWARDING
"RTN","XQALSET",102,0)
 . . . S SUBSCRPN=$$FIND1^DIC(8992.2,"","X",SUBSCRPT) I SUBSCRPN'>0 D
"RTN","XQALSET",103,0)
 . . . . N FDA1,IENROOT S FDA1=$NA(^TMP($J,"XQALSET1")) K @FDA1 S @FDA1@(8992.2,"+1,",.01)=SUBSCRPT D UPDATE^DIE("",FDA1,"IENROOT") S SUBSCRPN=$G(IENROOT(1))
"RTN","XQALSET",104,0)
 . . . . Q
"RTN","XQALSET",105,0)
 . . . S NCOUNT=NCOUNT+1,@FDA@(8992.112,"+"_NCOUNT_IENVAL,.01)=XQADATIM,@FDA@(8992.112,"+"_NCOUNT_IENVAL,.02)=SUBSCRPN I $G(XQACOMNT)'="" S @FDA@(8992.112,"+"_NCOUNT_IENVAL,1.01)=XQACOMNT
"RTN","XQALSET",106,0)
 . . . I $G(XQAUSER)>0 S @FDA@(8992.112,"+"_NCOUNT_IENVAL,.03)=XQAUSER
"RTN","XQALSET",107,0)
 . . . Q
"RTN","XQALSET",108,0)
 . . N IENSTR D UPDATE^DIE("",FDA,"IENSTR")
"RTN","XQALSET",109,0)
 . . ;DSS/SMP Begin Mod - 07/17/2012
"RTN","XQALSET",110,0)
 . . D TRANSFER^ORATR(XQADA)
"RTN","XQALSET",111,0)
 . . ;DSS/SMP End Mod - 07/17/2012
"RTN","XQALSET",112,0)
 . . Q
"RTN","XQALSET",113,0)
 . Q
"RTN","XQALSET",114,0)
 ;
"RTN","XQALSET",115,0)
 I RETVAL S RETVAL=RETVAL_U_$G(XQADA)_U_XQAID
"RTN","XQALSET",116,0)
 K:XQAID'="" ^XTV(8992,"AXQA",XQAID,0,0)
"RTN","XQALSET",117,0)
 K ^TMP("XQAGROUP",$J) ; P443 - clear global used to track processing of groups
"RTN","XQALSET",118,0)
 K XQA,XQALIN,XQALIN1,XQAMSG,XQAID,XQAFLG,XQAOPT,XQAOPT1,XQAROU,XQADATA,XQI,XQX,XQJ,XQK,XQA1,XQACTMSG,XQJ,XQXI,XQAARCH,XQACNDEL,XQAREVUE,XQASUPV,XQASURO,XQATEXT
"RTN","XQALSET",119,0)
 Q RETVAL
"RTN","XQALSET",120,0)
 ;
"RTN","XQALSET",121,0)
SNDNACTV(XQAID) ; Determine if we go ahead and send alerts addressed only to inactive users to backup reviewers
"RTN","XQALSET",122,0)
 N XVAL
"RTN","XQALSET",123,0)
 I $E(XQAID,1,3)="TIU" S XVAL=$E($P(XQAID,";"),4,99),XVAL=$$GET1^DIQ(8925,XVAL_",",1201,"I") I XVAL>0,$$FMDIFF^XLFDT(DT,XVAL)>60 Q 0
"RTN","XQALSET",124,0)
 Q 1
"RTN","XQALSET",125,0)
 ;
"RTN","XQALSET",126,0)
SETIEN(XQA1,XQI) ; determine unique XQAID value for alert
"RTN","XQALSET",127,0)
 N XQAID
"RTN","XQALSET",128,0)
 S:$G(XQA1)="" XQA1="NO-ID" F  S XQAID=XQA1_";"_DUZ_";"_XQI L +^XTV(8992,"AXQA",XQAID):10 D  L -^XTV(8992,"AXQA",XQAID) Q:XQI=""  S XQI=XQI+.00000001
"RTN","XQALSET",129,0)
 . I $D(^XTV(8992,"AXQA",XQAID)) Q
"RTN","XQALSET",130,0)
 . S ^XTV(8992,"AXQA",XQAID,0,0)="",XQI=""
"RTN","XQALSET",131,0)
 . Q
"RTN","XQALSET",132,0)
 Q XQAID
"RTN","XQALSET",133,0)
 ;
"RTN","XQALSET",134,0)
SETTRACK ; Setup entry in Alert Tracking file
"RTN","XQALSET",135,0)
 ; Note: if there are error messages or we can't create an entry for some reason, it simply returns and continues
"RTN","XQALSET",136,0)
 N FDA,IENS,XQA2,DIERR
"RTN","XQALSET",137,0)
 S XQADA=0
"RTN","XQALSET",138,0)
 S XQA2=XQA1 I XQA2[",",$P(XQA2,",",3)'="" S XQA2=$P(XQA2,",")_","_$P(XQA2,",",3)
"RTN","XQALSET",139,0)
 F  D  Q:'$D(DIERR)  Q:'$D(^TMP("DIERR",$J,"E",111))
"RTN","XQALSET",140,0)
 . K DIERR,^TMP("DIERR",$J)
"RTN","XQALSET",141,0)
 . S FDA=$NA(^TMP($J,"XQALSET")) K @FDA
"RTN","XQALSET",142,0)
 . S @FDA@(8992.1,"+1,",.01)=XQAID D UPDATE^DIE("",FDA,"IENS")
"RTN","XQALSET",143,0)
 . K @FDA
"RTN","XQALSET",144,0)
 . Q
"RTN","XQALSET",145,0)
 I $D(DIERR) Q  ;S XQDIERR1=DIERR M XQDIERR=^TMP("DIERR",$J) Q
"RTN","XQALSET",146,0)
 Q:IENS(1)'>0  S (DA,XQADA)=IENS(1)
"RTN","XQALSET",147,0)
 S IENS=IENS(1)_",",@FDA@(8992.1,IENS,.02)=XQX,^(.03)=XQA2,^(.05)=DUZ,^(1.01)=XQAMSG
"RTN","XQALSET",148,0)
 I $D(XQAARCH) S X=$$FMADD^XLFDT(DT,XQAARCH) I X>DT S @FDA@(8992.1,IENS,.08)=X
"RTN","XQALSET",149,0)
 I $P(XQA1,",")="OR",$P(XQA1,",",2)>0 S @FDA@(8992.1,IENS,.04)=$P(XQA1,",",2)
"RTN","XQALSET",150,0)
 I $D(ZTQUEUED) S @FDA@(8992.1,IENS,.06)=1
"RTN","XQALSET",151,0)
 I $D(XQAOPT)#2 S @FDA@(8992.1,IENS,1.02)=XQAOPT
"RTN","XQALSET",152,0)
 I $D(XQAROU)#2 N XQAXX S XQAXX=$S(XQAROU[U:XQAROU,1:U_XQAROU) I $P(XQAXX,U,2)'="" S:$P(XQAXX,U)'="" @FDA@(8992.1,IENS,1.03)=$P(XQAXX,U) S @FDA@(8992.1,IENS,1.04)=$P(XQAXX,U,2)
"RTN","XQALSET",153,0)
 I $D(XQACTMSG) S @FDA@(8992.1,IENS,1.05)=XQACTMSG
"RTN","XQALSET",154,0)
 I $D(XQADATA) S @FDA@(8992.1,IENS,2)=XQADATA
"RTN","XQALSET",155,0)
 I $D(XQAGUID) S @FDA@(8992.1,IENS,3.01)=XQAGUID
"RTN","XQALSET",156,0)
 I $D(XQADFN) S @FDA@(8992.1,IENS,.04)=XQADFN
"RTN","XQALSET",157,0)
 D FILE^DIE("KS",FDA)
"RTN","XQALSET",158,0)
 I $D(XQATEXT) D WP^DIE(8992.1,IENS,4,"","XQATEXT")
"RTN","XQALSET",159,0)
 Q
"RTN","XQALSET",160,0)
 ;
"RTN","XQALSET",161,0)
CHEKUSER(XQAUSER) ; .SR Returns 0 if no valid user or surrogate, otherwise returns IEN of user or surrogate
"RTN","XQALSET",162,0)
 Q $$CHEKUSER^XQALSET1(XQAUSER)
"RTN","XQALSET",163,0)
 ;
"SEC","^DIC",19641,19641,0,"AUDIT")
@
"SEC","^DIC",19641,19641,0,"DD")
@
"SEC","^DIC",19641.1,19641.1,0,"AUDIT")
@
"SEC","^DIC",19641.1,19641.1,0,"DD")
@
"SEC","^DIC",19641.2,19641.2,0,"AUDIT")
@
"SEC","^DIC",19641.2,19641.2,0,"DD")
@
"SEC","^DIC",19641.22,19641.22,0,"AUDIT")
@
"SEC","^DIC",19641.22,19641.22,0,"DD")
@
"SEC","^DIC",19641.23,19641.23,0,"AUDIT")
@
"SEC","^DIC",19641.23,19641.23,0,"DD")
@
"SEC","^DIC",19641.31,19641.31,0,"AUDIT")
@
"SEC","^DIC",19641.31,19641.31,0,"DD")
@
"SEC","^DIC",19641.4,19641.4,0,"AUDIT")
@
"SEC","^DIC",19641.4,19641.4,0,"DD")
@
"SEC","^DIC",19641.4,19641.4,0,"DEL")
@
"SEC","^DIC",19641.4,19641.4,0,"LAYGO")
@
"SEC","^DIC",19641.4,19641.4,0,"RD")
@
"SEC","^DIC",19641.4,19641.4,0,"WR")
@
"SEC","^DIC",19641.41,19641.41,0,"AUDIT")
@
"SEC","^DIC",19641.41,19641.41,0,"DD")
@
"SEC","^DIC",19641.43,19641.43,0,"AUDIT")
@
"SEC","^DIC",19641.43,19641.43,0,"DD")
@
"SEC","^DIC",19641.44,19641.44,0,"AUDIT")
@
"SEC","^DIC",19641.44,19641.44,0,"DD")
@
"SEC","^DIC",19641.45,19641.45,0,"AUDIT")
@
"SEC","^DIC",19641.45,19641.45,0,"DD")
@
"SEC","^DIC",19641.48,19641.48,0,"AUDIT")
@
"SEC","^DIC",19641.48,19641.48,0,"DD")
@
"SEC","^DIC",19641.49,19641.49,0,"AUDIT")
@
"SEC","^DIC",19641.49,19641.49,0,"DD")
@
"SEC","^DIC",19641.6,19641.6,0,"AUDIT")
@
"SEC","^DIC",19641.6,19641.6,0,"DD")
@
"SEC","^DIC",19641.61,19641.61,0,"AUDIT")
@
"SEC","^DIC",19641.61,19641.61,0,"DD")
@
"SEC","^DIC",21695.5,21695.5,0,"AUDIT")
@
"SEC","^DIC",21695.5,21695.5,0,"DD")
@
"SEC","^DIC",21695.5,21695.5,0,"DEL")
@
"SEC","^DIC",21695.5,21695.5,0,"LAYGO")
@
"SEC","^DIC",21695.5,21695.5,0,"RD")
@
"SEC","^DIC",21695.5,21695.5,0,"WR")
@
"VER")
8.0^22.0
"^DD",790,790,.01,0)
NAME^RP2'X^DPT(^0;1^S:$D(X) DINUM=X I $P(^DPT(DINUM,0),"^",2)'="F" K X D EN^DDIOL("Patient is not female.")
"^DD",790,790,.01,1,0)
^.1^^-1
"^DD",790,790,.01,1,1,0)
790^B
"^DD",790,790,.01,1,1,1)
S ^WV(790,"B",$E(X,1,30),DA)=""
"^DD",790,790,.01,1,1,2)
K ^WV(790,"B",$E(X,1,30),DA)
"^DD",790,790,.01,3)

"^DD",790,790,.01,21,0)
^^2^2^2980918^
"^DD",790,790,.01,21,1,0)
This field contains the patient's name.  It is a pointer to the Patient
"^DD",790,790,.01,21,2,0)
(#2) file.
"^DD",790,790,.01,"DT")
3140129
"^DD",790,790,.13,0)
CURRENTLY PREGNANT^S^1:YES;0:NO;^0;13^Q
"^DD",790,790,.13,1,0)
^.1
"^DD",790,790,.13,1,1,0)
790^AEDC^MUMPS
"^DD",790,790,.13,1,1,1)
S WVPREG=X,WVEDC=$P(^WV(790,DA,0),U,14) D STOREDC^WVUTL3
"^DD",790,790,.13,1,1,2)
S WVPREG="",WVEDC=0 D STOREDC^WVUTL3
"^DD",790,790,.13,1,1,"DT")
2941024
"^DD",790,790,.13,1,2,0)
790^AVFD^MUMPS
"^DD",790,790,.13,1,2,1)
Q
"^DD",790,790,.13,1,2,2)
Q
"^DD",790,790,.13,1,2,"%D",0)
^.101^1^1^3140207^^
"^DD",790,790,.13,1,2,"%D",1,0)
Maternity Tracker trigger for Currently Pregnant
"^DD",790,790,.13,1,2,"DT")
3140207
"^DD",790,790,.13,3)
Enter 'Yes' if this patient is currently pregnant, 'No' if not, and leave blank if unknown.
"^DD",790,790,.13,4)

"^DD",790,790,.13,21,0)
^.001^4^4^3131205^^^^
"^DD",790,790,.13,21,1,0)
This field contains information on the pregnancy status of the patient.
"^DD",790,790,.13,21,2,0)
The status is a set of codes: 1 = Yes if this patient is currently
"^DD",790,790,.13,21,3,0)
pregnant, 0 = No, if not.  When the pregnanacy status is unknown, the
"^DD",790,790,.13,21,4,0)
field is blank.
"^DD",790,790,.13,"DT")
3140207
"^DD",19641,19641,0)
FIELD^^.03^3
"^DD",19641,19641,0,"DDA")
N
"^DD",19641,19641,0,"DT")
3140127
"^DD",19641,19641,0,"IX","B",19641,.01)

"^DD",19641,19641,0,"IX","TRACKING",19641,.02)

"^DD",19641,19641,0,"NM","DSIO PATIENT")

"^DD",19641,19641,0,"PT",19641.2,.01)

"^DD",19641,19641,.01,0)
PATIENT^R*P2'X^DPT(^0;1^S DIC("S")="I $P(^DPT(Y,0),U,2)=""F""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X S:$D(X) DINUM=X
"^DD",19641,19641,.01,1,0)
^.1
"^DD",19641,19641,.01,1,1,0)
19641^B
"^DD",19641,19641,.01,1,1,1)
S ^DSIO(19641,"B",$E(X,1,30),DA)=""
"^DD",19641,19641,.01,1,1,2)
K ^DSIO(19641,"B",$E(X,1,30),DA)
"^DD",19641,19641,.01,3)

"^DD",19641,19641,.01,12)
Only female patients.
"^DD",19641,19641,.01,12.1)
S DIC("S")="I $P(^DPT(Y,0),U,2)=""F"""
"^DD",19641,19641,.01,"DT")
3131118
"^DD",19641,19641,.02,0)
TRACKING STATUS^S^0:NO;1:YES;2:FLAG;^0;2^Q
"^DD",19641,19641,.02,1,0)
^.1
"^DD",19641,19641,.02,1,1,0)
19641^TRACKING
"^DD",19641,19641,.02,1,1,1)
S ^DSIO(19641,"TRACKING",$E(X,1,30),DA)=""
"^DD",19641,19641,.02,1,1,2)
K ^DSIO(19641,"TRACKING",$E(X,1,30),DA)
"^DD",19641,19641,.02,1,1,"DT")
3131120
"^DD",19641,19641,.02,"DT")
3131202
"^DD",19641,19641,.03,0)
NEXT CONTACT DATE^D^^0;3^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.03,"DT")
3140127
"^DD",19641.1,19641.1,0)
FIELD^^.04^14
"^DD",19641.1,19641.1,0,"DDA")
N
"^DD",19641.1,19641.1,0,"DT")
3140205
"^DD",19641.1,19641.1,0,"IX","B",19641.1,.01)

"^DD",19641.1,19641.1,0,"NM","DSIO NON-VA ENTITIES")

"^DD",19641.1,19641.1,0,"PT",19641.1,.04)

"^DD",19641.1,19641.1,.01,0)
NAME^RF^^0;1^K:$L(X)>100!($L(X)<1) X
"^DD",19641.1,19641.1,.01,1,0)
^.1
"^DD",19641.1,19641.1,.01,1,1,0)
19641.1^B
"^DD",19641.1,19641.1,.01,1,1,1)
S ^DSIO(19641.1,"B",$E(X,1,30),DA)=""
"^DD",19641.1,19641.1,.01,1,1,2)
K ^DSIO(19641.1,"B",$E(X,1,30),DA)
"^DD",19641.1,19641.1,.01,3)
Answer must be 1-100 characters in length.
"^DD",19641.1,19641.1,.01,"DT")
3140127
"^DD",19641.1,19641.1,.02,0)
TYPE^RS^F:FACILITY;P:PROVIDER;^0;2^Q
"^DD",19641.1,19641.1,.02,"DT")
3140127
"^DD",19641.1,19641.1,.03,0)
INACTIVE^S^0:NO;1:YES;^0;3^Q
"^DD",19641.1,19641.1,.03,"DT")
3140127
"^DD",19641.1,19641.1,.04,0)
PRIMARY CONTACT^*P19641.1^DSIO(19641.1,^0;4^S DIC("S")="I $P(^(0),U,2)=""P""&($P(^DSIO(19641.1,DA,0),U,2)=""F"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.1,19641.1,.04,12)
ONLY PROVIDER TYPE ENTITIES
"^DD",19641.1,19641.1,.04,12.1)
S DIC("S")="I $P(^(0),U,2)=""P""&($P(^DSIO(19641.1,DA,0),U,2)=""F"")"
"^DD",19641.1,19641.1,.04,"DT")
3140205
"^DD",19641.1,19641.1,1.1,0)
STREET ADDRESS 1^F^^1;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.1,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.1,"DT")
3140127
"^DD",19641.1,19641.1,1.2,0)
STREET ADDRESS 2^F^^1;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.2,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.2,"DT")
3140127
"^DD",19641.1,19641.1,1.3,0)
STREET ADDRESS 3^F^^1;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.3,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.3,"DT")
3140127
"^DD",19641.1,19641.1,1.4,0)
CITY^F^^1;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641.1,19641.1,1.4,3)
Answer must be 1-20 characters in length.
"^DD",19641.1,19641.1,1.4,21,0)
^^3^3^3140127^
"^DD",19641.1,19641.1,1.4,21,1,0)
Enter the city in which this applicant resides [1-20 characters]. If the 
"^DD",19641.1,19641.1,1.4,21,2,0)
space provided is not sufficient please abbreviate the city to the best 
"^DD",19641.1,19641.1,1.4,21,3,0)
of your ability. 
"^DD",19641.1,19641.1,1.4,"DT")
3140127
"^DD",19641.1,19641.1,1.5,0)
STATE^*P5'X^DIC(5,^1;5^S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X I $D(X) S X=$P(^DIC(5,X,0),U)
"^DD",19641.1,19641.1,1.5,3)
Select from the available listing the state in which this entity resides.
"^DD",19641.1,19641.1,1.5,12)
This screen prevents selection of entires that are valid US states or possessions.
"^DD",19641.1,19641.1,1.5,12.1)
S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1"
"^DD",19641.1,19641.1,1.5,21,0)
^^1^1^3140127^
"^DD",19641.1,19641.1,1.5,21,1,0)
From the available listing choose the state in which this entity resides.
"^DD",19641.1,19641.1,1.5,"DT")
3140212
"^DD",19641.1,19641.1,1.6,0)
ZIP CODE^FX^^1;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>5!($L(X)<5)!'(X?5N) X
"^DD",19641.1,19641.1,1.6,3)
Enter the zip code for the city in which this entity resides.
"^DD",19641.1,19641.1,1.6,21,0)
^^1^1^3140127^
"^DD",19641.1,19641.1,1.6,21,1,0)
Enter the zip code [5 numerics] for the city in which this entity resides.
"^DD",19641.1,19641.1,1.6,"DT")
3140127
"^DD",19641.1,19641.1,2.1,0)
PHONE NUMBER (HOME)^F^^2;1^K:$L(X)>20!($L(X)<4) X
"^DD",19641.1,19641.1,2.1,3)
Answer must be 4-20 characters in length.
"^DD",19641.1,19641.1,2.1,"DT")
3140127
"^DD",19641.1,19641.1,2.2,0)
PHONE NUMBER (OFFICE)^F^^2;2^K:$L(X)>20!($L(X)<4) X
"^DD",19641.1,19641.1,2.2,3)
Answer must be 4-20 characters in length.
"^DD",19641.1,19641.1,2.2,"DT")
3140127
"^DD",19641.1,19641.1,2.3,0)
PHONE NUMBER (CELL)^F^^2;3^K:$L(X)>20!($L(X)<4) X
"^DD",19641.1,19641.1,2.3,3)
Answer must be 4-20 characters in length.
"^DD",19641.1,19641.1,2.3,"DT")
3140127
"^DD",19641.1,19641.1,2.4,0)
FAX NUMBER^F^^2;4^K:$L(X)>20!($L(X)<4) X
"^DD",19641.1,19641.1,2.4,3)
Answer must be 4-20 characters in length.
"^DD",19641.1,19641.1,2.4,"DT")
3140127
"^DD",19641.2,19641.2,0)
FIELD^^1^2
"^DD",19641.2,19641.2,0,"DDA")
N
"^DD",19641.2,19641.2,0,"DT")
3140102
"^DD",19641.2,19641.2,0,"IX","B",19641.2,.01)

"^DD",19641.2,19641.2,0,"NM","DSIO TRACKING HISTORY")

"^DD",19641.2,19641.2,.01,0)
PATIENT^R*P19641X^DSIO(19641,^0;1^S DIC("S")="I $P(^DPT(Y,0),U,2)=""F""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X S:$D(X) DINUM=X
"^DD",19641.2,19641.2,.01,1,0)
^.1
"^DD",19641.2,19641.2,.01,1,1,0)
19641.2^B
"^DD",19641.2,19641.2,.01,1,1,1)
S ^DSIO(19641.2,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.2,.01,1,1,2)
K ^DSIO(19641.2,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.2,.01,1,1,"DT")
3140102
"^DD",19641.2,19641.2,.01,3)

"^DD",19641.2,19641.2,.01,12)
Only female patients.
"^DD",19641.2,19641.2,.01,12.1)
S DIC("S")="I $P(^DPT(Y,0),U,2)=""F"""
"^DD",19641.2,19641.2,.01,"DT")
3140102
"^DD",19641.2,19641.2,1,0)
TRACKING HISTORY LOG^19641.24D^^1;0
"^DD",19641.2,19641.24,0)
TRACKING HISTORY LOG SUB-FIELD^^2^6
"^DD",19641.2,19641.24,0,"DT")
3140102
"^DD",19641.2,19641.24,0,"NM","TRACKING HISTORY LOG")

"^DD",19641.2,19641.24,0,"UP")
19641.2
"^DD",19641.2,19641.24,.01,0)
TRACKING DATE^MRDXI^^0;1^K X S X=$$NOW^XLFDT
"^DD",19641.2,19641.24,.01,1,0)
^.1^^0
"^DD",19641.2,19641.24,.01,3)
Only present date and time will be used.
"^DD",19641.2,19641.24,.01,"DT")
3140103
"^DD",19641.2,19641.24,.02,0)
ACTION^RSI^0:STOP;1:START;2:FLAG;3:REJECT;4:ACCEPT;^0;2^Q
"^DD",19641.2,19641.24,.02,"DT")
3140105
"^DD",19641.2,19641.24,.03,0)
USER^RP200'I^VA(200,^0;3^Q
"^DD",19641.2,19641.24,.03,"DT")
3140102
"^DD",19641.2,19641.24,.04,0)
SOURCE^P19641.22X^DSIO(19641.22,^0;4^S X=^DSIO(19641.22,X,0) Q
"^DD",19641.2,19641.24,.04,"DT")
3140102
"^DD",19641.2,19641.24,1,0)
REASON^19641.241P^^1;0
"^DD",19641.2,19641.24,2,0)
COMMENT^19641.242^^2;0
"^DD",19641.2,19641.241,0)
REASON SUB-FIELD^^.01^1
"^DD",19641.2,19641.241,0,"DT")
3140102
"^DD",19641.2,19641.241,0,"IX","B",19641.241,.01)

"^DD",19641.2,19641.241,0,"NM","REASON")

"^DD",19641.2,19641.241,0,"UP")
19641.24
"^DD",19641.2,19641.241,.01,0)
REASON^MP19641.23X^DSIO(19641.23,^0;1^S X=^DSIO(19641.23,X,0) Q
"^DD",19641.2,19641.241,.01,1,0)
^.1
"^DD",19641.2,19641.241,.01,1,1,0)
19641.241^B
"^DD",19641.2,19641.241,.01,1,1,1)
S ^DSIO(19641.2,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.241,.01,1,1,2)
K ^DSIO(19641.2,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.241,.01,"DT")
3140102
"^DD",19641.2,19641.242,0)
COMMENT SUB-FIELD^^.01^1
"^DD",19641.2,19641.242,0,"DT")
3140102
"^DD",19641.2,19641.242,0,"NM","COMMENT")

"^DD",19641.2,19641.242,0,"UP")
19641.24
"^DD",19641.2,19641.242,.01,0)
COMMENT^Wx^^0;1^Q
"^DD",19641.2,19641.242,.01,"DT")
3140102
"^DD",19641.22,19641.22,0)
FIELD^^.02^2
"^DD",19641.22,19641.22,0,"DDA")
N
"^DD",19641.22,19641.22,0,"DT")
3131206
"^DD",19641.22,19641.22,0,"IX","B",19641.22,.01)

"^DD",19641.22,19641.22,0,"NM","DSIO TRACKING SOURCE")

"^DD",19641.22,19641.22,0,"PT",19641.21,.05)

"^DD",19641.22,19641.22,0,"PT",19641.24,.04)

"^DD",19641.22,19641.22,.01,0)
TRACKING SOURCE^RF^^0;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.22,19641.22,.01,1,0)
^.1
"^DD",19641.22,19641.22,.01,1,1,0)
19641.22^B
"^DD",19641.22,19641.22,.01,1,1,1)
S ^DSIO(19641.22,"B",$E(X,1,30),DA)=""
"^DD",19641.22,19641.22,.01,1,1,2)
K ^DSIO(19641.22,"B",$E(X,1,30),DA)
"^DD",19641.22,19641.22,.01,3)
Answer must be 1-50 characters in length.
"^DD",19641.22,19641.22,.01,"DT")
3131205
"^DD",19641.22,19641.22,.02,0)
SYSTEM^S^0:NO;1:YES;^0;2^Q
"^DD",19641.22,19641.22,.02,"DT")
3131206
"^DD",19641.23,19641.23,0)
FIELD^^.02^2
"^DD",19641.23,19641.23,0,"DDA")
N
"^DD",19641.23,19641.23,0,"DT")
3140103
"^DD",19641.23,19641.23,0,"IX","B",19641.23,.01)

"^DD",19641.23,19641.23,0,"NM","DSIO TRACKING REASON")

"^DD",19641.23,19641.23,0,"PT",19641.241,.01)

"^DD",19641.23,19641.23,.01,0)
TRACKING REASON^RF^^0;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.23,19641.23,.01,1,0)
^.1
"^DD",19641.23,19641.23,.01,1,1,0)
19641.23^B
"^DD",19641.23,19641.23,.01,1,1,1)
S ^DSIO(19641.23,"B",$E(X,1,30),DA)=""
"^DD",19641.23,19641.23,.01,1,1,2)
K ^DSIO(19641.23,"B",$E(X,1,30),DA)
"^DD",19641.23,19641.23,.01,3)
Answer must be 1-50 characters in length.
"^DD",19641.23,19641.23,.01,"DT")
3131205
"^DD",19641.23,19641.23,.02,0)
SYSTEM^S^0:NO;1:YES;^0;2^Q
"^DD",19641.23,19641.23,.02,"DT")
3140103
"^DD",19641.31,19641.31,0)
FIELD^^.01^1
"^DD",19641.31,19641.31,0,"DDA")
N
"^DD",19641.31,19641.31,0,"DT")
3131218
"^DD",19641.31,19641.31,0,"IX","B",19641.31,.01)

"^DD",19641.31,19641.31,0,"NM","DSIO CPRS PROBLEM")

"^DD",19641.31,19641.31,.01,0)
ICD9^RP80^ICD9(^0;1^Q
"^DD",19641.31,19641.31,.01,.1)
ICD9 TRIGGER
"^DD",19641.31,19641.31,.01,1,0)
^.1
"^DD",19641.31,19641.31,.01,1,1,0)
19641.31^B
"^DD",19641.31,19641.31,.01,1,1,1)
S ^DSIO(19641.31,"B",$E(X,1,30),DA)=""
"^DD",19641.31,19641.31,.01,1,1,2)
K ^DSIO(19641.31,"B",$E(X,1,30),DA)
"^DD",19641.31,19641.31,.01,3)

"^DD",19641.31,19641.31,.01,"DT")
3131218
"^DD",19641.33,19641.33,0)
FIELD^^100^2
"^DD",19641.33,19641.33,0,"DT")
3140203
"^DD",19641.33,19641.33,0,"IX","B",19641.33,.01)

"^DD",19641.33,19641.33,0,"NM","DSIO LAB TEST")

"^DD",19641.33,19641.33,.01,0)
LAB TEST^RP60'^LAB(60,^0;1^Q
"^DD",19641.33,19641.33,.01,1,0)
^.1
"^DD",19641.33,19641.33,.01,1,1,0)
19641.33^B
"^DD",19641.33,19641.33,.01,1,1,1)
S ^DSIO(19641.33,"B",$E(X,1,30),DA)=""
"^DD",19641.33,19641.33,.01,1,1,2)
K ^DSIO(19641.33,"B",$E(X,1,30),DA)
"^DD",19641.33,19641.33,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",19641.33,19641.33,.01,"DT")
3140130
"^DD",19641.33,19641.33,100,0)
SITE/SPECIMEN^19641.34P^^1;0
"^DD",19641.33,19641.34,0)
SITE/SPECIMEN SUB-FIELD^^2^3
"^DD",19641.33,19641.34,0,"DT")
3140203
"^DD",19641.33,19641.34,0,"IX","B",19641.34,.01)

"^DD",19641.33,19641.34,0,"NM","SITE/SPECIMEN")

"^DD",19641.33,19641.34,0,"UP")
19641.33
"^DD",19641.33,19641.34,.01,0)
SITE/SPECIMEN^P61'^LAB(61,^0;1^Q
"^DD",19641.33,19641.34,.01,1,0)
^.1
"^DD",19641.33,19641.34,.01,1,1,0)
19641.34^B
"^DD",19641.33,19641.34,.01,1,1,1)
S ^DSIO(19641.33,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.33,19641.34,.01,1,1,2)
K ^DSIO(19641.33,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.33,19641.34,.01,"DT")
3140130
"^DD",19641.33,19641.34,1,0)
POSITIVE LAB VALUE^RNJ5,1^^0;2^K:+X'=X!(X>100)!(X<1)!(X?.E1"."2.N) X
"^DD",19641.33,19641.34,1,3)
Type a number between 1 and 100, 1 decimal digit.
"^DD",19641.33,19641.34,1,"DT")
3140203
"^DD",19641.33,19641.34,2,0)
REASON^RF^^0;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.33,19641.34,2,3)
Answer must be 1-50 characters in length.
"^DD",19641.33,19641.34,2,"DT")
3140203
"^DD",19641.4,19641.4,0)
FIELD^^1^2
"^DD",19641.4,19641.4,0,"DDA")
N
"^DD",19641.4,19641.4,0,"DT")
3140127
"^DD",19641.4,19641.4,0,"IX","B",19641.4,.01)

"^DD",19641.4,19641.4,0,"NM","DSIO NOTE CONTROL")

"^DD",19641.4,19641.4,.01,0)
DOCUMENT DEFINITION^RP8925.1'X^TIU(8925.1,^0;1^S:$D(X) DINUM=X
"^DD",19641.4,19641.4,.01,1,0)
^.1
"^DD",19641.4,19641.4,.01,1,1,0)
19641.4^B
"^DD",19641.4,19641.4,.01,1,1,1)
S ^DSIO(19641.4,"B",$E(X,1,30),DA)=""
"^DD",19641.4,19641.4,.01,1,1,2)
K ^DSIO(19641.4,"B",$E(X,1,30),DA)
"^DD",19641.4,19641.4,.01,3)

"^DD",19641.4,19641.4,.01,"DT")
3140127
"^DD",19641.4,19641.4,1,0)
DATA^19641.42A^^1;0
"^DD",19641.4,19641.42,0)
DATA SUB-FIELD^^1^2
"^DD",19641.4,19641.42,0,"DT")
3140127
"^DD",19641.4,19641.42,0,"IX","B",19641.42,.01)

"^DD",19641.4,19641.42,0,"NM","DATA")

"^DD",19641.4,19641.42,0,"UP")
19641.4
"^DD",19641.4,19641.42,.01,0)
FIELD^F^^0;1^K:$L(X)>45!($L(X)<1) X
"^DD",19641.4,19641.42,.01,1,0)
^.1
"^DD",19641.4,19641.42,.01,1,1,0)
19641.42^B
"^DD",19641.4,19641.42,.01,1,1,1)
S ^DSIO(19641.4,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.4,19641.42,.01,1,1,2)
K ^DSIO(19641.4,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.4,19641.42,.01,3)
Answer must be 1-45 characters in length.
"^DD",19641.4,19641.42,.01,"DT")
3140127
"^DD",19641.4,19641.42,1,0)
XECUTE^K^^1;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",19641.4,19641.42,1,3)
This is Standard MUMPS code where X is the data being passed in and DFN is the patient IEN.
"^DD",19641.4,19641.42,1,9)
@
"^DD",19641.4,19641.42,1,"DT")
3140127
"^DD",19641.41,19641.41,0)
FIELD^^.02^4
"^DD",19641.41,19641.41,0,"DDA")
N
"^DD",19641.41,19641.41,0,"DT")
3140320
"^DD",19641.41,19641.41,0,"IX","B",19641.41,.01)

"^DD",19641.41,19641.41,0,"NM","DSIO NOTE DATA")

"^DD",19641.41,19641.41,.01,0)
NOTE^RP8925'X^TIU(8925,^0;1^S:$D(X) DINUM=X
"^DD",19641.41,19641.41,.01,1,0)
^.1
"^DD",19641.41,19641.41,.01,1,1,0)
19641.41^B
"^DD",19641.41,19641.41,.01,1,1,1)
S ^DSIO(19641.41,"B",$E(X,1,30),DA)=""
"^DD",19641.41,19641.41,.01,1,1,2)
K ^DSIO(19641.41,"B",$E(X,1,30),DA)
"^DD",19641.41,19641.41,.01,3)

"^DD",19641.41,19641.41,.01,"DT")
3140131
"^DD",19641.41,19641.41,.02,0)
JOB^F^^0;2^K:$L(X)>20!($L(X)<1) X
"^DD",19641.41,19641.41,.02,3)
Answer must be 1-20 characters in length.
"^DD",19641.41,19641.41,.02,"DT")
3140320
"^DD",19641.41,19641.41,1,0)
DATA^19641.411AV^^1;0
"^DD",19641.41,19641.41,2,0)
DIALOGS^19641.412PA^^2;0
"^DD",19641.41,19641.411,0)
DATA SUB-FIELD^^.02^2
"^DD",19641.41,19641.411,0,"DT")
3140320
"^DD",19641.41,19641.411,0,"IX","B",19641.411,.01)

"^DD",19641.41,19641.411,0,"NM","DATA")

"^DD",19641.41,19641.411,0,"UP")
19641.41
"^DD",19641.41,19641.411,.01,0)
DATA^V^^0;1^Q
"^DD",19641.41,19641.411,.01,1,0)
^.1
"^DD",19641.41,19641.411,.01,1,1,0)
19641.411^B
"^DD",19641.41,19641.411,.01,1,1,1)
S ^DSIO(19641.41,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.41,19641.411,.01,1,1,2)
K ^DSIO(19641.41,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.41,19641.411,.01,1,1,3)
Required Index for Variable Pointer
"^DD",19641.41,19641.411,.01,"DT")
3140321
"^DD",19641.41,19641.411,.01,"V",0)
^.12P^4^3
"^DD",19641.41,19641.411,.01,"V",2,0)
19641.44^MULTIPLE^2^M^^y
"^DD",19641.41,19641.411,.01,"V",3,0)
19641.45^WORD PROCESSING^3^WP^^y
"^DD",19641.41,19641.411,.01,"V",4,0)
19641.43^SINGLE^1^S^^y
"^DD",19641.41,19641.411,.02,0)
JOB^F^^0;2^K:$L(X)>20!($L(X)<1) X
"^DD",19641.41,19641.411,.02,1,0)
^.1^^0
"^DD",19641.41,19641.411,.02,3)
Answer must be 1-20 characters in length.
"^DD",19641.41,19641.411,.02,"DT")
3140320
"^DD",19641.41,19641.412,0)
DIALOGS SUB-FIELD^^1^2
"^DD",19641.41,19641.412,0,"DT")
3140320
"^DD",19641.41,19641.412,0,"IX","B",19641.412,.01)

"^DD",19641.41,19641.412,0,"NM","DIALOGS")

"^DD",19641.41,19641.412,0,"UP")
19641.41
"^DD",19641.41,19641.412,.01,0)
DIALOG^P19641.49'X^DSIO(19641.49,^0;1^S:$D(X) DINUM=X
"^DD",19641.41,19641.412,.01,1,0)
^.1
"^DD",19641.41,19641.412,.01,1,1,0)
19641.412^B
"^DD",19641.41,19641.412,.01,1,1,1)
S ^DSIO(19641.41,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.41,19641.412,.01,1,1,2)
K ^DSIO(19641.41,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.41,19641.412,.01,"DT")
3140317
"^DD",19641.41,19641.412,1,0)
DATA^19641.4121AV^^1;0
"^DD",19641.41,19641.4121,0)
DATA SUB-FIELD^^.02^2
"^DD",19641.41,19641.4121,0,"DT")
3140320
"^DD",19641.41,19641.4121,0,"IX","B",19641.4121,.01)

"^DD",19641.41,19641.4121,0,"NM","DATA")

"^DD",19641.41,19641.4121,0,"UP")
19641.412
"^DD",19641.41,19641.4121,.01,0)
DATA^V^^0;1^Q
"^DD",19641.41,19641.4121,.01,1,0)
^.1
"^DD",19641.41,19641.4121,.01,1,1,0)
19641.4121^B
"^DD",19641.41,19641.4121,.01,1,1,1)
S ^DSIO(19641.41,DA(2),2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.41,19641.4121,.01,1,1,2)
K ^DSIO(19641.41,DA(2),2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.41,19641.4121,.01,1,1,3)
Required Index for Variable Pointer
"^DD",19641.41,19641.4121,.01,"DT")
3140321
"^DD",19641.41,19641.4121,.01,"V",0)
^.12P^3^3
"^DD",19641.41,19641.4121,.01,"V",1,0)
19641.43^SINGLE^1^S^^y
"^DD",19641.41,19641.4121,.01,"V",2,0)
19641.44^MULTIPLE^2^M^^y
"^DD",19641.41,19641.4121,.01,"V",3,0)
19641.45^WORD PROCESSING^3^WP^^y
"^DD",19641.41,19641.4121,.02,0)
JOB^F^^0;2^K:$L(X)>20!($L(X)<1) X
"^DD",19641.41,19641.4121,.02,1,0)
^.1^^0
"^DD",19641.41,19641.4121,.02,3)
Answer must be 1-20 characters in length.
"^DD",19641.41,19641.4121,.02,"DT")
3140320
"^DD",19641.43,19641.43,0)
FIELD^^2.4^6
"^DD",19641.43,19641.43,0,"DDA")
N
"^DD",19641.43,19641.43,0,"DT")
3140317
"^DD",19641.43,19641.43,0,"ID",2.2)
W ""
"^DD",19641.43,19641.43,0,"IX","AC",19641.43,.01)

"^DD",19641.43,19641.43,0,"IX","AD",19641.43,.01)

"^DD",19641.43,19641.43,0,"IX","AE",19641.43,.01)

"^DD",19641.43,19641.43,0,"IX","B",19641.43,.01)

"^DD",19641.43,19641.43,0,"NM","DSIO NOTE S")

"^DD",19641.43,19641.43,0,"PT",19641.411,.01)

"^DD",19641.43,19641.43,0,"PT",19641.4121,.01)

"^DD",19641.43,19641.43,.01,0)
FIELD^RFI^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.43,19641.43,.01,1,0)
^.1
"^DD",19641.43,19641.43,.01,1,1,0)
19641.43^B
"^DD",19641.43,19641.43,.01,1,1,1)
S ^DSIO(19641.43,"B",$E(X,1,30),DA)=""
"^DD",19641.43,19641.43,.01,1,1,2)
K ^DSIO(19641.43,"B",$E(X,1,30),DA)
"^DD",19641.43,19641.43,.01,1,2,0)
19641.43^AC^MUMPS
"^DD",19641.43,19641.43,.01,1,2,1)
Q:$D(DSIOSILENT)  N IPT S IPT(19641.43,DA_",",2.3)=$$NOW^XLFDT D FILE^DIE(,"IPT")
"^DD",19641.43,19641.43,.01,1,2,2)
Q
"^DD",19641.43,19641.43,.01,1,2,"DT")
3140203
"^DD",19641.43,19641.43,.01,1,2,"NOREINDEX")
1
"^DD",19641.43,19641.43,.01,1,3,0)
19641.43^AD^MUMPS
"^DD",19641.43,19641.43,.01,1,3,1)
Q:$D(DSIOSILENT)  N IPT S IPT(19641.43,DA_",",2.1)=DA(1) D FILE^DIE(,"IPT")
"^DD",19641.43,19641.43,.01,1,3,2)
Q
"^DD",19641.43,19641.43,.01,1,3,"DT")
3140203
"^DD",19641.43,19641.43,.01,1,3,"NOREINDEX")
1
"^DD",19641.43,19641.43,.01,1,4,0)
19641.43^AE^MUMPS
"^DD",19641.43,19641.43,.01,1,4,1)
Q:$D(DSIOSILENT)  N DIE,DR,DP,DL,DK,DM,DO,DIEL,X,Y S DIE="^DSIO(19641.43,",DR=1.1 D ^DIE
"^DD",19641.43,19641.43,.01,1,4,2)
Q
"^DD",19641.43,19641.43,.01,1,4,"DT")
3140203
"^DD",19641.43,19641.43,.01,1,4,"NOREINDEX")
1
"^DD",19641.43,19641.43,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.43,19641.43,.01,"DT")
3140320
"^DD",19641.43,19641.43,1.1,0)
VALUE^RFI^^1;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.43,19641.43,1.1,3)
Answer must be 1-245 characters in length.
"^DD",19641.43,19641.43,1.1,"DT")
3140203
"^DD",19641.43,19641.43,2.1,0)
NOTE^RP8925'I^TIU(8925,^2;1^Q
"^DD",19641.43,19641.43,2.1,"DT")
3140320
"^DD",19641.43,19641.43,2.2,0)
SOURCE^RSI^C:CNT;R:REMINDER DIALOG;O:OTHER;D:DIALOG;^2;2^Q
"^DD",19641.43,19641.43,2.2,"DT")
3140317
"^DD",19641.43,19641.43,2.3,0)
DATE^RDI^^2;3^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.43,19641.43,2.3,"DT")
3140204
"^DD",19641.43,19641.43,2.4,0)
CONTROL^F^^2;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.43,19641.43,2.4,3)
Answer must be 1-30 characters in length.
"^DD",19641.43,19641.43,2.4,"DT")
3140312
"^DD",19641.44,19641.44,0)
FIELD^^2.4^6
"^DD",19641.44,19641.44,0,"DDA")
N
"^DD",19641.44,19641.44,0,"DT")
3140317
"^DD",19641.44,19641.44,0,"ID",2.2)
W ""
"^DD",19641.44,19641.44,0,"IX","AC",19641.44,.01)

"^DD",19641.44,19641.44,0,"IX","AD",19641.44,.01)

"^DD",19641.44,19641.44,0,"IX","AE",19641.44,.01)

"^DD",19641.44,19641.44,0,"IX","B",19641.44,.01)

"^DD",19641.44,19641.44,0,"NM","DSIO NOTE M")

"^DD",19641.44,19641.44,0,"PT",19641.411,.01)

"^DD",19641.44,19641.44,0,"PT",19641.4121,.01)

"^DD",19641.44,19641.44,.01,0)
FIELD^RFI^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.44,19641.44,.01,1,0)
^.1
"^DD",19641.44,19641.44,.01,1,1,0)
19641.44^B
"^DD",19641.44,19641.44,.01,1,1,1)
S ^DSIO(19641.44,"B",$E(X,1,30),DA)=""
"^DD",19641.44,19641.44,.01,1,1,2)
K ^DSIO(19641.44,"B",$E(X,1,30),DA)
"^DD",19641.44,19641.44,.01,1,2,0)
19641.44^AC^MUMPS
"^DD",19641.44,19641.44,.01,1,2,1)
Q:$D(DSIOSILENT)  N IPT S IPT(19641.44,DA_",",2.3)=$$NOW^XLFDT D FILE^DIE(,"IPT")
"^DD",19641.44,19641.44,.01,1,2,2)
Q
"^DD",19641.44,19641.44,.01,1,2,"DT")
3140203
"^DD",19641.44,19641.44,.01,1,2,"NOREINDEX")
1
"^DD",19641.44,19641.44,.01,1,3,0)
19641.44^AD^MUMPS
"^DD",19641.44,19641.44,.01,1,3,1)
Q:$D(DSIOSILENT)  N IPT S IPT(19641.44,DA_",",2.1)=DA(1) D FILE^DIE(,"IPT")
"^DD",19641.44,19641.44,.01,1,3,2)
Q
"^DD",19641.44,19641.44,.01,1,3,"DT")
3140203
"^DD",19641.44,19641.44,.01,1,3,"NOREINDEX")
1
"^DD",19641.44,19641.44,.01,1,4,0)
19641.44^AE^MUMPS
"^DD",19641.44,19641.44,.01,1,4,1)
Q:$D(DSIOSILENT)  N DIE,DR,DP,DL,DK,DM,DO,DIEL,X,Y,C S DIE="^DSIO(19641.44,",DR=1.1 F  D ^DIE Q:X=""!(X["^")
"^DD",19641.44,19641.44,.01,1,4,2)
Q
"^DD",19641.44,19641.44,.01,1,4,"DT")
3140203
"^DD",19641.44,19641.44,.01,1,4,"NOREINDEX")
1
"^DD",19641.44,19641.44,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.44,19641.44,.01,"DT")
3140320
"^DD",19641.44,19641.44,1.1,0)
VALUE^19641.46A^^1;0
"^DD",19641.44,19641.44,2.1,0)
NOTE^RP8925'I^TIU(8925,^2;1^Q
"^DD",19641.44,19641.44,2.1,"DT")
3140320
"^DD",19641.44,19641.44,2.2,0)
SOURCE^RSI^C:CNT;R:REMINDER DIALOG;O:OTHER;D:DIALOG;^2;2^Q
"^DD",19641.44,19641.44,2.2,"DT")
3140317
"^DD",19641.44,19641.44,2.3,0)
DATE^RDI^^2;3^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.44,19641.44,2.3,"DT")
3140203
"^DD",19641.44,19641.44,2.4,0)
CONTROL^F^^2;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.44,19641.44,2.4,3)
Answer must be 1-30 characters in length.
"^DD",19641.44,19641.44,2.4,"DT")
3140312
"^DD",19641.44,19641.46,0)
VALUE SUB-FIELD^^.02^2
"^DD",19641.44,19641.46,0,"DT")
3140314
"^DD",19641.44,19641.46,0,"IX","B",19641.46,.01)

"^DD",19641.44,19641.46,0,"NM","VALUE")

"^DD",19641.44,19641.46,0,"UP")
19641.44
"^DD",19641.44,19641.46,.01,0)
INDEX^FIX^^0;1^S:X="+" X=$O(^DSIO(19641.44,D0,1,"B",""),-1)+1 I X'?1.10N,X'?1.4N1","1.4N K X
"^DD",19641.44,19641.46,.01,1,0)
^.1
"^DD",19641.44,19641.46,.01,1,1,0)
19641.46^B
"^DD",19641.44,19641.46,.01,1,1,1)
S ^DSIO(19641.44,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.44,19641.46,.01,1,1,2)
K ^DSIO(19641.44,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.44,19641.46,.01,3)
Answer must be 0 up to 10 digits or ####,####.
"^DD",19641.44,19641.46,.01,"DT")
3140314
"^DD",19641.44,19641.46,.02,0)
VALUE^FI^^0;2^K:$L(X)>235!($L(X)<1) X
"^DD",19641.44,19641.46,.02,3)
Answer must be 1-235 characters in length.
"^DD",19641.44,19641.46,.02,"DT")
3140314
"^DD",19641.45,19641.45,0)
FIELD^^2.4^6
"^DD",19641.45,19641.45,0,"DDA")
N
"^DD",19641.45,19641.45,0,"DT")
3140317
"^DD",19641.45,19641.45,0,"ID",2.2)
W ""
"^DD",19641.45,19641.45,0,"IX","AC",19641.45,.01)

"^DD",19641.45,19641.45,0,"IX","AD",19641.45,.01)

"^DD",19641.45,19641.45,0,"IX","AE",19641.45,.01)

"^DD",19641.45,19641.45,0,"IX","B",19641.45,.01)

"^DD",19641.45,19641.45,0,"NM","DSIO NOTE WP")

"^DD",19641.45,19641.45,0,"PT",19641.411,.01)

"^DD",19641.45,19641.45,0,"PT",19641.4121,.01)

"^DD",19641.45,19641.45,.01,0)
FIELD^RFI^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.45,19641.45,.01,1,0)
^.1
"^DD",19641.45,19641.45,.01,1,1,0)
19641.45^B
"^DD",19641.45,19641.45,.01,1,1,1)
S ^DSIO(19641.45,"B",$E(X,1,30),DA)=""
"^DD",19641.45,19641.45,.01,1,1,2)
K ^DSIO(19641.45,"B",$E(X,1,30),DA)
"^DD",19641.45,19641.45,.01,1,2,0)
19641.45^AC^MUMPS
"^DD",19641.45,19641.45,.01,1,2,1)
Q:$D(DSIOSILENT)  N IPT S IPT(19641.45,DA_",",2.3)=$$NOW^XLFDT D FILE^DIE(,"IPT")
"^DD",19641.45,19641.45,.01,1,2,2)
Q
"^DD",19641.45,19641.45,.01,1,2,"DT")
3140203
"^DD",19641.45,19641.45,.01,1,2,"NOREINDEX")
1
"^DD",19641.45,19641.45,.01,1,3,0)
19641.45^AD^MUMPS
"^DD",19641.45,19641.45,.01,1,3,1)
Q:$D(DSIOSILENT)  N IPT S IPT(19641.45,DA_",",2.1)=DA(1) D FILE^DIE(,"IPT")
"^DD",19641.45,19641.45,.01,1,3,2)
Q
"^DD",19641.45,19641.45,.01,1,3,"DT")
3140203
"^DD",19641.45,19641.45,.01,1,3,"NOREINDEX")
1
"^DD",19641.45,19641.45,.01,1,4,0)
19641.45^AE^MUMPS
"^DD",19641.45,19641.45,.01,1,4,1)
Q:$D(DSIOSILENT)  N DIE,DR,DP,DL,DK,DM,DO,DIEL,X,Y S DIE="^DSIO(19641.45,",DR=1.1 D ^DIE
"^DD",19641.45,19641.45,.01,1,4,2)
Q
"^DD",19641.45,19641.45,.01,1,4,"DT")
3140203
"^DD",19641.45,19641.45,.01,1,4,"NOREINDEX")
1
"^DD",19641.45,19641.45,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.45,19641.45,.01,"DT")
3140320
"^DD",19641.45,19641.45,1.1,0)
VALUE^19641.47^^1;0
"^DD",19641.45,19641.45,2.1,0)
NOTE^RP8925'I^TIU(8925,^2;1^Q
"^DD",19641.45,19641.45,2.1,"DT")
3140320
"^DD",19641.45,19641.45,2.2,0)
SOURCE^RSI^C:CNT;R:REMINDER DIALOG;O:OTHER;D:DIALOG;^2;2^Q
"^DD",19641.45,19641.45,2.2,"DT")
3140317
"^DD",19641.45,19641.45,2.3,0)
DATE^RDI^^2;3^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.45,19641.45,2.3,"DT")
3140203
"^DD",19641.45,19641.45,2.4,0)
CONTROL^F^^2;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.45,19641.45,2.4,3)
Answer must be 1-30 characters in length.
"^DD",19641.45,19641.45,2.4,"DT")
3140312
"^DD",19641.45,19641.47,0)
VALUE SUB-FIELD^^.01^1
"^DD",19641.45,19641.47,0,"DT")
3140203
"^DD",19641.45,19641.47,0,"NM","VALUE")

"^DD",19641.45,19641.47,0,"UP")
19641.45
"^DD",19641.45,19641.47,.01,0)
VALUE^Wx^^0;1^Q
"^DD",19641.45,19641.47,.01,"DT")
3140203
"^DD",19641.48,19641.48,0)
FIELD^^2^3
"^DD",19641.48,19641.48,0,"DDA")
N
"^DD",19641.48,19641.48,0,"DT")
3140318
"^DD",19641.48,19641.48,0,"IX","B",19641.48,.01)

"^DD",19641.48,19641.48,0,"NM","DSIO CNT CONFIGURATION")

"^DD",19641.48,19641.48,.01,0)
DOCUMENT DEFINITION^RP8925.1'X^TIU(8925.1,^0;1^S:$D(X) DINUM=X
"^DD",19641.48,19641.48,.01,1,0)
^.1
"^DD",19641.48,19641.48,.01,1,1,0)
19641.48^B
"^DD",19641.48,19641.48,.01,1,1,1)
S ^DSIO(19641.48,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.48,.01,1,1,2)
K ^DSIO(19641.48,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.48,.01,3)

"^DD",19641.48,19641.48,.01,"DT")
3140307
"^DD",19641.48,19641.48,1,0)
MULT CONTROL^19641.481A^^1;0
"^DD",19641.48,19641.48,1,"DT")
3140318
"^DD",19641.48,19641.48,2,0)
SINGLE CONTROL^19641.482A^^2;0
"^DD",19641.48,19641.481,0)
MULT CONTROL SUB-FIELD^^2^3
"^DD",19641.48,19641.481,0,"DT")
3140318
"^DD",19641.48,19641.481,0,"IX","B",19641.481,.01)

"^DD",19641.48,19641.481,0,"NM","MULT CONTROL")

"^DD",19641.48,19641.481,0,"UP")
19641.48
"^DD",19641.48,19641.481,.01,0)
M CONTROL^FX^^0;1^K:$L(X)>20!($L(X)<1) X S:$D(X) X=$$UP^XLFSTR(X)
"^DD",19641.48,19641.481,.01,1,0)
^.1
"^DD",19641.48,19641.481,.01,1,1,0)
19641.481^B
"^DD",19641.48,19641.481,.01,1,1,1)
S ^DSIO(19641.48,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.481,.01,1,1,2)
K ^DSIO(19641.48,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.481,.01,3)
Enter the 1-20 character name of the multi valued control. Only TListBoxes can use dialogs.
"^DD",19641.48,19641.481,.01,"DT")
3140320
"^DD",19641.48,19641.481,1,0)
DIALOGS^19641.4811PA^^1;0
"^DD",19641.48,19641.481,1,"DT")
3140318
"^DD",19641.48,19641.481,2,0)
ITEMS^19641.4812A^^2;0
"^DD",19641.48,19641.4811,0)
DIALOGS SUB-FIELD^^.01^1
"^DD",19641.48,19641.4811,0,"DT")
3140307
"^DD",19641.48,19641.4811,0,"IX","B",19641.4811,.01)

"^DD",19641.48,19641.4811,0,"NM","DIALOGS")

"^DD",19641.48,19641.4811,0,"UP")
19641.481
"^DD",19641.48,19641.4811,.01,0)
DIALOG^P19641.49'^DSIO(19641.49,^0;1^Q
"^DD",19641.48,19641.4811,.01,1,0)
^.1
"^DD",19641.48,19641.4811,.01,1,1,0)
19641.4811^B
"^DD",19641.48,19641.4811,.01,1,1,1)
S ^DSIO(19641.48,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.4811,.01,1,1,2)
K ^DSIO(19641.48,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.4811,.01,"DT")
3140318
"^DD",19641.48,19641.4812,0)
ITEMS SUB-FIELD^^.02^2
"^DD",19641.48,19641.4812,0,"DT")
3140318
"^DD",19641.48,19641.4812,0,"IX","B",19641.4812,.01)

"^DD",19641.48,19641.4812,0,"NM","ITEMS")

"^DD",19641.48,19641.4812,0,"UP")
19641.481
"^DD",19641.48,19641.4812,.01,0)
INDEX^FX^^0;1^S:X="+" X=$O(^DSIO(19641.48,D0,1,"B",""),-1)+1 I X'?1.10N,X'?1.4N1","1.4N K X
"^DD",19641.48,19641.4812,.01,1,0)
^.1
"^DD",19641.48,19641.4812,.01,1,1,0)
19641.4812^B
"^DD",19641.48,19641.4812,.01,1,1,1)
S ^DSIO(19641.48,DA(2),1,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.4812,.01,1,1,2)
K ^DSIO(19641.48,DA(2),1,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.4812,.01,3)
Answer must be 1-10 characters in length.
"^DD",19641.48,19641.4812,.01,"DT")
3140318
"^DD",19641.48,19641.4812,.02,0)
ITEM^F^^0;2^K:$L(X)>100!($L(X)<1) X
"^DD",19641.48,19641.4812,.02,3)
Answer must be 1-100 characters in length.
"^DD",19641.48,19641.4812,.02,"DT")
3140318
"^DD",19641.48,19641.482,0)
SINGLE CONTROL SUB-FIELD^^.02^2
"^DD",19641.48,19641.482,0,"DT")
3140318
"^DD",19641.48,19641.482,0,"IX","B",19641.482,.01)

"^DD",19641.48,19641.482,0,"NM","SINGLE CONTROL")

"^DD",19641.48,19641.482,0,"UP")
19641.48
"^DD",19641.48,19641.482,.01,0)
S CONTROL^FX^^0;1^K:$L(X)>20!($L(X)<1) X S:$D(X) X=$$UP^XLFSTR(X)
"^DD",19641.48,19641.482,.01,1,0)
^.1
"^DD",19641.48,19641.482,.01,1,1,0)
19641.482^B
"^DD",19641.48,19641.482,.01,1,1,1)
S ^DSIO(19641.48,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.482,.01,1,1,2)
K ^DSIO(19641.48,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.482,.01,3)
Answer must be 1-20 characters in length.
"^DD",19641.48,19641.482,.01,"DT")
3140320
"^DD",19641.48,19641.482,.02,0)
TEXT^F^^0;2^K:$L(X)>200!($L(X)<1) X
"^DD",19641.48,19641.482,.02,3)
Answer must be 1-200 characters in length.
"^DD",19641.48,19641.482,.02,"DT")
3140318
"^DD",19641.49,19641.49,0)
FIELD^^2^5
"^DD",19641.49,19641.49,0,"DDA")
N
"^DD",19641.49,19641.49,0,"DT")
3140319
"^DD",19641.49,19641.49,0,"IX","B",19641.49,.01)

"^DD",19641.49,19641.49,0,"IX","C",19641.49,.03)

"^DD",19641.49,19641.49,0,"NM","DSIO CNT DIALOGS")

"^DD",19641.49,19641.49,0,"PT",19641.412,.01)

"^DD",19641.49,19641.49,0,"PT",19641.481,.01)

"^DD",19641.49,19641.49,0,"PT",19641.4811,.01)

"^DD",19641.49,19641.49,.01,0)
DISPLAY NAME^RF^^0;1^K:$L(X)>100!($L(X)<3) X
"^DD",19641.49,19641.49,.01,1,0)
^.1
"^DD",19641.49,19641.49,.01,1,1,0)
19641.49^B
"^DD",19641.49,19641.49,.01,1,1,1)
S ^DSIO(19641.49,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.49,.01,1,1,2)
K ^DSIO(19641.49,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.49,.01,3)
Answer must be 3-100 characters in length.
"^DD",19641.49,19641.49,.01,"DT")
3140307
"^DD",19641.49,19641.49,.02,0)
UNIT^RF^^0;2^K:$L(X)>30!($L(X)<3) X
"^DD",19641.49,19641.49,.02,3)
Answer must be 3-30 characters in length.
"^DD",19641.49,19641.49,.02,"DT")
3140307
"^DD",19641.49,19641.49,.03,0)
CLASS^RF^^0;3^K:$L(X)>30!($L(X)<3) X
"^DD",19641.49,19641.49,.03,1,0)
^.1
"^DD",19641.49,19641.49,.03,1,1,0)
19641.49^C
"^DD",19641.49,19641.49,.03,1,1,1)
S ^DSIO(19641.49,"C",$E(X,1,30),DA)=""
"^DD",19641.49,19641.49,.03,1,1,2)
K ^DSIO(19641.49,"C",$E(X,1,30),DA)
"^DD",19641.49,19641.49,.03,1,1,"DT")
3140320
"^DD",19641.49,19641.49,.03,3)
Answer must be 3-30 characters in length.
"^DD",19641.49,19641.49,.03,"DT")
3140320
"^DD",19641.49,19641.49,1,0)
MULT CONTROL^19641.491A^^1;0
"^DD",19641.49,19641.49,2,0)
SINGLE CONTROL^19641.492A^^2;0
"^DD",19641.49,19641.491,0)
MULT CONTROL SUB-FIELD^^1^2
"^DD",19641.49,19641.491,0,"DT")
3140319
"^DD",19641.49,19641.491,0,"IX","B",19641.491,.01)

"^DD",19641.49,19641.491,0,"NM","MULT CONTROL")

"^DD",19641.49,19641.491,0,"UP")
19641.49
"^DD",19641.49,19641.491,.01,0)
M CONTROL^FX^^0;1^K:$L(X)>20!($L(X)<1) X S:$D(X) X=$$UP^XLFSTR(X)
"^DD",19641.49,19641.491,.01,1,0)
^.1
"^DD",19641.49,19641.491,.01,1,1,0)
19641.491^B
"^DD",19641.49,19641.491,.01,1,1,1)
S ^DSIO(19641.49,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.491,.01,1,1,2)
K ^DSIO(19641.49,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.491,.01,3)
Answer must be 1-20 characters in length.
"^DD",19641.49,19641.491,.01,"DT")
3140320
"^DD",19641.49,19641.491,1,0)
ITEMS^19641.4911A^^1;0
"^DD",19641.49,19641.4911,0)
ITEMS SUB-FIELD^^.02^2
"^DD",19641.49,19641.4911,0,"DT")
3140319
"^DD",19641.49,19641.4911,0,"IX","B",19641.4911,.01)

"^DD",19641.49,19641.4911,0,"NM","ITEMS")

"^DD",19641.49,19641.4911,0,"UP")
19641.491
"^DD",19641.49,19641.4911,.01,0)
INDEX^FX^^0;1^S:X="+" X=$O(^DSIO(19641.49,D0,1,D1,1,"B",""),-1)+1 I X'?1.10N,X'?1.4N1","1.4N K X
"^DD",19641.49,19641.4911,.01,1,0)
^.1
"^DD",19641.49,19641.4911,.01,1,1,0)
19641.4911^B
"^DD",19641.49,19641.4911,.01,1,1,1)
S ^DSIO(19641.49,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.4911,.01,1,1,2)
K ^DSIO(19641.49,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.4911,.01,3)
Answer must be 1-10 characters in length.
"^DD",19641.49,19641.4911,.01,"DT")
3140319
"^DD",19641.49,19641.4911,.02,0)
ITEM^F^^0;2^K:$L(X)>100!($L(X)<1) X
"^DD",19641.49,19641.4911,.02,3)
Answer must be 1-100 characters in length.
"^DD",19641.49,19641.4911,.02,"DT")
3140319
"^DD",19641.49,19641.492,0)
SINGLE CONTROL SUB-FIELD^^.02^2
"^DD",19641.49,19641.492,0,"DT")
3140319
"^DD",19641.49,19641.492,0,"IX","B",19641.492,.01)

"^DD",19641.49,19641.492,0,"NM","SINGLE CONTROL")

"^DD",19641.49,19641.492,0,"UP")
19641.49
"^DD",19641.49,19641.492,.01,0)
S CONTROL^FX^^0;1^K:$L(X)>20!($L(X)<1) X S:$D(X) X=$$UP^XLFSTR(X)
"^DD",19641.49,19641.492,.01,1,0)
^.1
"^DD",19641.49,19641.492,.01,1,1,0)
19641.492^B
"^DD",19641.49,19641.492,.01,1,1,1)
S ^DSIO(19641.49,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.492,.01,1,1,2)
K ^DSIO(19641.49,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.492,.01,3)
Answer must be 1-20 characters in length.
"^DD",19641.49,19641.492,.01,"DT")
3140320
"^DD",19641.49,19641.492,.02,0)
TEXT^F^^0;2^K:$L(X)>200!($L(X)<1) X
"^DD",19641.49,19641.492,.02,3)
Answer must be 1-200 characters in length.
"^DD",19641.49,19641.492,.02,"DT")
3140319
"^DD",19641.6,19641.6,0)
FIELD^^.06^10
"^DD",19641.6,19641.6,0,"DDA")
N
"^DD",19641.6,19641.6,0,"DT")
3140319
"^DD",19641.6,19641.6,0,"ID",.02)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DPT(+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(2,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",19641.6,19641.6,0,"IX","P",19641.6,.02)

"^DD",19641.6,19641.6,0,"NM","DSIO IHE DOCUMENT")

"^DD",19641.6,19641.6,.01,0)
GUID^RF^^0;1^K:$L(X)>38!($L(X)<36) X
"^DD",19641.6,19641.6,.01,1,0)
^.1^^0
"^DD",19641.6,19641.6,.01,3)
Answer must be 36-38 characters in length.
"^DD",19641.6,19641.6,.01,12)
Only female patients.
"^DD",19641.6,19641.6,.01,12.1)
S DIC("S")="I $P(^DPT(Y,0),U,2)=""F"""
"^DD",19641.6,19641.6,.01,"DT")
3140319
"^DD",19641.6,19641.6,.02,0)
PATIENT^RP2'^DPT(^0;2^Q
"^DD",19641.6,19641.6,.02,1,0)
^.1
"^DD",19641.6,19641.6,.02,1,1,0)
19641.6^P
"^DD",19641.6,19641.6,.02,1,1,1)
S ^DSIO(19641.6,"P",$E(X,1,30),DA)=""
"^DD",19641.6,19641.6,.02,1,1,2)
K ^DSIO(19641.6,"P",$E(X,1,30),DA)
"^DD",19641.6,19641.6,.02,1,1,"DT")
3140319
"^DD",19641.6,19641.6,.02,3)

"^DD",19641.6,19641.6,.02,"DT")
3140319
"^DD",19641.6,19641.6,.03,0)
DT CREATION^RD^^0;3^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.03,"DT")
3140317
"^DD",19641.6,19641.6,.04,0)
DT IMPORT/EXPORT^RD^^0;4^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.04,"DT")
3140319
"^DD",19641.6,19641.6,.05,0)
DOCUMENT TYPE^RP19641.61^DSIO(19641.61,^0;5^Q
"^DD",19641.6,19641.6,.05,"DT")
3140317
"^DD",19641.6,19641.6,.06,0)
DIRECTION^RS^I:IN;O:OUT;^0;6^Q
"^DD",19641.6,19641.6,.06,"DT")
3140319
"^DD",19641.6,19641.6,1.1,0)
DOCUMENT TITLE^RF^^1;1^K:$L(X)>100!($L(X)<1) X
"^DD",19641.6,19641.6,1.1,3)
Answer must be 1-100 characters in length.
"^DD",19641.6,19641.6,1.1,"DT")
3140317
"^DD",19641.6,19641.6,1.2,0)
SENDING FACILITY/PROVIDER^RF^^1;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,1.2,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,1.2,"DT")
3140317
"^DD",19641.6,19641.6,1.3,0)
INTENDED RECIPIENT^RF^^1;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,1.3,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,1.3,"DT")
3140317
"^DD",19641.6,19641.6,2,0)
DOCUMENT CONTENT^19641.62^^2;0
"^DD",19641.6,19641.62,0)
DOCUMENT CONTENT SUB-FIELD^^.01^1
"^DD",19641.6,19641.62,0,"DT")
3140317
"^DD",19641.6,19641.62,0,"NM","DOCUMENT CONTENT")

"^DD",19641.6,19641.62,0,"UP")
19641.6
"^DD",19641.6,19641.62,.01,0)
DOCUMENT CONTENT^Wx^^0;1^Q
"^DD",19641.6,19641.62,.01,"DT")
3140317
"^DD",19641.61,19641.61,0)
FIELD^^.01^1
"^DD",19641.61,19641.61,0,"DDA")
N
"^DD",19641.61,19641.61,0,"IX","B",19641.61,.01)

"^DD",19641.61,19641.61,0,"NM","DSIO IHE DOCUMENT TYPE")

"^DD",19641.61,19641.61,0,"PT",19641.6,.05)

"^DD",19641.61,19641.61,.01,0)
NAME^RF^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",19641.61,19641.61,.01,1,0)
^.1
"^DD",19641.61,19641.61,.01,1,1,0)
19641.61^B
"^DD",19641.61,19641.61,.01,1,1,1)
S ^DSIO(19641.61,"B",$E(X,1,30),DA)=""
"^DD",19641.61,19641.61,.01,1,1,2)
K ^DSIO(19641.61,"B",$E(X,1,30),DA)
"^DD",19641.61,19641.61,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",21695.5,21695.5,0)
FIELD^^.02^11
"^DD",21695.5,21695.5,0,"DDA")
N
"^DD",21695.5,21695.5,0,"DT")
3131212
"^DD",21695.5,21695.5,0,"IX","AB",21695.52,.01)

"^DD",21695.5,21695.5,0,"IX","AC",21695.52,.01)

"^DD",21695.5,21695.5,0,"IX","B",21695.5,.01)

"^DD",21695.5,21695.5,0,"IX","C",21695.51,.01)

"^DD",21695.5,21695.5,0,"IX","CR",21695.55,.01)

"^DD",21695.5,21695.5,0,"IX","D",21695.54,.01)

"^DD",21695.5,21695.5,0,"NM","VFD TAR CONTROL")

"^DD",21695.5,21695.5,0,"PT",21695.2,1.09)

"^DD",21695.5,21695.5,.01,0)
TYPE^RF^^0;1^K:$L(X)>50!($L(X)<3)!'(X'?1P.E) X
"^DD",21695.5,21695.5,.01,1,0)
^.1
"^DD",21695.5,21695.5,.01,1,1,0)
21695.5^B
"^DD",21695.5,21695.5,.01,1,1,1)
S ^VFD(21695.5,"B",$E(X,1,30),DA)=""
"^DD",21695.5,21695.5,.01,1,1,2)
K ^VFD(21695.5,"B",$E(X,1,30),DA)
"^DD",21695.5,21695.5,.01,3)
Answer must be 3-50 characters in length.
"^DD",21695.5,21695.5,.01,21,0)
^^2^2^3120917^
"^DD",21695.5,21695.5,.01,21,1,0)
This is the type of TAR (Tracking of Abnormal Results) notification that 
"^DD",21695.5,21695.5,.01,21,2,0)
will be generated.
"^DD",21695.5,21695.5,.01,"DT")
3120917
"^DD",21695.5,21695.5,.02,0)
TIU TEMPLATE^*P8927'^TIU(8927,^0;2^S DIC("S")="I $P(^(0),U,15)'=""""!($P(^(0),U,17)'="""")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",21695.5,21695.5,.02,3)
Enter a TIU TEMPLATE defined as a Reminder Dialog or ComObject.
"^DD",21695.5,21695.5,.02,12)
Only REMINDER DIALOG or COM OBJECT type TIU TEMPLATES.
"^DD",21695.5,21695.5,.02,12.1)
S DIC("S")="I $P(^(0),U,15)'=""""!($P(^(0),U,17)'="""")"
"^DD",21695.5,21695.5,.02,21,0)
^^2^2^3140214^
"^DD",21695.5,21695.5,.02,21,1,0)
Select the TIU TEMPLATE that will be executed for this type of SMART 
"^DD",21695.5,21695.5,.02,21,2,0)
Alert. These TIU Templates are defined as Reminder Dialogs or ComObjects.
"^DD",21695.5,21695.5,.02,"DT")
3131212
"^DD",21695.5,21695.5,.03,0)
INITIAL NOTE^P8925.1'^TIU(8925.1,^0;3^Q
"^DD",21695.5,21695.5,.03,3)
Enter the name of a TIU NOTE.
"^DD",21695.5,21695.5,.03,21,0)
^^1^1^3120917^
"^DD",21695.5,21695.5,.03,21,1,0)
This is the name of the note used as the initial plan of care.
"^DD",21695.5,21695.5,.03,"DT")
3120917
"^DD",21695.5,21695.5,.04,0)
INACTIVE^S^0:NO;1:YES;^0;4^Q
"^DD",21695.5,21695.5,.04,3)
Is this type of TAR Notificaation inactive?
"^DD",21695.5,21695.5,.04,21,0)
^^3^3^3121012^
"^DD",21695.5,21695.5,.04,21,1,0)
This is a flag to turn off this particular type of TAR Notification.  If an
"^DD",21695.5,21695.5,.04,21,2,0)
entry is marked as INACTIVE, TAR Notifcations matching the entry will not be 
"^DD",21695.5,21695.5,.04,21,3,0)
generated.
"^DD",21695.5,21695.5,.04,"DT")
3121012
"^DD",21695.5,21695.5,.05,0)
RECIPIENTS^F^^0;5^K:$L(X)>8!($L(X)<1) X
"^DD",21695.5,21695.5,.05,3)
Answer must be 1-8 characters in length.
"^DD",21695.5,21695.5,.05,21,0)
^^24^24^3121107^
"^DD",21695.5,21695.5,.05,21,1,0)
Set of codes indicating default provider recipients of a notification by 
"^DD",21695.5,21695.5,.05,21,2,0)
their title or relationship to the patient.  Notifications can be set up 
"^DD",21695.5,21695.5,.05,21,3,0)
with any or all of the following codes:
"^DD",21695.5,21695.5,.05,21,4,0)
 
"^DD",21695.5,21695.5,.05,21,5,0)
P (Primary Provider): deliver notification to  the patient's Primary 
"^DD",21695.5,21695.5,.05,21,6,0)
Provider.  
"^DD",21695.5,21695.5,.05,21,7,0)
 
"^DD",21695.5,21695.5,.05,21,8,0)
A (Attending Physician): deliver notification to the patient's Attending 
"^DD",21695.5,21695.5,.05,21,9,0)
Physician.
"^DD",21695.5,21695.5,.05,21,10,0)
 
"^DD",21695.5,21695.5,.05,21,11,0)
T (Patient Care Team): deliver notification to the patient's  primary 
"^DD",21695.5,21695.5,.05,21,12,0)
care Team.
"^DD",21695.5,21695.5,.05,21,13,0)
 
"^DD",21695.5,21695.5,.05,21,14,0)
M (PCMM Team): deliver notification to users/providers linked to the 
"^DD",21695.5,21695.5,.05,21,15,0)
patient via PCMM Team Position assignments.
"^DD",21695.5,21695.5,.05,21,16,0)
 
"^DD",21695.5,21695.5,.05,21,17,0)
E (Encounter Provider): deliver notification to the encounter provider 
"^DD",21695.5,21695.5,.05,21,18,0)
who is associated with the health factors generating this notification.
"^DD",21695.5,21695.5,.05,21,19,0)
 
"^DD",21695.5,21695.5,.05,21,20,0)
R (PCMM Primary Care Practitioner): deliver notification to the patient's 
"^DD",21695.5,21695.5,.05,21,21,0)
PCMM Primary Care Practitioner.
"^DD",21695.5,21695.5,.05,21,22,0)
 
"^DD",21695.5,21695.5,.05,21,23,0)
S (PCMM Associate Provider): deliver notification to the patient's PCMM 
"^DD",21695.5,21695.5,.05,21,24,0)
Associate Provider.
"^DD",21695.5,21695.5,.05,"DT")
3121107
"^DD",21695.5,21695.5,.06,0)
TRANSMIT TO BCR^S^1:YES;0:NO;^0;6^Q
"^DD",21695.5,21695.5,.06,21,0)
^^3^3^3121120^
"^DD",21695.5,21695.5,.06,21,1,0)
If this field is marked YES, all the collected information for this type 
"^DD",21695.5,21695.5,.06,21,2,0)
of notification will be transmitted to the Breast Care Registry (BCR).  
"^DD",21695.5,21695.5,.06,21,3,0)
Otherwise, no information will be transmitted.
"^DD",21695.5,21695.5,.06,"DT")
3121120
"^DD",21695.5,21695.5,1,0)
ORDERABLE ITEM^21695.51P^^1;0
"^DD",21695.5,21695.5,1,21,0)
^^2^2^3120917^
"^DD",21695.5,21695.5,1,21,1,0)
This multiple contains ORDERABLE ITEMS that identify an alert as an
"^DD",21695.5,21695.5,1,21,2,0)
abnormal alert.
"^DD",21695.5,21695.5,1,"DT")
3120618
"^DD",21695.5,21695.5,2,0)
OR NOTIFICATIONS^21695.52IP^^2;0
"^DD",21695.5,21695.5,2,21,0)
^.001^2^2^3131212^^^^
"^DD",21695.5,21695.5,2,21,1,0)
This multiple contains OR/EE NOTIFICATIONS that are used to trigger this
"^DD",21695.5,21695.5,2,21,2,0)
type of TAR notification.
"^DD",21695.5,21695.5,2,"DT")
3131212
"^DD",21695.5,21695.5,3,0)
DEFAULT TEXT^F^^3;1^K:$L(X)>200!($L(X)<1) X
"^DD",21695.5,21695.5,3,3)
Answer must be 1-200 characters in length.
"^DD",21695.5,21695.5,3,21,0)
^^2^2^3120917^
"^DD",21695.5,21695.5,3,21,1,0)
This is the default text for a TAR notification and will only be used
"^DD",21695.5,21695.5,3,21,2,0)
if there is no other text associated with the notification.
"^DD",21695.5,21695.5,3,"DT")
3121003
"^DD",21695.5,21695.5,4,0)
LAB TEST^21695.54PA^^4;0
"^DD",21695.5,21695.5,4,21,0)
^.001^2^2^3120919^^
"^DD",21695.5,21695.5,4,21,1,0)
This multiple contains LABORATORY TESTS that are associated with this type
"^DD",21695.5,21695.5,4,21,2,0)
of TAR notification.
"^DD",21695.5,21695.5,5,0)
REMINDER DEFINITION^21695.55PA^^5;0
"^DD",21695.5,21695.5,5,21,0)
^.001^2^2^3120919^^
"^DD",21695.5,21695.5,5,21,1,0)
This multiple contains REMINDER DEFINITIONS that are associated with this 
"^DD",21695.5,21695.5,5,21,2,0)
type of TAR notification.
"^DD",21695.5,21695.51,0)
ORDERABLE ITEM SUB-FIELD^^.01^1
"^DD",21695.5,21695.51,0,"DT")
3120718
"^DD",21695.5,21695.51,0,"IX","B",21695.51,.01)

"^DD",21695.5,21695.51,0,"NM","ORDERABLE ITEM")

"^DD",21695.5,21695.51,0,"UP")
21695.5
"^DD",21695.5,21695.51,.01,0)
ORDERABLE ITEM^MP101.43'X^ORD(101.43,^0;1^K:+$P($G(^VFD(21695.5,DA(1),2,0)),U,4)<1 X
"^DD",21695.5,21695.51,.01,1,0)
^.1
"^DD",21695.5,21695.51,.01,1,1,0)
21695.51^B
"^DD",21695.5,21695.51,.01,1,1,1)
S ^VFD(21695.5,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",21695.5,21695.51,.01,1,1,2)
K ^VFD(21695.5,DA(1),1,"B",$E(X,1,30),DA)
"^DD",21695.5,21695.51,.01,1,2,0)
21695.5^C^MUMPS
"^DD",21695.5,21695.51,.01,1,2,1)
I +$P($G(^VFD(21695.5,DA(1),2,0)),U,4)>0 N Z S Z="" F  S Z=$O(^VFD(21695.5,DA(1),2,"B",Z)) Q:Z=""  S ^VFD(21695.5,"C",Z,X,DA(1),DA)=""
"^DD",21695.5,21695.51,.01,1,2,2)
N Z S Z="" F  S Z=$O(^VFD(21695.5,DA(1),2,"B",Z)) Q:Z=""  K ^VFD(21695.5,"C",Z,X)
"^DD",21695.5,21695.51,.01,1,2,"DT")
3140106
"^DD",21695.5,21695.51,.01,3)
Enter an ORDERABLE ITEM that will trigger this type of TAR notification.
"^DD",21695.5,21695.51,.01,21,0)
^^2^2^3120917^
"^DD",21695.5,21695.51,.01,21,1,0)
This is the name of an orderable item that is associated with this type 
"^DD",21695.5,21695.51,.01,21,2,0)
of TAR notification.
"^DD",21695.5,21695.51,.01,"DT")
3140106
"^DD",21695.5,21695.52,0)
OR NOTIFICATIONS SUB-FIELD^^.01^1
"^DD",21695.5,21695.52,0,"DT")
3131212
"^DD",21695.5,21695.52,0,"IX","B",21695.52,.01)

"^DD",21695.5,21695.52,0,"NM","OR NOTIFICATIONS")

"^DD",21695.5,21695.52,0,"UP")
21695.5
"^DD",21695.5,21695.52,.01,0)
OR NOTIFICATIONS^M*P100.9'^ORD(100.9,^0;1^S DIC("S")="I '$D(^VFD(21695.5,""AB"",Y))" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",21695.5,21695.52,.01,1,0)
^.1
"^DD",21695.5,21695.52,.01,1,1,0)
21695.52^B
"^DD",21695.5,21695.52,.01,1,1,1)
S ^VFD(21695.5,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",21695.5,21695.52,.01,1,1,2)
K ^VFD(21695.5,DA(1),2,"B",$E(X,1,30),DA)
"^DD",21695.5,21695.52,.01,1,2,0)
21695.5^AB
"^DD",21695.5,21695.52,.01,1,2,1)
S ^VFD(21695.5,"AB",$E(X,1,30),DA(1),DA)=""
"^DD",21695.5,21695.52,.01,1,2,2)
K ^VFD(21695.5,"AB",$E(X,1,30),DA(1),DA)
"^DD",21695.5,21695.52,.01,1,2,"DT")
3120928
"^DD",21695.5,21695.52,.01,1,3,0)
21695.5^AC^MUMPS
"^DD",21695.5,21695.52,.01,1,3,1)
N C,O,S F C="1^C","5^CR","4^D" S O="" F  S O=$O(^VFD(21695.5,DA(1),2,"B",O)) Q:O=""  S S="" F  S S=$O(^VFD(21695.5,DA(1),+C,"B",S)) Q:S=""  S ^VFD(21695.5,$P(C,U,2),O,S,DA(1),$O(^VFD(21695.5,DA(1),+C,"B",S,"")))=""
"^DD",21695.5,21695.52,.01,1,3,2)
N Z F Z="C","CR","D" K ^VFD(21695.5,Z,X)
"^DD",21695.5,21695.52,.01,1,3,"DT")
3140107
"^DD",21695.5,21695.52,.01,3)
Enter an OR/EE Notification.
"^DD",21695.5,21695.52,.01,12)
OR NOTIFICATIONS can only be assigned to one control type.
"^DD",21695.5,21695.52,.01,12.1)
S DIC("S")="I '$D(^VFD(21695.5,""AB"",Y))"
"^DD",21695.5,21695.52,.01,21,0)
^.001^1^1^3131212^^^^
"^DD",21695.5,21695.52,.01,21,1,0)
This is an OR/EE NOTIFICATION that is associated with this type of TAR notification.
"^DD",21695.5,21695.52,.01,"DT")
3140107
"^DD",21695.5,21695.54,0)
LAB TEST SUB-FIELD^^.01^1
"^DD",21695.5,21695.54,0,"DT")
3120911
"^DD",21695.5,21695.54,0,"IX","B",21695.54,.01)

"^DD",21695.5,21695.54,0,"NM","LAB TEST")

"^DD",21695.5,21695.54,0,"UP")
21695.5
"^DD",21695.5,21695.54,.01,0)
LAB TEST^MP60'X^LAB(60,^0;1^K:+$P($G(^VFD(21695.5,DA(1),2,0)),U,4)<1 X
"^DD",21695.5,21695.54,.01,1,0)
^.1
"^DD",21695.5,21695.54,.01,1,1,0)
21695.54^B
"^DD",21695.5,21695.54,.01,1,1,1)
S ^VFD(21695.5,DA(1),4,"B",$E(X,1,30),DA)=""
"^DD",21695.5,21695.54,.01,1,1,2)
K ^VFD(21695.5,DA(1),4,"B",$E(X,1,30),DA)
"^DD",21695.5,21695.54,.01,1,2,0)
21695.5^D^MUMPS
"^DD",21695.5,21695.54,.01,1,2,1)
I +$P($G(^VFD(21695.5,DA(1),2,0)),U,4)>0 N Z S Z="" F  S Z=$O(^VFD(21695.5,DA(1),2,"B",Z)) Q:Z=""  S ^VFD(21695.5,"D",Z,X,DA(1),DA)=""
"^DD",21695.5,21695.54,.01,1,2,2)
N Z S Z="" F  S Z=$O(^VFD(21695.5,DA(1),2,"B",Z)) Q:Z=""  K ^VFD(21695.5,"D",Z,X)
"^DD",21695.5,21695.54,.01,1,2,"DT")
3140106
"^DD",21695.5,21695.54,.01,3)
Enter a lab test to be tracked.
"^DD",21695.5,21695.54,.01,21,0)
^.001^2^2^3120919^^
"^DD",21695.5,21695.54,.01,21,1,0)
This is a LABORATORY TEST that is associated with this type of TAR 
"^DD",21695.5,21695.54,.01,21,2,0)
notification.
"^DD",21695.5,21695.54,.01,"DT")
3140106
"^DD",21695.5,21695.55,0)
REMINDER DEFINITION SUB-FIELD^^.01^1
"^DD",21695.5,21695.55,0,"DT")
3120919
"^DD",21695.5,21695.55,0,"IX","B",21695.55,.01)

"^DD",21695.5,21695.55,0,"NM","REMINDER DEFINITION")

"^DD",21695.5,21695.55,0,"UP")
21695.5
"^DD",21695.5,21695.55,.01,0)
REMINDER DEFINITION^MP811.9'X^PXD(811.9,^0;1^K:+$P($G(^VFD(21695.5,DA(1),2,0)),U,4)<1 X
"^DD",21695.5,21695.55,.01,1,0)
^.1
"^DD",21695.5,21695.55,.01,1,1,0)
21695.55^B
"^DD",21695.5,21695.55,.01,1,1,1)
S ^VFD(21695.5,DA(1),5,"B",$E(X,1,30),DA)=""
"^DD",21695.5,21695.55,.01,1,1,2)
K ^VFD(21695.5,DA(1),5,"B",$E(X,1,30),DA)
"^DD",21695.5,21695.55,.01,1,2,0)
21695.5^CR^MUMPS
"^DD",21695.5,21695.55,.01,1,2,1)
I +$P($G(^VFD(21695.5,DA(1),2,0)),U,4)>0 N Z S Z="" F  S Z=$O(^VFD(21695.5,DA(1),2,"B",Z)) Q:Z=""  S ^VFD(21695.5,"CR",Z,X,DA(1),DA)=""
"^DD",21695.5,21695.55,.01,1,2,2)
N Z S Z="" F  S Z=$O(^VFD(21695.5,DA(1),2,"B",Z)) Q:Z=""  K ^VFD(21695.5,"CR",Z,X)
"^DD",21695.5,21695.55,.01,1,2,"DT")
3140106
"^DD",21695.5,21695.55,.01,3)
Enter a reminder definition to be evaluated.
"^DD",21695.5,21695.55,.01,21,0)
^.001^2^2^3120919^^
"^DD",21695.5,21695.55,.01,21,1,0)
This is a REMINDER DEFINITION that is associated with this type of TAR.  
"^DD",21695.5,21695.55,.01,21,2,0)
If this reminder is true, a notification will be sent.
"^DD",21695.5,21695.55,.01,"DT")
3140106
"^DD",9000011,9000011,.01,0)
DIAGNOSIS^R*P80'^ICD9(^0;1^S DIC("S")="I 1 Q:$G(DUZ(""AG""))=""V""  I $E(^(0))'=""E"",$P(^(0),U,9)="""" Q:$P(^(0),U,10)=""""  I $P(^(0),U,10)=AUPNSEX" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",9000011,9000011,.01,1,0)
^.1^^-1
"^DD",9000011,9000011,.01,1,1,0)
9000011^B
"^DD",9000011,9000011,.01,1,1,1)
S ^AUPNPROB("B",$E(X,1,30),DA)=""
"^DD",9000011,9000011,.01,1,1,2)
K ^AUPNPROB("B",$E(X,1,30),DA)
"^DD",9000011,9000011,.01,1,2,0)
9000011^AV9^MUMPS
"^DD",9000011,9000011,.01,1,2,1)
S:$D(APCDLOOK) DIC("DR")=""
"^DD",9000011,9000011,.01,1,2,2)
Q
"^DD",9000011,9000011,.01,1,2,"%D",0)
2
"^DD",9000011,9000011,.01,1,2,"%D",1,0)
Controls the behaviour of the input templates used by IHS to populate
"^DD",9000011,9000011,.01,1,2,"%D",2,0)
and maintain this file.
"^DD",9000011,9000011,.01,1,2,"DT")
2940110
"^DD",9000011,9000011,.01,3)
Enter the ICD Code for this problem.
"^DD",9000011,9000011,.01,12)
Cannot be an E code or an inactive code and must be appropriate for the sex of the Patient.
"^DD",9000011,9000011,.01,12.1)
S DIC("S")="I 1 Q:$G(DUZ(""AG""))=""V""  I $E(^(0))'=""E"",$P(^(0),U,9)="""" Q:$P(^(0),U,10)=""""  I $P(^(0),U,10)=AUPNSEX"
"^DD",9000011,9000011,.01,21,0)
^^2^2^2930908^^^^
"^DD",9000011,9000011,.01,21,1,0)
This is the ICD coded diagnosis of the narrative entered describing
"^DD",9000011,9000011,.01,21,2,0)
this problem.
"^DD",9000011,9000011,.01,23,0)
^^5^5^2930908^^
"^DD",9000011,9000011,.01,23,1,0)
The DHCP Problem List application derives its entries from a lookup
"^DD",9000011,9000011,.01,23,2,0)
into the Clinical Lexicon Utility rather than the ICD Diagnosis file.
"^DD",9000011,9000011,.01,23,3,0)
If the term selected from the CLU is not coded to ICD, then code 799.99
"^DD",9000011,9000011,.01,23,4,0)
"Other Unknown or Unspecified Cause, NEC" will be used here in order
"^DD",9000011,9000011,.01,23,5,0)
to be able to create a new entry.  This field may later be edited.
"^DD",9000011,9000011,.01,"DT")
3140129
"^DD",9000011,9000011,.02,0)
PATIENT NAME^RP9000001'I^AUPNPAT(^0;2^Q
"^DD",9000011,9000011,.02,1,0)
^.1
"^DD",9000011,9000011,.02,1,1,0)
9000011^AC
"^DD",9000011,9000011,.02,1,1,1)
S ^AUPNPROB("AC",$E(X,1,30),DA)=""
"^DD",9000011,9000011,.02,1,1,2)
K ^AUPNPROB("AC",$E(X,1,30),DA)
"^DD",9000011,9000011,.02,1,2,0)
9000011^AATOO^MUMPS
"^DD",9000011,9000011,.02,1,2,1)
I $P(^AUPNPROB(DA,0),U,6)]"",$P(^(0),U,7)]"" S X1=$P($P(^(0),U,7),"."),X2=$P($P(^(0),U,7),".",2),^AUPNPROB("AA",X,$P(^(0),U,6)," "_$E("000",1,4-$L(X1)-1)_X1_"."_X2_$E("00",1,3-$L(X2)-1),DA)="" K X1,X2
"^DD",9000011,9000011,.02,1,2,2)
I $P(^AUPNPROB(DA,0),U,6)]"",$P(^(0),U,7)]"" S X1=$P($P(^(0),U,7),"."),X2=$P($P(^(0),U,7),".",2) K ^AUPNPROB("AA",X,$P(^(0),U,6)," "_$E("000",1,4-$L(X1)-1)_X1_"."_X2_$E("00",1,3-$L(X2)-1),DA),X1,X2
"^DD",9000011,9000011,.02,1,2,"%D",0)
^.101^3^3^3131216^^
"^DD",9000011,9000011,.02,1,2,"%D",1,0)
Allows problem retrieval by patient, facility, and problem number (Nmbr);
"^DD",9000011,9000011,.02,1,2,"%D",2,0)
the number is used as a string in " 000.00" format to assure a consistent
"^DD",9000011,9000011,.02,1,2,"%D",3,0)
ordering.
"^DD",9000011,9000011,.02,1,3,0)
9000011^ACTIVE1^MUMPS
"^DD",9000011,9000011,.02,1,3,1)
S:$L($P(^AUPNPROB(DA,0),U,12)) ^AUPNPROB("ACTIVE",X,$P(^(0),U,12),DA)=""
"^DD",9000011,9000011,.02,1,3,2)
K:$L($P(^AUPNPROB(DA,0),U,12)) ^AUPNPROB("ACTIVE",X,$P(^(0),U,12),DA)
"^DD",9000011,9000011,.02,1,3,"%D",0)
^^1^1^2930706^^^
"^DD",9000011,9000011,.02,1,3,"%D",1,0)
Allows problem retrieval by patient and status, in order of entry.
"^DD",9000011,9000011,.02,1,3,"DT")
2930706
"^DD",9000011,9000011,.02,1,4,0)
9000011^AVFD^MUMPS
"^DD",9000011,9000011,.02,1,4,1)
Q
"^DD",9000011,9000011,.02,1,4,2)
Q
"^DD",9000011,9000011,.02,1,4,"%D",0)
^.101^1^1^3140207^^^
"^DD",9000011,9000011,.02,1,4,"%D",1,0)
Maternity Tracker Trigger (DSIO)
"^DD",9000011,9000011,.02,1,4,"DT")
3140207
"^DD",9000011,9000011,.02,3)
Enter the name of the patient for whom this problem has been observed.
"^DD",9000011,9000011,.02,21,0)
^^1^1^2930908^^^^
"^DD",9000011,9000011,.02,21,1,0)
This is the patient for whom this problem has been observed and recorded.
"^DD",9000011,9000011,.02,"DT")
3140207
"^DIC",19641,19641,0)
DSIO PATIENT^19641
"^DIC",19641,19641,0,"GL")
^DSIO(19641,
"^DIC",19641,"B","DSIO PATIENT",19641)

"^DIC",19641.1,19641.1,0)
DSIO NON-VA ENTITIES^19641.1
"^DIC",19641.1,19641.1,0,"GL")
^DSIO(19641.1,
"^DIC",19641.1,"B","DSIO NON-VA ENTITIES",19641.1)

"^DIC",19641.2,19641.2,0)
DSIO TRACKING HISTORY^19641.2
"^DIC",19641.2,19641.2,0,"GL")
^DSIO(19641.2,
"^DIC",19641.2,"B","DSIO TRACKING HISTORY",19641.2)

"^DIC",19641.22,19641.22,0)
DSIO TRACKING SOURCE^19641.22
"^DIC",19641.22,19641.22,0,"GL")
^DSIO(19641.22,
"^DIC",19641.22,19641.22,"%",0)
^1.005^^0
"^DIC",19641.22,"B","DSIO TRACKING SOURCE",19641.22)

"^DIC",19641.23,19641.23,0)
DSIO TRACKING REASON^19641.23
"^DIC",19641.23,19641.23,0,"GL")
^DSIO(19641.23,
"^DIC",19641.23,"B","DSIO TRACKING REASON",19641.23)

"^DIC",19641.31,19641.31,0)
DSIO CPRS PROBLEM^19641.31
"^DIC",19641.31,19641.31,0,"GL")
^DSIO(19641.31,
"^DIC",19641.31,"B","DSIO CPRS PROBLEM",19641.31)

"^DIC",19641.33,19641.33,0)
DSIO LAB TEST^19641.33
"^DIC",19641.33,19641.33,0,"GL")
^DSIO(19641.33,
"^DIC",19641.33,"B","DSIO LAB TEST",19641.33)

"^DIC",19641.4,19641.4,0)
DSIO NOTE CONTROL^19641.4
"^DIC",19641.4,19641.4,0,"GL")
^DSIO(19641.4,
"^DIC",19641.4,19641.4,"%",0)
^1.005^^0
"^DIC",19641.4,"B","DSIO NOTE CONTROL",19641.4)

"^DIC",19641.41,19641.41,0)
DSIO NOTE DATA^19641.41
"^DIC",19641.41,19641.41,0,"GL")
^DSIO(19641.41,
"^DIC",19641.41,"B","DSIO NOTE DATA",19641.41)

"^DIC",19641.43,19641.43,0)
DSIO NOTE S^19641.43
"^DIC",19641.43,19641.43,0,"GL")
^DSIO(19641.43,
"^DIC",19641.43,"B","DSIO NOTE S",19641.43)

"^DIC",19641.44,19641.44,0)
DSIO NOTE M^19641.44
"^DIC",19641.44,19641.44,0,"GL")
^DSIO(19641.44,
"^DIC",19641.44,"B","DSIO NOTE M",19641.44)

"^DIC",19641.45,19641.45,0)
DSIO NOTE WP^19641.45
"^DIC",19641.45,19641.45,0,"GL")
^DSIO(19641.45,
"^DIC",19641.45,"B","DSIO NOTE WP",19641.45)

"^DIC",19641.48,19641.48,0)
DSIO CNT CONFIGURATION^19641.48
"^DIC",19641.48,19641.48,0,"GL")
^DSIO(19641.48,
"^DIC",19641.48,"B","DSIO CNT CONFIGURATION",19641.48)

"^DIC",19641.49,19641.49,0)
DSIO CNT DIALOGS^19641.49
"^DIC",19641.49,19641.49,0,"GL")
^DSIO(19641.49,
"^DIC",19641.49,"B","DSIO CNT DIALOGS",19641.49)

"^DIC",19641.6,19641.6,0)
DSIO IHE DOCUMENT^19641.6
"^DIC",19641.6,19641.6,0,"GL")
^DSIO(19641.6,
"^DIC",19641.6,"B","DSIO IHE DOCUMENT",19641.6)

"^DIC",19641.61,19641.61,0)
DSIO IHE DOCUMENT TYPE^19641.61
"^DIC",19641.61,19641.61,0,"GL")
^DSIO(19641.61,
"^DIC",19641.61,"B","DSIO IHE DOCUMENT TYPE",19641.61)

"^DIC",21695.5,21695.5,0)
VFD TAR CONTROL^21695.5
"^DIC",21695.5,21695.5,0,"GL")
^VFD(21695.5,
"^DIC",21695.5,21695.5,"%",0)
^1.005^^0
"^DIC",21695.5,21695.5,"%D",0)
^1.001^2^2^3131212^^^^
"^DIC",21695.5,21695.5,"%D",1,0)
This file is used to screen what constitutes a trackable abnormal test
"^DIC",21695.5,21695.5,"%D",2,0)
result.
"^DIC",21695.5,"B","VFD TAR CONTROL",21695.5)

**END**
**END**
