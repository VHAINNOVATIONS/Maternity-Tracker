KIDS Distribution saved on May 19, 2015@15:03:52
DSIO POST 1.0 T1
**KIDS**:DSIO POST 1.0^

**INSTALL NAME**
DSIO POST 1.0
"BLD",9962,0)
DSIO POST 1.0^^0^3150519^n
"BLD",9962,4,0)
^9.64PA^19641.83^10
"BLD",9962,4,19641,0)
19641
"BLD",9962,4,19641,222)
y^y^f^^^^n
"BLD",9962,4,19641.1,0)
19641.1
"BLD",9962,4,19641.1,222)
y^y^f^^^^n
"BLD",9962,4,19641.11,0)
19641.11
"BLD",9962,4,19641.11,222)
y^y^f^^^^n
"BLD",9962,4,19641.112,0)
19641.112
"BLD",9962,4,19641.112,222)
y^y^f^^^^n
"BLD",9962,4,19641.12,0)
19641.12
"BLD",9962,4,19641.12,222)
y^y^f^^^^n
"BLD",9962,4,19641.13,0)
19641.13
"BLD",9962,4,19641.13,222)
y^y^f^^^^n
"BLD",9962,4,19641.2,0)
19641.2
"BLD",9962,4,19641.2,222)
y^y^f^^^^n
"BLD",9962,4,19641.5,0)
19641.5
"BLD",9962,4,19641.5,222)
y^y^f^^^^n
"BLD",9962,4,19641.6,0)
19641.6
"BLD",9962,4,19641.6,222)
y^y^f^^^^n
"BLD",9962,4,19641.83,0)
19641.83
"BLD",9962,4,19641.83,222)
y^y^f^^^^n
"BLD",9962,4,"B",19641,19641)

"BLD",9962,4,"B",19641.1,19641.1)

"BLD",9962,4,"B",19641.11,19641.11)

"BLD",9962,4,"B",19641.112,19641.112)

"BLD",9962,4,"B",19641.12,19641.12)

"BLD",9962,4,"B",19641.13,19641.13)

"BLD",9962,4,"B",19641.2,19641.2)

"BLD",9962,4,"B",19641.5,19641.5)

"BLD",9962,4,"B",19641.6,19641.6)

"BLD",9962,4,"B",19641.83,19641.83)

"BLD",9962,6.3)
1
"BLD",9962,"KRN",0)
^9.67PA^779.2^20
"BLD",9962,"KRN",.4,0)
.4
"BLD",9962,"KRN",.401,0)
.401
"BLD",9962,"KRN",.402,0)
.402
"BLD",9962,"KRN",.403,0)
.403
"BLD",9962,"KRN",.5,0)
.5
"BLD",9962,"KRN",.84,0)
.84
"BLD",9962,"KRN",3.6,0)
3.6
"BLD",9962,"KRN",3.8,0)
3.8
"BLD",9962,"KRN",9.2,0)
9.2
"BLD",9962,"KRN",9.8,0)
9.8
"BLD",9962,"KRN",9.8,"NM",0)
^9.68A^9^8
"BLD",9962,"KRN",9.8,"NM",1,0)
DSIO1^^0^B171337786
"BLD",9962,"KRN",9.8,"NM",2,0)
DSIO2^^0^B83139164
"BLD",9962,"KRN",9.8,"NM",3,0)
DSIO3^^0^B80760723
"BLD",9962,"KRN",9.8,"NM",4,0)
DSIO4^^0^B56656020
"BLD",9962,"KRN",9.8,"NM",5,0)
DSIO9^^0^B70697067
"BLD",9962,"KRN",9.8,"NM",6,0)
DSIO10^^0^B82722099
"BLD",9962,"KRN",9.8,"NM",7,0)
DSIO14^^0^B22855857
"BLD",9962,"KRN",9.8,"NM",9,0)
DSIO15^^0^B51597865
"BLD",9962,"KRN",9.8,"NM","B","DSIO1",1)

"BLD",9962,"KRN",9.8,"NM","B","DSIO10",6)

"BLD",9962,"KRN",9.8,"NM","B","DSIO14",7)

"BLD",9962,"KRN",9.8,"NM","B","DSIO15",9)

"BLD",9962,"KRN",9.8,"NM","B","DSIO2",2)

"BLD",9962,"KRN",9.8,"NM","B","DSIO3",3)

"BLD",9962,"KRN",9.8,"NM","B","DSIO4",4)

"BLD",9962,"KRN",9.8,"NM","B","DSIO9",5)

"BLD",9962,"KRN",19,0)
19
"BLD",9962,"KRN",19,"NM",0)
^9.68A^5^1
"BLD",9962,"KRN",19,"NM",5,0)
DSIO GUI CONTEXT^^0
"BLD",9962,"KRN",19,"NM","B","DSIO GUI CONTEXT",5)

"BLD",9962,"KRN",19.1,0)
19.1
"BLD",9962,"KRN",101,0)
101
"BLD",9962,"KRN",409.61,0)
409.61
"BLD",9962,"KRN",771,0)
771
"BLD",9962,"KRN",779.2,0)
779.2
"BLD",9962,"KRN",870,0)
870
"BLD",9962,"KRN",8989.51,0)
8989.51
"BLD",9962,"KRN",8989.51,"NM",0)
^9.68A^^0
"BLD",9962,"KRN",8989.52,0)
8989.52
"BLD",9962,"KRN",8994,0)
8994
"BLD",9962,"KRN",8994,"NM",0)
^9.68A^28^28
"BLD",9962,"KRN",8994,"NM",1,0)
DSIO GET PERSON^^0
"BLD",9962,"KRN",8994,"NM",2,0)
DSIO SAVE OBSERVATION^^0
"BLD",9962,"KRN",8994,"NM",3,0)
DSIO GET OBSERVATIONS^^0
"BLD",9962,"KRN",8994,"NM",4,0)
DSIO GET PREG DETAILS^^0
"BLD",9962,"KRN",8994,"NM",5,0)
DSIO SAVE PREG DETAILS^^0
"BLD",9962,"KRN",8994,"NM",6,0)
DSIO SAVE IHE DOC^^0
"BLD",9962,"KRN",8994,"NM",7,0)
DSIO SAVE PERSON^^0
"BLD",9962,"KRN",8994,"NM",8,0)
DSIO GET TIU NOTES^^0
"BLD",9962,"KRN",8994,"NM",9,0)
DSIO SELECT LIST^^0
"BLD",9962,"KRN",8994,"NM",10,0)
DSIO PATIENT LIST^^0
"BLD",9962,"KRN",8994,"NM",11,0)
DSIO GET TRACKING^^0
"BLD",9962,"KRN",8994,"NM",12,0)
DSIO GET EXTERNAL ENTITY^^0
"BLD",9962,"KRN",8994,"NM",13,0)
DSIO SAVE EXTERNAL ENTITY^^0
"BLD",9962,"KRN",8994,"NM",14,0)
DSIO GET IHE PATIENT INFO^^0
"BLD",9962,"KRN",8994,"NM",15,0)
DSIO IHE GET DOC^^1^
"BLD",9962,"KRN",8994,"NM",16,0)
DSIO IHE PATIENT LIST^^1^
"BLD",9962,"KRN",8994,"NM",17,0)
DSIO GET RECORD TEXT^^0
"BLD",9962,"KRN",8994,"NM",18,0)
DSIO CREATE TRACKING LOG^^0
"BLD",9962,"KRN",8994,"NM",19,0)
DSIO GET PATIENT INFORMATION^^0
"BLD",9962,"KRN",8994,"NM",20,0)
DSIO SET PATIENT INFORMATION^^0
"BLD",9962,"KRN",8994,"NM",21,0)
DSIO CREATE A NOTE^^0
"BLD",9962,"KRN",8994,"NM",22,0)
DSIO UPDATE A NOTE^^0
"BLD",9962,"KRN",8994,"NM",23,0)
DSIO MAKE ADDENDUM^^0
"BLD",9962,"KRN",8994,"NM",24,0)
DSIO DELETE A NOTE^^0
"BLD",9962,"KRN",8994,"NM",25,0)
DSIO SIGN A NOTE^^0
"BLD",9962,"KRN",8994,"NM",26,0)
DSIO FEMALE PATIENT FIND^^1^
"BLD",9962,"KRN",8994,"NM",27,0)
DSIO FEMALE PATIENT SEARCH^^1^
"BLD",9962,"KRN",8994,"NM",28,0)
DSIO GET PREG OBSERVATIONS^^1^
"BLD",9962,"KRN",8994,"NM","B","DSIO CREATE A NOTE",21)

"BLD",9962,"KRN",8994,"NM","B","DSIO CREATE TRACKING LOG",18)

"BLD",9962,"KRN",8994,"NM","B","DSIO DELETE A NOTE",24)

"BLD",9962,"KRN",8994,"NM","B","DSIO FEMALE PATIENT FIND",26)

"BLD",9962,"KRN",8994,"NM","B","DSIO FEMALE PATIENT SEARCH",27)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET EXTERNAL ENTITY",12)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET IHE PATIENT INFO",14)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET OBSERVATIONS",3)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET PATIENT INFORMATION",19)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET PERSON",1)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET PREG DETAILS",4)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET PREG OBSERVATIONS",28)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET RECORD TEXT",17)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET TIU NOTES",8)

"BLD",9962,"KRN",8994,"NM","B","DSIO GET TRACKING",11)

"BLD",9962,"KRN",8994,"NM","B","DSIO IHE GET DOC",15)

"BLD",9962,"KRN",8994,"NM","B","DSIO IHE PATIENT LIST",16)

"BLD",9962,"KRN",8994,"NM","B","DSIO MAKE ADDENDUM",23)

"BLD",9962,"KRN",8994,"NM","B","DSIO PATIENT LIST",10)

"BLD",9962,"KRN",8994,"NM","B","DSIO SAVE EXTERNAL ENTITY",13)

"BLD",9962,"KRN",8994,"NM","B","DSIO SAVE IHE DOC",6)

"BLD",9962,"KRN",8994,"NM","B","DSIO SAVE OBSERVATION",2)

"BLD",9962,"KRN",8994,"NM","B","DSIO SAVE PERSON",7)

"BLD",9962,"KRN",8994,"NM","B","DSIO SAVE PREG DETAILS",5)

"BLD",9962,"KRN",8994,"NM","B","DSIO SELECT LIST",9)

"BLD",9962,"KRN",8994,"NM","B","DSIO SET PATIENT INFORMATION",20)

"BLD",9962,"KRN",8994,"NM","B","DSIO SIGN A NOTE",25)

"BLD",9962,"KRN",8994,"NM","B","DSIO UPDATE A NOTE",22)

"BLD",9962,"KRN","B",.4,.4)

"BLD",9962,"KRN","B",.401,.401)

"BLD",9962,"KRN","B",.402,.402)

"BLD",9962,"KRN","B",.403,.403)

"BLD",9962,"KRN","B",.5,.5)

"BLD",9962,"KRN","B",.84,.84)

"BLD",9962,"KRN","B",3.6,3.6)

"BLD",9962,"KRN","B",3.8,3.8)

"BLD",9962,"KRN","B",9.2,9.2)

"BLD",9962,"KRN","B",9.8,9.8)

"BLD",9962,"KRN","B",19,19)

"BLD",9962,"KRN","B",19.1,19.1)

"BLD",9962,"KRN","B",101,101)

"BLD",9962,"KRN","B",409.61,409.61)

"BLD",9962,"KRN","B",771,771)

"BLD",9962,"KRN","B",779.2,779.2)

"BLD",9962,"KRN","B",870,870)

"BLD",9962,"KRN","B",8989.51,8989.51)

"BLD",9962,"KRN","B",8989.52,8989.52)

"BLD",9962,"KRN","B",8994,8994)

"FIA",19641)
DSIO PATIENT
"FIA",19641,0)
^DSIO(19641,
"FIA",19641,0,0)
19641P
"FIA",19641,0,1)
y^y^f^^^^n
"FIA",19641,0,10)

"FIA",19641,0,11)

"FIA",19641,0,"RLRO")

"FIA",19641,19641)
0
"FIA",19641,19641.04)
0
"FIA",19641.1)
DSIO EXTERNAL ENTITIES
"FIA",19641.1,0)
^DSIO(19641.1,
"FIA",19641.1,0,0)
19641.1I
"FIA",19641.1,0,1)
y^y^f^^^^n
"FIA",19641.1,0,10)

"FIA",19641.1,0,11)

"FIA",19641.1,0,"RLRO")

"FIA",19641.1,19641.1)
0
"FIA",19641.1,19641.15)
0
"FIA",19641.11)
DSIO PERSON
"FIA",19641.11,0)
^DSIO(19641.11,
"FIA",19641.11,0,0)
19641.11IO
"FIA",19641.11,0,1)
y^y^f^^^^n
"FIA",19641.11,0,10)

"FIA",19641.11,0,11)

"FIA",19641.11,0,"RLRO")

"FIA",19641.11,19641.11)
0
"FIA",19641.11,19641.113)
0
"FIA",19641.11,19641.14)
0
"FIA",19641.112)
DSIO FETUS/BABY
"FIA",19641.112,0)
^DSIO(19641.112,
"FIA",19641.112,0,0)
19641.112O
"FIA",19641.112,0,1)
y^y^f^^^^n
"FIA",19641.112,0,10)

"FIA",19641.112,0,11)

"FIA",19641.112,0,"RLRO")

"FIA",19641.112,19641.112)
0
"FIA",19641.12)
DSIO OBSERVATIONS
"FIA",19641.12,0)
^DSIO(19641.12,
"FIA",19641.12,0,0)
19641.12IOD
"FIA",19641.12,0,1)
y^y^f^^^^n
"FIA",19641.12,0,10)

"FIA",19641.12,0,11)

"FIA",19641.12,0,"RLRO")

"FIA",19641.12,19641.12)
0
"FIA",19641.12,19641.125)
0
"FIA",19641.12,19641.126)
0
"FIA",19641.13)
DSIO PREGNANCY HISTORY
"FIA",19641.13,0)
^DSIO(19641.13,
"FIA",19641.13,0,0)
19641.13DIO
"FIA",19641.13,0,1)
y^y^f^^^^n
"FIA",19641.13,0,10)

"FIA",19641.13,0,11)

"FIA",19641.13,0,"RLRO")

"FIA",19641.13,19641.13)
0
"FIA",19641.13,19641.132)
0
"FIA",19641.13,19641.134)
0
"FIA",19641.2)
DSIO TRACKING HISTORY
"FIA",19641.2,0)
^DSIO(19641.2,
"FIA",19641.2,0,0)
19641.2P
"FIA",19641.2,0,1)
y^y^f^^^^n
"FIA",19641.2,0,10)

"FIA",19641.2,0,11)

"FIA",19641.2,0,"RLRO")

"FIA",19641.2,19641.2)
0
"FIA",19641.2,19641.24)
0
"FIA",19641.2,19641.241)
0
"FIA",19641.2,19641.242)
0
"FIA",19641.5)
DSIO TITLE CONFIGURATION
"FIA",19641.5,0)
^DSIO(19641.5,
"FIA",19641.5,0,0)
19641.5P
"FIA",19641.5,0,1)
y^y^f^^^^n
"FIA",19641.5,0,10)

"FIA",19641.5,0,11)

"FIA",19641.5,0,"RLRO")

"FIA",19641.5,19641.5)
0
"FIA",19641.6)
DSIO IHE DOCUMENT
"FIA",19641.6,0)
^DSIO(19641.6,
"FIA",19641.6,0,0)
19641.6DI
"FIA",19641.6,0,1)
y^y^f^^^^n
"FIA",19641.6,0,10)

"FIA",19641.6,0,11)

"FIA",19641.6,0,"RLRO")

"FIA",19641.6,19641.6)
0
"FIA",19641.6,19641.62)
0
"FIA",19641.83)
DSIO PREGNANCY-NOTE
"FIA",19641.83,0)
^DSIO(19641.83,
"FIA",19641.83,0,0)
19641.83P
"FIA",19641.83,0,1)
y^y^f^^^^n
"FIA",19641.83,0,10)

"FIA",19641.83,0,11)

"FIA",19641.83,0,"RLRO")

"FIA",19641.83,19641.83)
0
"FIA",19641.83,19641.831)
0
"IX",19641.1,19641.1,"F",0)
19641.1^F^ALL FACILITIES^MU^^R^IR^I^19641.1^^^^^LS
"IX",19641.1,19641.1,"F",1)
I X(1)="F" S ^DSIO(19641.1,"F",X(2),DA)=""
"IX",19641.1,19641.1,"F",2)
I X(1)="F" K ^DSIO(19641.1,"F",X(2),DA)
"IX",19641.1,19641.1,"F",2.5)
K ^DSIO(19641.1,"F")
"IX",19641.1,19641.1,"F",11.1,0)
^.114IA^2^2
"IX",19641.1,19641.1,"F",11.1,1,0)
1^F^19641.1^.02^^^F
"IX",19641.1,19641.1,"F",11.1,1,3)

"IX",19641.1,19641.1,"F",11.1,2,0)
2^F^19641.1^.01^^1^F
"IX",19641.1,19641.1,"F",11.1,2,3)

"IX",19641.1,19641.1,"P",0)
19641.1^P^ALL PROVIDERS^MU^^R^IR^I^19641.1^^^^^LS
"IX",19641.1,19641.1,"P",1)
I X(1)="P" S ^DSIO(19641.1,"P",X(2),DA)=""
"IX",19641.1,19641.1,"P",2)
I X(1)="P" K ^DSIO(19641.1,"P",X(2),DA)
"IX",19641.1,19641.1,"P",2.5)
K ^DSIO(19641.1,"P")
"IX",19641.1,19641.1,"P",11.1,0)
^.114IA^2^2
"IX",19641.1,19641.1,"P",11.1,1,0)
1^F^19641.1^.02^^^F
"IX",19641.1,19641.1,"P",11.1,1,3)

"IX",19641.1,19641.1,"P",11.1,2,0)
2^F^19641.1^.01^^1^F
"IX",19641.1,19641.1,"P",11.1,2,3)

"IX",19641.11,19641.11,"C",0)
19641.11^C^Uniqueness Index for Key 'A' of File #19641.11^R^^R^IR^I^19641.11^^^^^LS
"IX",19641.11,19641.11,"C",1)
S ^DSIO(19641.11,"C",X(1),X(2),DA)=""
"IX",19641.11,19641.11,"C",2)
K ^DSIO(19641.11,"C",X(1),X(2),DA)
"IX",19641.11,19641.11,"C",2.5)
K ^DSIO(19641.11,"C")
"IX",19641.11,19641.11,"C",11.1,0)
^.114IA^2^2
"IX",19641.11,19641.11,"C",11.1,1,0)
1^F^19641.11^.05^^1
"IX",19641.11,19641.11,"C",11.1,2,0)
2^F^19641.11^.01^^2
"IX",19641.11,19641.11,"D",0)
19641.11^D^PERSON BY PATIENT RELATIONSHIP^R^^R^IR^I^19641.11^^^^^LS
"IX",19641.11,19641.11,"D",1)
S ^DSIO(19641.11,"D",X(1),X(2),DA)=""
"IX",19641.11,19641.11,"D",2)
K ^DSIO(19641.11,"D",X(1),X(2),DA)
"IX",19641.11,19641.11,"D",2.5)
K ^DSIO(19641.11,"D")
"IX",19641.11,19641.11,"D",11.1,0)
^.114IA^2^2
"IX",19641.11,19641.11,"D",11.1,1,0)
1^F^19641.11^.05^^1^F
"IX",19641.11,19641.11,"D",11.1,1,3)

"IX",19641.11,19641.11,"D",11.1,2,0)
2^F^19641.11^.06^^2^F
"IX",19641.11,19641.11,"D",11.1,2,2)
S X=$$EXTERNAL^DILFD(19641.11,.06,,X)
"IX",19641.11,19641.11,"D",11.1,2,3)

"IX",19641.112,19641.112,"C",0)
19641.112^C^Uniqueness Index for Key 'A' of File #19641.112^R^^R^IR^I^19641.112^^^^^LS
"IX",19641.112,19641.112,"C",1)
S ^DSIO(19641.112,"C",X(1),X(2),X(3),DA)=""
"IX",19641.112,19641.112,"C",2)
K ^DSIO(19641.112,"C",X(1),X(2),X(3),DA)
"IX",19641.112,19641.112,"C",2.5)
K ^DSIO(19641.112,"C")
"IX",19641.112,19641.112,"C",11.1,0)
^.114IA^3^3
"IX",19641.112,19641.112,"C",11.1,1,0)
1^F^19641.112^.02^^1
"IX",19641.112,19641.112,"C",11.1,2,0)
2^F^19641.112^.03^^2
"IX",19641.112,19641.112,"C",11.1,3,0)
3^F^19641.112^.01^^3
"IX",19641.12,19641.12,"AC",0)
19641.12^AC^SET CODE SYSTEM^MU^^F^IR^I^19641.12^^^^^A
"IX",19641.12,19641.12,"AC",1)
I X(1)'="" D SCODE^DSIO2(X(1),DA,19641.12)
"IX",19641.12,19641.12,"AC",2)
Q
"IX",19641.12,19641.12,"AC",11.1,0)
^.114IA^1^1
"IX",19641.12,19641.12,"AC",11.1,1,0)
1^F^19641.12^.06^^^F
"IX",19641.12,19641.12,"AC",11.1,1,3)

"IX",19641.12,19641.12,"P",0)
19641.12^P^PRIMARY,DATE,SYSTEM,CODE^R^^R^IR^I^19641.12^^^^^LS
"IX",19641.12,19641.12,"P",1)
S ^DSIO(19641.12,"P",X(2),X(1),X(3),X(4),DA)=""
"IX",19641.12,19641.12,"P",2)
K ^DSIO(19641.12,"P",X(2),X(1),X(3),X(4),DA)
"IX",19641.12,19641.12,"P",2.5)
K ^DSIO(19641.12,"P")
"IX",19641.12,19641.12,"P",11.1,0)
^.114IA^4^4
"IX",19641.12,19641.12,"P",11.1,1,0)
1^F^19641.12^.01^^2^F
"IX",19641.12,19641.12,"P",11.1,2,0)
2^F^19641.12^.02^^1^F
"IX",19641.12,19641.12,"P",11.1,3,0)
3^F^19641.12^.07^^3^F
"IX",19641.12,19641.12,"P",11.1,4,0)
4^F^19641.12^.06^^4^F
"IX",19641.12,19641.12,"P",11.1,4,2)
S X=$$DCODE^DSIO2(X)
"IX",19641.12,19641.12,"S",0)
19641.12^S^PRIMARY,SECONDARY,DATE,SYSTEM,CODE^R^^R^IR^I^19641.12^^^^^LS
"IX",19641.12,19641.12,"S",1)
S ^DSIO(19641.12,"S",X(1),X(2),X(3),X(4),X(5),DA)=""
"IX",19641.12,19641.12,"S",2)
K ^DSIO(19641.12,"S",X(1),X(2),X(3),X(4),X(5),DA)
"IX",19641.12,19641.12,"S",2.5)
K ^DSIO(19641.12,"S")
"IX",19641.12,19641.12,"S",11.1,0)
^.114IA^5^5
"IX",19641.12,19641.12,"S",11.1,1,0)
1^F^19641.12^.02^^1^F
"IX",19641.12,19641.12,"S",11.1,1,3)

"IX",19641.12,19641.12,"S",11.1,2,0)
2^F^19641.12^.04^^2^F
"IX",19641.12,19641.12,"S",11.1,2,3)

"IX",19641.12,19641.12,"S",11.1,3,0)
3^F^19641.12^.01^^3^F
"IX",19641.12,19641.12,"S",11.1,3,3)

"IX",19641.12,19641.12,"S",11.1,4,0)
4^F^19641.12^.07^^4^F
"IX",19641.12,19641.12,"S",11.1,4,3)

"IX",19641.12,19641.12,"S",11.1,5,0)
5^F^19641.12^.06^^5^F
"IX",19641.12,19641.12,"S",11.1,5,3)

"IX",19641.13,19641.13,"ADELV",0)
19641.13^ADELV^UPDATE WV,DSIO PATIENT FILES WHEN DELIVERLY DATE IS SET^MU^^R^IR^I^19641.13^^^^^A
"IX",19641.13,19641.13,"ADELV",1)
D DELV^DSIO4(X(1),X(2),DA)
"IX",19641.13,19641.13,"ADELV",2)
Q
"IX",19641.13,19641.13,"ADELV",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"ADELV",11.1,1,0)
1^F^19641.13^.07^^^F
"IX",19641.13,19641.13,"ADELV",11.1,2,0)
2^F^19641.13^.03^^^F
"IX",19641.13,19641.13,"ADELV","NOREINDEX")
1
"IX",19641.13,19641.13,"ASTATUS",0)
19641.13^ASTATUS^UPDATE THE PREGNANCY STATUSES^MU^^R^IR^I^19641.13^^^^^A
"IX",19641.13,19641.13,"ASTATUS",1)
D:X(2)="C" STATUS^DSIO4(X(1),DA)
"IX",19641.13,19641.13,"ASTATUS",2)
Q
"IX",19641.13,19641.13,"ASTATUS",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"ASTATUS",11.1,1,0)
1^F^19641.13^.03^^^F
"IX",19641.13,19641.13,"ASTATUS",11.1,2,0)
2^F^19641.13^.04^^^F
"IX",19641.13,19641.13,"ASTATUS","NOREINDEX")
1
"IX",19641.13,19641.13,"D",0)
19641.13^D^PATIENT PREGNANCY HISTORY BY START DATE^R^^R^IR^I^19641.13^^^^^LS
"IX",19641.13,19641.13,"D",1)
S ^DSIO(19641.13,"D",X(1),X(2),DA)=""
"IX",19641.13,19641.13,"D",2)
K ^DSIO(19641.13,"D",X(1),X(2),DA)
"IX",19641.13,19641.13,"D",2.5)
K ^DSIO(19641.13,"D")
"IX",19641.13,19641.13,"D",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"D",11.1,1,0)
1^F^19641.13^.03^^1^F
"IX",19641.13,19641.13,"D",11.1,2,0)
2^F^19641.13^.02^^2^B
"IX",19641.13,19641.13,"P",0)
19641.13^P^PATIENT,CREATION DATE^R^^R^IR^I^19641.13^^^^^LS
"IX",19641.13,19641.13,"P",1)
S ^DSIO(19641.13,"P",X(1),X(2),DA)=""
"IX",19641.13,19641.13,"P",2)
K ^DSIO(19641.13,"P",X(1),X(2),DA)
"IX",19641.13,19641.13,"P",2.5)
K ^DSIO(19641.13,"P")
"IX",19641.13,19641.13,"P",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"P",11.1,1,0)
1^F^19641.13^.03^^1^F
"IX",19641.13,19641.13,"P",11.1,1,3)

"IX",19641.13,19641.13,"P",11.1,2,0)
2^F^19641.13^.01^^2^F
"IX",19641.13,19641.13,"P",11.1,2,3)

"IX",19641.13,19641.132,"C",0)
19641.132^C^FETUS NUMBER^R^^F^IR^I^19641.132^^^^^LS
"IX",19641.13,19641.132,"C",1)
S ^DSIO(19641.13,DA(1),2,"C",X,DA)=""
"IX",19641.13,19641.132,"C",2)
K ^DSIO(19641.13,DA(1),2,"C",X,DA)
"IX",19641.13,19641.132,"C",2.5)
K ^DSIO(19641.13,DA(1),2,"C")
"IX",19641.13,19641.132,"C",11.1,0)
^.114IA^1^1
"IX",19641.13,19641.132,"C",11.1,1,0)
1^F^19641.132^.01^^1^F
"IX",19641.13,19641.132,"C",11.1,1,2)
S X=$$GET1^DIQ(19641.112,X_",",.01)
"IX",19641.13,19641.132,"C",11.1,1,3)

"IX",19641.2,19641.2,"FLAGGED",0)
19641.2^FLAGGED^CURRENTLY FLAGGED PATIENTS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"FLAGGED",1)
K ^DSIO(19641.2,"FLAGGED",X(1),DA(1)),^DSIO(19641.2,"S",DA(1)) S:X(2)=2&('X(3)) ^DSIO(19641.2,"FLAGGED",X(1),DA(1),DA)="",^DSIO(19641.2,"S",DA(1),"F")=""
"IX",19641.2,19641.2,"FLAGGED",1.4)

"IX",19641.2,19641.2,"FLAGGED",2)
Q
"IX",19641.2,19641.2,"FLAGGED",2.5)
K ^DSIO(19641.2,"FLAGGED")
"IX",19641.2,19641.2,"FLAGGED",11.1,0)
^.114IA^3^3
"IX",19641.2,19641.2,"FLAGGED",11.1,1,0)
1^C^^^^1
"IX",19641.2,19641.2,"FLAGGED",11.1,1,1.5)
S X=$P(^DPT(DA(1),0),U)
"IX",19641.2,19641.2,"FLAGGED",11.1,2,0)
2^F^19641.24^.02^^^F
"IX",19641.2,19641.2,"FLAGGED",11.1,3,0)
3^C
"IX",19641.2,19641.2,"FLAGGED",11.1,3,1.5)
S X=0 I $D(^DSIO(19641.2,"TRACKING",$P(^DPT(DA(1),0),U),DA(1))) S X=1
"IX",19641.2,19641.2,"FLAGGED","NOREINDEX")
1
"IX",19641.2,19641.2,"TRACKING",0)
19641.2^TRACKING^CURRENTLY TRACKED PATIENTS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"TRACKING",1)
K:X(2)'=2 ^DSIO(19641.2,"TRACKING",X(1),DA(1)),^DSIO(19641.2,"S",DA(1)) S:X(2)=1!(X(2)=4) ^DSIO(19641.2,"TRACKING",X(1),DA(1),DA)="",^DSIO(19641.2,"S",DA(1),"T")=""
"IX",19641.2,19641.2,"TRACKING",1.4)

"IX",19641.2,19641.2,"TRACKING",2)
Q
"IX",19641.2,19641.2,"TRACKING",2.5)
K ^DSIO(19641.2,"TRACKING")
"IX",19641.2,19641.2,"TRACKING",11.1,0)
^.114IA^5^2
"IX",19641.2,19641.2,"TRACKING",11.1,4,0)
1^C^^^^1
"IX",19641.2,19641.2,"TRACKING",11.1,4,1.5)
S X=$P(^DPT(DA(1),0),U)
"IX",19641.2,19641.2,"TRACKING",11.1,5,0)
2^F^19641.24^.02^^^F
"IX",19641.2,19641.2,"TRACKING","NOREINDEX")
1
"IX",19641.2,19641.24,"FLAG",0)
19641.24^FLAG^ALL FLAGGED TRACKING LOGS.^MU^^R^IR^I^19641.24^^^^^LS
"IX",19641.2,19641.24,"FLAG",1)
S:X(1)=2 ^DSIO(19641.2,DA(1),1,"FLAG",X(2),DA)="" K:X(1)'=2 ^DSIO(19641.2,DA(1),1,"FLAG")
"IX",19641.2,19641.24,"FLAG",1.4)
I X(1)'=""
"IX",19641.2,19641.24,"FLAG",2)
Q
"IX",19641.2,19641.24,"FLAG",2.4)

"IX",19641.2,19641.24,"FLAG",2.5)
K ^DSIO(19641.2,DA(1),1,"FLAG")
"IX",19641.2,19641.24,"FLAG",11.1,0)
^.114IA^2^2
"IX",19641.2,19641.24,"FLAG",11.1,1,0)
1^F^19641.24^.02^^^F
"IX",19641.2,19641.24,"FLAG",11.1,2,0)
2^F^19641.24^.01^^1^B
"IX",19641.6,19641.6,"GUID",0)
19641.6^GUID^GUID UNIQUENESS IF SUPPLIED^R^^F^IR^I^19641.6^^^^^LS
"IX",19641.6,19641.6,"GUID",1)
S ^DSIO(19641.6,"GUID",X,DA)=""
"IX",19641.6,19641.6,"GUID",2)
K ^DSIO(19641.6,"GUID",X,DA)
"IX",19641.6,19641.6,"GUID",2.5)
K ^DSIO(19641.6,"GUID")
"IX",19641.6,19641.6,"GUID",11.1,0)
^.114IA^1^1
"IX",19641.6,19641.6,"GUID",11.1,1,0)
1^F^19641.6^.07^^1^F
"IX",19641.6,19641.6,"GUID",11.1,1,3)

"IX",19641.6,19641.6,"P",0)
19641.6^P^PATIENT SORT^R^^F^IR^I^19641.6^^^^^LS
"IX",19641.6,19641.6,"P",1)
S ^DSIO(19641.6,"P",X,DA)=""
"IX",19641.6,19641.6,"P",2)
K ^DSIO(19641.6,"P",X,DA)
"IX",19641.6,19641.6,"P",2.5)
K ^DSIO(19641.6,"P")
"IX",19641.6,19641.6,"P",11.1,0)
^.114IA^1^1
"IX",19641.6,19641.6,"P",11.1,1,0)
1^F^19641.6^.02^^1^F
"IX",19641.6,19641.6,"P",11.1,1,3)

"IX",19641.83,19641.83,"C",0)
19641.83^C^PREGNANCY,NOTE^R^^R^IR^W^19641.831^^^^^LS
"IX",19641.83,19641.83,"C",1)
S ^DSIO(19641.83,"C",X(1),X(2),DA(1),DA)=""
"IX",19641.83,19641.83,"C",2)
K ^DSIO(19641.83,"C",X(1),X(2),DA(1),DA)
"IX",19641.83,19641.83,"C",2.5)
K ^DSIO(19641.83,"C")
"IX",19641.83,19641.83,"C",11.1,0)
^.114IA^2^2
"IX",19641.83,19641.83,"C",11.1,1,0)
1^F^19641.831^.02^^1^F
"IX",19641.83,19641.83,"C",11.1,1,3)

"IX",19641.83,19641.83,"C",11.1,2,0)
2^F^19641.831^.01^^2^F
"IX",19641.83,19641.83,"C",11.1,2,3)

"KEY",19641.11,19641.11,"A",0)
19641.11^A^P^1262
"KEY",19641.11,19641.11,"A",2,0)
^.312IA^2^2
"KEY",19641.11,19641.11,"A",2,1,0)
.05^19641.11^1
"KEY",19641.11,19641.11,"A",2,2,0)
.01^19641.11^2
"KEY",19641.112,19641.112,"A",0)
19641.112^A^P^1264
"KEY",19641.112,19641.112,"A",2,0)
^.312IA^3^3
"KEY",19641.112,19641.112,"A",2,1,0)
.02^19641.112^1
"KEY",19641.112,19641.112,"A",2,2,0)
.03^19641.112^2
"KEY",19641.112,19641.112,"A",2,3,0)
.01^19641.112^3
"KEYPTR",19641.11,19641.11,"A")
19641.11^C
"KEYPTR",19641.112,19641.112,"A")
19641.112^C
"KRN",19,14873,-1)
0^5
"KRN",19,14873,0)
DSIO GUI CONTEXT^MCC DASHBOARD RPCS^^B^^^^^^^^
"KRN",19,14873,1,0)
^19.06^1^1^3150519^^
"KRN",19,14873,1,1,0)
This are the RPCs used by the DSIO Maternity Care Dashboard.
"KRN",19,14873,"RPC",0)
^19.05P^69^65
"KRN",19,14873,"RPC",1,0)
DSIO CREATE TRACKING LOG
"KRN",19,14873,"RPC",4,0)
DSIO GET TRACKING
"KRN",19,14873,"RPC",6,0)
DSIO SELECT LIST
"KRN",19,14873,"RPC",7,0)
ORWU HASKEY
"KRN",19,14873,"RPC",8,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,14873,"RPC",9,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,14873,"RPC",10,0)
TIU DOCUMENTS BY CONTEXT
"KRN",19,14873,"RPC",11,0)
ORWPT SELECT
"KRN",19,14873,"RPC",12,0)
ORWU USERINFO
"KRN",19,14873,"RPC",14,0)
DSIO SAVE EXTERNAL ENTITY
"KRN",19,14873,"RPC",15,0)
DSIO GET EXTERNAL ENTITY
"KRN",19,14873,"RPC",16,0)
DSIO CREATE A NOTE
"KRN",19,14873,"RPC",17,0)
DSIO UPDATE A NOTE
"KRN",19,14873,"RPC",18,0)
DSIO MAKE ADDENDUM
"KRN",19,14873,"RPC",19,0)
DSIO GET RECORD TEXT
"KRN",19,14873,"RPC",20,0)
DSIO DELETE A NOTE
"KRN",19,14873,"RPC",21,0)
DSIO SIGN A NOTE
"KRN",19,14873,"RPC",22,0)
DSIO GET TIU NOTES
"KRN",19,14873,"RPC",23,0)
DSIO GET NOTE ELEMENT
"KRN",19,14873,"RPC",24,0)
DSIO DDCS CONTROLLED
"KRN",19,14873,"RPC",26,0)
XUS CVC
"KRN",19,14873,"RPC",28,0)
TIU AUTHORIZATION
"KRN",19,14873,"RPC",29,0)
DSIO SAVE IHE DOC
"KRN",19,14873,"RPC",30,0)
VPR DATA VERSION
"KRN",19,14873,"RPC",31,0)
VPR GET PATIENT DATA
"KRN",19,14873,"RPC",34,0)
ORWU1 NEWLOC
"KRN",19,14873,"RPC",35,0)
DSIO VPR GET PATIENT DATA
"KRN",19,14873,"RPC",36,0)
DSIO SAVE PERSON
"KRN",19,14873,"RPC",37,0)
DSIO GET PERSON
"KRN",19,14873,"RPC",38,0)
DSIO SAVE PREG DETAILS
"KRN",19,14873,"RPC",40,0)
DSIO SAVE OBSERVATION
"KRN",19,14873,"RPC",41,0)
DSIO GET PREG DETAILS
"KRN",19,14873,"RPC",42,0)
DSIO GET PATIENT INFORMATION
"KRN",19,14873,"RPC",43,0)
DSIO GET OBSERVATIONS
"KRN",19,14873,"RPC",44,0)
DSIO GET ORDER LIST
"KRN",19,14873,"RPC",45,0)
DSIO GET ORDER DETAIL
"KRN",19,14873,"RPC",46,0)
DSIO GET REMINDER DETAIL
"KRN",19,14873,"RPC",47,0)
DSIO GET REMINDER LIST
"KRN",19,14873,"RPC",48,0)
DSIO GET NOTIFICATIONS/ALERTS
"KRN",19,14873,"RPC",49,0)
DSIO DDCS STORE
"KRN",19,14873,"RPC",50,0)
DSIO DDCS STORE (TASK)
"KRN",19,14873,"RPC",51,0)
ORQQCN LIST
"KRN",19,14873,"RPC",52,0)
ORQQCN DETAIL
"KRN",19,14873,"RPC",53,0)
ORWRP REPORT TEXT
"KRN",19,14873,"RPC",54,0)
DSIO SET PATIENT INFORMATION
"KRN",19,14873,"RPC",55,0)
DSIO GET EDUC CATEGORY LIST
"KRN",19,14873,"RPC",56,0)
DSIO GET EDUCATION ITEMS
"KRN",19,14873,"RPC",57,0)
DSIO GET MCC CHECKLIST
"KRN",19,14873,"RPC",58,0)
DSIO GET MCC PATIENT CHECKLIST
"KRN",19,14873,"RPC",59,0)
DSIO GET PATIENT EDUCATION
"KRN",19,14873,"RPC",60,0)
DSIO GET PROVIDER
"KRN",19,14873,"RPC",61,0)
DSIO SAVE EDUCATION ITEM
"KRN",19,14873,"RPC",62,0)
DSIO SAVE MCC CHECKLIST
"KRN",19,14873,"RPC",63,0)
DSIO SAVE MCC PAT CHECKLIST
"KRN",19,14873,"RPC",64,0)
DSIO SAVE PATIENT EDUCATION
"KRN",19,14873,"RPC",65,0)
DSIO DELETE MCC CHECKLIST
"KRN",19,14873,"RPC",66,0)
DSIO DELETE MCC PAT CHKLST
"KRN",19,14873,"RPC",67,0)
DSIO CHECK CONTROLLED LABS
"KRN",19,14873,"RPC",68,0)
DSIO GET IHE PATIENT INFO
"KRN",19,14873,"RPC",69,0)
DSIO PATIENT LIST
"KRN",19,14873,"U")
MCC DASHBOARD RPCS
"KRN",8994,4002,-1)
0^11
"KRN",8994,4002,0)
DSIO GET TRACKING^TRCLIST^DSIO1^4^^^^1
"KRN",8994,4002,1,0)
^^12^12^3150429^
"KRN",8994,4002,1,1,0)
 ;
"KRN",8994,4002,1,2,0)
 ; RETURN MATERNITY TRACKING LISTS
"KRN",8994,4002,1,3,0)
 ;
"KRN",8994,4002,1,4,0)
 ; INPUT PARAMETERS:
"KRN",8994,4002,1,5,0)
 ; -----------------
"KRN",8994,4002,1,6,0)
 ; ALL: ALL LOGS
"KRN",8994,4002,1,7,0)
 ;   T: ALL CURRENTLY TRACKED PATIENTS
"KRN",8994,4002,1,8,0)
 ;   F: ALL CURRENTLY FLAGGED PATIENTS
"KRN",8994,4002,1,9,0)
 ; DFN: ALL LOGS FOR A PATIENT
"KRN",8994,4002,1,10,0)
 ;  F#: ALL CURRENTLY FLAGGED LOGS FOR A PATIENT
"KRN",8994,4002,1,11,0)
 ;
"KRN",8994,4002,1,12,0)
 ; SORT: PAGE#,CT
"KRN",8994,4002,2,0)
^8994.02A^2^2
"KRN",8994,4002,2,1,0)
TYP^1^^^1
"KRN",8994,4002,2,2,0)
SORT^1^^^2
"KRN",8994,4002,2,"B","SORT",2)

"KRN",8994,4002,2,"B","TYP",1)

"KRN",8994,4002,2,"PARAMSEQ",1,1)

"KRN",8994,4002,2,"PARAMSEQ",2,2)

"KRN",8994,4002,3,0)
^^21^21^3150429^
"KRN",8994,4002,3,1,0)
 ;
"KRN",8994,4002,3,2,0)
 ; *** GET ALL CURRENTLY TRACKED PATIENTS
"KRN",8994,4002,3,3,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD^OB^PLANNED DELV LOC^
"KRN",8994,4002,3,4,0)
 ;     CURRENTLY PREGNANT^CURRENTLY LACATING
"KRN",8994,4002,3,5,0)
 ;     ^DSIO(19641.2,"TRACKING",PATIENT NAME,DFN,DA)=""
"KRN",8994,4002,3,6,0)
 ;
"KRN",8994,4002,3,7,0)
 ; *** GET ALL CURRENTLY FLAGGED PATIENTS
"KRN",8994,4002,3,8,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"KRN",8994,4002,3,9,0)
 ;     ^DSIO(19641.2,"FLAGGED",PATIENT NAME,DFN,DA)=""
"KRN",8994,4002,3,10,0)
 ;
"KRN",8994,4002,3,11,0)
 ; *** GET ALL LOGS FOR A PATIENT
"KRN",8994,4002,3,12,0)
 ;     L^IEN^TRACKING 
"KRN",8994,4002,3,13,0)
DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"KRN",8994,4002,3,14,0)
 ;     C^IEN^COMMENT
"KRN",8994,4002,3,15,0)
 ;     ^DSIO(19641.2,DFN,1,"B",LOG DATE,DA)=""
"KRN",8994,4002,3,16,0)
 ;
"KRN",8994,4002,3,17,0)
 ; *** GET CURRENTLY FLAGGED ENTRIES FOR A PATIENT
"KRN",8994,4002,3,18,0)
 ;     ^DSIO(19641.2,DFN,1,"FLAG",LOG DATE,DA)
"KRN",8994,4002,3,19,0)
 ;
"KRN",8994,4002,3,20,0)
 ; *** GET ALL LOGS
"KRN",8994,4002,3,21,0)
 ;     ^DSIO(19641.2,"C",LOG DATE,DFN,DA)=""
"KRN",8994,4003,-1)
0^9
"KRN",8994,4003,0)
DSIO SELECT LIST^SELECT^DSIO1^2
"KRN",8994,4003,1,0)
^^9^9^3150429^
"KRN",8994,4003,1,1,0)
 ;
"KRN",8994,4003,1,2,0)
 ; RETURN DROP DOWN LIST
"KRN",8994,4003,1,3,0)
 ;
"KRN",8994,4003,1,4,0)
 ; INPUT PARAMETER:
"KRN",8994,4003,1,5,0)
 ;  TYP : 'S' FOR FILE 19641.22
"KRN",8994,4003,1,6,0)
 ;  TYP : 'R' FOR FILE 19641.23
"KRN",8994,4003,1,7,0)
 ;
"KRN",8994,4003,1,8,0)
 ;  LETTER^ENTRY^A : ADD AN ENTRY TO ONE OF THE ABOVE FILES
"KRN",8994,4003,1,9,0)
 ;  LETTER^ENTRY^D : DELETE AN ENTRY FROM ONE OF THE ABOVE FILES
"KRN",8994,4003,2,0)
^8994.02A^1^1
"KRN",8994,4003,2,1,0)
TYP^1^^^1
"KRN",8994,4003,2,1,1,0)
^8994.021^10^10^3150429^^
"KRN",8994,4003,2,1,1,1,0)
When this input parameter is set to S it will return a list of entries 
"KRN",8994,4003,2,1,1,2,0)
that are not marked as system from the DSIO TRACKING SOURCE file; 
"KRN",8994,4003,2,1,1,3,0)
likewise, it will do the same for the DSIO TRACKING REASON file when it 
"KRN",8994,4003,2,1,1,4,0)
is set to R.
"KRN",8994,4003,2,1,1,5,0)
 
"KRN",8994,4003,2,1,1,6,0)
To add an entry:
"KRN",8994,4003,2,1,1,7,0)
(S or R)^ENTRY NAME^A
"KRN",8994,4003,2,1,1,8,0)
 
"KRN",8994,4003,2,1,1,9,0)
To delete an entry:
"KRN",8994,4003,2,1,1,10,0)
(S or R)^ENTRY NAME^D
"KRN",8994,4003,2,"B","TYP",1)

"KRN",8994,4003,2,"PARAMSEQ",1,1)

"KRN",8994,4003,3,0)
^^1^1^3150429^
"KRN",8994,4003,3,1,0)
 ;  RETURN LIST FOR SUCCESS OR RET(0)="-1^MESSAGE" FOR FAILURE
"KRN",8994,4004,-1)
0^18
"KRN",8994,4004,0)
DSIO CREATE TRACKING LOG^REC^DSIO1^1
"KRN",8994,4004,1,0)
^^28^28^3150429^
"KRN",8994,4004,1,1,0)
This RPC creates a tracking log in the DSIO TRACKING HISTORY file. The 
"KRN",8994,4004,1,2,0)
ACTION(.02) used to create the entry may or may not change the status of 
"KRN",8994,4004,1,3,0)
the patient depending on their current TRACKING STATUS(.02) within the 
"KRN",8994,4004,1,4,0)
DSIO PATIENT file.
"KRN",8994,4004,1,5,0)
 
"KRN",8994,4004,1,6,0)
Note
"KRN",8994,4004,1,7,0)
---------------------------------
"KRN",8994,4004,1,8,0)
When the Patient's TRACKING STATUS is:
"KRN",8994,4004,1,9,0)
 
"KRN",8994,4004,1,10,0)
0   NO = No, the patient is not being tracked.
"KRN",8994,4004,1,11,0)
When the patient's tracking status is NO and a tracking entry of START is 
"KRN",8994,4004,1,12,0)
created the patients status will become YES.
"KRN",8994,4004,1,13,0)
Likewise, if a tracking entry of FLAG were to be created the patients 
"KRN",8994,4004,1,14,0)
tracking status would become FLAG.
"KRN",8994,4004,1,15,0)
Additionally, but not necessary, if an entry of STOP was created the 
"KRN",8994,4004,1,16,0)
tracking status would be set to NO.
"KRN",8994,4004,1,17,0)
 
"KRN",8994,4004,1,18,0)
1  YES = Yes, the patient is being tracked.
"KRN",8994,4004,1,19,0)
When the patients tracking status is YES a tracking entry of NO will 
"KRN",8994,4004,1,20,0)
change their status to NO. FLAG entries do not change the status of the 
"KRN",8994,4004,1,21,0)
patient when their status is YES; however, if a FLAG entry where to be 
"KRN",8994,4004,1,22,0)
rejected it would change the status of the patient to NO.
"KRN",8994,4004,1,23,0)
 
"KRN",8994,4004,1,24,0)
2  FLAG = Please review, this patient may need to be tracked.
"KRN",8994,4004,1,25,0)
If a patient is set as FLAG then a tracking entry of ACCEPT will YES 
"KRN",8994,4004,1,26,0)
their status while a REJECT will NO their status.
"KRN",8994,4004,1,27,0)
Likewise, but not necessary, an entry of START or STOP will change their 
"KRN",8994,4004,1,28,0)
status to YES or NO respectably.
"KRN",8994,4004,2,0)
^8994.02A^5^5
"KRN",8994,4004,2,1,0)
DFN^1^^^1
"KRN",8994,4004,2,2,0)
ACT^1^^^2
"KRN",8994,4004,2,3,0)
RES^1^^^3
"KRN",8994,4004,2,4,0)
COM^1^^^4
"KRN",8994,4004,2,5,0)
SOR^1^^^5
"KRN",8994,4004,2,"B","ACT",2)

"KRN",8994,4004,2,"B","COM",4)

"KRN",8994,4004,2,"B","DFN",1)

"KRN",8994,4004,2,"B","RES",3)

"KRN",8994,4004,2,"B","SOR",5)

"KRN",8994,4004,2,"PARAMSEQ",1,1)

"KRN",8994,4004,2,"PARAMSEQ",2,2)

"KRN",8994,4004,2,"PARAMSEQ",3,3)

"KRN",8994,4004,2,"PARAMSEQ",4,4)

"KRN",8994,4004,2,"PARAMSEQ",5,5)

"KRN",8994,4004,3,0)
^8994.03^4^4^3150429^^^^
"KRN",8994,4004,3,1,0)
Success
"KRN",8994,4004,3,2,0)
1^SUCCESS (One is not the IEN)
"KRN",8994,4004,3,3,0)
Failure
"KRN",8994,4004,3,4,0)
-1^ERROR MESSAGE
"KRN",8994,4006,-1)
0^13
"KRN",8994,4006,0)
DSIO SAVE EXTERNAL ENTITY^SENT^DSIO1^1
"KRN",8994,4006,1,0)
^^3^3^3150429^
"KRN",8994,4006,1,1,0)
 ;
"KRN",8994,4006,1,2,0)
 ;  ADDR LABELS: 1,2,3,CITY,STATE,ZIP
"KRN",8994,4006,1,3,0)
 ; PHONE LABELS: H,MC,WP,FAX
"KRN",8994,4006,2,0)
^8994.02A^7^7
"KRN",8994,4006,2,1,0)
IEN^1^^^1
"KRN",8994,4006,2,2,0)
NAME^1^^^2
"KRN",8994,4006,2,3,0)
TYP^1^^^3
"KRN",8994,4006,2,4,0)
ACT^1^^^4
"KRN",8994,4006,2,5,0)
PCON^1^^^5
"KRN",8994,4006,2,6,0)
ADDR^2^^^6
"KRN",8994,4006,2,7,0)
PHONE^2^^^7
"KRN",8994,4006,2,"B","ACT",4)

"KRN",8994,4006,2,"B","ADDR",6)

"KRN",8994,4006,2,"B","IEN",1)

"KRN",8994,4006,2,"B","NAME",2)

"KRN",8994,4006,2,"B","PCON",5)

"KRN",8994,4006,2,"B","PHONE",7)

"KRN",8994,4006,2,"B","SAVE",1)

"KRN",8994,4006,2,"B","TYP",3)

"KRN",8994,4006,2,"PARAMSEQ",1,1)

"KRN",8994,4006,2,"PARAMSEQ",2,2)

"KRN",8994,4006,2,"PARAMSEQ",3,3)

"KRN",8994,4006,2,"PARAMSEQ",4,4)

"KRN",8994,4006,2,"PARAMSEQ",5,5)

"KRN",8994,4006,2,"PARAMSEQ",6,6)

"KRN",8994,4006,2,"PARAMSEQ",7,7)

"KRN",8994,4006,3,0)
^8994.03^4^4^3150429^^
"KRN",8994,4006,3,1,0)
Success
"KRN",8994,4006,3,2,0)
1^IEN
"KRN",8994,4006,3,3,0)
Failure
"KRN",8994,4006,3,4,0)
-1^Error Message
"KRN",8994,4007,-1)
0^12
"KRN",8994,4007,0)
DSIO GET EXTERNAL ENTITY^RENT^DSIO1^4^^^^1
"KRN",8994,4007,1,0)
^^14^14^3150429^
"KRN",8994,4007,1,1,0)
 ;
"KRN",8994,4007,1,2,0)
 ; SORT: PAGE#,CT
"KRN",8994,4007,1,3,0)
 ;
"KRN",8994,4007,1,4,0)
 ; RETURN: GLOBAL ARRAY
"KRN",8994,4007,1,5,0)
 ;
"KRN",8994,4007,1,6,0)
 ; IEN^NAME^TYPE^INACTIVE^PRIMARY PROVIDER NAME^STREET ADDRESS 1
"KRN",8994,4007,1,7,0)
 ; ^STREET ADDRESS 2^STREET ADDRESS 3^CITY^STATE^ZIP CODE
"KRN",8994,4007,1,8,0)
 ; ^PHONE NUMBER (HOME)^PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX 
"KRN",8994,4007,1,9,0)
NUMBER
"KRN",8994,4007,1,10,0)
 ;
"KRN",8994,4007,1,11,0)
 ; TYP - F        (FACILITIES)
"KRN",8994,4007,1,12,0)
 ;       P        (PROVIDERS)
"KRN",8994,4007,1,13,0)
 ;       NULL     (ALL ENTITIES)
"KRN",8994,4007,1,14,0)
 ;       IEN/NAME (SINGLE ENTITY)
"KRN",8994,4007,2,0)
^8994.02A^2^2
"KRN",8994,4007,2,1,0)
TYP^1^^^1
"KRN",8994,4007,2,2,0)
SORT^1^^^2
"KRN",8994,4007,2,"B","SORT",2)

"KRN",8994,4007,2,"B","TYP",1)

"KRN",8994,4007,2,"PARAMSEQ",1,1)

"KRN",8994,4007,2,"PARAMSEQ",2,2)

"KRN",8994,4007,3,0)
^8994.03^8^8^3150429^^
"KRN",8994,4007,3,1,0)
Success
"KRN",8994,4007,3,2,0)
Multi Lines of:
"KRN",8994,4007,3,3,0)
The zero node will return the total number of entries returned.
"KRN",8994,4007,3,4,0)
IEN ^ NAME ^ TYPE ^ INACTIVE ^ PRIMARY CONTACT ^ STREET ADDRESS 1 ^ 
"KRN",8994,4007,3,5,0)
STREET ADDRESS 2 ^ STREET ADDRESS 3 ^ CITY ^ STATE ^ ZIP CODE ^ PHONE 
"KRN",8994,4007,3,6,0)
NUMBER (HOME) ^ PHONE NUMBER (OFFICE) ^ PHONE NUMBER (CELL) ^ FAX NUMBER
"KRN",8994,4007,3,7,0)
 
"KRN",8994,4007,3,8,0)
Failure -1^No entries found.
"KRN",8994,4008,-1)
0^21
"KRN",8994,4008,0)
DSIO CREATE A NOTE^CREATE^DSIO3^1
"KRN",8994,4008,1,0)
^8994.01^5^5^3150203^^^
"KRN",8994,4008,1,1,0)
This RPC creates a TIU Document and saves discreet data passed in through 
"KRN",8994,4008,1,2,0)
its fourth input parameter. The data is associated with the note and can 
"KRN",8994,4008,1,3,0)
be later retrieved simply by using the note IEN. This RPC uses TIU APIs 
"KRN",8994,4008,1,4,0)
and condenses many of them into one call which includes authentication, 
"KRN",8994,4008,1,5,0)
locking, and unlocking.
"KRN",8994,4008,2,0)
^8994.02A^5^2
"KRN",8994,4008,2,1,0)
DFN^1^^1^1
"KRN",8994,4008,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4008,2,1,1,1,0)
Patient Internal Entry Number
"KRN",8994,4008,2,2,0)
TITLE^1^^1^2
"KRN",8994,4008,2,2,1,0)
^^2^2^3140829^
"KRN",8994,4008,2,2,1,1,0)
The name of the entry to the TIU DOCUMENT DEFINITION file (8925.1) whose 
"KRN",8994,4008,2,2,1,2,0)
TYPE(.04) is TITLE.
"KRN",8994,4008,2,3,0)
NOTE^2^^^3
"KRN",8994,4008,2,3,1,0)
^8994.021^3^3^3140829^^
"KRN",8994,4008,2,3,1,1,0)
A list of formatted lines that will be placed in the body of the note. 
"KRN",8994,4008,2,3,1,2,0)
This is a simple numbered list.
"KRN",8994,4008,2,3,1,3,0)
NOTE(0)="This would be the first line of the note."
"KRN",8994,4008,2,4,0)
DATA^2^^^4
"KRN",8994,4008,2,4,1,0)
^8994.021^18^18^3140829^^
"KRN",8994,4008,2,4,1,1,0)
A list of values to be saved discreetly and associated to the identified 
"KRN",8994,4008,2,4,1,2,0)
note. Each entry in this list consists of four pieces delimited by caret  
"KRN",8994,4008,2,4,1,3,0)
TYPE^ID^FIELD^VALUE.
"KRN",8994,4008,2,4,1,4,0)
 
"KRN",8994,4008,2,4,1,5,0)
Where TYPE = S, M, WP which means single, multiple, and word processing.
"KRN",8994,4008,2,4,1,6,0)
 
"KRN",8994,4008,2,4,1,7,0)
ID is a unique number that associates multiple entries of the list to 
"KRN",8994,4008,2,4,1,8,0)
belong to one entry for VistA.
"KRN",8994,4008,2,4,1,9,0)
 
"KRN",8994,4008,2,4,1,10,0)
FIELD is the name of the caption or label that identifies the VALUE which 
"KRN",8994,4008,2,4,1,11,0)
is the fourth piece of a list entry.
"KRN",8994,4008,2,4,1,12,0)
 
"KRN",8994,4008,2,4,1,13,0)
EXAMPLE ARRAY:
"KRN",8994,4008,2,4,1,14,0)
(S,M,WP) ^ CONTROL ^ LABEL 1 ^ SOME VALUE ^ INDEX ^ NOTE TEXT
"KRN",8994,4008,2,4,1,15,0)
- M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"KRN",8994,4008,2,4,1,16,0)
- IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO 
"KRN",8994,4008,2,4,1,17,0)
ONE ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A 
"KRN",8994,4008,2,4,1,18,0)
SINGLE ENTRY TO DSIO NOTE DATA.
"KRN",8994,4008,2,5,0)
SUBJ^1^^^5
"KRN",8994,4008,2,5,1,0)
^^1^1^3140829^
"KRN",8994,4008,2,5,1,1,0)
The note subject (optional)  this is not the title.
"KRN",8994,4008,2,6,0)
PREGIEN^1^^0^6
"KRN",8994,4008,2,6,1,0)
^8994.021^1^1^3150203^^^
"KRN",8994,4008,2,6,1,1,0)
ENTER THE PREGNANT HISTORY FILE IEN.
"KRN",8994,4008,2,"B","DATA",4)

"KRN",8994,4008,2,"B","DFN",1)

"KRN",8994,4008,2,"B","NOTE",3)

"KRN",8994,4008,2,"B","PREGIEN",6)

"KRN",8994,4008,2,"B","SUBJ",5)

"KRN",8994,4008,2,"B","TITLE",2)

"KRN",8994,4008,2,"PARAMSEQ",1,1)

"KRN",8994,4008,2,"PARAMSEQ",2,2)

"KRN",8994,4008,2,"PARAMSEQ",3,3)

"KRN",8994,4008,2,"PARAMSEQ",4,4)

"KRN",8994,4008,2,"PARAMSEQ",5,5)

"KRN",8994,4008,2,"PARAMSEQ",6,6)

"KRN",8994,4008,3,0)
^8994.03^7^7^3150203^^
"KRN",8994,4008,3,1,0)
Success
"KRN",8994,4008,3,2,0)
NOTE IEN^1^1
"KRN",8994,4008,3,3,0)
NOTE IEN = The TIU DOCUMENT IEN
"KRN",8994,4008,3,4,0)
1^1 = the page number and total number of pages of the Note
"KRN",8994,4008,3,5,0)
 
"KRN",8994,4008,3,6,0)
Failure
"KRN",8994,4008,3,7,0)
0^ERROR MESSAGE
"KRN",8994,4009,-1)
0^22
"KRN",8994,4009,0)
DSIO UPDATE A NOTE^SET^DSIO3^1
"KRN",8994,4009,1,0)
^8994.01^3^3^3150203^^^
"KRN",8994,4009,1,1,0)
This RPC is used to update the body of a TIU document which requires TIU 
"KRN",8994,4009,1,2,0)
Authentication and if it passes it uses ADDEND. Thus in most cases the 
"KRN",8994,4009,1,3,0)
note must be signed in order to be updated.
"KRN",8994,4009,2,0)
^8994.02A^4^4
"KRN",8994,4009,2,1,0)
IEN^1^^1^1
"KRN",8994,4009,2,1,1,0)
^8994.021^1^1^3140829^^
"KRN",8994,4009,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4009,2,2,0)
NOTE^2^^^2
"KRN",8994,4009,2,2,1,0)
^^3^3^3140829^
"KRN",8994,4009,2,2,1,1,0)
A list of formatted lines that will be placed in the body of the note. 
"KRN",8994,4009,2,2,1,2,0)
This is a simple numbered list.
"KRN",8994,4009,2,2,1,3,0)
NOTE(0)="This would be the first line of the note."
"KRN",8994,4009,2,3,0)
DATA^2^^^3
"KRN",8994,4009,2,3,1,0)
^^18^18^3140829^
"KRN",8994,4009,2,3,1,1,0)
A list of values to be saved discreetly and associated to the identified 
"KRN",8994,4009,2,3,1,2,0)
note. Each entry in this list consists of four pieces delimited by caret  
"KRN",8994,4009,2,3,1,3,0)
TYPE^ID^FIELD^VALUE.
"KRN",8994,4009,2,3,1,4,0)
 
"KRN",8994,4009,2,3,1,5,0)
Where TYPE = S, M, WP which means single, multiple, and word processing.
"KRN",8994,4009,2,3,1,6,0)
 
"KRN",8994,4009,2,3,1,7,0)
ID is a unique number that associates multiple entries of the list to 
"KRN",8994,4009,2,3,1,8,0)
belong to one entry for VistA.
"KRN",8994,4009,2,3,1,9,0)
 
"KRN",8994,4009,2,3,1,10,0)
FIELD is the name of the caption or label that identifies the VALUE which 
"KRN",8994,4009,2,3,1,11,0)
is the fourth piece of a list entry.
"KRN",8994,4009,2,3,1,12,0)
 
"KRN",8994,4009,2,3,1,13,0)
EXAMPLE ARRAY:
"KRN",8994,4009,2,3,1,14,0)
(S,M,WP) ^ CONTROL ^ LABEL 1 ^ SOME VALUE ^ INDEX ^ NOTE TEXT
"KRN",8994,4009,2,3,1,15,0)
- M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"KRN",8994,4009,2,3,1,16,0)
- IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO 
"KRN",8994,4009,2,3,1,17,0)
ONE ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A 
"KRN",8994,4009,2,3,1,18,0)
SINGLE ENTRY TO DSIO NOTE DATA.
"KRN",8994,4009,2,4,0)
SUBJ^1^^^4
"KRN",8994,4009,2,4,1,0)
^^1^1^3140829^
"KRN",8994,4009,2,4,1,1,0)
The note subject (optional)  this is not the title.
"KRN",8994,4009,2,5,0)
PREGIEN^1^^0^5
"KRN",8994,4009,2,5,1,0)
^8994.021^1^1^3150203^^^
"KRN",8994,4009,2,5,1,1,0)
ENTER THE PREGNANT HISTORY FILE IEN.
"KRN",8994,4009,2,"B","DATA",3)

"KRN",8994,4009,2,"B","IEN",1)

"KRN",8994,4009,2,"B","NOTE",2)

"KRN",8994,4009,2,"B","PREGIEN",5)

"KRN",8994,4009,2,"B","SUBJ",4)

"KRN",8994,4009,2,"PARAMSEQ",1,1)

"KRN",8994,4009,2,"PARAMSEQ",2,2)

"KRN",8994,4009,2,"PARAMSEQ",3,3)

"KRN",8994,4009,2,"PARAMSEQ",4,4)

"KRN",8994,4009,2,"PARAMSEQ",5,5)

"KRN",8994,4009,3,0)
^8994.03^4^4^3150203^^
"KRN",8994,4009,3,1,0)
Success
"KRN",8994,4009,3,2,0)
IEN ^ LAST PAGE ^ TOTAL PAGES
"KRN",8994,4009,3,3,0)
Failure 
"KRN",8994,4009,3,4,0)
0^ERROR MESSAGE
"KRN",8994,4010,-1)
0^23
"KRN",8994,4010,0)
DSIO MAKE ADDENDUM^ADDEN^DSIO3^1
"KRN",8994,4010,1,0)
^8994.01^2^2^3140829^^
"KRN",8994,4010,1,1,0)
This RPC allows the creation of addenda to TIU Documents; the user must 
"KRN",8994,4010,1,2,0)
first pass TIU Authentication.
"KRN",8994,4010,2,0)
^8994.02A^4^4
"KRN",8994,4010,2,1,0)
IEN^1^^1^1
"KRN",8994,4010,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4010,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4010,2,2,0)
NOTE^2^^^2
"KRN",8994,4010,2,2,1,0)
^8994.021^3^3^3140829^^
"KRN",8994,4010,2,2,1,1,0)
A list of formatted lines that will be placed in the body of the note. 
"KRN",8994,4010,2,2,1,2,0)
This is a simple numbered list.
"KRN",8994,4010,2,2,1,3,0)
NOTE(0)="This would be the first line of the note."
"KRN",8994,4010,2,3,0)
DATA^2^^^3
"KRN",8994,4010,2,3,1,0)
^8994.021^18^18^3140829^^
"KRN",8994,4010,2,3,1,1,0)
A list of values to be saved discreetly and associated to the identified 
"KRN",8994,4010,2,3,1,2,0)
note. Each entry in this list consists of four pieces delimited by caret  
"KRN",8994,4010,2,3,1,3,0)
TYPE^ID^FIELD^VALUE.
"KRN",8994,4010,2,3,1,4,0)
 
"KRN",8994,4010,2,3,1,5,0)
Where TYPE = S, M, WP which means single, multiple, and word processing.
"KRN",8994,4010,2,3,1,6,0)
 
"KRN",8994,4010,2,3,1,7,0)
ID is a unique number that associates multiple entries of the list to 
"KRN",8994,4010,2,3,1,8,0)
belong to one entry for VistA.
"KRN",8994,4010,2,3,1,9,0)
 
"KRN",8994,4010,2,3,1,10,0)
FIELD is the name of the caption or label that identifies the VALUE which 
"KRN",8994,4010,2,3,1,11,0)
is the fourth piece of a list entry.
"KRN",8994,4010,2,3,1,12,0)
 
"KRN",8994,4010,2,3,1,13,0)
EXAMPLE ARRAY:
"KRN",8994,4010,2,3,1,14,0)
(S,M,WP) ^ CONTROL ^ LABEL 1 ^ SOME VALUE ^ INDEX ^ NOTE TEXT
"KRN",8994,4010,2,3,1,15,0)
- M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"KRN",8994,4010,2,3,1,16,0)
- IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO 
"KRN",8994,4010,2,3,1,17,0)
ONE ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A 
"KRN",8994,4010,2,3,1,18,0)
SINGLE ENTRY TO DSIO NOTE DATA.
"KRN",8994,4010,2,4,0)
SUBJ^1^^^4
"KRN",8994,4010,2,4,1,0)
^^1^1^3140829^
"KRN",8994,4010,2,4,1,1,0)
The note subject (optional)  this is not the title.
"KRN",8994,4010,2,"B","DATA",3)

"KRN",8994,4010,2,"B","IEN",1)

"KRN",8994,4010,2,"B","NOTE",2)

"KRN",8994,4010,2,"B","SUBJ",4)

"KRN",8994,4010,2,"PARAMSEQ",1,1)

"KRN",8994,4010,2,"PARAMSEQ",2,2)

"KRN",8994,4010,2,"PARAMSEQ",3,3)

"KRN",8994,4010,2,"PARAMSEQ",4,4)

"KRN",8994,4010,3,0)
^^4^4^3140829^
"KRN",8994,4010,3,1,0)
Success
"KRN",8994,4010,3,2,0)
IEN ^ LAST PAGE ^ TOTAL PAGES
"KRN",8994,4010,3,3,0)
Failure 
"KRN",8994,4010,3,4,0)
0^ERROR MESSAGE
"KRN",8994,4011,-1)
0^17
"KRN",8994,4011,0)
DSIO GET RECORD TEXT^GET^DSIO3^4^^^^1
"KRN",8994,4011,1,0)
^^1^1^3140829^
"KRN",8994,4011,1,1,0)
This RPC will return the TIU Document body, header, or whole note.
"KRN",8994,4011,2,0)
^8994.02A^2^2
"KRN",8994,4011,2,1,0)
IEN^1^^1^1
"KRN",8994,4011,2,1,1,0)
^8994.021^1^1^3140402^^
"KRN",8994,4011,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,4011,2,2,0)
TYP^1^^^2
"KRN",8994,4011,2,2,1,0)
^^2^2^3140829^
"KRN",8994,4011,2,2,1,1,0)
Pass null for whole note, H to return the header only, or B to return the 
"KRN",8994,4011,2,2,1,2,0)
body only.
"KRN",8994,4011,2,"B","IEN",1)

"KRN",8994,4011,2,"B","TYP",2)

"KRN",8994,4011,2,"PARAMSEQ",1,1)

"KRN",8994,4011,2,"PARAMSEQ",2,2)

"KRN",8994,4011,3,0)
^^10^10^3140829^
"KRN",8994,4011,3,1,0)
Success
"KRN",8994,4011,3,2,0)
If null then return a list of formatted lines representing the TIU 
"KRN",8994,4011,3,3,0)
Document. 
"KRN",8994,4011,3,4,0)
If H then return a list of formatted lines representing the TIU Document 
"KRN",8994,4011,3,5,0)
with just the header.
"KRN",8994,4011,3,6,0)
If B then return a list of formatted lines representing the TIU Document 
"KRN",8994,4011,3,7,0)
with just the body of the note.
"KRN",8994,4011,3,8,0)
 
"KRN",8994,4011,3,9,0)
Failure
"KRN",8994,4011,3,10,0)
-1
"KRN",8994,4012,-1)
0^24
"KRN",8994,4012,0)
DSIO DELETE A NOTE^DELETE^DSIO3^1
"KRN",8994,4012,1,0)
^^4^4^3140829^
"KRN",8994,4012,1,1,0)
This RPC allows a user to attempt to delete a note which must first pass 
"KRN",8994,4012,1,2,0)
TIU Authentication. Running this RPC without using the optional 
"KRN",8994,4012,1,3,0)
parameter, JUST, could fail the delete if TIU Authentication asks for it 
"KRN",8994,4012,1,4,0)
and so, must then be called again with justification.
"KRN",8994,4012,2,0)
^8994.02A^2^2
"KRN",8994,4012,2,1,0)
IEN^1^^1^1
"KRN",8994,4012,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4012,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4012,2,2,0)
JUST^1^^^2
"KRN",8994,4012,2,2,1,0)
^^2^2^3140829^
"KRN",8994,4012,2,2,1,1,0)
This is just a string of text that will be saved off as the reason as to 
"KRN",8994,4012,2,2,1,2,0)
why the user needs to delete the note.
"KRN",8994,4012,2,"B","IEN",1)

"KRN",8994,4012,2,"B","JUST",2)

"KRN",8994,4012,2,"PARAMSEQ",1,1)

"KRN",8994,4012,2,"PARAMSEQ",2,2)

"KRN",8994,4012,3,0)
^^3^3^3140829^
"KRN",8994,4012,3,1,0)
Success
"KRN",8994,4012,3,2,0)
1^Success
"KRN",8994,4012,3,3,0)
-1^Error Message
"KRN",8994,4013,-1)
0^25
"KRN",8994,4013,0)
DSIO SIGN A NOTE^SIGN^DSIO3^1
"KRN",8994,4013,1,0)
^^1^1^3140829^
"KRN",8994,4013,1,1,0)
This RPC is used to electronically sign a TIU Document.
"KRN",8994,4013,2,0)
^8994.02A^2^2
"KRN",8994,4013,2,1,0)
IEN^1^^1^1
"KRN",8994,4013,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4013,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4013,2,2,0)
SIG^1^^1^2
"KRN",8994,4013,2,2,1,0)
^^1^1^3140829^
"KRN",8994,4013,2,2,1,1,0)
This is the users electronic signature encrypted.
"KRN",8994,4013,2,"B","IEN",1)

"KRN",8994,4013,2,"B","SIG",2)

"KRN",8994,4013,2,"PARAMSEQ",1,1)

"KRN",8994,4013,2,"PARAMSEQ",2,2)

"KRN",8994,4013,3,0)
^^3^3^3140829^
"KRN",8994,4013,3,1,0)
Success
"KRN",8994,4013,3,2,0)
1
"KRN",8994,4013,3,3,0)
Failure 0^ERROR MESSAGE
"KRN",8994,4020,-1)
0^6
"KRN",8994,4020,0)
DSIO SAVE IHE DOC^SAVE^DSIO14^1
"KRN",8994,4020,1,0)
^8994.01^2^2^3150519^^
"KRN",8994,4020,1,1,0)
This RPC will save an IHE Document and the information about it  data is 
"KRN",8994,4020,1,2,0)
validated before saving so there cannot be partial saves.
"KRN",8994,4020,2,0)
^8994.02A^10^10
"KRN",8994,4020,2,1,0)
IEN^1^^^1
"KRN",8994,4020,2,2,0)
DFN^1^^^2
"KRN",8994,4020,2,3,0)
DATES^1^^^3
"KRN",8994,4020,2,4,0)
TYP^1^^^4
"KRN",8994,4020,2,5,0)
DIRECT^1^^^5
"KRN",8994,4020,2,6,0)
GUID^1^^^6
"KRN",8994,4020,2,7,0)
TITLE^1^^^7
"KRN",8994,4020,2,8,0)
FAC^1^^^8
"KRN",8994,4020,2,9,0)
REC^1^^^9
"KRN",8994,4020,2,10,0)
DOC^2^^^10
"KRN",8994,4020,2,"B","DATES",3)

"KRN",8994,4020,2,"B","DFN",2)

"KRN",8994,4020,2,"B","DIRECT",5)

"KRN",8994,4020,2,"B","DOC",10)

"KRN",8994,4020,2,"B","FAC",8)

"KRN",8994,4020,2,"B","GUID",6)

"KRN",8994,4020,2,"B","IEN",1)

"KRN",8994,4020,2,"B","REC",9)

"KRN",8994,4020,2,"B","TITLE",7)

"KRN",8994,4020,2,"B","TYP",4)

"KRN",8994,4020,2,"PARAMSEQ",1,1)

"KRN",8994,4020,2,"PARAMSEQ",1,10)

"KRN",8994,4020,2,"PARAMSEQ",2,2)

"KRN",8994,4020,2,"PARAMSEQ",3,2)

"KRN",8994,4020,2,"PARAMSEQ",3,3)

"KRN",8994,4020,2,"PARAMSEQ",4,3)

"KRN",8994,4020,2,"PARAMSEQ",4,4)

"KRN",8994,4020,2,"PARAMSEQ",5,4)

"KRN",8994,4020,2,"PARAMSEQ",5,5)

"KRN",8994,4020,2,"PARAMSEQ",6,5)

"KRN",8994,4020,2,"PARAMSEQ",6,6)

"KRN",8994,4020,2,"PARAMSEQ",7,6)

"KRN",8994,4020,2,"PARAMSEQ",7,7)

"KRN",8994,4020,2,"PARAMSEQ",8,7)

"KRN",8994,4020,2,"PARAMSEQ",8,8)

"KRN",8994,4020,2,"PARAMSEQ",9,8)

"KRN",8994,4020,2,"PARAMSEQ",9,9)

"KRN",8994,4020,2,"PARAMSEQ",10,9)

"KRN",8994,4020,2,"PARAMSEQ",10,10)

"KRN",8994,4020,3,0)
^^5^5^3150519^
"KRN",8994,4020,3,1,0)
Success
"KRN",8994,4020,3,2,0)
IEN
"KRN",8994,4020,3,3,0)
 
"KRN",8994,4020,3,4,0)
Failure
"KRN",8994,4020,3,5,0)
-1^Error Message
"KRN",8994,4026,-1)
0^7
"KRN",8994,4026,0)
DSIO SAVE PERSON^SAVE^DSIO9^1
"KRN",8994,4026,1,0)
^8994.01^4^4^3150518^^^^
"KRN",8994,4026,1,1,0)
This RPC will save identifying and contact information for a person and 
"KRN",8994,4026,1,2,0)
associate that person with a patient. For the purposes of Maternity 
"KRN",8994,4026,1,3,0)
Tracker these people are used as the Father of Fetus/Baby and are 
"KRN",8994,4026,1,4,0)
defaulted to male upon creation.
"KRN",8994,4026,2,0)
^8994.02A^11^11
"KRN",8994,4026,2,1,0)
IEN^1^^^1
"KRN",8994,4026,2,2,0)
DFN^1^^^2
"KRN",8994,4026,2,3,0)
NAME^1^^^3
"KRN",8994,4026,2,4,0)
DOB^1^^^4
"KRN",8994,4026,2,5,0)
ADDR^2^^^5
"KRN",8994,4026,2,6,0)
PHONE^2^^^6
"KRN",8994,4026,2,7,0)
EDU^1^^^7
"KRN",8994,4026,2,8,0)
SEX^1^^^8
"KRN",8994,4026,2,9,0)
REL^1^^^9
"KRN",8994,4026,2,10,0)
STATUS^1^^^10
"KRN",8994,4026,2,11,0)
PROB^1^^^11
"KRN",8994,4026,2,"B","ADDR",5)

"KRN",8994,4026,2,"B","DFN",2)

"KRN",8994,4026,2,"B","DOB",4)

"KRN",8994,4026,2,"B","EDU",7)

"KRN",8994,4026,2,"B","IEN",1)

"KRN",8994,4026,2,"B","NAME",3)

"KRN",8994,4026,2,"B","PHONE",6)

"KRN",8994,4026,2,"B","PROB",11)

"KRN",8994,4026,2,"B","REL",9)

"KRN",8994,4026,2,"B","SEX",8)

"KRN",8994,4026,2,"B","STATUS",10)

"KRN",8994,4026,2,"PARAMSEQ",1,1)

"KRN",8994,4026,2,"PARAMSEQ",2,2)

"KRN",8994,4026,2,"PARAMSEQ",2,6)

"KRN",8994,4026,2,"PARAMSEQ",3,2)

"KRN",8994,4026,2,"PARAMSEQ",3,3)

"KRN",8994,4026,2,"PARAMSEQ",4,4)

"KRN",8994,4026,2,"PARAMSEQ",5,5)

"KRN",8994,4026,2,"PARAMSEQ",6,3)

"KRN",8994,4026,2,"PARAMSEQ",6,6)

"KRN",8994,4026,2,"PARAMSEQ",7,7)

"KRN",8994,4026,2,"PARAMSEQ",8,8)

"KRN",8994,4026,2,"PARAMSEQ",9,9)

"KRN",8994,4026,2,"PARAMSEQ",10,10)

"KRN",8994,4026,2,"PARAMSEQ",11,11)

"KRN",8994,4026,3,0)
^^5^5^3150518^
"KRN",8994,4026,3,1,0)
Success
"KRN",8994,4026,3,2,0)
IEN
"KRN",8994,4026,3,3,0)
 
"KRN",8994,4026,3,4,0)
Failure 
"KRN",8994,4026,3,5,0)
-1^Error Message
"KRN",8994,4027,-1)
0^5
"KRN",8994,4027,0)
DSIO SAVE PREG DETAILS^PREG^DSIO10^1
"KRN",8994,4027,1,0)
^^28^28^3150429^
"KRN",8994,4027,1,1,0)
 ;
"KRN",8994,4027,1,2,0)
 ; CREATE, UPDATE, or DELETE a PREGNANCY HISTORY record
"KRN",8994,4027,1,3,0)
 ;
"KRN",8994,4027,1,4,0)
 ;    DFN = PATIENT IEN
"KRN",8994,4027,1,5,0)
 ;    IEN = IF NOT NULL THEN EDIT
"KRN",8994,4027,1,6,0)
 ;  DATES = START^END^EDD
"KRN",8994,4027,1,7,0)
 ;    TYP = C(urrent),H(istorical)
"KRN",8994,4027,1,8,0)
 ;    FOF = IEN, U(nspecified), S(pouse)
"KRN",8994,4027,1,9,0)
 ;    OBP = OB (VARIABLE POINTER)
"KRN",8994,4027,1,10,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"KRN",8994,4027,1,11,0)
 ;           VA.IEN (VA) (200)
"KRN",8994,4027,1,12,0)
 ;    FAP = FACILITY (VARIABLE POINTER)
"KRN",8994,4027,1,13,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"KRN",8994,4027,1,14,0)
 ;           VA.IEN (VA) (4)
"KRN",8994,4027,1,15,0)
 ;    BAB = NUMBER
"KRN",8994,4027,1,16,0)
 ;            IF 1,2,3 THEN THREE BABIES WILL BE ADDED
"KRN",8994,4027,1,17,0)
 ;            IF 1,2@,3 THEN BABY 2 WILL BE DELETED
"KRN",8994,4027,1,18,0)
 ;   POST = ADDITIONAL DETAILS (CARET DELIMITED STRING)
"KRN",8994,4027,1,19,0)
 ;            1: GESTATIONAL AGE AT DELIVERY (NUMBER 0 - 99)
"KRN",8994,4027,1,20,0)
 ;            2: LENGTH OF LABOR (NUMBER (IN HOURS))
"KRN",8994,4027,1,21,0)
 ;            3: TYPE OF DELIVERY (TEXT 1-20 CHARACTERS)
"KRN",8994,4027,1,22,0)
 ;            4: EPIDERAL/SPINAL (0 (NO), 1 (YES))
"KRN",8994,4027,1,23,0)
 ;            5: PRETERM LABOR (0 (NO), 1 (YES))
"KRN",8994,4027,1,24,0)
 ;    COM = COMMENTS (ARRAY OF TEXT)
"KRN",8994,4027,1,25,0)
 ;
"KRN",8994,4027,1,26,0)
 ; X-REFS on EDD and STATUS
"KRN",8994,4027,1,27,0)
 ; If EDD>DT then update WV PATIENT - CURRENTLY PREGNANT (#.13) to 'YES'
"KRN",8994,4027,1,28,0)
 ; and EDC (#.14) with the EDD value
"KRN",8994,4027,2,0)
^8994.02A^10^10
"KRN",8994,4027,2,1,0)
IEN^1^^^1
"KRN",8994,4027,2,2,0)
DFN^1^^^2
"KRN",8994,4027,2,3,0)
DATES^1^^^3
"KRN",8994,4027,2,4,0)
TYP^1^^^4
"KRN",8994,4027,2,5,0)
FOF^1^^^5
"KRN",8994,4027,2,6,0)
OBP^1^^^6
"KRN",8994,4027,2,7,0)
FAP^1^^^7
"KRN",8994,4027,2,8,0)
BAB^1^^^8
"KRN",8994,4027,2,9,0)
POST^1^^^9
"KRN",8994,4027,2,10,0)
COM^2^^^10
"KRN",8994,4027,2,"B","BAB",8)

"KRN",8994,4027,2,"B","COM",10)

"KRN",8994,4027,2,"B","DATES",3)

"KRN",8994,4027,2,"B","DFN",2)

"KRN",8994,4027,2,"B","FAP",7)

"KRN",8994,4027,2,"B","FOF",5)

"KRN",8994,4027,2,"B","IEN",1)

"KRN",8994,4027,2,"B","OBP",6)

"KRN",8994,4027,2,"B","POST",9)

"KRN",8994,4027,2,"B","TYP",4)

"KRN",8994,4027,2,"PARAMSEQ",1,1)

"KRN",8994,4027,2,"PARAMSEQ",2,2)

"KRN",8994,4027,2,"PARAMSEQ",3,3)

"KRN",8994,4027,2,"PARAMSEQ",3,5)

"KRN",8994,4027,2,"PARAMSEQ",4,3)

"KRN",8994,4027,2,"PARAMSEQ",4,4)

"KRN",8994,4027,2,"PARAMSEQ",5,2)

"KRN",8994,4027,2,"PARAMSEQ",5,5)

"KRN",8994,4027,2,"PARAMSEQ",6,6)

"KRN",8994,4027,2,"PARAMSEQ",7,7)

"KRN",8994,4027,2,"PARAMSEQ",8,8)

"KRN",8994,4027,2,"PARAMSEQ",9,9)

"KRN",8994,4027,2,"PARAMSEQ",10,10)

"KRN",8994,4027,3,0)
^^1^1^3150429^
"KRN",8994,4027,3,1,0)
 ; RETURN: IEN OR -1^MESSAGE
"KRN",8994,4028,-1)
0^1
"KRN",8994,4028,0)
DSIO GET PERSON^PERSON^DSIO9^2
"KRN",8994,4028,1,0)
^8994.01^2^2^3140903^^
"KRN",8994,4028,1,1,0)
This RPC will return a person or list of people associated with a patient 
"KRN",8994,4028,1,2,0)
from the DSIO PERSON file or the patients spouse.
"KRN",8994,4028,2,0)
^8994.02A^1^1
"KRN",8994,4028,2,1,0)
FIND^1^^^2
"KRN",8994,4028,2,1,1,0)
^^2^2^3140903^
"KRN",8994,4028,2,1,1,1,0)
Person name in the form for LASTNAME,FIRSTNAME, their IEN, S or SPOUSE, 
"KRN",8994,4028,2,1,1,2,0)
or null to return all people associated with a DFN.
"KRN",8994,4028,2,2,0)
DFN^1^^^1
"KRN",8994,4028,2,2,1,0)
^^1^1^3140903^
"KRN",8994,4028,2,2,1,1,0)
Patient Internal Entry Number.
"KRN",8994,4028,2,"B","DFN",2)

"KRN",8994,4028,2,"B","FIND",1)

"KRN",8994,4028,2,"B","NAME",1)

"KRN",8994,4028,2,"PARAMSEQ",1,1)

"KRN",8994,4028,2,"PARAMSEQ",1,2)

"KRN",8994,4028,2,"PARAMSEQ",2,1)

"KRN",8994,4028,2,"PARAMSEQ",2,2)

"KRN",8994,4028,3,0)
^^8^8^3140903^
"KRN",8994,4028,3,1,0)
Success
"KRN",8994,4028,3,2,0)
An array with the first entry being the total number of People followed 
"KRN",8994,4028,3,3,0)
by caret delimited strings of:
"KRN",8994,4028,3,4,0)
IEN^NAME^SEX^DOB^EDUCATION^STREET1^STREET2^STREET3^CITY^STATE^ZIP^PHONE 
"KRN",8994,4028,3,5,0)
HOME^PHONE CELL^PHONE WORK^PATIENT^DFN
"KRN",8994,4028,3,6,0)
 
"KRN",8994,4028,3,7,0)
Failure 
"KRN",8994,4028,3,8,0)
-1^Error Message
"KRN",8994,4030,-1)
0^2
"KRN",8994,4030,0)
DSIO SAVE OBSERVATION^OBS^DSIO10^1
"KRN",8994,4030,1,0)
^^16^16^3150429^
"KRN",8994,4030,1,1,0)
 ;
"KRN",8994,4030,1,2,0)
 ;    IEN = IF NOT NULL THEN EDIT
"KRN",8994,4030,1,3,0)
 ;  DATES = OBSERVATION^START^END
"KRN",8994,4030,1,4,0)
 ; OBJECT = OBJECT OF OBSERVATION (*PRIMARY^SECONDARY)
"KRN",8994,4030,1,5,0)
 ;           P.IEN (PATIENT)
"KRN",8994,4030,1,6,0)
 ;          FB.### (FETUS BABY)
"KRN",8994,4030,1,7,0)
 ;          PG.IEN (PREGNANCY)
"KRN",8994,4030,1,8,0)
 ;           N.IEN (NOTE)
"KRN",8994,4030,1,9,0)
 ;    REL = RELATIONSHIP P:408.11
"KRN",8994,4030,1,10,0)
 ;    CAT = CATEGORY
"KRN",8994,4030,1,11,0)
 ;  *CODE = CODE
"KRN",8994,4030,1,12,0)
 ;   *SYS = CODING SYSTEM
"KRN",8994,4030,1,13,0)
 ;   DESC = DESCRIPTION
"KRN",8994,4030,1,14,0)
 ;    VAL = TYPE^UNIT^NEGATION^VALUE
"KRN",8994,4030,1,15,0)
 ;   QUAL = QUALIFIERS (ARRAY OF QUALIFIER^VALUE)
"KRN",8994,4030,1,16,0)
 ;    NAR = NARRATIVE (ARRAY OF TEXT)
"KRN",8994,4030,2,0)
^8994.02A^11^11
"KRN",8994,4030,2,1,0)
IEN^1^^^1
"KRN",8994,4030,2,2,0)
DATES^1^^^2
"KRN",8994,4030,2,3,0)
OBJECT^1^^^3
"KRN",8994,4030,2,4,0)
REL^1^^^4
"KRN",8994,4030,2,5,0)
CAT^1^^^5
"KRN",8994,4030,2,6,0)
CODE^1^^^6
"KRN",8994,4030,2,7,0)
SYS^1^^^7
"KRN",8994,4030,2,8,0)
DESC^1^^^8
"KRN",8994,4030,2,9,0)
VAL^1^^^9
"KRN",8994,4030,2,10,0)
QUAL^2^^^10
"KRN",8994,4030,2,11,0)
NAR^2^^^11
"KRN",8994,4030,2,"B","CAT",5)

"KRN",8994,4030,2,"B","CODE",6)

"KRN",8994,4030,2,"B","DATES",2)

"KRN",8994,4030,2,"B","DESC",8)

"KRN",8994,4030,2,"B","IEN",1)

"KRN",8994,4030,2,"B","NAR",11)

"KRN",8994,4030,2,"B","OBJECT",3)

"KRN",8994,4030,2,"B","QUAL",10)

"KRN",8994,4030,2,"B","REL",4)

"KRN",8994,4030,2,"B","SYS",7)

"KRN",8994,4030,2,"B","VAL",9)

"KRN",8994,4030,2,"PARAMSEQ",1,1)

"KRN",8994,4030,2,"PARAMSEQ",2,2)

"KRN",8994,4030,2,"PARAMSEQ",3,2)

"KRN",8994,4030,2,"PARAMSEQ",3,3)

"KRN",8994,4030,2,"PARAMSEQ",4,4)

"KRN",8994,4030,2,"PARAMSEQ",4,7)

"KRN",8994,4030,2,"PARAMSEQ",5,5)

"KRN",8994,4030,2,"PARAMSEQ",5,8)

"KRN",8994,4030,2,"PARAMSEQ",6,6)

"KRN",8994,4030,2,"PARAMSEQ",6,9)

"KRN",8994,4030,2,"PARAMSEQ",7,7)

"KRN",8994,4030,2,"PARAMSEQ",7,10)

"KRN",8994,4030,2,"PARAMSEQ",8,8)

"KRN",8994,4030,2,"PARAMSEQ",8,11)

"KRN",8994,4030,2,"PARAMSEQ",9,4)

"KRN",8994,4030,2,"PARAMSEQ",9,9)

"KRN",8994,4030,2,"PARAMSEQ",10,10)

"KRN",8994,4030,2,"PARAMSEQ",10,12)

"KRN",8994,4030,2,"PARAMSEQ",11,11)

"KRN",8994,4030,3,0)
^^1^1^3150429^
"KRN",8994,4030,3,1,0)
 ; RETURN: IEN OR -1^MESSAGE
"KRN",8994,4031,-1)
0^19
"KRN",8994,4031,0)
DSIO GET PATIENT INFORMATION^INFO^DSIO1^2
"KRN",8994,4031,1,0)
^^1^1^3150429^
"KRN",8994,4031,1,1,0)
 ; Return a list of patient information by field name or number
"KRN",8994,4031,2,0)
^8994.02A^2^2
"KRN",8994,4031,2,1,0)
DFN^1^^^1
"KRN",8994,4031,2,2,0)
LIST^2^^^2
"KRN",8994,4031,2,"B","DFN",1)

"KRN",8994,4031,2,"B","LIST",2)

"KRN",8994,4031,2,"PARAMSEQ",1,1)

"KRN",8994,4031,2,"PARAMSEQ",2,2)

"KRN",8994,4031,3,0)
^8994.03^5^5^3150429^^
"KRN",8994,4031,3,1,0)
Success
"KRN",8994,4031,3,2,0)
INPUT (FIELD #/NAME)^VALUE
"KRN",8994,4031,3,3,0)
 
"KRN",8994,4031,3,4,0)
Failure
"KRN",8994,4031,3,5,0)
-1^Error Message
"KRN",8994,4032,-1)
0^4
"KRN",8994,4032,0)
DSIO GET PREG DETAILS^PREGG^DSIO10^4^^^^1
"KRN",8994,4032,1,0)
^8994.01^1^1^3150429^^
"KRN",8994,4032,1,1,0)
 ; If IEN = "C" get only the CURRENT pregnancy
"KRN",8994,4032,2,0)
^8994.02A^3^3
"KRN",8994,4032,2,1,0)
IEN^1^^^1
"KRN",8994,4032,2,2,0)
DFN^1^^^2
"KRN",8994,4032,2,3,0)
SORT^1^^^3
"KRN",8994,4032,2,"B","DFN",2)

"KRN",8994,4032,2,"B","IEN",1)

"KRN",8994,4032,2,"B","SORT",3)

"KRN",8994,4032,2,"PARAMSEQ",1,1)

"KRN",8994,4032,2,"PARAMSEQ",2,2)

"KRN",8994,4032,2,"PARAMSEQ",3,3)

"KRN",8994,4032,3,0)
^^7^7^3150429^
"KRN",8994,4032,3,1,0)
 ;
"KRN",8994,4032,3,2,0)
 ; RETURN:
"KRN",8994,4032,3,3,0)
 ; L^IEN^EDC^DFN|PATIENT^STATUS^FOF IEN|FOF^EDD^PREGNANCY END^OB IEN|OB^
"KRN",8994,4032,3,4,0)
 ;   FACILITY IEN|FACILITY^UPDATED BY IEN|UPDATED BY^
"KRN",8994,4032,3,5,0)
 ;   GESTATIONAL AGE AT DELIVERY^LENGTH OF DELIVERY^EPIDERAL/SPINAL^
"KRN",8994,4032,3,6,0)
 ;   PRETERM LABOR^BIRTH TYPE^IEN;BABY |IEN;BABY
"KRN",8994,4032,3,7,0)
 ; C^IEN^COMMENT
"KRN",8994,4033,-1)
0^3
"KRN",8994,4033,0)
DSIO GET OBSERVATIONS^OBG^DSIO10^4^^^^1
"KRN",8994,4033,1,0)
^8994.01^2^2^3150429^^^^
"KRN",8994,4033,1,1,0)
This RPC will return an entry or set of entries from the DSIO 
"KRN",8994,4033,1,2,0)
OBSERVATIONS file.
"KRN",8994,4033,2,0)
^8994.02A^9^9
"KRN",8994,4033,2,1,0)
IEN^1^^^1
"KRN",8994,4033,2,2,0)
OBJECT^1^^^2
"KRN",8994,4033,2,3,0)
FDT^1^^^3
"KRN",8994,4033,2,4,0)
TDT^1^^^4
"KRN",8994,4033,2,5,0)
REL^1^^^5
"KRN",8994,4033,2,6,0)
CAT^1^^^6
"KRN",8994,4033,2,7,0)
SYS^1^^^7
"KRN",8994,4033,2,8,0)
CODE^1^^^8
"KRN",8994,4033,2,9,0)
SORT^1^^^9
"KRN",8994,4033,2,"B","CAT",6)

"KRN",8994,4033,2,"B","CODE",8)

"KRN",8994,4033,2,"B","FDT",3)

"KRN",8994,4033,2,"B","IEN",1)

"KRN",8994,4033,2,"B","OBJECT",2)

"KRN",8994,4033,2,"B","REL",5)

"KRN",8994,4033,2,"B","SORT",9)

"KRN",8994,4033,2,"B","SYS",7)

"KRN",8994,4033,2,"B","TDT",4)

"KRN",8994,4033,2,"PARAMSEQ",1,1)

"KRN",8994,4033,2,"PARAMSEQ",2,2)

"KRN",8994,4033,2,"PARAMSEQ",3,3)

"KRN",8994,4033,2,"PARAMSEQ",4,4)

"KRN",8994,4033,2,"PARAMSEQ",5,5)

"KRN",8994,4033,2,"PARAMSEQ",6,6)

"KRN",8994,4033,2,"PARAMSEQ",7,7)

"KRN",8994,4033,2,"PARAMSEQ",8,8)

"KRN",8994,4033,2,"PARAMSEQ",9,9)

"KRN",8994,4033,3,0)
^8994.03^18^18^3150429^^
"KRN",8994,4033,3,1,0)
 ;
"KRN",8994,4033,3,2,0)
 ;    IEN = IF NOT NULL THEN RETURN ONLY
"KRN",8994,4033,3,3,0)
 ; OBJECT = OBJECT OF OBSERVATION (PRIMARY^SECONDARY)
"KRN",8994,4033,3,4,0)
 ;           P.IEN (PATIENT)
"KRN",8994,4033,3,5,0)
 ;          FB.IEN (FETUS BABY)
"KRN",8994,4033,3,6,0)
 ;          PG.IEN (PREGNANCY)
"KRN",8994,4033,3,7,0)
 ;           N.IEN (NOTE)
"KRN",8994,4033,3,8,0)
 ;    FDT = FROM DATE
"KRN",8994,4033,3,9,0)
 ;    TDT = TO DATE
"KRN",8994,4033,3,10,0)
 ;    REL = RELATIONSHIP P:408.11
"KRN",8994,4033,3,11,0)
 ;    CAT = CATEGORY
"KRN",8994,4033,3,12,0)
 ;    SYS = CODING SYSTEM
"KRN",8994,4033,3,13,0)
 ;
"KRN",8994,4033,3,14,0)
 ; RETURN:
"KRN",8994,4033,3,15,0)
 ;  L^IEN^DATE^PRIMARY OBJECT^SECONDARY OBJECT^REL^CAT^CODE^SYS^
"KRN",8994,4033,3,16,0)
 ;    UPDATED BY^LAST MODIFIED DATE^DESC^VAL^VALUE TYPE^VALUE UNIT^
"KRN",8994,4033,3,17,0)
 ;    NEGATION^START^END^PUSHED^QUALIFIERS(NAME^VALUE)|
"KRN",8994,4033,3,18,0)
 ;  C^IEN^NARRATIVE
"KRN",8994,4043,-1)
0^8
"KRN",8994,4043,0)
DSIO GET TIU NOTES^LIST^DSIO3^4^^^^1
"KRN",8994,4043,1,0)
^8994.01^1^1^3150203^^^
"KRN",8994,4043,1,1,0)
This RPC will return a list of TIU Documents or a single one.
"KRN",8994,4043,2,0)
^8994.02A^7^7
"KRN",8994,4043,2,1,0)
DFN^1^^1^2
"KRN",8994,4043,2,1,1,0)
^8994.021^1^1^3140912^^
"KRN",8994,4043,2,1,1,1,0)
Patient Internal Entry Number
"KRN",8994,4043,2,2,0)
TITLES^2^^^3
"KRN",8994,4043,2,2,1,0)
^8994.021^1^1^3140912^^^
"KRN",8994,4043,2,2,1,1,0)
An array of TIU Document Definitions (8925.1) whose TYPE is TITLE.
"KRN",8994,4043,2,3,0)
SORT^1^^^6
"KRN",8994,4043,2,3,1,0)
^8994.021^6^6^3140912^^
"KRN",8994,4043,2,3,1,1,0)
This input parameter must be formatted as PAGE#,COUNT# (the comma is 
"KRN",8994,4043,2,3,1,2,0)
required). The COUNT portion of this parameter will control how many 
"KRN",8994,4043,2,3,1,3,0)
entries in the list will be returned and the PAGE portion will identify 
"KRN",8994,4043,2,3,1,4,0)
the increment by COUNT of the entries returned. Thus if there are 4 
"KRN",8994,4043,2,3,1,5,0)
entries, a SORT of 1,2 will be entries 1 and 2 and 2,2 will return 
"KRN",8994,4043,2,3,1,6,0)
entries 3 and 4.
"KRN",8994,4043,2,4,0)
DIR^1^^^7
"KRN",8994,4043,2,4,1,0)
^8994.021^1^1^3140912^^
"KRN",8994,4043,2,4,1,1,0)
Direction of return ("" or 1 is forward while -1 is reverse)
"KRN",8994,4043,2,5,0)
FDT^1^^^4
"KRN",8994,4043,2,5,1,0)
^8994.021^1^1^3140912^^
"KRN",8994,4043,2,5,1,1,0)
From Date
"KRN",8994,4043,2,6,0)
TDT^1^^^5
"KRN",8994,4043,2,6,1,0)
^8994.021^1^1^3140912^^^^
"KRN",8994,4043,2,6,1,1,0)
To Date
"KRN",8994,4043,2,7,0)
IEN^1^^^1
"KRN",8994,4043,2,7,1,0)
^8994.021^1^1^3150203^^^
"KRN",8994,4043,2,7,1,1,0)
Internal entry for TIU Document of file 8925.
"KRN",8994,4043,2,8,0)
PREGIEN^1^^0^8
"KRN",8994,4043,2,8,1,0)
^8994.021^1^1^3150203^^^^
"KRN",8994,4043,2,8,1,1,0)
ENTER THE PREGNANT HISTORY FILE IEN.
"KRN",8994,4043,2,"B","DFN",1)

"KRN",8994,4043,2,"B","DIR",4)

"KRN",8994,4043,2,"B","FDT",5)

"KRN",8994,4043,2,"B","IEN",7)

"KRN",8994,4043,2,"B","PREGIEN",8)

"KRN",8994,4043,2,"B","SORT",3)

"KRN",8994,4043,2,"B","TDT",6)

"KRN",8994,4043,2,"B","TITLES",2)

"KRN",8994,4043,2,"PARAMSEQ",1,7)

"KRN",8994,4043,2,"PARAMSEQ",2,1)

"KRN",8994,4043,2,"PARAMSEQ",3,2)

"KRN",8994,4043,2,"PARAMSEQ",4,5)

"KRN",8994,4043,2,"PARAMSEQ",5,6)

"KRN",8994,4043,2,"PARAMSEQ",6,3)

"KRN",8994,4043,2,"PARAMSEQ",7,4)

"KRN",8994,4043,2,"PARAMSEQ",8,8)

"KRN",8994,4043,3,0)
^8994.03^8^8^3150203^^^
"KRN",8994,4043,3,1,0)
Success
"KRN",8994,4043,3,2,0)
Multi Lines of:
"KRN",8994,4043,3,3,0)
The zero node will return the total number of entries returned.
"KRN",8994,4043,3,4,0)
 IEN^TITLE(.01)^SUBJECT(1701)^STATUS(.05)^ENTRY DATE/TIME(1201)^ 
"KRN",8994,4043,3,5,0)
 DUZ(1202I)^AUTHOR/DICTATOR(1202E)^PARENT(.06)^ADDENDA("DAD" X-REF)
"KRN",8994,4043,3,6,0)
 
"KRN",8994,4043,3,7,0)
Failure 
"KRN",8994,4043,3,8,0)
-1^ERROR MESSAGE
"KRN",8994,4051,-1)
0^20
"KRN",8994,4051,0)
DSIO SET PATIENT INFORMATION^PATSET^DSIO1^1
"KRN",8994,4051,2,0)
^8994.02A^3^3
"KRN",8994,4051,2,1,0)
DFN^1^^^1
"KRN",8994,4051,2,2,0)
FLD^1^^^2
"KRN",8994,4051,2,3,0)
VAL^1^^^3
"KRN",8994,4051,2,"B","DFN",1)

"KRN",8994,4051,2,"B","FLD",2)

"KRN",8994,4051,2,"B","VAL",3)

"KRN",8994,4051,2,"PARAMSEQ",1,1)

"KRN",8994,4051,2,"PARAMSEQ",2,2)

"KRN",8994,4051,2,"PARAMSEQ",3,3)

"KRN",8994,4078,-1)
0^10
"KRN",8994,4078,0)
DSIO PATIENT LIST^PATIENT^DSIO1^4^^^^1
"KRN",8994,4078,1,0)
^^9^9^3150429^
"KRN",8994,4078,1,1,0)
 ;
"KRN",8994,4078,1,2,0)
 ;  IX : KEY
"KRN",8994,4078,1,3,0)
 ; ----------------------------------------------
"KRN",8994,4078,1,4,0)
 ;  SSN: SSN
"KRN",8994,4078,1,5,0)
 ;   BS: LAST 4
"KRN",8994,4078,1,6,0)
 ;  BS5: FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"KRN",8994,4078,1,7,0)
 ;
"KRN",8994,4078,1,8,0)
 ;  KEY: PARTIAL NAME - TO - FULL NAME
"KRN",8994,4078,1,9,0)
 ; SORT: PAGE#,CT
"KRN",8994,4078,2,0)
^8994.02A^2^2
"KRN",8994,4078,2,1,0)
KEY^1^^^1
"KRN",8994,4078,2,2,0)
SORT^1^^^2
"KRN",8994,4078,2,"B","KEY",1)

"KRN",8994,4078,2,"B","SORT",2)

"KRN",8994,4078,2,"PARAMSEQ",1,1)

"KRN",8994,4078,2,"PARAMSEQ",2,2)

"KRN",8994,4078,3,0)
^^9^9^3150429^
"KRN",8994,4078,3,1,0)
 ;
"KRN",8994,4078,3,2,0)
 ; RETURN FORMAT
"KRN",8994,4078,3,3,0)
 ; -------------
"KRN",8994,4078,3,4,0)
 ; DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"KRN",8994,4078,3,5,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING^
"KRN",8994,4078,3,6,0)
 ; SSN^CITY^STATE^ZIP^SENSITIVE STATUS (1,0)
"KRN",8994,4078,3,7,0)
 ;
"KRN",8994,4078,3,8,0)
 ;  CURRENTLY TRACKING: 0:NO,1:YES,2:FLAG
"KRN",8994,4078,3,9,0)
 ; IF NOTHING IS FOUND: RET(0)="0^Patient(s) not found."
"KRN",8994,4080,-1)
0^14
"KRN",8994,4080,0)
DSIO GET IHE PATIENT INFO^GET^DSIO14^4^^^^1
"KRN",8994,4080,2,0)
^8994.02A^4^4
"KRN",8994,4080,2,1,0)
IEN^1^^^1
"KRN",8994,4080,2,2,0)
DFN^1^^^2
"KRN",8994,4080,2,3,0)
DOC^1^^^3
"KRN",8994,4080,2,4,0)
SORT^1^^^4
"KRN",8994,4080,2,"B","DFN",2)

"KRN",8994,4080,2,"B","DOC",3)

"KRN",8994,4080,2,"B","IEN",1)

"KRN",8994,4080,2,"B","SORT",4)

"KRN",8994,4080,2,"PARAMSEQ",1,1)

"KRN",8994,4080,2,"PARAMSEQ",2,2)

"KRN",8994,4080,2,"PARAMSEQ",3,3)

"KRN",8994,4080,2,"PARAMSEQ",4,4)

"KRN",8994,4081,-1)
1^15
"KRN",8994,4081,0)
DSIO IHE GET DOC
"KRN",8994,4082,-1)
1^16
"KRN",8994,4082,0)
DSIO IHE PATIENT LIST
"KRN",8994,4083,-1)
1^26
"KRN",8994,4083,0)
DSIO FEMALE PATIENT FIND
"KRN",8994,4084,-1)
1^27
"KRN",8994,4084,0)
DSIO FEMALE PATIENT SEARCH
"KRN",8994,4085,-1)
1^28
"KRN",8994,4085,0)
DSIO GET PREG OBSERVATIONS
"MBREQ")
0
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
8
"RTN","DSIO1")
0^1^B171337786
"RTN","DSIO1",1,0)
DSIO1 ;DSS/TFF - DSIO GENERAL RPCS;06/28/2013 15:19
"RTN","DSIO1",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO1",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO1",4,0)
 ;
"RTN","DSIO1",5,0)
 ; External References      DBIA#
"RTN","DSIO1",6,0)
 ; -------------------      -----
"RTN","DSIO1",7,0)
 ; $$DOB^DPTLK1
"RTN","DSIO1",8,0)
 ; $$SCREEN^DPTLK1
"RTN","DSIO1",9,0)
 ; $$SSN^DPTLK1
"RTN","DSIO1",10,0)
 ;
"RTN","DSIO1",11,0)
 Q
"RTN","DSIO1",12,0)
 ;
"RTN","DSIO1",13,0)
 ; ------------------------------ PATIENT SEARCH ------------------------------
"RTN","DSIO1",14,0)
 ;
"RTN","DSIO1",15,0)
PATIENT(RET,KEY,SORT) ; RPC: DSIO PATIENT LIST
"RTN","DSIO1",16,0)
 ;
"RTN","DSIO1",17,0)
 ;  IX : KEY
"RTN","DSIO1",18,0)
 ; ----------------------------------------------
"RTN","DSIO1",19,0)
 ;  SSN: SSN
"RTN","DSIO1",20,0)
 ;   BS: LAST 4
"RTN","DSIO1",21,0)
 ;  BS5: FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",22,0)
 ;
"RTN","DSIO1",23,0)
 ;  KEY: PARTIAL NAME - TO - FULL NAME
"RTN","DSIO1",24,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",25,0)
 ;
"RTN","DSIO1",26,0)
 ; RETURN FORMAT
"RTN","DSIO1",27,0)
 ; -------------
"RTN","DSIO1",28,0)
 ; DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"RTN","DSIO1",29,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING^
"RTN","DSIO1",30,0)
 ; SSN^CITY^STATE^ZIP^SENSITIVE STATUS (1,0)
"RTN","DSIO1",31,0)
 ;
"RTN","DSIO1",32,0)
 ;  CURRENTLY TRACKING: 0:NO,1:YES,2:FLAG
"RTN","DSIO1",33,0)
 ; IF NOTHING IS FOUND: RET(0)="0^Patient(s) not found."
"RTN","DSIO1",34,0)
 ;
"RTN","DSIO1",35,0)
 S RET=$NA(^TMP($J,"DSIO PATIENT")) K @RET S @RET@(0)="0^Patient(s) not found."
"RTN","DSIO1",36,0)
 S KEY=$G(KEY) D PAR
"RTN","DSIO1",37,0)
 ; *** LIST BY FULL SSN
"RTN","DSIO1",38,0)
 I KEY?9N!(KEY?3N1"-"2N1"-"4N) D LIST($TR(KEY,"-",""),"SSN") Q
"RTN","DSIO1",39,0)
 ; *** LIST BY LAST 4
"RTN","DSIO1",40,0)
 I KEY?4N D LIST(KEY,"BS") Q
"RTN","DSIO1",41,0)
 ; *** LIST BY FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",42,0)
 I KEY?1A4N D LIST(KEY,"BS5") Q
"RTN","DSIO1",43,0)
 ; *** ALL PATIENTS, ASSUME NAME OR PARTIAL NAME
"RTN","DSIO1",44,0)
 D LIST(KEY,"B")
"RTN","DSIO1",45,0)
 Q
"RTN","DSIO1",46,0)
 ;
"RTN","DSIO1",47,0)
LIST(KEY,IX) ; Get Patient List
"RTN","DSIO1",48,0)
 N RCT,TS,CT,STRT,END D SORT($G(SORT))
"RTN","DSIO1",49,0)
 S (RCT,TS)=0,CT=$E(KEY,1,($L(KEY)-1))_$$M($E(KEY,$L(KEY)))
"RTN","DSIO1",50,0)
 F  S CT=$O(^DPT(IX,CT)) Q:CT=""  Q:$$KEY(CT,KEY)  D
"RTN","DSIO1",51,0)
 . S IEN=$O(^DPT(IX,CT,""))
"RTN","DSIO1",52,0)
 . Q:$$GET1^DIQ(2,IEN_",",.02,"I")'="F"
"RTN","DSIO1",53,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO1",54,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO1",55,0)
 . S @RET@(RCT)=IEN_U_$$FLDS(IEN)
"RTN","DSIO1",56,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO1",57,0)
 Q
"RTN","DSIO1",58,0)
 ;
"RTN","DSIO1",59,0)
FLDS(IEN) ; Return Transformed Fields
"RTN","DSIO1",60,0)
 ;
"RTN","DSIO1",61,0)
 ; LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"RTN","DSIO1",62,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING^
"RTN","DSIO1",63,0)
 ; SSN^CITY^STATE^ZIP^SENSITIVE STATUS (1,0)
"RTN","DSIO1",64,0)
 ;
"RTN","DSIO1",65,0)
 N SSN,DOB,TRK,OUT,CT,FLD,STR
"RTN","DSIO1",66,0)
 S SSN=$$SSN^DPTLK1(IEN) I SSN?.N S SSN=$E(SSN,6,9)
"RTN","DSIO1",67,0)
 S DOB=$$FMTE^XLFDT($$DT^DSIO2($$DOB^DPTLK1(IEN,0)),"5Z")
"RTN","DSIO1",68,0)
 S TRK=$$TRACK^DSIO4(IEN,1)
"RTN","DSIO1",69,0)
 D GETS^DIQ(2,IEN_",",".01;1901;.1;.101;.301;.09;.114;.115;.116",,"OUT")
"RTN","DSIO1",70,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S FLD($QS(CT,3))=@CT
"RTN","DSIO1",71,0)
 S STR=$$NAME^DSIO2(FLD(.01))_U_SSN_U_DOB_U_FLD(1901)_U_FLD(.1)_U_FLD(.101)_U_FLD(.301)_U
"RTN","DSIO1",72,0)
 S STR=STR_TRK_U_FLD(.09)_U_FLD(.114)_U_FLD(.115)_U_FLD(.116)_U_$$SCREEN^DPTLK1(IEN)
"RTN","DSIO1",73,0)
 Q STR
"RTN","DSIO1",74,0)
 ;
"RTN","DSIO1",75,0)
 ; ------------------------------ PATIENT FIELDS ------------------------------
"RTN","DSIO1",76,0)
 ;
"RTN","DSIO1",77,0)
INFO(RET,DFN,LIST) ; RPC: DSIO GET PATIENT INFORMATION
"RTN","DSIO1",78,0)
 ;
"RTN","DSIO1",79,0)
 ; Return a list of patient information by field name or number
"RTN","DSIO1",80,0)
 ;
"RTN","DSIO1",81,0)
 ; RETURN:
"RTN","DSIO1",82,0)
 ; INPUT (FIELD #/NAME)^VALUE
"RTN","DSIO1",83,0)
 ; -1^MESSAGE
"RTN","DSIO1",84,0)
 ;
"RTN","DSIO1",85,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET(0)="-1^Patient entry not found." Q
"RTN","DSIO1",86,0)
 N FLD,NM,FLG
"RTN","DSIO1",87,0)
 S FLD=$NA(LIST) F  S FLD=$Q(@FLD) Q:FLD=""  K NM D
"RTN","DSIO1",88,0)
 . I @FLD?.N S NM=$$FLDNUM^DILFD(19641,$$UP^XLFSTR($P(@FLD,U)))
"RTN","DSIO1",89,0)
 . E  I $$VFIELD^DILFD(19641,$P(@FLD,U)) S NM=$P(@FLD,U)
"RTN","DSIO1",90,0)
 . I $G(NM),$P(^DD(19641,NM,0),U,2)["D" D  Q
"RTN","DSIO1",91,0)
 . . S $P(LIST($QS(FLD,1)),U,2)=$$FMTE^XLFDT($$GET1^DIQ(19641,DFN_",",NM,"I"),"5Z")
"RTN","DSIO1",92,0)
 . S $P(LIST($QS(FLD,1)),U,2)=$$GET1^DIQ(19641,DFN_",",NM)
"RTN","DSIO1",93,0)
 M RET=LIST S:$D(RET)<10 RET(0)="-1^Nothing found."
"RTN","DSIO1",94,0)
 Q
"RTN","DSIO1",95,0)
 ;
"RTN","DSIO1",96,0)
PATSET(RET,DFN,FLD,VAL) ; RPC: DSIO SET PATIENT INFORMATION
"RTN","DSIO1",97,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO1",98,0)
 N TRVAL,OUT,IPT,ERR
"RTN","DSIO1",99,0)
 I $G(FLD)=.01 S RET="-1^You cannot change the PATIENT NAME." Q
"RTN","DSIO1",100,0)
 I '$$VFIELD^DILFD(19641,$G(FLD)) S RET="-1^Not a valid field." Q
"RTN","DSIO1",101,0)
 I $$GET1^DID(19641,FLD,,"TYPE")="COMPUTED" S RET="-1^You cannot set a computed field." Q
"RTN","DSIO1",102,0)
 I "^.04^1.2^"[(U_FLD_U) S RET="-1^This field cannot be set directly." Q
"RTN","DSIO1",103,0)
 S TRVAL=$S($$GET1^DID(19641,FLD,,"TYPE")="DATE/TIME":$$DT^DSIO2($G(VAL)),1:$G(VAL))
"RTN","DSIO1",104,0)
 D VAL^DIE(19641,DFN,FLD,,TRVAL,.OUT) I TRVAL'=OUT S RET="-1^The value is not valid." Q
"RTN","DSIO1",105,0)
 S IPT(19641,DFN_",",FLD)=TRVAL
"RTN","DSIO1",106,0)
 D FILE^DIE("E","IPT","ERR") I '$D(ERR) S RET=1
"RTN","DSIO1",107,0)
 Q
"RTN","DSIO1",108,0)
 ;
"RTN","DSIO1",109,0)
 ; ----------------------------- PATIENT TRACKING -----------------------------
"RTN","DSIO1",110,0)
 ;
"RTN","DSIO1",111,0)
TRCLIST(RET,TYP,SORT) ; RPC: DSIO GET TRACKING
"RTN","DSIO1",112,0)
 ;
"RTN","DSIO1",113,0)
 ; RETURN MATERNITY TRACKING LISTS
"RTN","DSIO1",114,0)
 ;
"RTN","DSIO1",115,0)
 ; INPUT PARAMETERS:
"RTN","DSIO1",116,0)
 ; -----------------
"RTN","DSIO1",117,0)
 ; ALL: ALL LOGS
"RTN","DSIO1",118,0)
 ;   T: ALL CURRENTLY TRACKED PATIENTS
"RTN","DSIO1",119,0)
 ;   F: ALL CURRENTLY FLAGGED PATIENTS
"RTN","DSIO1",120,0)
 ; DFN: ALL LOGS FOR A PATIENT
"RTN","DSIO1",121,0)
 ;  F#: ALL CURRENTLY FLAGGED LOGS FOR A PATIENT
"RTN","DSIO1",122,0)
 ;
"RTN","DSIO1",123,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",124,0)
 ;
"RTN","DSIO1",125,0)
 S RET=$NA(^TMP($J,"DSIO TRCLIST")) K @RET S @RET@(0)="0^No entries found."
"RTN","DSIO1",126,0)
 D PAR S TYP=$G(TYP)
"RTN","DSIO1",127,0)
 ;
"RTN","DSIO1",128,0)
 ; *** GET ALL CURRENTLY TRACKED PATIENTS
"RTN","DSIO1",129,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD^OB^PLANNED DELV LOC^
"RTN","DSIO1",130,0)
 ;     CURRENTLY PREGNANT^CURRENTLY LACATING
"RTN","DSIO1",131,0)
 ;     ^DSIO(19641.2,"TRACKING",PATIENT NAME,DFN,DA)=""
"RTN","DSIO1",132,0)
 I TYP="T" D T1("TRACKING",4) Q
"RTN","DSIO1",133,0)
 ;
"RTN","DSIO1",134,0)
 ; *** GET ALL CURRENTLY FLAGGED PATIENTS
"RTN","DSIO1",135,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"RTN","DSIO1",136,0)
 ;     ^DSIO(19641.2,"FLAGGED",PATIENT NAME,DFN,DA)=""
"RTN","DSIO1",137,0)
 I TYP="F" D T1("FLAGGED",5) Q
"RTN","DSIO1",138,0)
 ;
"RTN","DSIO1",139,0)
 ; *** GET ALL LOGS FOR A PATIENT
"RTN","DSIO1",140,0)
 ;     L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",141,0)
 ;     C^IEN^COMMENT
"RTN","DSIO1",142,0)
 ;     ^DSIO(19641.2,DFN,1,"B",LOG DATE,DA)=""
"RTN","DSIO1",143,0)
 I TYP D T1("B",2,TYP) Q
"RTN","DSIO1",144,0)
 ; *** GET CURRENTLY FLAGGED ENTRIES FOR A PATIENT
"RTN","DSIO1",145,0)
 ;     ^DSIO(19641.2,DFN,1,"FLAG",LOG DATE,DA)
"RTN","DSIO1",146,0)
 I TYP?1"F"1.N D T1("FLAG",3,$E(TYP,2,$L(TYP))) Q
"RTN","DSIO1",147,0)
 ; *** GET ALL LOGS
"RTN","DSIO1",148,0)
 ;     ^DSIO(19641.2,"C",LOG DATE,DFN,DA)=""
"RTN","DSIO1",149,0)
 I TYP="" D T1("C",1)
"RTN","DSIO1",150,0)
 Q
"RTN","DSIO1",151,0)
 ;
"RTN","DSIO1",152,0)
T1(IX,FLG,KEY) ; Get Tracking List
"RTN","DSIO1",153,0)
 N COUNT,TS,CT,IEN,STRT,END D SORT($G(SORT))
"RTN","DSIO1",154,0)
 S (COUNT,TS)=0
"RTN","DSIO1",155,0)
 I FLG=1!(FLG=4)!(FLG=5) D
"RTN","DSIO1",156,0)
 . ; IX: C, TRACKING, FLAGGED
"RTN","DSIO1",157,0)
 . ; ^DSIO(19641.2,IX(C),LOG DATE,DFN,DA)=""
"RTN","DSIO1",158,0)
 . ; ^DSIO(19641.2,IX,PATIENT NAME,DFN,DA)=""
"RTN","DSIO1",159,0)
 . S CT=$NA(^DSIO(19641.2,IX)) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,2)'=IX  D
"RTN","DSIO1",160,0)
 . . S DFN=$QS(CT,4),IEN=$QS(CT,5) D T2
"RTN","DSIO1",161,0)
 I FLG=2!(FLG=3) S DFN=KEY D
"RTN","DSIO1",162,0)
 . ; IX: B, FLAG
"RTN","DSIO1",163,0)
 . ; ^DSIO(19641.2,DFN,1,IX,LOG DATE,DA)=""
"RTN","DSIO1",164,0)
 . S CT=$NA(^DSIO(19641.2,DFN,1,IX)) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,4)'=IX  D
"RTN","DSIO1",165,0)
 . . S IEN=$QS(CT,6) D T2
"RTN","DSIO1",166,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO1",167,0)
 Q
"RTN","DSIO1",168,0)
 ;
"RTN","DSIO1",169,0)
T2 ; Continue
"RTN","DSIO1",170,0)
 S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO1",171,0)
 S COUNT=COUNT+1 I END'="",COUNT>END Q
"RTN","DSIO1",172,0)
 D TGET(FLG)
"RTN","DSIO1",173,0)
 Q
"RTN","DSIO1",174,0)
 ;
"RTN","DSIO1",175,0)
TGET(F) ; Return Unique String of Data
"RTN","DSIO1",176,0)
 ;
"RTN","DSIO1",177,0)
 ; L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",178,0)
 ; C^IEN^COMMENT
"RTN","DSIO1",179,0)
 N STR,IFLD,EFLD
"RTN","DSIO1",180,0)
 D TFLD
"RTN","DSIO1",181,0)
 I F=1 D TG0    ; ALL
"RTN","DSIO1",182,0)
 I F=2 D TG0    ; ALL LOGS FOR A PATIENT
"RTN","DSIO1",183,0)
 I F=3 D TG0    ; ALL FLAGGED LOGS FOR A PATIENT
"RTN","DSIO1",184,0)
 ;
"RTN","DSIO1",185,0)
 ; P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD^OB^PLANNED DELV LOC^
"RTN","DSIO1",186,0)
 ; CURRENTLY PREGNANT^CURRENTLY LACATING
"RTN","DSIO1",187,0)
 I F=4 D TG4    ; TRACKING
"RTN","DSIO1",188,0)
 ;
"RTN","DSIO1",189,0)
 ; P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"RTN","DSIO1",190,0)
 I F=5 D TG5    ; FLAGGED
"RTN","DSIO1",191,0)
 Q
"RTN","DSIO1",192,0)
 ;
"RTN","DSIO1",193,0)
TG0 ; 1,2,3
"RTN","DSIO1",194,0)
 S STR="L^"_IEN_U_$$FMTE^XLFDT(IFLD(.01),"5ZS")_U_DFN_U_$$NAME^DSIO2($$GET1^DIQ(2,DFN,.01))_U
"RTN","DSIO1",195,0)
 S STR=STR_$$NAME^DSIO2(EFLD(.03))_U_EFLD(.02)_U_EFLD(.03)_U_$$RES
"RTN","DSIO1",196,0)
 S @RET@(COUNT,0)=STR D COM
"RTN","DSIO1",197,0)
 Q
"RTN","DSIO1",198,0)
TG4 ; 4
"RTN","DSIO1",199,0)
 N SSN,DOB,PHONE,EDD,OB,LOC,PREG,LAC D TGV
"RTN","DSIO1",200,0)
 S @RET@(COUNT)="P^"_DFN_U_$$NAME^DSIO2(EFLD(.03))_U_SSN_U_DOB_U_PHONE_U_EDD_U_OB_U_LOC_U_PREG_U_LAC
"RTN","DSIO1",201,0)
 Q
"RTN","DSIO1",202,0)
TG5 ; 5
"RTN","DSIO1",203,0)
 N SSN,DOB,PHONE,EDD,OB,LOC,PREG,LAC D TGV
"RTN","DSIO1",204,0)
 S @RET@(COUNT)="P^"_DFN_U_$$NAME^DSIO2(EFLD(.03))_U_SSN_U_DOB_U_PHONE_U_$$RES
"RTN","DSIO1",205,0)
 Q
"RTN","DSIO1",206,0)
 ;
"RTN","DSIO1",207,0)
TGV ; Get Common Variables
"RTN","DSIO1",208,0)
 S SSN=$$SSN^DPTLK1(DFN) I SSN?.N S SSN=$E(SSN,6,9)
"RTN","DSIO1",209,0)
 S DOB=$$FMTE^XLFDT($$DT^DSIO2($$DOB^DPTLK1(DFN,0)),"5Z")
"RTN","DSIO1",210,0)
 S PHONE=$$GET1^DIQ(2,DFN,.131)
"RTN","DSIO1",211,0)
 S EDD=$$FMTE^XLFDT($$GET1^DIQ(19641.03,$$GET1^DIQ(19641.13,$$PG^DSIO4(DFN)_",",.06,"I")_",",.01,"I"),"5Z")
"RTN","DSIO1",212,0)
 S OB=$$TITLE^XLFSTR($$GET1^DIQ(19641.13,$$PG^DSIO4(DFN)_",",.08))
"RTN","DSIO1",213,0)
 S LOC=$$TITLE^XLFSTR($$GET1^DIQ(19641.13,$$PG^DSIO4(DFN)_",",.09))
"RTN","DSIO1",214,0)
 S PREG=$$PSTAT^DSIO4(DFN),LAC=$$LACT^DSIO4(DFN)
"RTN","DSIO1",215,0)
 Q
"RTN","DSIO1",216,0)
 ;
"RTN","DSIO1",217,0)
TFLD ; Get Tracking Fields
"RTN","DSIO1",218,0)
 N IN,EN
"RTN","DSIO1",219,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",",".01;.02;.03;.04","I","IN")
"RTN","DSIO1",220,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",",".01;.02;.03;.04","I","EN")
"RTN","DSIO1",221,0)
 D TFLD1($NA(IN),.IFLD),TFLD1($NA(EN),.EFLD)
"RTN","DSIO1",222,0)
 Q
"RTN","DSIO1",223,0)
 ;
"RTN","DSIO1",224,0)
TFLD1(CT,ARY) ; Continue
"RTN","DSIO1",225,0)
 F  S CT=$Q(@CT) Q:CT=""  S ARY($QS(CT,3))=@CT
"RTN","DSIO1",226,0)
 Q
"RTN","DSIO1",227,0)
 ;
"RTN","DSIO1",228,0)
RES() ; Reason Multiple
"RTN","DSIO1",229,0)
 N RES,R,STR
"RTN","DSIO1",230,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",","1*","I","RES")
"RTN","DSIO1",231,0)
 S R=$NA(RES) F  S R=$Q(@R) Q:R=""  D
"RTN","DSIO1",232,0)
 . S STR=$G(STR)_$$TITLE^XLFSTR(@R)_"|"
"RTN","DSIO1",233,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO1",234,0)
 ;
"RTN","DSIO1",235,0)
COM ; Comment Multiple
"RTN","DSIO1",236,0)
 N COM,C,CT
"RTN","DSIO1",237,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",",2,,"COM")
"RTN","DSIO1",238,0)
 S CT=1,C=$NA(COM) F  S C=$Q(@C) Q:C=""  D
"RTN","DSIO1",239,0)
 . Q:$QL(C)<4
"RTN","DSIO1",240,0)
 . S @RET@(COUNT,CT)="C^"_IEN_U_@C,CT=CT+1
"RTN","DSIO1",241,0)
 Q
"RTN","DSIO1",242,0)
 ;
"RTN","DSIO1",243,0)
REC(RET,DFN,ACT,RES,COM,SOR) ; RPC: DSIO CREATE TRACKING LOG
"RTN","DSIO1",244,0)
 ;
"RTN","DSIO1",245,0)
 ; MCC DASHBOARD PURPOSE -  TO CHANGE THE TRACKING STATUS OF A PATIENT
"RTN","DSIO1",246,0)
 ;
"RTN","DSIO1",247,0)
 ; ACT: ACTION    INPUT PARAMETER:
"RTN","DSIO1",248,0)
 ;   0: STOP           DFN : PATIENT NUMBER
"RTN","DSIO1",249,0)
 ;   1: START          ACT : ACTION (0:STOP,1:START,2:FLAG,3:REJECT,4:ACCEPT)
"RTN","DSIO1",250,0)
 ;   2: FLAG           RES : REASON  - #^#^#
"RTN","DSIO1",251,0)
 ;   3: REJECT         COM : COMMENT - ARRAY
"RTN","DSIO1",252,0)
 ;   4: ACCEPT         SOR : SOURCE  - DEFAULT IS DASHBOARD
"RTN","DSIO1",253,0)
 ;
"RTN","DSIO1",254,0)
 ; RETURN: -1^ERROR OR IEN
"RTN","DSIO1",255,0)
 ;
"RTN","DSIO1",256,0)
 N DSIOSILENT,DIC,DA,X,Y,DLAYGO,IPT,IEN,I,%X,%Y
"RTN","DSIO1",257,0)
 S DSIOSILENT=1,RET=-1
"RTN","DSIO1",258,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO1",259,0)
 S DLAYGO=19641.2,DIC="^DSIO(19641.2,",DIC(0)="XL",X="`"_DFN
"RTN","DSIO1",260,0)
 D ^DIC I +Y<1 S RET="-1^Failed to create log." Q
"RTN","DSIO1",261,0)
 ; *** TRACKING STATUS/EVENT
"RTN","DSIO1",262,0)
 S ACT=$E($G(ACT),1) S ACT=$S(ACT?1N:ACT,1:"")
"RTN","DSIO1",263,0)
 I ACT="" S RET="-1^EVENT TYPE could not be identified." Q
"RTN","DSIO1",264,0)
 I ACT<0!(ACT>4) S RET="-1^EVENT TYPE reference number is invalid." Q
"RTN","DSIO1",265,0)
 S SOR=$$UP^XLFSTR($G(SOR,"DASHBOARD"))
"RTN","DSIO1",266,0)
 S IPT(19641.22,"?+1,",.01)=SOR
"RTN","DSIO1",267,0)
 S:SOR="DASHBOARD"!(SOR="FILEMAN") IPT(19641.22,"?+1,",.02)=1
"RTN","DSIO1",268,0)
 S DLAYGO=19641.22 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",269,0)
 S IPT(19641.24,"+1,"_DFN_",",.01)=$$NOW^XLFDT
"RTN","DSIO1",270,0)
 S IPT(19641.24,"+1,"_DFN_",",.02)=ACT
"RTN","DSIO1",271,0)
 S IPT(19641.24,"+1,"_DFN_",",.03)=DUZ
"RTN","DSIO1",272,0)
 S IPT(19641.24,"+1,"_DFN_",",.04)=SOR
"RTN","DSIO1",273,0)
 S DLAYGO=19641.24 D UPDATE^DIE(,"IPT","IEN") K IPT
"RTN","DSIO1",274,0)
 I '$G(IEN(1)) S RET="-1^Failed to create log." Q
"RTN","DSIO1",275,0)
 ; *** UPDATE THE DSIO PATIENT FILE
"RTN","DSIO1",276,0)
 S IPT(19641,DFN_",",.02)=$S(ACT=3:0,ACT=4:1,1:ACT)
"RTN","DSIO1",277,0)
 D FILE^DIE(,"IPT") K IPT
"RTN","DSIO1",278,0)
 ; *** BUILD THE REASON MULTIPLE
"RTN","DSIO1",279,0)
 S RES=$G(RES) F I=1:1:$L(RES,U) D
"RTN","DSIO1",280,0)
 . S IPT(19641.241,"?+1,"_IEN(1)_","_DFN_",",.01)=$P(RES,U,I)
"RTN","DSIO1",281,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",282,0)
 ; *** SET THE COMMENT WORD PROCESSING FIELD
"RTN","DSIO1",283,0)
 ;     WE CAN'T PROCESS THE ZERO NODE WITH WP^DIE SO INSTEAD OF MERGING
"RTN","DSIO1",284,0)
 ;     WE CAN USE %XY^%RCR TO CONCATENATE A SUBSCRIPT
"RTN","DSIO1",285,0)
 I $D(COM)>9 K ^TMP($J,"DSIO REC") D
"RTN","DSIO1",286,0)
 . S %X="COM(",%Y="^TMP($J,""DSIO REC"",1" D %XY^%RCR
"RTN","DSIO1",287,0)
 . D WP^DIE(19641.24,IEN(1)_","_DFN_",",2,"K","^TMP($J,""DSIO REC"")")
"RTN","DSIO1",288,0)
 . K ^TMP($J,"DSIO REC")
"RTN","DSIO1",289,0)
 S RET=$S(SOR="DASHBOARD":1,1:IEN(1))
"RTN","DSIO1",290,0)
 Q
"RTN","DSIO1",291,0)
 ;
"RTN","DSIO1",292,0)
 ; -------------------------------- SELECTION ---------------------------------
"RTN","DSIO1",293,0)
 ;
"RTN","DSIO1",294,0)
SELECT(RET,TYP) ; RPC: DSIO SELECT LIST
"RTN","DSIO1",295,0)
 ;
"RTN","DSIO1",296,0)
 ; RETURN DROP DOWN LIST
"RTN","DSIO1",297,0)
 ;
"RTN","DSIO1",298,0)
 ; INPUT PARAMETER:
"RTN","DSIO1",299,0)
 ;  TYP : 'S' FOR FILE 19641.22
"RTN","DSIO1",300,0)
 ;  TYP : 'R' FOR FILE 19641.23
"RTN","DSIO1",301,0)
 ;
"RTN","DSIO1",302,0)
 ;  LETTER^ENTRY^A : ADD AN ENTRY TO ONE OF THE ABOVE FILES
"RTN","DSIO1",303,0)
 ;  LETTER^ENTRY^D : DELETE AN ENTRY FROM ONE OF THE ABOVE FILES
"RTN","DSIO1",304,0)
 ;
"RTN","DSIO1",305,0)
 ;  RETURN LIST FOR SUCCESS OR RET(0)="-1^MESSAGE" FOR FAILURE
"RTN","DSIO1",306,0)
 ;
"RTN","DSIO1",307,0)
 N FILE,FLD,DIK,DA,X,Y,IPT,I,CT
"RTN","DSIO1",308,0)
 S RET(0)="0^No entries found.",TYP=$$UP^XLFSTR($G(TYP)) Q:TYP=""
"RTN","DSIO1",309,0)
 S FILE=$S($P(TYP,U)="S":19641.22,$P(TYP,U)="R":19641.23,1:"") Q:FILE=""
"RTN","DSIO1",310,0)
 S FLD=$S(FILE=19641.22:"@;.01;.02I",1:"@;.01")
"RTN","DSIO1",311,0)
 I $P(TYP,U,3)="D" D
"RTN","DSIO1",312,0)
 . S DIK="^DSIO("_FILE_","
"RTN","DSIO1",313,0)
 . S DA=$$FIND1^DIC(FILE,,"X",$$UP^XLFSTR($P(TYP,U,2))) D:DA ^DIK
"RTN","DSIO1",314,0)
 I $P(TYP,U,3)="A" D
"RTN","DSIO1",315,0)
 . S IPT(FILE,"?+1,",.01)=$$UP^XLFSTR($P(TYP,U,2))
"RTN","DSIO1",316,0)
 . D UPDATE^DIE(,"IPT")
"RTN","DSIO1",317,0)
 S I=0,CT="" F  S CT=$O(^DSIO(FILE,"B",CT)) Q:CT=""  D
"RTN","DSIO1",318,0)
 . Q:$$GET1^DIQ(FILE,$O(^DSIO(FILE,"B",CT,""))_",",.02,"I")
"RTN","DSIO1",319,0)
 . S RET(I)=$$TITLE^XLFSTR(CT),I=I+1
"RTN","DSIO1",320,0)
 Q
"RTN","DSIO1",321,0)
 ;
"RTN","DSIO1",322,0)
 ; ----------------------------- EXTERNAL ENTITY ------------------------------
"RTN","DSIO1",323,0)
 ;
"RTN","DSIO1",324,0)
SENT(RET,IEN,NAME,TYP,ACT,PCON,ADDR,PHONE,AB) ; RPC: DSIO SAVE EXTERNAL ENTITY
"RTN","DSIO1",325,0)
 ;
"RTN","DSIO1",326,0)
 ;  ADDR = ARRAY OF LABELS: 1,2,3,CITY,STATE,ZIP
"RTN","DSIO1",327,0)
 ; PHONE = ARRAY OF LABLES: H,MC,WP
"RTN","DSIO1",328,0)
 ;
"RTN","DSIO1",329,0)
 ; RETURN:
"RTN","DSIO1",330,0)
 ; IEN OR -1^MESSAGE
"RTN","DSIO1",331,0)
 ;
"RTN","DSIO1",332,0)
 D:'$G(AB) AB^DSIO2("NAME,TYP,ACT,PCON,ADDR,PHONE")
"RTN","DSIO1",333,0)
 N IPT,CT,LOC,VAL
"RTN","DSIO1",334,0)
 S IEN=$S($G(IEN):IEN,1:"?+1")_",",NAME=$$UP^XLFSTR($G(NAME))
"RTN","DSIO1",335,0)
 I IEN,$$FIND1^DIC(19641.1,,"X",NAME)'=IEN S RET="-1^Duplicate name not allowed." Q
"RTN","DSIO1",336,0)
 S:NAME'="" IPT(19641.1,IEN,.01)=NAME                   ; NAME
"RTN","DSIO1",337,0)
 S:$G(TYP)'="" IPT(19641.1,IEN,.02)=TYP                 ; TYPE
"RTN","DSIO1",338,0)
 S:$G(ACT)'="" IPT(19641.1,IEN,.03)=ACT                 ; INACTIVE
"RTN","DSIO1",339,0)
 I $G(PCON)'="" D                                       ; PRIMARY CONTACT
"RTN","DSIO1",340,0)
 . I PCON S IPT(19641.1,IEN,.04)=$$GET1^DIQ(19641.1,PCON_",",.01) Q
"RTN","DSIO1",341,0)
 . S IPT(19641.1,IEN,.04)=$S(PCON="@":"@",1:$$FIND1^DIQ(19641.1,,"X",PCON))
"RTN","DSIO1",342,0)
 I $D(ADDR) D                                           ; ADDRESS
"RTN","DSIO1",343,0)
 . S CT=$NA(ADDR) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO1",344,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)),VAL=$P(@CT,U,2)
"RTN","DSIO1",345,0)
 . . I LOC[1 S IPT(19641.1,IEN,1.1)=VAL Q                 ; STREET ADDRESS 1
"RTN","DSIO1",346,0)
 . . I LOC[2 S IPT(19641.1,IEN,1.2)=VAL Q                 ; STREET ADDRESS 2
"RTN","DSIO1",347,0)
 . . I LOC[3 S IPT(19641.1,IEN,1.3)=VAL Q                 ; STREET ADDRESS 3
"RTN","DSIO1",348,0)
 . . I LOC="CITY" S IPT(19641.1,IEN,1.4)=VAL Q            ; CITY
"RTN","DSIO1",349,0)
 . . I LOC="STATE",$$FIND1^DIC(5,,"XM",VAL) D
"RTN","DSIO1",350,0)
 . . . S IPT(19641.1,IEN,1.5)=$$FIND1^DIC(5,,"XM",VAL) Q  ; STATE
"RTN","DSIO1",351,0)
 . . I LOC="ZIP" S IPT(19641.1,IEN,1.6)=VAL               ; ZIP CODE
"RTN","DSIO1",352,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO1",353,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO1",354,0)
 I $D(PHONE) D                                          ; PHONE
"RTN","DSIO1",355,0)
 . S CT=$NA(PHONE) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO1",356,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)) Q:"^H^MC^WP^FAX^O^"'[(U_LOC_U)
"RTN","DSIO1",357,0)
 . . S VAL=$TR($P(@CT,U,2),"()- ") Q:VAL=""!(VAL'?.N)
"RTN","DSIO1",358,0)
 . . S IPT(19641.15,"?+1,"_IEN_",",.01)=LOC               ; PHONE TYPE
"RTN","DSIO1",359,0)
 . . S IPT(19641.15,"?+1,"_IEN_",",.02)=VAL               ; NUMBER
"RTN","DSIO1",360,0)
 . . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",361,0)
 Q
"RTN","DSIO1",362,0)
 ;
"RTN","DSIO1",363,0)
RENT(RET,TYP,SORT) ; RPC: DSIO GET EXTERNAL ENTITY
"RTN","DSIO1",364,0)
 ;
"RTN","DSIO1",365,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",366,0)
 ;
"RTN","DSIO1",367,0)
 ; RETURN: GLOBAL ARRAY
"RTN","DSIO1",368,0)
 ;
"RTN","DSIO1",369,0)
 ; IEN^NAME^TYPE^INACTIVE^PRIMARY PROVIDER NAME^STREET ADDRESS 1
"RTN","DSIO1",370,0)
 ; ^STREET ADDRESS 2^STREET ADDRESS 3^CITY^STATE^ZIP CODE
"RTN","DSIO1",371,0)
 ; ^PHONE NUMBER (HOME)^PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX NUMBER
"RTN","DSIO1",372,0)
 ;
"RTN","DSIO1",373,0)
 ; TYP - F        (FACILITIES)
"RTN","DSIO1",374,0)
 ;       P        (PROVIDERS)
"RTN","DSIO1",375,0)
 ;       NULL     (ALL ENTITIES)
"RTN","DSIO1",376,0)
 ;       IEN/NAME (SINGLE ENTITY)
"RTN","DSIO1",377,0)
 ;
"RTN","DSIO1",378,0)
 S RET=$NA(^TMP($J,"DSIO RENT")) K @RET S @RET@(0)="0^No entries found."
"RTN","DSIO1",379,0)
 S TYP=$$UP^XLFSTR($G(TYP))
"RTN","DSIO1",380,0)
 ; *** SINGLE (IEN)
"RTN","DSIO1",381,0)
 I TYP,$D(^DSIO(19641.1,TYP)) D R1("B",TYP) Q
"RTN","DSIO1",382,0)
 ; *** FACILITIES/PROVIDERS
"RTN","DSIO1",383,0)
 I "^F^P^"[(U_TYP_U) D R1(TYP) Q
"RTN","DSIO1",384,0)
 ; *** SINGLE (NAME)
"RTN","DSIO1",385,0)
 I TYP'="",$D(^DSIO(19641.1,"B",TYP)) D R1("B",$O(^DSIO(19641.1,"B",TYP,""))) Q
"RTN","DSIO1",386,0)
 ; *** ALL
"RTN","DSIO1",387,0)
 I TYP="" D R1("B")
"RTN","DSIO1",388,0)
 Q
"RTN","DSIO1",389,0)
 ;
"RTN","DSIO1",390,0)
R1(IX,KEY) ; Get Entity List
"RTN","DSIO1",391,0)
 N RCT,TS,CT,IEN,STRT,END D SORT($G(SORT))
"RTN","DSIO1",392,0)
 S KEY=$$GET1^DIQ(19641.1,$G(KEY)_",",.01)
"RTN","DSIO1",393,0)
 S (RCT,TS)=0,CT=$E(KEY,1,($L(KEY)-1))_$$M($E(KEY,$L(KEY)))
"RTN","DSIO1",394,0)
 F  S CT=$O(^DSIO(19641.1,IX,CT)) Q:CT=""  Q:$$KEY(CT,KEY)  D
"RTN","DSIO1",395,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO1",396,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO1",397,0)
 . S IEN=$O(^DSIO(19641.1,IX,CT,""))
"RTN","DSIO1",398,0)
 . S @RET@(RCT)=IEN_U_$$NAME^DSIO2(CT)_U_IX_U_$$RFLDS(IEN)
"RTN","DSIO1",399,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO1",400,0)
 Q
"RTN","DSIO1",401,0)
 ;
"RTN","DSIO1",402,0)
RFLDS(IEN) ; Return Transformed Fields
"RTN","DSIO1",403,0)
 ;
"RTN","DSIO1",404,0)
 ; INACTIVE^PRIMARY PROVIDER NAME^STREET ADDRESS 1^STREET ADDRESS 2^
"RTN","DSIO1",405,0)
 ; STREET ADDRESS 3^CITY^STATE^ZIP CODE^PHONE NUMBER (HOME)^
"RTN","DSIO1",406,0)
 ; PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX NUMBER
"RTN","DSIO1",407,0)
 ;
"RTN","DSIO1",408,0)
 N ST,PC,OUT,CT,FLD,STR
"RTN","DSIO1",409,0)
 S ST=$$GET1^DIQ(5,$$GET1^DIQ(19641.1,IEN_",",1.5,"I")_",",1)
"RTN","DSIO1",410,0)
 S PC=$$GET1^DIQ(19641.1,IEN_",",.04)
"RTN","DSIO1",411,0)
 D GETS^DIQ(19641.1,IEN_",",".03;1.1;1.2;1.3;1.4;1.6",,"OUT")
"RTN","DSIO1",412,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S FLD($QS(CT,3))=@CT
"RTN","DSIO1",413,0)
 S STR=FLD(.03)_U_PC_U_FLD(1.1)_U_FLD(1.2)_U_FLD(1.3)_U_FLD(1.4)_U_ST_U
"RTN","DSIO1",414,0)
 S STR=STR_U_FLD(1.6)_U_$$PHONE(19641.1,IEN)
"RTN","DSIO1",415,0)
 Q STR
"RTN","DSIO1",416,0)
 ;
"RTN","DSIO1",417,0)
PHONE(FLE,IEN) ; Return Phone List
"RTN","DSIO1",418,0)
 ;           H ^ WP ^ MC ^ FAX
"RTN","DSIO1",419,0)
 N STR,OUT,CT,F,P
"RTN","DSIO1",420,0)
 S STR="^^^" D GETS^DIQ(FLE,IEN_",","2*","I","OUT")
"RTN","DSIO1",421,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO1",422,0)
 . I $QS(CT,3)=.01 S F=@CT Q
"RTN","DSIO1",423,0)
 . I $D(F) D
"RTN","DSIO1",424,0)
 . . S P=$S(F="H":1,F="WP":2,F="MC":3,F="FAX":4,1:"") K F
"RTN","DSIO1",425,0)
 . . S:P $P(STR,U,P)=$$FORMAT^DSIO2($TR(@CT,"()- "))
"RTN","DSIO1",426,0)
 Q STR
"RTN","DSIO1",427,0)
 ;
"RTN","DSIO1",428,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO1",429,0)
 ;
"RTN","DSIO1",430,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO1",431,0)
 D S^DSIO2(SORT)
"RTN","DSIO1",432,0)
 Q
"RTN","DSIO1",433,0)
 ;
"RTN","DSIO1",434,0)
M(VAL) ; Minus One
"RTN","DSIO1",435,0)
 I VAL?.N S VAL=VAL-1 Q VAL
"RTN","DSIO1",436,0)
 I VAL?.A Q $$ALPHA(VAL)
"RTN","DSIO1",437,0)
 Q VAL
"RTN","DSIO1",438,0)
 ;
"RTN","DSIO1",439,0)
ALPHA(AL) ; Return the Prior Alpha
"RTN","DSIO1",440,0)
 N VAL,I,X
"RTN","DSIO1",441,0)
 S VAL="ABCDEFGHIJKLMNOPQRSTUVWXYZ"
"RTN","DSIO1",442,0)
 F I=1:1:26 I $E(VAL,I)=AL S X=I-1 Q
"RTN","DSIO1",443,0)
 Q $E(VAL,$G(X))
"RTN","DSIO1",444,0)
 ;
"RTN","DSIO1",445,0)
KEY(VAL,KEY) ; Value to Key
"RTN","DSIO1",446,0)
 I KEY="" Q 0
"RTN","DSIO1",447,0)
 I $E(VAL,1,$L(KEY))'=KEY Q 1
"RTN","DSIO1",448,0)
 Q 0
"RTN","DSIO1",449,0)
 ;
"RTN","DSIO1",450,0)
PAR ; Check Parameters
"RTN","DSIO1",451,0)
 I $$GET^XPAR("SYS","DSIO EVAL LABS NOW") D LAB^DSIO5
"RTN","DSIO1",452,0)
 I $$GET^XPAR("SYS","DSIO EVAL PROBLEMS NOW") D PROBLEM^DSIO5
"RTN","DSIO1",453,0)
 I $$GET^XPAR("SYS","DSIO EVAL CONSULTS NOW") D CONSULT^DSIO5
"RTN","DSIO1",454,0)
 Q
"RTN","DSIO10")
0^6^B82722099
"RTN","DSIO10",1,0)
DSIO10 ;DSS/TFF - DSIO OBSERVATION;06/28/2013 15:19
"RTN","DSIO10",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO10",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO10",4,0)
 ;
"RTN","DSIO10",5,0)
 ; External References      DBIA#
"RTN","DSIO10",6,0)
 ; -------------------      -----
"RTN","DSIO10",7,0)
 ;
"RTN","DSIO10",8,0)
 ;
"RTN","DSIO10",9,0)
 ;
"RTN","DSIO10",10,0)
 Q
"RTN","DSIO10",11,0)
 ;
"RTN","DSIO10",12,0)
OBS(RET,IEN,DATES,OBJECT,REL,CAT,CODE,SYS,DESC,VAL,QUAL,NAR,AB) ; RPC: DSIO SAVE OBSERVATION
"RTN","DSIO10",13,0)
 ;
"RTN","DSIO10",14,0)
 ;    IEN = IF NOT NULL THEN EDIT
"RTN","DSIO10",15,0)
 ;  DATES = OBSERVATION^START^END
"RTN","DSIO10",16,0)
 ; OBJECT = OBJECT OF OBSERVATION (*PRIMARY^SECONDARY)
"RTN","DSIO10",17,0)
 ;           P.IEN (PATIENT)
"RTN","DSIO10",18,0)
 ;          FB.### (FETUS BABY)
"RTN","DSIO10",19,0)
 ;          PG.IEN (PREGNANCY)
"RTN","DSIO10",20,0)
 ;           N.IEN (NOTE)
"RTN","DSIO10",21,0)
 ;    REL = RELATIONSHIP
"RTN","DSIO10",22,0)
 ;    CAT = CATEGORY
"RTN","DSIO10",23,0)
 ;  *CODE = CODE
"RTN","DSIO10",24,0)
 ;   *SYS = CODING SYSTEM
"RTN","DSIO10",25,0)
 ;   DESC = DESCRIPTION
"RTN","DSIO10",26,0)
 ;    VAL = TYPE^UNIT^NEGATION^VALUE
"RTN","DSIO10",27,0)
 ;   QUAL = QUALIFIERS (ARRAY OF QUALIFIER^VALUE)
"RTN","DSIO10",28,0)
 ;    NAR = NARRATIVE (ARRAY OF TEXT)
"RTN","DSIO10",29,0)
 ;
"RTN","DSIO10",30,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO10",31,0)
 ;
"RTN","DSIO10",32,0)
 N OBSD,STRT,END,PRI,SEC,VTYP,VUNT,VNEG,PDFN,SDFN,IENS,DIK,DA,X,Y,IPT
"RTN","DSIO10",33,0)
 N CT,%X,%Y
"RTN","DSIO10",34,0)
 S DATES=$G(DATES)
"RTN","DSIO10",35,0)
 S OBSD=$P(DATES,U),STRT=$P(DATES,U,2),END=$P(DATES,U,3)
"RTN","DSIO10",36,0)
 S PRI=$P($G(OBJECT),U),SEC=$P($G(OBJECT),U,2)
"RTN","DSIO10",37,0)
 S VAL=$G(VAL)
"RTN","DSIO10",38,0)
 S VTYP=$P(VAL,U),VUNT=$P(VAL,U,2)
"RTN","DSIO10",39,0)
 S VNEG=$E($$UP^XLFSTR($E($P(VAL,U,3))),1) S VNEG=$S(VNEG="Y":1,VNEG="N":0,1:VNEG)
"RTN","DSIO10",40,0)
 S VAL=$P(VAL,U,4)
"RTN","DSIO10",41,0)
 D:'$G(AB) AB^DSIO2("OBSD,STRT,END,PRI,SEC,VAL,VTYP,VUNT,VNEG,REL,CAT,CODE,SYS,DESC")
"RTN","DSIO10",42,0)
 S:$G(OBSD)'="@" OBSD=$$DT^DSIO2($G(OBSD))
"RTN","DSIO10",43,0)
 S:$G(STRT)'="@" STRT=$$DT^DSIO2($G(STRT))
"RTN","DSIO10",44,0)
 S:$G(END)'="@" END=$$DT^DSIO2($G(END))
"RTN","DSIO10",45,0)
 S CODE=$G(CODE)
"RTN","DSIO10",46,0)
 I CODE="@"!($G(AB)&('$G(IEN))&(CODE="")) S RET="-1^Code is required" Q
"RTN","DSIO10",47,0)
 S SYS=$$UP^XLFSTR($E($G(SYS)))
"RTN","DSIO10",48,0)
 S SYS=$S(SYS="L":"LNC",SYS="S":"SCT",SYS="O":"OTHER",1:"NONE")
"RTN","DSIO10",49,0)
 I SYS="LNC"!(SYS="SCT") S CODE=$$ICODE^DSIO2(SYS,CODE)
"RTN","DSIO10",50,0)
 Q:'$$INPUT(.RET,.PRI,.SEC)
"RTN","DSIO10",51,0)
 I PRI="@"!($G(AB)&('$G(IEN))&(PRI="")) S RET="-1^Primary Object is required." Q
"RTN","DSIO10",52,0)
 I $G(IEN) S IENS=IEN_"," D  Q:$D(RET)
"RTN","DSIO10",53,0)
 . I $$GET1^DIQ(19641.12,IEN_",",4.1,"I") D  Q
"RTN","DSIO10",54,0)
 . . S RET="-1^This observation was already pushed and cannot be changed."
"RTN","DSIO10",55,0)
 . I OBSD="@" S DIK="^DSIO(19641.12,",DA=IEN D ^DIK S RET=1
"RTN","DSIO10",56,0)
 I '$D(IENS) S IENS="+1," D
"RTN","DSIO10",57,0)
 . S:OBSD=""!(OBSD="@") OBSD=$$NOW^XLFDT
"RTN","DSIO10",58,0)
 . S IPT(19641.12,IENS,.01)=OBSD                           ; DATE OF OBSERVATION
"RTN","DSIO10",59,0)
 S IPT(19641.12,IENS,.02)=$$OBJECT(PRI)                    ; PRIMARY OBJECT 
"RTN","DSIO10",60,0)
 S:$G(REL)'="" IPT(19641.12,IENS,.03)=$$UP^XLFSTR(REL)     ; RELATIONSHIP
"RTN","DSIO10",61,0)
 S:SEC'="" IPT(19641.12,IENS,.04)=$$OBJECT(SEC)            ; SECONDARY OBJECT
"RTN","DSIO10",62,0)
 S:$G(CAT)'="" IPT(19641.12,IENS,.05)=CAT                  ; CATEGORY
"RTN","DSIO10",63,0)
 S:CODE'="" IPT(19641.12,IENS,.06)=CODE                    ; CODE
"RTN","DSIO10",64,0)
 S:SYS'="" IPT(19641.12,IENS,.07)=SYS                      ; CODE SYSTEM
"RTN","DSIO10",65,0)
 S IPT(19641.12,IENS,.08)=DUZ                              ; UPDATED BY
"RTN","DSIO10",66,0)
 S IPT(19641.12,IENS,.09)=$$NOW^XLFDT                      ; LAST MODIFIED DATE
"RTN","DSIO10",67,0)
 S:DESC'="" IPT(19641.12,IENS,1)=DESC                      ; DESCRIPTION
"RTN","DSIO10",68,0)
 S:VAL'="" IPT(19641.12,IENS,2)=VAL                        ; VALUE
"RTN","DSIO10",69,0)
 S:VTYP'="" IPT(19641.12,IENS,3.1)=VTYP                    ; VALUE TYPE
"RTN","DSIO10",70,0)
 S:VUNT'="" IPT(19641.12,IENS,3.2)=VUNT                    ; VALUE UNIT
"RTN","DSIO10",71,0)
 S IPT(19641.12,IENS,3.3)=VNEG                             ; NEGATION
"RTN","DSIO10",72,0)
 S:STRT'="" IPT(19641.12,IENS,3.4)=STRT                    ; START
"RTN","DSIO10",73,0)
 S:END'="" IPT(19641.12,IENS,3.5)=END                      ; END
"RTN","DSIO10",74,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO10",75,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO10",76,0)
 I SYS="OTHER"!(SYS="NONE") D
"RTN","DSIO10",77,0)
 . D LCODE^DSIO2(CODE,SYS,"DSIO OBSERVATION(19641.12) IEN("_IEN_")")
"RTN","DSIO10",78,0)
 ; *** QUALIFIERS
"RTN","DSIO10",79,0)
 S CT=$NA(QUAL) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO10",80,0)
 . S IPT(19641.125,"?+1,"_IEN_",",.01)=$P(@CT,U)
"RTN","DSIO10",81,0)
 . S IPT(19641.125,"?+1,"_IEN_",",.02)=$P(@CT,U,2)
"RTN","DSIO10",82,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",83,0)
 ; *** NARRATIVE
"RTN","DSIO10",84,0)
 I $D(NAR)>9 K ^TMP($J,"DSIO OBS") D
"RTN","DSIO10",85,0)
 . S %X="NAR(",%Y="^TMP($J,""DSIO OBS"",1" D %XY^%RCR
"RTN","DSIO10",86,0)
 . D WP^DIE(19641.12,IEN_",",6,"K","^TMP($J,""DSIO OBS"")")
"RTN","DSIO10",87,0)
 . K ^TMP($J,"DSIO OBS")
"RTN","DSIO10",88,0)
 D OPUSH(IEN) S RET=IEN
"RTN","DSIO10",89,0)
 Q
"RTN","DSIO10",90,0)
 ;
"RTN","DSIO10",91,0)
OPUSH(OIEN) ; Push Observation
"RTN","DSIO10",92,0)
 N CODE,X,VAL,IEN,FLE,FLD,INPUT,ROU,TMP,OBJ,RET,IPT
"RTN","DSIO10",93,0)
 S OIEN=$G(OIEN)
"RTN","DSIO10",94,0)
 S CODE=$$GET1^DIQ(19641.12,OIEN_",",.06) Q:CODE=""
"RTN","DSIO10",95,0)
 S (X,VAL)=$$UP^XLFSTR($$GET1^DIQ(19641.12,OIEN_",",2)) Q:X=""
"RTN","DSIO10",96,0)
 Q:$$GET1^DIQ(19641.12,OIEN_",",4.1,"I")'=""    ; ALREADY PUSHED
"RTN","DSIO10",97,0)
 S IEN=$O(^DSIO(19641.123,"C",CODE,"")) Q:IEN=""
"RTN","DSIO10",98,0)
 S FLE=$$GET1^DIQ(19641.123,IEN_",",.04,"I")
"RTN","DSIO10",99,0)
 S FLD=$$GET1^DIQ(19641.123,IEN_",",.05,"I")
"RTN","DSIO10",100,0)
 S INPUT=$$GET1^DIQ(19641.123,IEN_",",1) X:INPUT'="" INPUT
"RTN","DSIO10",101,0)
 I FLE="",FLD="" S ROU=$$GET1^DIQ(19641.123,IEN_",",2) I ROU'="" D
"RTN","DSIO10",102,0)
 . X ROU D OPDEL(OIEN)
"RTN","DSIO10",103,0)
 S TMP=$NA(^TMP($J,"SETDATA VALUE")) K @TMP S @TMP@(1)=$G(X)
"RTN","DSIO10",104,0)
 S OBJ=$$GET1^DIQ(19641.12,OIEN_",",.02,"I")
"RTN","DSIO10",105,0)
 D HISTORY^DSIO98(.RET,OBJ,FLE,FLD,OIEN_";DSIO(19641.124,",TMP,$G(ROU))
"RTN","DSIO10",106,0)
 K @TMP S IPT(19641.12,OIEN_",",4.1)=RET D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",107,0)
 D OPDEL(IEN,OIEN,RET)
"RTN","DSIO10",108,0)
 Q
"RTN","DSIO10",109,0)
 ;
"RTN","DSIO10",110,0)
OPDEL(PUSH,OIEN,HIS) ; Delete Actions
"RTN","DSIO10",111,0)
 ;
"RTN","DSIO10",112,0)
 ; Some observations may be non-clinical in nature and be set to be deleted
"RTN","DSIO10",113,0)
 ; after the data is pushed.
"RTN","DSIO10",114,0)
 ;   1 TRUE = DELETE THE OBSERVATION
"RTN","DSIO10",115,0)
 ;   2 BOTH = DELETE THE OBSERVATION AND HISTORY
"RTN","DSIO10",116,0)
 ;
"RTN","DSIO10",117,0)
 N DEL,DIK,DA,X,Y
"RTN","DSIO10",118,0)
 S DEL=$$GET1^DIQ(19641.123,IEN_",",.06,"I") Q:'DEL
"RTN","DSIO10",119,0)
 S DIK="^DSIO(19641.12,",DA=+$G(OIEN) D ^DIK
"RTN","DSIO10",120,0)
 I DEL=2 K DIK,DA,X,Y S DIK="^DSIO(19641.124,",DA=+$G(HIS) D ^DIK
"RTN","DSIO10",121,0)
 Q
"RTN","DSIO10",122,0)
 ;
"RTN","DSIO10",123,0)
INPUT(RET,PRI,SEC) ; Determine IEN based on Patient, Pregnancy, Baby
"RTN","DSIO10",124,0)
 ;
"RTN","DSIO10",125,0)
 ; FETUS/BABY NUMBER is PRIMARY OBJECT
"RTN","DSIO10",126,0)
 ;  then PATIENT or PREGNANCY would be the SECONDARY OBJECT
"RTN","DSIO10",127,0)
 ;
"RTN","DSIO10",128,0)
 ; If Patient and Fetus/Baby then Current Pregnacy
"RTN","DSIO10",129,0)
 ; If Pregnancy and Fetus/Baby then historical and Patient is already
"RTN","DSIO10",130,0)
 ;  associated to Pregnancy.
"RTN","DSIO10",131,0)
 ;
"RTN","DSIO10",132,0)
 ;  DFN = PATIENT
"RTN","DSIO10",133,0)
 ; PREG = PREGNANCY IEN
"RTN","DSIO10",134,0)
 ; BNUM = FETUS/BABY NUM
"RTN","DSIO10",135,0)
 ;
"RTN","DSIO10",136,0)
 N FLG,BNUM,DFN,PREG,IEN,IPT S PRI=$G(PRI),SEC=$G(SEC)
"RTN","DSIO10",137,0)
 I $P(PRI,".")="FB" S FLG=PRI,BNUM=$P(PRI,".",2) D
"RTN","DSIO10",138,0)
 . I $P(SEC,".")="P" D
"RTN","DSIO10",139,0)
 . . S DFN=$P(SEC,".",2),PREG=$$PG^DSIO4(DFN) I 'PREG D PREG^DSIO15(.PREG,DFN,,,"C")
"RTN","DSIO10",140,0)
 . I $P(SEC,".")="PG" D
"RTN","DSIO10",141,0)
 . . S PREG=$P(SEC,".",2),DFN=$$GET1^DIQ(19641.13,PREG_",",.03,"I")
"RTN","DSIO10",142,0)
 I $P(SEC,".")="FB" S FLG=SEC,BNUM=$P(SEC,".",2) D
"RTN","DSIO10",143,0)
 . I $P(PRI,".")="P" D
"RTN","DSIO10",144,0)
 . . S DFN=$P(PRI,".",2),PREG=$$PG^DSIO4(DFN) I 'PREG D PREG^DSIO15(.PREG,DFN,,,"C")
"RTN","DSIO10",145,0)
 . I $P(PRI,".")="PG" D
"RTN","DSIO10",146,0)
 . . S PREG=$P(PRI,".",2),DFN=$$GET1^DIQ(19641.13,PREG_",",.03,"I")
"RTN","DSIO10",147,0)
 I $G(BNUM)&('$G(DFN)!('$G(PREG))) D  Q 0
"RTN","DSIO10",148,0)
 . S RET="-1^Invalid Primary and Secondary Objects."
"RTN","DSIO10",149,0)
 Q:'$G(BNUM) 1
"RTN","DSIO10",150,0)
 I '$$CHECK^DSIO2(DFN) S RET="-1^Patient entry not found." Q 0
"RTN","DSIO10",151,0)
 S IEN=$O(^DSIO(19641.112,"C",DFN,PREG,BNUM,"")) Q:IEN IEN
"RTN","DSIO10",152,0)
 S IPT(19641.112,"+1,",.01)=BNUM
"RTN","DSIO10",153,0)
 S IPT(19641.112,"+1,",.02)=DFN
"RTN","DSIO10",154,0)
 S IPT(19641.112,"+1,",.03)=PREG
"RTN","DSIO10",155,0)
 K IEN D UPDATE^DIE(,"IPT","IEN") K IPT
"RTN","DSIO10",156,0)
 I '$G(IEN(1)) S RET="-1^Failed to associate baby to pregnancy, patient." Q 0
"RTN","DSIO10",157,0)
 S IPT(19641.132,"?+1,"_PREG_",",.01)=IEN(1)
"RTN","DSIO10",158,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO10",159,0)
 S @FLG="FB."_IEN(1)
"RTN","DSIO10",160,0)
 Q 1
"RTN","DSIO10",161,0)
 ;
"RTN","DSIO10",162,0)
OBJECT(OBJECT) ; Transform External Object to Internal
"RTN","DSIO10",163,0)
 N OBJ,GL
"RTN","DSIO10",164,0)
 S OBJ=$P($G(OBJECT),".")
"RTN","DSIO10",165,0)
 S OBJ=$S(OBJ="P":"DSIO(19641,",OBJ="FB":"DSIO(19641.112,",OBJ="PG":"DSIO(19641.13,",OBJ="N":"TIU(8925,",1:"")
"RTN","DSIO10",166,0)
 I OBJ'="",$P($G(OBJECT),".",2) S GL=U_OBJ_$P($G(OBJECT),".",2)_")" Q:$D(@GL) $P($G(OBJECT),".",2)_";"_OBJ
"RTN","DSIO10",167,0)
 Q ""
"RTN","DSIO10",168,0)
 ;
"RTN","DSIO10",169,0)
OBG(RET,IEN,OBJECT,FDT,TDT,REL,CAT,SYS,CODE,SORT) ; RPC: DSIO GET OBSERVATIONS
"RTN","DSIO10",170,0)
 ;
"RTN","DSIO10",171,0)
 ;    IEN = IF NOT NULL THEN RETURN ONLY
"RTN","DSIO10",172,0)
 ; OBJECT = OBJECT OF OBSERVATION (PRIMARY^SECONDARY)
"RTN","DSIO10",173,0)
 ;           P.IEN (PATIENT)
"RTN","DSIO10",174,0)
 ;          FB.IEN (FETUS BABY)
"RTN","DSIO10",175,0)
 ;          PG.IEN (PREGNANCY)
"RTN","DSIO10",176,0)
 ;           N.IEN (NOTE)
"RTN","DSIO10",177,0)
 ;    FDT = FROM DATE
"RTN","DSIO10",178,0)
 ;    TDT = TO DATE
"RTN","DSIO10",179,0)
 ;    REL = RELATIONSHIP
"RTN","DSIO10",180,0)
 ;    CAT = CATEGORY
"RTN","DSIO10",181,0)
 ;    SYS = CODING SYSTEM
"RTN","DSIO10",182,0)
 ;
"RTN","DSIO10",183,0)
 ; RETURN:
"RTN","DSIO10",184,0)
 ;  L^IEN^DATE^PRIMARY OBJECT^SECONDARY OBJECT^REL^CAT^CODE^SYS^UPDATED BY^
"RTN","DSIO10",185,0)
 ;    LAST MODIFIED DATE^DESC^VAL^VALUE TYPE^VALUE UNIT^NEGATION^START^END^
"RTN","DSIO10",186,0)
 ;    PUSHED^QUALIFIERS(NAME^VALUE)|
"RTN","DSIO10",187,0)
 ;  C^IEN^NARRATIVE
"RTN","DSIO10",188,0)
 ;
"RTN","DSIO10",189,0)
 S RET=$NA(^TMP($J,"DSIO OBG")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO10",190,0)
 N PRI,SEC,RCT,TS,CT,N,NS,NC,STRT,END
"RTN","DSIO10",191,0)
 I $G(IEN) D OBG2(.RET,IEN,1) I $D(@RET@(1)) S @RET@(0)=1 Q
"RTN","DSIO10",192,0)
 S PRI=$$OBJECT($P($G(OBJECT),U)) Q:PRI=""
"RTN","DSIO10",193,0)
 S SEC=$$OBJECT($P($G(OBJECT),U,2))
"RTN","DSIO10",194,0)
 D SORT($G(SORT))
"RTN","DSIO10",195,0)
 ; *** RANGE
"RTN","DSIO10",196,0)
 S FDT=$$MDATE($$DT^DSIO2($G(FDT)))
"RTN","DSIO10",197,0)
 S TDT=$$DT^DSIO2($G(TDT)) S:TDT="" TDT=$$NOW^XLFDT
"RTN","DSIO10",198,0)
 ; *** FILTERS
"RTN","DSIO10",199,0)
 S REL=$$UP^XLFSTR($G(REL)),CAT=$$UP^XLFSTR($G(CAT))
"RTN","DSIO10",200,0)
 S SYS=$$UP^XLFSTR($E($G(SYS))),CODE=$G(CODE)
"RTN","DSIO10",201,0)
 S SYS=$S(SYS="L":"LNC",SYS="S":"SCT",SYS="O":"OTHER","N":"NONE",1:"")
"RTN","DSIO10",202,0)
 S (RCT,TS)=0,CT=FDT
"RTN","DSIO10",203,0)
 I $G(SEC)'="" D OBGS Q
"RTN","DSIO10",204,0)
 I $G(PRI)'="" D OBGP
"RTN","DSIO10",205,0)
 Q
"RTN","DSIO10",206,0)
 ;
"RTN","DSIO10",207,0)
OBGP ; By PRIMARY,DATE OF OBSERVATION,CODE SYSTEM,CODE
"RTN","DSIO10",208,0)
 F  S CT=$O(^DSIO(19641.12,"P",PRI,CT)) Q:CT=""  Q:CT>TDT  D
"RTN","DSIO10",209,0)
 . S N=$NA(^DSIO(19641.12,"P",PRI,CT))
"RTN","DSIO10",210,0)
 . D OBG1
"RTN","DSIO10",211,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO10",212,0)
 Q
"RTN","DSIO10",213,0)
 ;
"RTN","DSIO10",214,0)
OBGS ; By PRIMARY,SECONDARY,DATE OF OBSERVATION,CODE SYSTEM,CODE
"RTN","DSIO10",215,0)
 F  S CT=$O(^DSIO(19641.12,"S",PRI,SEC,CT)) Q:CT=""  Q:CT>TDT  D
"RTN","DSIO10",216,0)
 . S N=$NA(^DSIO(19641.12,"S",PRI,SEC,CT))
"RTN","DSIO10",217,0)
 . D OBG1
"RTN","DSIO10",218,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO10",219,0)
 Q
"RTN","DSIO10",220,0)
 ;
"RTN","DSIO10",221,0)
OBG1 ; Continue
"RTN","DSIO10",222,0)
 ;      NS = CODE SYSTEM
"RTN","DSIO10",223,0)
 ;      NC = CODE
"RTN","DSIO10",224,0)
 S NS=$O(@N@("")),NC=$O(@N@(NS,"")),IEN=$O(@N@(NS,NC,""))
"RTN","DSIO10",225,0)
 Q:SYS'=""&(NS'=SYS)  Q:CODE'=""&(NC'=CODE)
"RTN","DSIO10",226,0)
 Q:REL'=""&($$GET1^DIQ(19641.12,IEN_",",.03)'=REL)
"RTN","DSIO10",227,0)
 Q:SEC'=""&($$GET1^DIQ(19641.12,IEN_",",.04,"I")'=SEC)
"RTN","DSIO10",228,0)
 Q:CAT'=""&($$GET1^DIQ(19641.12,IEN_",",.05)'=CAT)
"RTN","DSIO10",229,0)
 S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO10",230,0)
 S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO10",231,0)
 D OBG2(.RET,IEN,RCT)
"RTN","DSIO10",232,0)
 Q
"RTN","DSIO10",233,0)
 ;
"RTN","DSIO10",234,0)
OBG2(RET,IEN,ND) ; Continue
"RTN","DSIO10",235,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO10",236,0)
 D GETS^DIQ(19641.12,IEN_",","*","IE","OUT")
"RTN","DSIO10",237,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO10",238,0)
 S STR="L^"_IEN_U_$$FMTE^XLFDT(FLD(.01,"I"),"5Z")_U     ; DATE OF OBSERVATION
"RTN","DSIO10",239,0)
 S STR=STR_FLD(.02,"I")_"|"_FLD(.02,"E")_U              ; PRIMARY OBJECT
"RTN","DSIO10",240,0)
 S STR=STR_FLD(.04,"I")_"|"_FLD(.04,"E")_U              ; SECONDARY OBJECT
"RTN","DSIO10",241,0)
 S STR=STR_FLD(.03,"E")_U                               ; RELATIONSHIP
"RTN","DSIO10",242,0)
 S STR=STR_FLD(.05,"I")_U                               ; CATEGORY
"RTN","DSIO10",243,0)
 S STR=STR_FLD(.06,"I")_U                               ; CODE
"RTN","DSIO10",244,0)
 S STR=STR_FLD(.07,"I")_U                               ; CODE SYSTEM
"RTN","DSIO10",245,0)
 S STR=STR_FLD(.08,"I")_"|"_FLD(.08,"E")_U              ; UPDATED BY
"RTN","DSIO10",246,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.09,"I"),"5Z")_U            ; LAST MODIFIED DATE
"RTN","DSIO10",247,0)
 S STR=STR_FLD(1,"I")_U                                 ; DESCRIPTION
"RTN","DSIO10",248,0)
 S STR=STR_FLD(2,"I")_U                                 ; VALUE
"RTN","DSIO10",249,0)
 S STR=STR_FLD(3.1,"I")_U                               ; VALUE TYPE
"RTN","DSIO10",250,0)
 S STR=STR_FLD(3.2,"E")_U                               ; VALUE UNIT
"RTN","DSIO10",251,0)
 S STR=STR_FLD(3.3,"E")_U                               ; NEGATION
"RTN","DSIO10",252,0)
 S STR=STR_$$FMTE^XLFDT(FLD(3.4,"I"),"5Z")_U            ; START
"RTN","DSIO10",253,0)
 S STR=STR_$$FMTE^XLFDT(FLD(3.5,"I"),"5Z")_U            ; END
"RTN","DSIO10",254,0)
 S STR=STR_$S(FLD(4.1,"I")'="":"YES",1:"NO")_U          ; PUSHED
"RTN","DSIO10",255,0)
 S STR=STR_$$QUAL(IEN)                                  ; QUALIFIERS
"RTN","DSIO10",256,0)
 S @RET@(ND,0)=STR
"RTN","DSIO10",257,0)
 S LINE=0 F  S LINE=$O(FLD(6,LINE)) Q:'LINE  S @RET@(ND,LINE)="C^"_IEN_U_FLD(6,LINE)
"RTN","DSIO10",258,0)
 Q
"RTN","DSIO10",259,0)
 ;
"RTN","DSIO10",260,0)
QUAL(IEN) ; QUALIFIERS
"RTN","DSIO10",261,0)
 N QUAL,Q,STR
"RTN","DSIO10",262,0)
 D GETS^DIQ(19641.12,IEN_",","5*","I","QUAL")
"RTN","DSIO10",263,0)
 S Q=$NA(QUAL) F  S Q=$Q(@Q) Q:Q=""  D
"RTN","DSIO10",264,0)
 . S STR=$G(STR)_$$TITLE^XLFSTR(@Q)_"|"
"RTN","DSIO10",265,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO10",266,0)
 ;
"RTN","DSIO10",267,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO10",268,0)
 ;
"RTN","DSIO10",269,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO10",270,0)
 D S^DSIO2(SORT)
"RTN","DSIO10",271,0)
 Q
"RTN","DSIO10",272,0)
 ;
"RTN","DSIO10",273,0)
MDATE(VAL) ; Minus One Second for date for Sorting
"RTN","DSIO10",274,0)
 Q $$FMADD^XLFDT(VAL,,,,-1)
"RTN","DSIO14")
0^7^B22855857
"RTN","DSIO14",1,0)
DSIO14 ;DSS/TFF - DSIO IHE;06/28/2013 15:19
"RTN","DSIO14",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO14",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO14",4,0)
 ;
"RTN","DSIO14",5,0)
 ; External References      DBIA#
"RTN","DSIO14",6,0)
 ; -------------------      -----
"RTN","DSIO14",7,0)
 ;
"RTN","DSIO14",8,0)
 ;
"RTN","DSIO14",9,0)
 ;
"RTN","DSIO14",10,0)
 Q
"RTN","DSIO14",11,0)
 ;
"RTN","DSIO14",12,0)
SAVE(RET,IEN,DFN,DATES,TYP,DIRECT,GUID,TITLE,FAC,REC,DOC,AB) ; RPC: DSIO SAVE IHE DOC
"RTN","DSIO14",13,0)
 ;
"RTN","DSIO14",14,0)
 ;    IEN = IF NULL THEN NEW
"RTN","DSIO14",15,0)
 ;    DFN = PATIENT IEN
"RTN","DSIO14",16,0)
 ;  DATES = DT CREATION^DT IMPORT/EXPORT
"RTN","DSIO14",17,0)
 ;    TYP = DOCUMENT TYPE
"RTN","DSIO14",18,0)
 ; DIRECT = DIRECTION
"RTN","DSIO14",19,0)
 ;   GUID = GUID
"RTN","DSIO14",20,0)
 ;  TITLE = DOCUMENT TITLE
"RTN","DSIO14",21,0)
 ;    FAC = SENDING FACILITY/PROVIDER
"RTN","DSIO14",22,0)
 ;    REC = INTENDED RECIPIENT
"RTN","DSIO14",23,0)
 ;    DOC = ARRAY OF TEXT
"RTN","DSIO14",24,0)
 ;
"RTN","DSIO14",25,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO14",26,0)
 ; 
"RTN","DSIO14",27,0)
 N DTC,DTI,IPT
"RTN","DSIO14",28,0)
 I '$G(IEN),'$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO14",29,0)
 S DTC=$P(DATES,U),DTI=$P(DATES,U,2)
"RTN","DSIO14",30,0)
 S DIRECT=$$UP^XLFSTR($E($G(DIRECT),1)) S:"^I^O^"'[(U_DIRECT_U) DIRECT=""
"RTN","DSIO14",31,0)
 D:'$G(AB) AB^DSIO2("DFN,DTC,DTI,TYP,DIRECT,GUID,TITLE,FAC,REC")
"RTN","DSIO14",32,0)
 S:$G(DTC)'="@" DTC=$$DT^DSIO2($G(DTC))
"RTN","DSIO14",33,0)
 S:$G(DTI)'="@" DTI=$$DT^DSIO2($G(DTI))
"RTN","DSIO14",34,0)
 S IEN=$S($G(IEN):IEN,GUID'="":$O(^DSIO(19641.6,"GUID",GUID,"")),1:"")
"RTN","DSIO14",35,0)
 S:IEN="" IEN="?+1"
"RTN","DSIO14",36,0)
 S:IEN["+" IPT(19641.6,IEN_",",.01)=$$NOW^XLFDT            ; DT OF ENTRY
"RTN","DSIO14",37,0)
 S IPT(19641.6,IEN_",",.02)=DFN                            ; PATIENT
"RTN","DSIO14",38,0)
 S:$G(DTC)'="" IPT(19641.6,IEN_",",.03)=DTC                ; DT CREATION
"RTN","DSIO14",39,0)
 S:$G(DTI)'="" IPT(19641.6,IEN_",",.04)=DTI                ; DT IMPORT/EXPORT
"RTN","DSIO14",40,0)
 S:$G(TYP)'="" IPT(19641.6,IEN_",",.05)=$$TYP(TYP)         ; DOCUMENT TYPE
"RTN","DSIO14",41,0)
 S:$G(DIRECT)'="" IPT(19641.6,IEN_",",.06)=DIRECT          ; DIRECTION
"RTN","DSIO14",42,0)
 S IPT(19641.6,IEN_",",.07)=$$GUID($S(IEN["+":"",1:IEN),$G(GUID))     ; GUID/ID
"RTN","DSIO14",43,0)
 S:$G(TITLE)'="" IPT(19641.6,IEN_",",1.1)=TITLE            ; DOCUMENT TITLE
"RTN","DSIO14",44,0)
 S:$G(FAC)'="" IPT(19641.6,IEN_",",1.2)=FAC                ; SENDING FACILITY/PROVIDER
"RTN","DSIO14",45,0)
 S:$G(REC)'="" IPT(19641.6,IEN_",",1.3)=REC                ; INTENDED RECIPIENT
"RTN","DSIO14",46,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO14",47,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO14",48,0)
 ; *** DOCUMENT CONTENT
"RTN","DSIO14",49,0)
 I $D(DOC)>9 K ^TMP($J,"DSIO14 SAVE") D
"RTN","DSIO14",50,0)
 . S %X="DOC(",%Y="^TMP($J,""DSIO14 SAVE"",1" D %XY^%RCR
"RTN","DSIO14",51,0)
 . D WP^DIE(19641.6,IEN_",",2,"K","^TMP($J,""DSIO14 SAVE"")")
"RTN","DSIO14",52,0)
 . K ^TMP($J,"DSIO14 SAVE")
"RTN","DSIO14",53,0)
 Q
"RTN","DSIO14",54,0)
 ;
"RTN","DSIO14",55,0)
TYP(TYP) ; Create the Document Type and return the IEN
"RTN","DSIO14",56,0)
 Q:$G(TYP)="" ""
"RTN","DSIO14",57,0)
 N DLAYGO,DIC,DA,X,Y
"RTN","DSIO14",58,0)
 S DLAYGO=19641.61,DIC="^DSIO(19641.61,",DIC(0)="XL",X=TYP D ^DIC
"RTN","DSIO14",59,0)
 Q $S(Y:+Y,1:"")
"RTN","DSIO14",60,0)
 ;
"RTN","DSIO14",61,0)
GUID(IEN,GUID) ; Find or Generate a GUID
"RTN","DSIO14",62,0)
 I IEN,GUID'="",$O(^DSIO(19641.6,"GUID",GUID,""))=IEN Q GUID
"RTN","DSIO14",63,0)
 I 'IEN,GUID'="",'$O(^DSIO(19641.6,"GUID",GUID,"")),GUID?8E1"-"4E1"-"4E1"-"4E1"-"12E Q GUID
"RTN","DSIO14",64,0)
 F  Q:$$GEN(.GUID)
"RTN","DSIO14",65,0)
 Q GUID
"RTN","DSIO14",66,0)
 ;
"RTN","DSIO14",67,0)
GEN(GUID) ; Generate and Determine that GUID is unique
"RTN","DSIO14",68,0)
 N TST S TST=$$G I '$O(^DSIO(19641.6,"GUID",TST,"")) S GUID=TST Q 1
"RTN","DSIO14",69,0)
 Q 0
"RTN","DSIO14",70,0)
 ;
"RTN","DSIO14",71,0)
G() ; Generate GUID
"RTN","DSIO14",72,0)
 ; 21EC2020-3AEA-4069-A2DD-08002B30309D
"RTN","DSIO14",73,0)
 N G1,G2,G3,G4,G5 S (G1,G2,G3,G4,G5)=""
"RTN","DSIO14",74,0)
 F V="8^G1","4^G2","4^G3","4^G4","12^G5" S @$P(V,U,2)=$$GP(+V,@$P(V,U,2))
"RTN","DSIO14",75,0)
 Q G1_"-"_G2_"-"_G3_"-"_G4_"-"_G5
"RTN","DSIO14",76,0)
 ;
"RTN","DSIO14",77,0)
GP(NUM,VAR) ; Generate GUID Segment
"RTN","DSIO14",78,0)
 N I F I=1:1:NUM S VAR=VAR_$R($S($R(9)<5:26,1:9))_U
"RTN","DSIO14",79,0)
 S VAR=$E(VAR,1,($L(VAR)-1))
"RTN","DSIO14",80,0)
 F I=1:1:NUM S:$L($P(VAR,U,I))=2 $P(VAR,U,I)=$$A($P(VAR,U,I))
"RTN","DSIO14",81,0)
 Q $TR(VAR,U)
"RTN","DSIO14",82,0)
 ;
"RTN","DSIO14",83,0)
A(NUM) ; Return Alpha
"RTN","DSIO14",84,0)
 Q $E("ABCDEFGHIJKLMNOPQRSTUVWXYZ",NUM)
"RTN","DSIO14",85,0)
 ;
"RTN","DSIO14",86,0)
 ; -------------------------------- RETURN IHE --------------------------------
"RTN","DSIO14",87,0)
 ;
"RTN","DSIO14",88,0)
GET(RET,IEN,DFN,DOC,SORT) ; RPC: DSIO GET IHE PATIENT INFO
"RTN","DSIO14",89,0)
 ;
"RTN","DSIO14",90,0)
 ;  IEN^DATE OF CREATION^DATE OF IMPORT/EXPORT^TYPE^DIRECTION^GUID^TITLE^
"RTN","DSIO14",91,0)
 ;  SENDING FAC^INTENDED RECIPIENT
"RTN","DSIO14",92,0)
 ;
"RTN","DSIO14",93,0)
 N RCT,TS,STRT,END D SORT($G(SORT))
"RTN","DSIO14",94,0)
 S RET=$NA(^TMP($J,"DSIO14 GET")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO14",95,0)
 I $G(DOC) D  Q
"RTN","DSIO14",96,0)
 . Q:'$G(IEN)
"RTN","DSIO14",97,0)
 . K @RET D GETS^DIQ(19641.6,IEN_",",2,"E",RET)
"RTN","DSIO14",98,0)
 . K @RET@(19641.6,IEN_",",2,"E")
"RTN","DSIO14",99,0)
 I $G(IEN) D  Q
"RTN","DSIO14",100,0)
 . Q:'$D(^DSIO(19641.6,IEN))
"RTN","DSIO14",101,0)
 . S @RET@(1)=$$FLDS(IEN),@RET@(0)=1
"RTN","DSIO14",102,0)
 I '$$CHECK^DSIO2($G(DFN)) S @RET@(0)="0^Patient entry not found." Q
"RTN","DSIO14",103,0)
 S (RCT,TS,IEN)=0
"RTN","DSIO14",104,0)
 F  S IEN=$O(^DSIO(19641.6,"P",DFN,IEN)) Q:'IEN  D
"RTN","DSIO14",105,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO14",106,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO14",107,0)
 . S @RET@(RCT)=IEN_U_$$FLDS(IEN)
"RTN","DSIO14",108,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO14",109,0)
 Q
"RTN","DSIO14",110,0)
 ;
"RTN","DSIO14",111,0)
FLDS(IEN) ; Return Transformed Fields
"RTN","DSIO14",112,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO14",113,0)
 D GETS^DIQ(19641.6,IEN_",","*","IE","OUT")
"RTN","DSIO14",114,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO14",115,0)
 S STR=IEN_U
"RTN","DSIO14",116,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.01,"I"),"5Z")_U          ; DT OF ENTRY
"RTN","DSIO14",117,0)
 S STR=STR_$$NAME^DSIO2(FLD(.02,"E"))_U               ; PATIENT
"RTN","DSIO14",118,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U          ; DT CREATION
"RTN","DSIO14",119,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.04,"I"),"5Z")_U          ; DT IMPORT/EXPORT
"RTN","DSIO14",120,0)
 S STR=STR_$$GET1^DIQ(19641.61,FLD(.05,"I")_",",.01)  ; DOCUMENT TYPE
"RTN","DSIO14",121,0)
 S STR=STR_FLD(.06,"E")                               ; DIRECTION
"RTN","DSIO14",122,0)
 S STR=STR_FLD(.07,"I")                               ; GUID/ID
"RTN","DSIO14",123,0)
 S STR=STR_FLD(1.1,"I")                               ; DOCUMENT TITLE
"RTN","DSIO14",124,0)
 S STR=STR_FLD(1.2,"I")                               ; SENDING FACILITY/PROVIDER
"RTN","DSIO14",125,0)
 S STR=STR_FLD(1.3,"I")                               ; INTENDED RECIPIENT
"RTN","DSIO14",126,0)
 Q STR
"RTN","DSIO14",127,0)
 ;
"RTN","DSIO14",128,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO14",129,0)
 D S^DSIO2(SORT)
"RTN","DSIO14",130,0)
 Q
"RTN","DSIO15")
0^9^B51597865
"RTN","DSIO15",1,0)
DSIO15 ;DSS/TFF - DSIO PREGNANCY;06/28/2013 15:19
"RTN","DSIO15",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO15",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO15",4,0)
 ;
"RTN","DSIO15",5,0)
 ; External References      DBIA#
"RTN","DSIO15",6,0)
 ; -------------------      -----
"RTN","DSIO15",7,0)
 ;
"RTN","DSIO15",8,0)
 ;
"RTN","DSIO15",9,0)
 ;
"RTN","DSIO15",10,0)
 Q
"RTN","DSIO15",11,0)
 ;
"RTN","DSIO15",12,0)
PREG(RET,IEN,DFN,DATES,TYP,FOF,OBP,FAP,BAB,POST,COM,AB) ; RPC: DSIO SAVE PREG DETAILS
"RTN","DSIO15",13,0)
 ;
"RTN","DSIO15",14,0)
 ; CREATE, UPDATE, or DELETE a PREGNANCY HISTORY record
"RTN","DSIO15",15,0)
 ;
"RTN","DSIO15",16,0)
 ;    DFN = PATIENT IEN
"RTN","DSIO15",17,0)
 ;    IEN = IF NOT NULL THEN EDIT
"RTN","DSIO15",18,0)
 ;  DATES = START^END^EDD
"RTN","DSIO15",19,0)
 ;    TYP = C(urrent),H(istorical)
"RTN","DSIO15",20,0)
 ;    FOF = IEN, U(nspecified), S(pouse)
"RTN","DSIO15",21,0)
 ;    OBP = OB (VARIABLE POINTER)
"RTN","DSIO15",22,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"RTN","DSIO15",23,0)
 ;           VA.IEN (VA) (200)
"RTN","DSIO15",24,0)
 ;    FAP = FACILITY (VARIABLE POINTER)
"RTN","DSIO15",25,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"RTN","DSIO15",26,0)
 ;           VA.IEN (VA) (4)
"RTN","DSIO15",27,0)
 ;    BAB = NUMBER
"RTN","DSIO15",28,0)
 ;            IF 1,2,3 THEN THREE BABIES WILL BE ADDED
"RTN","DSIO15",29,0)
 ;            IF 1,2@,3 THEN BABY 2 WILL BE DELETED
"RTN","DSIO15",30,0)
 ;   POST = ADDITIONAL DETAILS (CARET DELIMITED STRING)
"RTN","DSIO15",31,0)
 ;            1: GESTATIONAL AGE AT DELIVERY (NUMBER 0 - 99)
"RTN","DSIO15",32,0)
 ;            2: LENGTH OF LABOR (NUMBER (IN HOURS))
"RTN","DSIO15",33,0)
 ;            3: TYPE OF DELIVERY (TEXT 1-20 CHARACTERS)
"RTN","DSIO15",34,0)
 ;            4: EPIDURAL/SPINAL (0 (NO), 1 (YES))
"RTN","DSIO15",35,0)
 ;            5: PRETERM LABOR (0 (NO), 1 (YES))
"RTN","DSIO15",36,0)
 ;    COM = COMMENTS (ARRAY OF TEXT)
"RTN","DSIO15",37,0)
 ;
"RTN","DSIO15",38,0)
 ; X-REFS on EDD and STATUS
"RTN","DSIO15",39,0)
 ; If EDD>DT then update WV PATIENT - CURRENTLY PREGNANT (#.13) to 'YES'
"RTN","DSIO15",40,0)
 ; and EDC (#.14) with the EDD value
"RTN","DSIO15",41,0)
 ;
"RTN","DSIO15",42,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO15",43,0)
 ;
"RTN","DSIO15",44,0)
 N STR,END,EDD,CT,FLD,IENS,IPT,BVAL,BIEN,DIK,DA
"RTN","DSIO15",45,0)
 S DATES=$G(DATES),RET=-1
"RTN","DSIO15",46,0)
 S STR=$P(DATES,U),END=$P(DATES,U,2),EDD=$P(DATES,U,3)
"RTN","DSIO15",47,0)
 ; *** POST PREGNANCY DATA
"RTN","DSIO15",48,0)
 I $G(POST)'="" F CT=1:1:5 S FLD("3."_CT)=$P(POST,U,CT)
"RTN","DSIO15",49,0)
 D:'$G(AB) AB^DSIO2("STR,END,EDD,FOF,OBP,FAP,BAB,FLD")
"RTN","DSIO15",50,0)
 S:$G(STR)'="@" STR=$$DT^DSIO2($G(STR))
"RTN","DSIO15",51,0)
 S:$G(END)'="@" END=$$DT^DSIO2($G(END))
"RTN","DSIO15",52,0)
 S:$G(EDD)'="@" EDD=$$DT^DSIO2($G(EDD))
"RTN","DSIO15",53,0)
 S TYP=$$UP^XLFSTR($E($G(TYP)))
"RTN","DSIO15",54,0)
 S TYP=$S(EDD>DT:"C",EDD&(EDD<DT):"H",1:"")
"RTN","DSIO15",55,0)
 I '$G(IEN) D  Q:$P(RET,U,2)'=""
"RTN","DSIO15",56,0)
 . I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO15",57,0)
 . S IENS="+1,",IPT(19641.13,IENS,.01)=$$NOW^XLFDT         ; DATE RECORDED
"RTN","DSIO15",58,0)
 . S:TYP="" TYP="C"
"RTN","DSIO15",59,0)
 S:$G(IEN) IENS=IEN_","
"RTN","DSIO15",60,0)
 S:STR'="" IPT(19641.13,IENS,.02)=STR                      ; EDC
"RTN","DSIO15",61,0)
 S:$G(DFN)&($D(^DPT(DFN))) IPT(19641.13,IENS,.03)=DFN      ; PATIENT
"RTN","DSIO15",62,0)
 S:TYP'="" IPT(19641.13,IENS,.04)=TYP                      ; STATUS
"RTN","DSIO15",63,0)
 S:END'="" IPT(19641.13,IENS,.07)=END                      ; PREGNANCY END
"RTN","DSIO15",64,0)
 I $G(OBP)'="",$$VPG(.OBP,0) S IPT(19641.13,IENS,.08)=OBP  ; OB
"RTN","DSIO15",65,0)
 I $G(FAP)'="",$$VPG(.FAP,1) S IPT(19641.13,IENS,.09)=FAP  ; FACILITY
"RTN","DSIO15",66,0)
 S IPT(19641.13,IENS,1.1)=DUZ                              ; UPDATED BY
"RTN","DSIO15",67,0)
 S:FLD(3.1)'="" IPT(19641.13,IENS,3.1)=FLD(3.1)            ; GESTATIONAL AGE AT DELIVERY
"RTN","DSIO15",68,0)
 S:FLD(3.2)'="" IPT(19641.13,IENS,3.2)=FLD(3.2)            ; LENGTH OF LABOR
"RTN","DSIO15",69,0)
 S:FLD(3.3)'="" IPT(19641.13,IENS,3.3)=FLD(3.3)            ; TYPE OF DELIVERY
"RTN","DSIO15",70,0)
 S:FLD(3.4)'="" IPT(19641.13,IENS,3.4)=FLD(3.4)            ; EPIDERAL/SPINAL
"RTN","DSIO15",71,0)
 S:FLD(3.5)'="" IPT(19641.13,IENS,3.5)=FLD(3.5)            ; PRETERM LABOR
"RTN","DSIO15",72,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO15",73,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO15",74,0)
 S DFN=$$GET1^DIQ(19641.13,IEN_",",.03,"I")
"RTN","DSIO15",75,0)
 I $G(FOF)'="" D
"RTN","DSIO15",76,0)
 . S FOF=$$FOF^DSIO9(DFN,FOF)
"RTN","DSIO15",77,0)
 . S IPT(19641.13,IENS,.05)=FOF                           ; FATHER OF FETUS/BABY
"RTN","DSIO15",78,0)
 S:EDD'="" IPT(19641.13,IEN_",",.06)=$S(EDD="@":"@",1:$$EDD(EDD,IEN))  ; EDD
"RTN","DSIO15",79,0)
 D:$D(IPT) UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO15",80,0)
 ; *** BABIES
"RTN","DSIO15",81,0)
 I $G(BAB) D
"RTN","DSIO15",82,0)
 . F CT=1:1:$L(BAB,",") D
"RTN","DSIO15",83,0)
 . . Q:'$P(BAB,",",CT)
"RTN","DSIO15",84,0)
 . . S BVAL=$$BAB($P(BAB,",",CT),IEN)
"RTN","DSIO15",85,0)
 . . S BIEN=$O(^DSIO(19641.13,IEN,2,"C",+$P(BAB,",",CT),""))
"RTN","DSIO15",86,0)
 . . S IPT(19641.132,$S('BIEN:"?+1",1:BIEN)_","_IEN_",",.01)=BVAL
"RTN","DSIO15",87,0)
 . . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO15",88,0)
 . S DA(1)=IEN,DIK="^DSIO(19641.13,"_DA(1)_",2," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO15",89,0)
 ; *** COMMENTS
"RTN","DSIO15",90,0)
 I $D(COM)>9 K ^TMP($J,"DSIO PREG") D
"RTN","DSIO15",91,0)
 . S %X="COM(",%Y="^TMP($J,""DSIO PREG"",1" D %XY^%RCR
"RTN","DSIO15",92,0)
 . D WP^DIE(19641.13,IEN_",",4,"K","^TMP($J,""DSIO PREG"")")
"RTN","DSIO15",93,0)
 . K ^TMP($J,"DSIO PREG")
"RTN","DSIO15",94,0)
 Q
"RTN","DSIO15",95,0)
 ;
"RTN","DSIO15",96,0)
VPG(VAL,TYP) ; Validate variable pointer for Pregnancy File
"RTN","DSIO15",97,0)
 Q:VAL="@" 1
"RTN","DSIO15",98,0)
 N LOC,IEN,FLG
"RTN","DSIO15",99,0)
 S LOC=$P(VAL,"."),IEN=+$P(VAL,".",2)
"RTN","DSIO15",100,0)
 Q:"^NVA^VA^"'[(U_LOC_U) 0
"RTN","DSIO15",101,0)
 I 'TYP D  Q:$D(FLG) 0
"RTN","DSIO15",102,0)
 . I (LOC="NVA"&('$D(^DSIO(19641.1,IEN))))!(LOC="VA"&('$D(^VA(200,IEN)))) S FLG=1
"RTN","DSIO15",103,0)
 . S VAL=IEN_";VA(200,"
"RTN","DSIO15",104,0)
 I TYP D  Q:$D(FLG) 0
"RTN","DSIO15",105,0)
 . I (LOC="NVA"&('$D(^DSIO(19641.1,IEN))))!(LOC="VA"&('$D(^DIC(4,IEN)))) S FLG=1
"RTN","DSIO15",106,0)
 . S VAL=IEN_";DIC(4,"
"RTN","DSIO15",107,0)
 I LOC="NVA" S VAL=IEN_";DSIO(19641.1,"
"RTN","DSIO15",108,0)
 Q 1
"RTN","DSIO15",109,0)
 ;
"RTN","DSIO15",110,0)
EDD(DATE,PIEN) ; Create an EDD record and return the IEN
"RTN","DSIO15",111,0)
 Q:'$G(PIEN) ""
"RTN","DSIO15",112,0)
 N DFN,FLG,IPT,IEN
"RTN","DSIO15",113,0)
 S DFN=$$GET1^DIQ(19641.13,PIEN_",",.03,"I") Q:'DFN ""
"RTN","DSIO15",114,0)
 S FLG=$O(^DSIO(19641.03,"C",DFN,DATE,"")) Q:FLG FLG
"RTN","DSIO15",115,0)
 S IPT(19641.03,"+1,",.01)=DATE            ; ESTIMATED DELIVERY DATE
"RTN","DSIO15",116,0)
 S IPT(19641.03,"+1,",.02)=DFN             ; PATIENT
"RTN","DSIO15",117,0)
 S IPT(19641.03,"+1,",.03)=DUZ             ; ENTERED BY
"RTN","DSIO15",118,0)
 S IPT(19641.03,"+1,",.04)=$$NOW^XLFDT     ; DATE ENTERED
"RTN","DSIO15",119,0)
 S IPT(19641.03,"+1,",2.1)=PIEN
"RTN","DSIO15",120,0)
 D UPDATE^DIE(,"IPT","IEN")
"RTN","DSIO15",121,0)
 Q $G(IEN(1))
"RTN","DSIO15",122,0)
 ;
"RTN","DSIO15",123,0)
BAB(VAL,PIEN) ; Record baby to pregnancy
"RTN","DSIO15",124,0)
 N DIK,DA,X,Y,IPT,IEN
"RTN","DSIO15",125,0)
 I '$D(DFN) N DFN S DFN=$$GET1^DIQ(19641.13,PIEN_",",.03,"I")
"RTN","DSIO15",126,0)
 Q:'DFN ""
"RTN","DSIO15",127,0)
 S IEN=$O(^DSIO(19641.112,"C",DFN,PIEN,+VAL,""))
"RTN","DSIO15",128,0)
 I VAL["@" D  Q "@"
"RTN","DSIO15",129,0)
 . S DA=IEN Q:DA=""
"RTN","DSIO15",130,0)
 . S DIK="^DSIO(19641.112," D ^DIK
"RTN","DSIO15",131,0)
 S:'IEN IEN="+1"
"RTN","DSIO15",132,0)
 S IPT(19641.112,IEN_",",.01)=+VAL          ; NUMBER
"RTN","DSIO15",133,0)
 S IPT(19641.112,IEN_",",.02)=DFN           ; PATIENT
"RTN","DSIO15",134,0)
 S IPT(19641.112,IEN_",",.03)=PIEN          ; PREGNANCY
"RTN","DSIO15",135,0)
 D UPDATE^DIE(,"IPT",$S(IEN["+":"IEN",1:""))
"RTN","DSIO15",136,0)
 Q $S($G(IEN(1)):IEN(1),1:IEN)
"RTN","DSIO15",137,0)
 ;
"RTN","DSIO15",138,0)
PREGG(RET,IEN,DFN,SORT) ; RPC: DSIO GET PREG DETAILS
"RTN","DSIO15",139,0)
 ;
"RTN","DSIO15",140,0)
 ; If IEN = "C" get only the CURRENT pregnancy
"RTN","DSIO15",141,0)
 ;
"RTN","DSIO15",142,0)
 ; RETURN:
"RTN","DSIO15",143,0)
 ;  L^IEN^EDC^DFN|PATIENT^STATUS^FOF IEN|FOF^EDD^PREGNANCY END^OB IEN|OB^
"RTN","DSIO15",144,0)
 ;    FACILITY IEN|FACILITY^UPDATED BY IEN|UPDATED BY^
"RTN","DSIO15",145,0)
 ;    GESTATIONAL AGE AT DELIVERY^LENGTH OF DELIVERY^EPIDERAL/SPINAL^
"RTN","DSIO15",146,0)
 ;    PRETERM LABOR^BIRTH TYPE^IEN;BABY |IEN;BABY
"RTN","DSIO15",147,0)
 ;  C^IEN^COMMENT
"RTN","DSIO15",148,0)
 ;
"RTN","DSIO15",149,0)
 N RCT,TS,DATE,IENS,STRT,END D SORT($G(SORT))
"RTN","DSIO15",150,0)
 S RET=$NA(^TMP($J,"DSIO PREG")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO15",151,0)
 I $G(IEN) D PREGG1(.RET,IEN,1) I $D(@RET@(1)) S @RET@(0)=1 Q
"RTN","DSIO15",152,0)
 Q:'$G(DFN)
"RTN","DSIO15",153,0)
 I '$$CHECK^DSIO2($G(DFN)) S @RET@(0)="0^Patient entry not found." Q
"RTN","DSIO15",154,0)
 S (RCT,TS)=0,DATE=""
"RTN","DSIO15",155,0)
 F  S DATE=$O(^DSIO(19641.13,"P",DFN,DATE),-1) Q:DATE=""  D
"RTN","DSIO15",156,0)
 . S IENS=$O(^DSIO(19641.13,"P",DFN,DATE,""))
"RTN","DSIO15",157,0)
 . Q:$G(IEN)="C"&($$GET1^DIQ(19641.13,IENS_",",.04,"I")'="C")
"RTN","DSIO15",158,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO15",159,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO15",160,0)
 . D PREGG1(.RET,IENS,I)
"RTN","DSIO15",161,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO15",162,0)
 Q
"RTN","DSIO15",163,0)
 ;
"RTN","DSIO15",164,0)
PREGG1(RET,IEN,ND) ; Continue
"RTN","DSIO15",165,0)
 N OUT,CT,FLD,STR
"RTN","DSIO15",166,0)
 D GETS^DIQ(19641.13,IEN_",","*","IE","OUT")
"RTN","DSIO15",167,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S FLD($QS(CT,3),$QS(CT,4))=@CT
"RTN","DSIO15",168,0)
 K OUT D GETS^DIQ(19641.13,IEN_",","2*","IE","OUT")
"RTN","DSIO15",169,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S FLD("FB",$QS(CT,2),$QS(CT,4))=@CT
"RTN","DSIO15",170,0)
 S STR="L^"_IEN_U_$$FMTE^XLFDT(FLD(.01,"I"),"5Z")_U         ; DATE RECORDED
"RTN","DSIO15",171,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.02,"I"),"5Z")_U                ; EDC
"RTN","DSIO15",172,0)
 S STR=STR_FLD(.03,"I")_"|"_$$NAME^DSIO2(FLD(.03,"E"))_U    ; PATIENT
"RTN","DSIO15",173,0)
 S STR=STR_FLD(.04,"E")_U                                   ; STATUS
"RTN","DSIO15",174,0)
 S STR=STR_FLD(.05,"I")_"|"_$$NAME^DSIO2(FLD(.05,"E"))_U    ; FATHER OF FETUS/BABY
"RTN","DSIO15",175,0)
 S STR=STR_$$FMTE^XLFDT($$GET1^DIQ(19641.03,FLD(.06,"I")_",",.01,"I"),"5Z")_U   ; EDD
"RTN","DSIO15",176,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.07,"I"),"5Z")_U                ; PREGNANCY END
"RTN","DSIO15",177,0)
 S STR=STR_+FLD(.08,"I")_"|"_$$NAME^DSIO2(FLD(.08,"E"))_U   ; OB
"RTN","DSIO15",178,0)
 S STR=STR_+FLD(.09,"I")_"|"_$$NAME^DSIO2(FLD(.09,"E"))_U   ; FACILITY
"RTN","DSIO15",179,0)
 S STR=STR_FLD(1.1,"I")_"|"_$$NAME^DSIO2(FLD(1.1,"E"))_U    ; UPDATED BY
"RTN","DSIO15",180,0)
 S STR=STR_FLD(3.1,"E")_U                                   ; GESTATIONAL AGE AT DELIVERY
"RTN","DSIO15",181,0)
 S STR=STR_FLD(3.2,"E")_U                                   ; LENGTH OF LABOR
"RTN","DSIO15",182,0)
 S STR=STR_FLD(3.3,"E")_U                                   ; TYPE OF DELIVERY
"RTN","DSIO15",183,0)
 S STR=STR_FLD(3.4,"E")_U                                   ; EPIDERAL/SPINAL
"RTN","DSIO15",184,0)
 S STR=STR_FLD(3.5,"E")_U                                   ; PRETERM LABOR
"RTN","DSIO15",185,0)
 S STR=STR_FLD(999.1,"E")_U                                 ; BIRTH TYPE (C)
"RTN","DSIO15",186,0)
 ; FETUSES/BABIES
"RTN","DSIO15",187,0)
 S CT="" F  S CT=$O(FLD("FB",CT)) Q:CT=""  D
"RTN","DSIO15",188,0)
 . S STR=STR_FLD("FB",CT,"I")_";"_FLD("FB",CT,"E")_"|"
"RTN","DSIO15",189,0)
 I $E(STR,$L(STR))="|" S STR=$E(STR,1,($L(STR)-1))
"RTN","DSIO15",190,0)
 S @RET@(ND,0)=STR
"RTN","DSIO15",191,0)
 S CT=0 F  S CT=$O(FLD(4,CT)) Q:'CT  S @RET@(ND,CT)="C^"_IEN_U_FLD(4,CT)
"RTN","DSIO15",192,0)
 Q
"RTN","DSIO15",193,0)
 ;
"RTN","DSIO15",194,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO15",195,0)
 ;
"RTN","DSIO15",196,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO15",197,0)
 D S^DSIO2(SORT)
"RTN","DSIO15",198,0)
 Q
"RTN","DSIO2")
0^2^B83139164
"RTN","DSIO2",1,0)
DSIO2 ;DSS/TFF - DSIO X-REFERENCES AND UTILITIES;06/28/2013 15:19
"RTN","DSIO2",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO2",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO2",4,0)
 ;
"RTN","DSIO2",5,0)
 ; External References      DBIA#
"RTN","DSIO2",6,0)
 ; -------------------      -----
"RTN","DSIO2",7,0)
 ;
"RTN","DSIO2",8,0)
 ;
"RTN","DSIO2",9,0)
 ;
"RTN","DSIO2",10,0)
 Q
"RTN","DSIO2",11,0)
 ;
"RTN","DSIO2",12,0)
 ; --------------------------------- CODING -----------------------------------
"RTN","DSIO2",13,0)
 ;
"RTN","DSIO2",14,0)
ICODE(SYS,CD) ; Transform and lookup code (internal)
"RTN","DSIO2",15,0)
 Q:CD="@" CD
"RTN","DSIO2",16,0)
 N IEN,CODE,CK
"RTN","DSIO2",17,0)
 I SYS="LNC" D
"RTN","DSIO2",18,0)
 . S IEN=+CD,CK=$P(CD,"-",2)
"RTN","DSIO2",19,0)
 . I $$FIND1^DIC(95.3,,"A",IEN)&($$GET1^DIQ(95.3,IEN_",",15)=CK) D
"RTN","DSIO2",20,0)
 . . S CODE=IEN_";LAB(95.3,"
"RTN","DSIO2",21,0)
 I SYS="SCT" D
"RTN","DSIO2",22,0)
 . S IEN=$$FIND1^DIC(757.02,,"O",CD,"CODE")
"RTN","DSIO2",23,0)
 . I +IEN>0,$$GET1^DIQ(757.02,IEN_",",1)=CD D
"RTN","DSIO2",24,0)
 . . S CODE=IEN_";LEX(757.02,"
"RTN","DSIO2",25,0)
 Q $G(CODE)
"RTN","DSIO2",26,0)
 ;
"RTN","DSIO2",27,0)
DCODE(Y) ; Display Code
"RTN","DSIO2",28,0)
 N FLE S FLE=$TR($P(Y,"(",2),",","")
"RTN","DSIO2",29,0)
 I $P(Y,";",2)="LAB(95.3," S Y=$$GET1^DIQ(FLE,+Y_",",.01)
"RTN","DSIO2",30,0)
 E  I $P(Y,";",2)="LEX(757.02," S Y=$$GET1^DIQ(FLE,+Y_",",1)
"RTN","DSIO2",31,0)
 Q Y
"RTN","DSIO2",32,0)
 ;
"RTN","DSIO2",33,0)
SCODE(VP,IEN,FLE) ; Set the Code Type
"RTN","DSIO2",34,0)
 N TYP,IPT
"RTN","DSIO2",35,0)
 S TYP=$S($P(VP,";",2)="LAB(95.3,":"LNC",$P(VP,";",2)="LEX(757.02,":"SCT",1:"OTHER")
"RTN","DSIO2",36,0)
 S IPT(FLE,IEN_",",$S(FLE=19641.123:.03,FLE=19641.12:.07,1:""))=TYP
"RTN","DSIO2",37,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO2",38,0)
 Q
"RTN","DSIO2",39,0)
 ;
"RTN","DSIO2",40,0)
LCODE(CODE,TYP,SOR) ; Log codes that are not found in DSIO CODES (19641.99)
"RTN","DSIO2",41,0)
 ; *** USED BY DSIO OBSERVATION
"RTN","DSIO2",42,0)
 N IPT,REASON,DLAYGO
"RTN","DSIO2",43,0)
 S DLAYGO=19641.99
"RTN","DSIO2",44,0)
 S IPT(19641.99,"+1,",.01)=$$NOW^XLFDT
"RTN","DSIO2",45,0)
 S IPT(19641.99,"+1,",.02)=CODE
"RTN","DSIO2",46,0)
 S IPT(19641.99,"+1,",.03)=TYP
"RTN","DSIO2",47,0)
 S IPT(19641.99,"+1,",.04)=DUZ
"RTN","DSIO2",48,0)
 S IPT(19641.99,"+1,",.05)=SOR
"RTN","DSIO2",49,0)
 S REASON=$S(TYP'="LNC"&(TYP'="SCT"):"Type is not LOINC or SNOMED CT.",1:"Unable to find code as "_TYP_".")
"RTN","DSIO2",50,0)
 S IPT(19641.99,"+1,",.06)=REASON
"RTN","DSIO2",51,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO2",52,0)
 Q
"RTN","DSIO2",53,0)
 ;
"RTN","DSIO2",54,0)
 ; --------------------------------- UTILITIES --------------------------------
"RTN","DSIO2",55,0)
 ;
"RTN","DSIO2",56,0)
WITHIN(SUB,WOLE,DL) ; Is a string within another
"RTN","DSIO2",57,0)
 ; WOLE IS DELIMITED BY CARET
"RTN","DSIO2",58,0)
 N CT,FLG S:'$D(DL) DL=U
"RTN","DSIO2",59,0)
 F CT=1:1:$L(WOLE,DL) I $P(WOLE,DL,CT)=SUB S FLG=1
"RTN","DSIO2",60,0)
 Q +$G(FLG)
"RTN","DSIO2",61,0)
 ;
"RTN","DSIO2",62,0)
FORMAT(X) ; -- enforce (xxx)xxx-xxxx phone format
"RTN","DSIO2",63,0)
 S X=$G(X) I X?1"("3N1")"3N1"-"4N.E Q X
"RTN","DSIO2",64,0)
 N P,N,I,Y S P=""
"RTN","DSIO2",65,0)
 F I=1:1:$L(X) S N=$E(X,I) I N=+N S P=P_N
"RTN","DSIO2",66,0)
 S:$L(P)<10 P=$E("0000000000",1,10-$L(P))_P
"RTN","DSIO2",67,0)
 S Y=$S(P:"("_$E(P,1,3)_")"_$E(P,4,6)_"-"_$E(P,7,10),1:"")
"RTN","DSIO2",68,0)
 Q Y
"RTN","DSIO2",69,0)
 ;
"RTN","DSIO2",70,0)
AB(LIST) ; Change null to @ for null means delete
"RTN","DSIO2",71,0)
 ;
"RTN","DSIO2",72,0)
 ; This API turns non-existing or existing but equal to null variables
"RTN","DSIO2",73,0)
 ; into the @. Originally, most DSIO RPCS were set up to ignore null
"RTN","DSIO2",74,0)
 ; and use @ as the user's confirmation that they wish to delete data
"RTN","DSIO2",75,0)
 ; before using FileMan API's.
"RTN","DSIO2",76,0)
 ;
"RTN","DSIO2",77,0)
 ; The implementation of this API means that before calling any DSIO
"RTN","DSIO2",78,0)
 ; add or update action all values expressing the current state of the
"RTN","DSIO2",79,0)
 ; record must be passed - thus a get function may need to be called first
"RTN","DSIO2",80,0)
 ; Some methods will include the AB input variable and if set to 1 will
"RTN","DSIO2",81,0)
 ; bypass the use of this method.
"RTN","DSIO2",82,0)
 ;
"RTN","DSIO2",83,0)
 ; THE MCCDASHBOARD expects that by sending a null the user wishes to
"RTN","DSIO2",84,0)
 ; delete that associated data element.
"RTN","DSIO2",85,0)
 ;
"RTN","DSIO2",86,0)
 ; Array inputs are expected to be IDENTIFIER^VALUE PAIRS
"RTN","DSIO2",87,0)
 ; EXAMPLE: ARRAY(<SUBSCRIPT>)="ZIP<^ - THE LAST PIECE IS THE VALUE>66666"
"RTN","DSIO2",88,0)
 ;
"RTN","DSIO2",89,0)
 N I,VAR,CT
"RTN","DSIO2",90,0)
 F I=1:1:$L(LIST,",") S VAR=$P(LIST,",",I) D
"RTN","DSIO2",91,0)
 . I '$D(@VAR) S @VAR="@"
"RTN","DSIO2",92,0)
 . E  I $D(@VAR)=10 S CT=$NA(@VAR) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO2",93,0)
 . . I $P(@CT,U,$L(@CT,U))="" S $P(@CT,U,$L(@CT,U))="@"
"RTN","DSIO2",94,0)
 . E  I $D(@VAR)=1&(@VAR="") S @VAR="@"
"RTN","DSIO2",95,0)
 Q
"RTN","DSIO2",96,0)
 ;
"RTN","DSIO2",97,0)
STORE ; Save FileMan variables for restoration
"RTN","DSIO2",98,0)
 M:$D(DO) VFDDO=DO
"RTN","DSIO2",99,0)
 M:$D(DI) VFDDI=DI
"RTN","DSIO2",100,0)
 M:$D(DQ) VFDDQ=DQ
"RTN","DSIO2",101,0)
 M:$D(DC) VFDDC=DC
"RTN","DSIO2",102,0)
 M:$D(DM) VFDDM=DM
"RTN","DSIO2",103,0)
 M:$D(DK) VFDDK=DK
"RTN","DSIO2",104,0)
 M:$D(DP) VFDDP=DP
"RTN","DSIO2",105,0)
 M:$D(DL) VFDDL=DL
"RTN","DSIO2",106,0)
 M:$D(DV) VFDDV=DV
"RTN","DSIO2",107,0)
 M:$D(DIU) VFDDIU=DIU
"RTN","DSIO2",108,0)
 Q
"RTN","DSIO2",109,0)
 ;
"RTN","DSIO2",110,0)
GETVAR ; Restore FileMan variables
"RTN","DSIO2",111,0)
 M:$D(VFDDO) DO=VFDDO
"RTN","DSIO2",112,0)
 M:$D(VFDDI) DI=VFDDI
"RTN","DSIO2",113,0)
 M:$D(VFDDQ) DQ=VFDDQ
"RTN","DSIO2",114,0)
 M:$D(VFDDC) DC=VFDDC
"RTN","DSIO2",115,0)
 M:$D(VFDDM) DM=VFDDM
"RTN","DSIO2",116,0)
 M:$D(VFDDK) DK=VFDDK
"RTN","DSIO2",117,0)
 M:$D(VFDDP) DP=VFDDP
"RTN","DSIO2",118,0)
 M:$D(VFDDL) DL=VFDDL
"RTN","DSIO2",119,0)
 M:$D(VFDDV) DV=VFDDV
"RTN","DSIO2",120,0)
 M:$D(VFDDIU) DIU=VFDDIU
"RTN","DSIO2",121,0)
 Q
"RTN","DSIO2",122,0)
 ;
"RTN","DSIO2",123,0)
CHECK(DFN) ; Check for patient in DSIO PATIENT
"RTN","DSIO2",124,0)
 N VFDDO,VFDDI,VFDDQ,VFDDC,VFDDM,VFDDK,VFDDP,VFDDL,VFDDV,VFDDIU
"RTN","DSIO2",125,0)
 D STORE
"RTN","DSIO2",126,0)
 N DIC,DA,X,Y,DLAYGO S DLAYGO=19641
"RTN","DSIO2",127,0)
 S DIC="^DSIO(19641,",DIC(0)="XL",X="`"_DFN D ^DIC I +Y<1 D GETVAR Q 0
"RTN","DSIO2",128,0)
 ; *** ADD PATIENT TO WV PATIENT (790)
"RTN","DSIO2",129,0)
 N DIC,DA,X,Y,DLAYGO S DLAYGO=790
"RTN","DSIO2",130,0)
 S DIC="^WV(790,",DIC(0)="XL",X="`"_DFN D ^DIC I +Y<1 D GETVAR Q 0
"RTN","DSIO2",131,0)
 D GETVAR
"RTN","DSIO2",132,0)
 Q 1
"RTN","DSIO2",133,0)
 ;
"RTN","DSIO2",134,0)
NAME(NAM) ; Transform NAME,NAME to title case thats Name,Name
"RTN","DSIO2",135,0)
 I NAM["," S NAM=$$TITLE^XLFSTR($P(NAM,","))_","_$$TITLE^XLFSTR($P(NAM,",",2))
"RTN","DSIO2",136,0)
 E  S NAM=$$TITLE^XLFSTR(NAM)
"RTN","DSIO2",137,0)
 Q NAM
"RTN","DSIO2",138,0)
 ;
"RTN","DSIO2",139,0)
VALID(FLE,FLD,IENS,VAL) ; Check if a value is valid
"RTN","DSIO2",140,0)
 N VALID,ERR
"RTN","DSIO2",141,0)
 D VAL^DIE($G(FLE),$G(IENS),$G(FLD),,$G(VAL),.VALID,,"ERR")
"RTN","DSIO2",142,0)
 I VALID["^"!($D(ERR)) Q 0
"RTN","DSIO2",143,0)
 Q 1
"RTN","DSIO2",144,0)
 ;
"RTN","DSIO2",145,0)
DT(X) ; Validate and attempt to return a valid date
"RTN","DSIO2",146,0)
 N %DT S %DT="ST" D ^%DT
"RTN","DSIO2",147,0)
 I +Y<1 S X=$$DT1(X) I +X<1 S X=$P(X,U,2) S %DT="STX" D ^%DT
"RTN","DSIO2",148,0)
 Q $S(+Y'<1:Y,+$G(X)'<1:X,1:"")
"RTN","DSIO2",149,0)
 ;
"RTN","DSIO2",150,0)
DT1(VAL) ; Translate external date time to FM date time
"RTN","DSIO2",151,0)
 ;
"RTN","DSIO2",152,0)
 ; Converts these 9/23/2004 10:53:25 AM
"RTN","DSIO2",153,0)
 ;                09/03/2014 21:00:00
"RTN","DSIO2",154,0)
 ;                2009-10-22 05:00:00.0
"RTN","DSIO2",155,0)
 ;                10-22-2009 05:00:00.0
"RTN","DSIO2",156,0)
 ;                OCT 12,(, )2012 12:10 AM
"RTN","DSIO2",157,0)
 ;                OCT 12,(, )2012 13:00
"RTN","DSIO2",158,0)
 ;                July 26, 2014 @ 10
"RTN","DSIO2",159,0)
 ;                02-OCT-2014 13.29.28
"RTN","DSIO2",160,0)
 ;
"RTN","DSIO2",161,0)
 ; The FM call below does not work with the time portions
"RTN","DSIO2",162,0)
 ; of the above format
"RTN","DSIO2",163,0)
 ; ------------------------------------------------------
"RTN","DSIO2",164,0)
 ; D DT^DILF("E","DEC 12,2014",.RESULT)
"RTN","DSIO2",165,0)
 ; RESULT=3141212
"RTN","DSIO2",166,0)
 ; RESULT(0)="DEC 12, 2014"
"RTN","DSIO2",167,0)
 ;
"RTN","DSIO2",168,0)
 Q:VAL="" ""
"RTN","DSIO2",169,0)
 I $$FMTH^XLFDT(VAL)'=-1 Q VAL
"RTN","DSIO2",170,0)
 N DATE,FLG,TIME S DATE=-1,FLG=0
"RTN","DSIO2",171,0)
 I $P(VAL," ",2)?.2N.1":".2N.1":".2N S FLG=1
"RTN","DSIO2",172,0)
 I $P(VAL," ",2)?.2N.1":".2N.1":".2N.1" ".2A S FLG=1
"RTN","DSIO2",173,0)
 I $P(VAL," ",2)?.2N.1":".2N.1":".2N.1".".2N S FLG=1
"RTN","DSIO2",174,0)
 I VAL?3A1" "1.2N1","4N.1" ".2N.1":".2N.1":".2N.1" ".2A S FLG=2
"RTN","DSIO2",175,0)
 I VAL?3A1" "1.2N1","1" "4N.1" ".2N.1":".2N.1":".2N.1" ".2A S FLG=3
"RTN","DSIO2",176,0)
 I VAL?1.A1" "1.2N1","1" "4N.1" ".1"@".1" ".2N.1":".2N S FLG=4
"RTN","DSIO2",177,0)
 I VAL?2N1"-"3A1"-"4N.1" ".2N.1".".2N.1".".2N S FLG=5
"RTN","DSIO2",178,0)
 I FLG=0 D DT^DILF("E",VAL,.DATE)
"RTN","DSIO2",179,0)
 I FLG=1 D DT^DILF("E",$P(VAL," "),.DATE) S TIME=$$DT2($P(VAL," ",2,99))
"RTN","DSIO2",180,0)
 I FLG=2 D DT^DILF("E",$P(VAL," ",1,2),.DATE) S TIME=$$DT2($P(VAL," ",3,99))
"RTN","DSIO2",181,0)
 I FLG=3 D DT^DILF("E",$P(VAL," ",1,3),.DATE) S TIME=$$DT2($P(VAL," ",4,99))
"RTN","DSIO2",182,0)
 I FLG=4 D DT^DILF("E",$$TRIM^XLFSTR($P(VAL,"@")),.DATE) D
"RTN","DSIO2",183,0)
 . S TIME=$$DT2($$TRIM^XLFSTR($P(VAL,"@",2)))
"RTN","DSIO2",184,0)
 I FLG=5 D DT^DILF("E",$P(VAL," "),.DATE) S TIME=$$DT2($TR($P(VAL," ",2,99),".",":"))
"RTN","DSIO2",185,0)
 I DATE=-1 Q -1_U_VAL
"RTN","DSIO2",186,0)
 Q DATE_$S($G(TIME)'="":"."_TIME,1:"")
"RTN","DSIO2",187,0)
 ;
"RTN","DSIO2",188,0)
DT2(TM) ; Convert Time
"RTN","DSIO2",189,0)
 N SEC,MIN,HR S TM=$$TRIM^XLFSTR($$UP^XLFSTR(TM))
"RTN","DSIO2",190,0)
 I TM'[":",TM?.N D  Q $G(TM)
"RTN","DSIO2",191,0)
 . F I=$L(TM):-1:1 Q:$E(TM,I)'=0  I $E(TM,I)=0 S TM=$E(TM,1,I-1)
"RTN","DSIO2",192,0)
 Q:TM'[":" ""
"RTN","DSIO2",193,0)
 S SEC=$S(TM[" ":$P($P(TM,":",3)," "),TM[".":$P($P(TM,":",3),"."),1:$P(TM,":",3))
"RTN","DSIO2",194,0)
 S SEC=$$DT3(SEC) S:$L(SEC)=1 SEC=0_SEC
"RTN","DSIO2",195,0)
 S MIN=$P($P(TM,":",2)," "),MIN=$$DT3(MIN) S:$L(MIN)=1 MIN=0_MIN
"RTN","DSIO2",196,0)
 S HR=$P($P(TM,":")," "),HR=$$DT3(HR) S:$L(HR)=1 HR=0_HR
"RTN","DSIO2",197,0)
 I HR=12&((TM["AM")!($E(TM,$L(TM)-1,$L(TM))="AM")) S HR="00"
"RTN","DSIO2",198,0)
 I HR<12&((TM["PM")!($E(TM,$L(TM)-1,$L(TM))="PM")) S HR=HR+12
"RTN","DSIO2",199,0)
 S TM=HR_MIN_SEC
"RTN","DSIO2",200,0)
 F I=$L(TM):-1:1 Q:$E(TM,I)'=0  I $E(TM,I)=0 S TM=$E(TM,1,I-1)
"RTN","DSIO2",201,0)
 Q $S($G(TM)'="":TM,1:"")
"RTN","DSIO2",202,0)
 ;
"RTN","DSIO2",203,0)
DT3(SEG) ; Only Numbers
"RTN","DSIO2",204,0)
 Q $$TRIM^XLFSTR($TR($$UP^XLFSTR(SEG),"ABCDEFGHIJKLMNOPQRSTUVWXYZ",""))
"RTN","DSIO2",205,0)
 ;
"RTN","DSIO2",206,0)
 ; --------------------------------- SORTING ----------------------------------
"RTN","DSIO2",207,0)
 ;
"RTN","DSIO2",208,0)
FN(P,C) ; Get the next record by dashboard page and count forward
"RTN","DSIO2",209,0)
 Q:P<2 0
"RTN","DSIO2",210,0)
 Q C*(P-1)
"RTN","DSIO2",211,0)
 ;
"RTN","DSIO2",212,0)
S(SORT) ; Set Start and End
"RTN","DSIO2",213,0)
 S:$G(SORT)="" SORT="1,500"
"RTN","DSIO2",214,0)
 I SORT?.N1",".N D
"RTN","DSIO2",215,0)
 . S STRT=$$FN($P(SORT,","),$P(SORT,",",2)),END=$P(SORT,",",2)
"RTN","DSIO2",216,0)
 Q
"RTN","DSIO2",217,0)
 ;
"RTN","DSIO2",218,0)
 ;
"RTN","DSIO2",219,0)
 ;
"RTN","DSIO2",220,0)
 ;
"RTN","DSIO2",221,0)
 ;
"RTN","DSIO2",222,0)
 ;
"RTN","DSIO2",223,0)
 ;
"RTN","DSIO2",224,0)
 ;
"RTN","DSIO2",225,0)
 ; ---- try to phase out SORT
"RTN","DSIO2",226,0)
 ;
"RTN","DSIO2",227,0)
SORT(IN,OUT,SORT,TO,DIR,PDT,PTLE,ADD,EXC,IGN,SKP,EXF,SWP,EXC2) ; CREATE PAGING (GLOBAL)
"RTN","DSIO2",228,0)
 ;
"RTN","DSIO2",229,0)
 ;   IN = ^TMP(<SUBSCRIPTS PASSED IN>,COUNTER (# OR STRING),HANGING 0 (OPTIONAL))
"RTN","DSIO2",230,0)
 ;   TO = TOTAL IF THE CALLER KNOWS THE TOTAL COUNT
"RTN","DSIO2",231,0)
 ;        THIS IS USEFUL FOR SCREENED LISTS
"RTN","DSIO2",232,0)
 ;  DIR = DIRECTION 1 OR -1 (REVERSE)
"RTN","DSIO2",233,0)
 ;  PDT = PIECE TO TRANSFORM DATE (#|#^CODE)
"RTN","DSIO2",234,0)
 ; PTLE = PIECE TO TRANSFORM TO TITLE CASE #|#
"RTN","DSIO2",235,0)
 ;  ADD = ADD ADDITIONAL INFORMATION FROM AN ARRAY WHEN THE ARRAY SUBSCRIPT
"RTN","DSIO2",236,0)
 ;        EQUALS THE FIRST PIECE THE THE BASE ENTRY
"RTN","DSIO2",237,0)
 ;  EXC = EXECUTE CODE TO ADD ADDITIONAL INFORMATION
"RTN","DSIO2",238,0)
 ;        WHERE THE CODE IS A FUNCTION EXPECTING THE ITEM IEN $$FUN^ROUTINE(IEN)
"RTN","DSIO2",239,0)
 ;        WITHOUT THE PARAMETERS LISTED $$FUN^ROUTINE
"RTN","DSIO2",240,0)
 ;  IGN = IF THIS PIECE IS NOT THIS VALUE DON'T INCLUDE (PIECE^VALUE)
"RTN","DSIO2",241,0)
 ;  SKP = LINES STARTING WITH THIS CHARACTER WILL BE SKIPPED
"RTN","DSIO2",242,0)
 ;  EXF = EXECUTE CODE TO ADD INTO A PIECE WITH THE PIECE BEING THE IEN
"RTN","DSIO2",243,0)
 ;        (PIECE#^DELIMITER^FILE^FIELD|) IF $P1 CONTAINS * THEN USE FLD AS IEN
"RTN","DSIO2",244,0)
 ;  SWP = SWAP PIECES OF A PIECE (PEICE^DELIMITER|)
"RTN","DSIO2",245,0)
 ; EXC2 = EXECUTE CODE TO FORMATE A PIECE (1,2,3|CODE) WHERE THE PIECES TO FORMAT
"RTN","DSIO2",246,0)
 ;        ARE DELIMITED BY "," AND THE FUNCTION IS THE SECOND PIECE OF "|"
"RTN","DSIO2",247,0)
 ;
"RTN","DSIO2",248,0)
 N STRT,STOP,T,CT,Z,I,IIGN,IIGN2,VAL,PP,PP1,EX,SKSTP,DLM S M="0^Nothing found."
"RTN","DSIO2",249,0)
 S (STRT,STOP,T)=0 I $G(SORT)?.N1",".N D
"RTN","DSIO2",250,0)
 .S STRT=$$FN($P(SORT,","),$P(SORT,",",2))
"RTN","DSIO2",251,0)
 .S STOP=$P(SORT,",",2)
"RTN","DSIO2",252,0)
 .I IN["DILIST"&(+$G(DIR)>-1) S STRT=STRT+1
"RTN","DSIO2",253,0)
 S CT=1,Z="" F I=0:1 S Z=$O(@IN@(Z),$G(DIR,1)) Q:Z=""  D
"RTN","DSIO2",254,0)
 .Q:Z=0
"RTN","DSIO2",255,0)
 .; WHERE DOES THE VALUE SIT? IS THERE A HANGING ZERO?
"RTN","DSIO2",256,0)
 .S VAL=$S($D(@IN@(Z))=1:@IN@(Z),$D(@IN@(Z,0))=1:@IN@(Z,0),1:"")
"RTN","DSIO2",257,0)
 .I $D(SKP),$E(VAL,1)=SKP S I=I-1
"RTN","DSIO2",258,0)
 .Q:I<STRT
"RTN","DSIO2",259,0)
 .I STOP,T>=STOP,$D(SKP),$E(VAL,1)'=SKP S T=T+1,SKSTP=1 Q
"RTN","DSIO2",260,0)
 .I STOP,T>=STOP,'$D(SKP) S T=T+1 Q
"RTN","DSIO2",261,0)
 .Q:$D(SKSTP)
"RTN","DSIO2",262,0)
 .S @OUT@(CT)=VAL
"RTN","DSIO2",263,0)
 .I $D(SKP),$E(VAL,1)=SKP S CT=CT+1 Q  ; DON'T TRANSFORM SKIP
"RTN","DSIO2",264,0)
 .I $G(SWP)'="" D
"RTN","DSIO2",265,0)
 ..F PP=1:1:$L(SWP,"|") S PP1=$P(SWP,"|",PP) D
"RTN","DSIO2",266,0)
 ...S EX="S $P(@OUT@(CT),U,+PP1)=$P($P(@OUT@(CT),U,+PP1),$P(PP1,U,2),2)_$P(PP1,U,2)"
"RTN","DSIO2",267,0)
 ...S EX=EX_"_$P($P(@OUT@(CT),U,+PP1),$P(PP1,U,2))" X EX
"RTN","DSIO2",268,0)
 .I $G(PDT)'="" D
"RTN","DSIO2",269,0)
 ..F PP=1:1:$L(PDT,"|") S PP1=+$P(PDT,"|",PP) D
"RTN","DSIO2",270,0)
 ...S $P(@OUT@(CT),U,PP1)=$$FMTE^XLFDT($P(@OUT@(CT),U,PP1),$P($P(PDT,"|",PP),U,2))
"RTN","DSIO2",271,0)
 .I $D(ADD(+VAL)) S @OUT@(CT)=@OUT@(CT)_U_ADD(+VAL)
"RTN","DSIO2",272,0)
 .I $G(EXC)'="" S EX="S @OUT@(CT)=@OUT@(CT)_U_"_EXC_"("_+@OUT@(CT)_")" X EX
"RTN","DSIO2",273,0)
 .I $G(EXC2)'="" F PP=1:1:$L(EXC2,",") S PP1=$P($P(EXC2,",",PP),"|") D
"RTN","DSIO2",274,0)
 ..S EX="S $P(@OUT@(CT),U,PP1)="_$P(EXC2,"|",2)_"($P(@OUT@(CT),U,PP1))" X EX
"RTN","DSIO2",275,0)
 .I $G(EXF)'="" D
"RTN","DSIO2",276,0)
 ..F PP=1:1:$L(EXF,"|") S PP1=$P(EXF,"|",PP) D
"RTN","DSIO2",277,0)
 ...S DLM=$P(PP1,U,2)
"RTN","DSIO2",278,0)
 ...S EX="S $P(@OUT@(CT),U,+PP1)=$S(DLM'="""":$P(@OUT@(CT),U,+PP1),1:"""")_DLM_"
"RTN","DSIO2",279,0)
 ...S EX=EX_"$$GET1($S($P(PP1,U)[""*"":$P(@OUT@(CT),U,+PP1),1:$P(@OUT@(CT),U)),$P(PP1,U,3),$P(PP1,U,4))" X EX
"RTN","DSIO2",280,0)
 .I $G(PTLE)'="" D
"RTN","DSIO2",281,0)
 ..F PP=1:1:$L(PTLE,"|") S PP1=+$P(PTLE,"|",PP) D
"RTN","DSIO2",282,0)
 ...S $P(@OUT@(CT),U,PP1)=$$NAME($P(@OUT@(CT),U,PP1))
"RTN","DSIO2",283,0)
 .;I $G(IGN)'="" D  Q  ; ONLY THE ITEMS THAT INCLUDE...
"RTN","DSIO2",284,0)
 .;.I $P(@OUT@(CT),U,+IGN)'=$P(IGN,U,2) K @OUT@(CT) Q
"RTN","DSIO2",285,0)
 .;.S IIGN=$G(IIGN)+1
"RTN","DSIO2",286,0)
 .;.I IIGN<STRT K @OUT@(CT) Q
"RTN","DSIO2",287,0)
 .;.S IIGN2=$G(IIGN2)+1
"RTN","DSIO2",288,0)
 .;.I STOP,IIGN2>STOP K @OUT@(CT) Q
"RTN","DSIO2",289,0)
 .;.S CT=CT+1
"RTN","DSIO2",290,0)
 .S T=T+1,CT=CT+1
"RTN","DSIO2",291,0)
 K:$E(IN,1,4)="^TMP" @IN
"RTN","DSIO2",292,0)
 S @OUT@(0)=$S($O(@OUT@(""),-1)=0:M,+$G(TO)>0:TO,$D(IIGN):IIGN,T>0:T,1:M)
"RTN","DSIO2",293,0)
 Q
"RTN","DSIO2",294,0)
 ;
"RTN","DSIO2",295,0)
SORTA(IN,OUT) ; CREATE PAGING (ARRAY)
"RTN","DSIO2",296,0)
 N PG,CNT,PGX,PGS K OUT
"RTN","DSIO2",297,0)
 S PG=+SORT,CNT=$P(SORT,",",2),PGS=0
"RTN","DSIO2",298,0)
 I '$G(PG)!'$G(CNT) Q
"RTN","DSIO2",299,0)
 S PGX=PG*CNT
"RTN","DSIO2",300,0)
 I PG>1 S PGS=PGX-CNT
"RTN","DSIO2",301,0)
 F  S PGS=$O(IN(PGS)) Q:PGS=""!(PGS>PGX)  D
"RTN","DSIO2",302,0)
 .S OUT(PGS)=IN(PGS)
"RTN","DSIO2",303,0)
 Q
"RTN","DSIO2",304,0)
 ;
"RTN","DSIO2",305,0)
GET1(IEN,FLE,FLD) ; $$GET1^DIQ
"RTN","DSIO2",306,0)
 Q:$G(IEN)=""!($G(FLE)="")!($G(FLD)="") ""
"RTN","DSIO2",307,0)
 N I,XIEN,FLG
"RTN","DSIO2",308,0)
 I +IEN<1 F I=1:1:$L(IEN) D  Q:$D(FLG)
"RTN","DSIO2",309,0)
 .I $E(IEN,I)?.N S XIEN=$G(XIEN)_$E(IEN,I) Q
"RTN","DSIO2",310,0)
 .S:$L($G(XIEN)) FLG=1
"RTN","DSIO2",311,0)
 E  S XIEN=IEN
"RTN","DSIO2",312,0)
 Q $$GET1^DIQ(FLE,XIEN_",",+FLD)
"RTN","DSIO3")
0^3^B80760723
"RTN","DSIO3",1,0)
DSIO3 ;DSS/TFF - DSIO TIU SUPPORT;06/28/2013 15:19
"RTN","DSIO3",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO3",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO3",4,0)
 ;
"RTN","DSIO3",5,0)
 ; External References      DBIA#
"RTN","DSIO3",6,0)
 ; -------------------      -----
"RTN","DSIO3",7,0)
 ; $$CLASS^TIUCP
"RTN","DSIO3",8,0)
 ; $$ISA^TIULX
"RTN","DSIO3",9,0)
 ; CANDO^TIUSRVA
"RTN","DSIO3",10,0)
 ; GETTITLE^TIUSRVA
"RTN","DSIO3",11,0)
 ; NEEDJUST^TIUSRVA
"RTN","DSIO3",12,0)
 ; WHATACT^TIUSRVA
"RTN","DSIO3",13,0)
 ; BLRSHELL^TIUSRVD
"RTN","DSIO3",14,0)
 ; $$HASKIDS^TIUSRVLI
"RTN","DSIO3",15,0)
 ; DELETE^TIUSRVP
"RTN","DSIO3",16,0)
 ; LOCK^TIUSRVP
"RTN","DSIO3",17,0)
 ; MAKE^TIUSRVP
"RTN","DSIO3",18,0)
 ; MAKEADD^TIUSRVP
"RTN","DSIO3",19,0)
 ; SIGN^TIUSRVP
"RTN","DSIO3",20,0)
 ; UNLOCK^TIUSRVP
"RTN","DSIO3",21,0)
 ; UPDATE^TIUSRVP
"RTN","DSIO3",22,0)
 ; SAVED^TIUSRVP1
"RTN","DSIO3",23,0)
 ; SETTEXT^TIUSRVPT
"RTN","DSIO3",24,0)
 ; GET4EDIT^TIUSRVR
"RTN","DSIO3",25,0)
 ; $$SETGDATA^TIUSRVR1
"RTN","DSIO3",26,0)
 ; LOADTOP^TIUSRVR1
"RTN","DSIO3",27,0)
 ; TGET^TIUSRVR1
"RTN","DSIO3",28,0)
 ; INQUIRE^TIUSRVR2
"RTN","DSIO3",29,0)
 ;
"RTN","DSIO3",30,0)
 Q
"RTN","DSIO3",31,0)
 ;
"RTN","DSIO3",32,0)
CREATE(RET,DFN,TITLE,NOTE,DATA,SUBJ,PG) ; RPC: DSIO CREATE A NOTE
"RTN","DSIO3",33,0)
 ;
"RTN","DSIO3",34,0)
 ; Visit information will come out of a configuration file
"RTN","DSIO3",35,0)
 ;
"RTN","DSIO3",36,0)
 ; ADDITIONAL PARAMETER TO SAVE DISCREET INFORMATION
"RTN","DSIO3",37,0)
 ; ARRAY(#)=LABEL/FIELD^VALUE
"RTN","DSIO3",38,0)
 ;
"RTN","DSIO3",39,0)
 ;  TIUX(.02)=PATIENT                       -UPDATE,ADDENDA
"RTN","DSIO3",40,0)
 ; TIUX(1202)=AUTHOR/DICTATOR
"RTN","DSIO3",41,0)
 ; TIUX(1205)=HOSPITAL LOCATION
"RTN","DSIO3",42,0)
 ; TIUX(1208)=EXPECTED COSIGNER
"RTN","DSIO3",43,0)
 ; TIUX(1301)=REFERENCE DATE/DT OF ENTRY    -UPDATE,ADDENDA
"RTN","DSIO3",44,0)
 ; TIUX(1302)=ENTERED BY                    -UPDATE,ADDENDA
"RTN","DSIO3",45,0)
 ; TIUX(1405)=PKGREF
"RTN","DSIO3",46,0)
 ; TIUX(1701)=SUBJECT
"RTN","DSIO3",47,0)
 ; TIUX(2101)=IDPARENT
"RTN","DSIO3",48,0)
 ;
"RTN","DSIO3",49,0)
 ; ORDER:
"RTN","DSIO3",50,0)
 ; CREATE - BOILER - LOCK - UPDATE - SET - UNLOCK
"RTN","DSIO3",51,0)
 ;
"RTN","DSIO3",52,0)
 ; RETURN: LITERAL
"RTN","DSIO3",53,0)
 ;
"RTN","DSIO3",54,0)
 N TIEN,VSTR,DTIUX,IEN,TMP,BLR S RET=-1
"RTN","DSIO3",55,0)
 ; *** Requirements
"RTN","DSIO3",56,0)
 I '$$TM^%ZTLOAD S RET="-1^TASKMAN must be running." Q
"RTN","DSIO3",57,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO3",58,0)
 S TIEN=$$TITLE($G(TITLE)) I 'TIEN S RET="-1^Title not found." Q
"RTN","DSIO3",59,0)
 S VSTR=$$VISIT(TIEN)
"RTN","DSIO3",60,0)
 I 'VSTR S RET="-1^DSIO TITLE CONFIGURATION not setup for this TITLE." Q
"RTN","DSIO3",61,0)
 I $G(PG),'$$SPG(DFN,IEN,PG) S RET="0^Unable to associate pregnancy."
"RTN","DSIO3",62,0)
 S DTIUX(1202)=DUZ                  ; AUTHOR/DICTATOR
"RTN","DSIO3",63,0)
 S DTIUX(1205)=$P(VSTR,";")         ; HOSPITAL LOCATION
"RTN","DSIO3",64,0)
 S DTIUX(1301)=$P(VSTR,";",2)       ; REFERENCE DATE
"RTN","DSIO3",65,0)
 S DTIUX(1701)=$G(SUBJ)             ; SUBJECT
"RTN","DSIO3",66,0)
 ; MAKE^TIUSRVP(.IEN,DFN,TITLE,VDT,VLOC,VSIT,TIUX,VSTR,SUPPRESS,NOASF)
"RTN","DSIO3",67,0)
 D MAKE^TIUSRVP(.IEN,DFN,TIEN,,,,.DTIUX,VSTR,1)
"RTN","DSIO3",68,0)
 I 'IEN S RET="-1^"_$P(IEN,U,2) Q
"RTN","DSIO3",69,0)
 D BLRSHELL^TIUSRVD(.TMP,TIEN,DFN,VSTR) I $D(@TMP) M BLR("TEXT")=@TMP
"RTN","DSIO3",70,0)
 D UPDATE1
"RTN","DSIO3",71,0)
 Q
"RTN","DSIO3",72,0)
 ;
"RTN","DSIO3",73,0)
VISIT(TIEN) ; Get visit information from a TITLE
"RTN","DSIO3",74,0)
 ;
"RTN","DSIO3",75,0)
 ; [VDT]   = Date(/Time) of Visit
"RTN","DSIO3",76,0)
 ; [VLOC]  = Visit Location (HOSPITAL LOCATION)
"RTN","DSIO3",77,0)
 ; [VSIT]  = Visit file ien (#9000010)
"RTN","DSIO3",78,0)
 ; [VSTR]  = Visit string (i.e., VLOC;VDT;VTYPE)
"RTN","DSIO3",79,0)
 ;
"RTN","DSIO3",80,0)
 ; VTYPE = Service Category (SET OF CODES - 9000010(VISIT FILE) - .07)
"RTN","DSIO3",81,0)
 ;
"RTN","DSIO3",82,0)
 N VLOC,VTYPE
"RTN","DSIO3",83,0)
 S VLOC=$$GET1^DIQ(19641.5,TIEN_",",.02,"I") Q:'VLOC 0
"RTN","DSIO3",84,0)
 S VTYPE=$$GET1^DIQ(19641.5,TIEN_",",.03,"I") Q:$L(VTYPE)'=1 0
"RTN","DSIO3",85,0)
 Q VLOC_";"_$$NOW^XLFDT_";"_VTYPE
"RTN","DSIO3",86,0)
 ;
"RTN","DSIO3",87,0)
SET(RET,IEN,NOTE,DATA,SUBJ,PG) ; RPC: DSIO UPDATE A NOTE
"RTN","DSIO3",88,0)
 ; 
"RTN","DSIO3",89,0)
 ; REQUIRED INPUT:
"RTN","DSIO3",90,0)
 ; ---------------
"RTN","DSIO3",91,0)
 ; IEN,NOTE
"RTN","DSIO3",92,0)
 ;
"RTN","DSIO3",93,0)
 ; THIS RETURN ALSO APPLIES TO CREATE AND ADDENDUM
"RTN","DSIO3",94,0)
 ; -----------------------------------------------
"RTN","DSIO3",95,0)
 ; If successful:
"RTN","DSIO3",96,0)
 ;   <IEN in TIU DOCUMENT FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"RTN","DSIO3",97,0)
 ; 
"RTN","DSIO3",98,0)
 ; If unsuccessful:
"RTN","DSIO3",99,0)
 ;   0^0^0^Explanatory text
"RTN","DSIO3",100,0)
 ;
"RTN","DSIO3",101,0)
 ; RETURN: LITERAL
"RTN","DSIO3",102,0)
 ;
"RTN","DSIO3",103,0)
 N DFN,DTIUX S RET="0^Not found."
"RTN","DSIO3",104,0)
 I '$$TM^%ZTLOAD S RET="-1^TASKMAN must be running." Q
"RTN","DSIO3",105,0)
 Q:'$$AUTH(.RET,IEN,"EDIT RECORD")
"RTN","DSIO3",106,0)
 S DFN=$$GET1^DIQ(8925,$G(IEN),.02,"I") Q:'DFN
"RTN","DSIO3",107,0)
 S DTIUX(1301)=$$NOW^XLFDT
"RTN","DSIO3",108,0)
UPDATE1 ; Continue for Create, Set, and Addendum
"RTN","DSIO3",109,0)
 N TASK,NOTIN,CT,I,X N:'$D(DTIUX) DTIUX
"RTN","DSIO3",110,0)
 I $G(PG),'$$SPG(DFN,IEN,PG) S RET="0^Unable to associate pregnancy."
"RTN","DSIO3",111,0)
 S DTIUX(1202)=DUZ                  ; AUTHOR/DICTATOR
"RTN","DSIO3",112,0)
 S:$G(SUBJ)'="" DTIUX(1701)=SUBJ    ; SUBJECT
"RTN","DSIO3",113,0)
 ; *** If LCK is TRUE then FAILED to lock
"RTN","DSIO3",114,0)
 S RET=$$LCK(IEN) I RET S $P(RET,U)=-1 Q
"RTN","DSIO3",115,0)
 D UPDATE^TIUSRVP(.RET,IEN,.DTIUX,0)
"RTN","DSIO3",116,0)
 I 'RET S $P(RET,U)=-1 D UNLCK(IEN) Q
"RTN","DSIO3",117,0)
 ; *** DDCS
"RTN","DSIO3",118,0)
 ;I $D(DATA) D STORED^DSIO6(.TASK,TIEN_";TIU(8925.1,",IEN,"O",.DATA)
"RTN","DSIO3",119,0)
 I $D(BLR) M NOTIN=BLR S CT=$O(NOTIN("TEXT",""),-1)+1
"RTN","DSIO3",120,0)
 S:'$D(CT) CT=1 S X="" F I=CT:1 S X=$O(NOTE(X)) Q:X=""  S NOTIN("TEXT",I,0)=NOTE(X)
"RTN","DSIO3",121,0)
 ; <# of Current Page>^<Total # of Pages>
"RTN","DSIO3",122,0)
 S NOTIN("HDR")="1^1"
"RTN","DSIO3",123,0)
 D SETTEXT^TIUSRVPT(.RET,IEN,.NOTIN),UNLCK(IEN)
"RTN","DSIO3",124,0)
 I 'RET S RET="-1^"_$P(RET,U,4)
"RTN","DSIO3",125,0)
 Q
"RTN","DSIO3",126,0)
 ;
"RTN","DSIO3",127,0)
SPG(DFN,TIEN,PG) ; Associate TIU note to a Pregnancy
"RTN","DSIO3",128,0)
 Q:'$G(PG) 0
"RTN","DSIO3",129,0)
 Q:'$D(^DSIO(19641.13,PG)) 0
"RTN","DSIO3",130,0)
 Q:$$GET1^DIQ(19641.13,PG_",",.03,"I")'=DFN 0
"RTN","DSIO3",131,0)
 N DLAYGO,DIC,DA,X,Y,FDA,ERR
"RTN","DSIO3",132,0)
 S DLAYGO=19641.83
"RTN","DSIO3",133,0)
 S DIC="^DSIO(19641.83,",DIC(0)="XL",X="`"_DFN D ^DIC Q:+Y<1 0
"RTN","DSIO3",134,0)
 S FDA(19641.831,"?+1,"_DFN_",",.01)=TIEN
"RTN","DSIO3",135,0)
 S FDA(19641.831,"?+1,"_DFN_",",.02)=PG
"RTN","DSIO3",136,0)
 D UPDATE^DIE(,"FDA",,"ERR") Q:$D(ERR) 0
"RTN","DSIO3",137,0)
 Q 1
"RTN","DSIO3",138,0)
 ;
"RTN","DSIO3",139,0)
ADDEN(RET,IEN,NOTE,DATA,SUBJ) ; RPC: DSIO MAKE ADDENDUM
"RTN","DSIO3",140,0)
 N DTIUX
"RTN","DSIO3",141,0)
 Q:'$$AUTH(.RET,IEN,"MAKE ADDENDUM")
"RTN","DSIO3",142,0)
 S DTIUX(1202)=DUZ                  ; AUTHOR/DICTATOR
"RTN","DSIO3",143,0)
 S DTIUX(1301)=$$NOW^XLFDT          ; REFERENCE DATE
"RTN","DSIO3",144,0)
 S:$G(SUBJ)'="" DTIUX(1701)=SUBJ    ; SUBJECT
"RTN","DSIO3",145,0)
 D MAKEADD^TIUSRVP(.RET,IEN,.DTIUX) I RET<1 S $P(RET,U)="-1" Q
"RTN","DSIO3",146,0)
 S IEN=RET D UPDATE1
"RTN","DSIO3",147,0)
 Q
"RTN","DSIO3",148,0)
 ;
"RTN","DSIO3",149,0)
 ; -------------------------------- VIEW TEXT ---------------------------------
"RTN","DSIO3",150,0)
 ;
"RTN","DSIO3",151,0)
GET(RET,IEN,TYP) ; RPC: DSIO GET RECORD TEXT
"RTN","DSIO3",152,0)
 ;
"RTN","DSIO3",153,0)
 ; - TYP 
"RTN","DSIO3",154,0)
 ;   = NULL - Whole note with addenda - FOR VIEW
"RTN","DSIO3",155,0)
 ;   = H    - ONLY the HEADER         - FOR VIEW
"RTN","DSIO3",156,0)
 ;   = B    - ONLY the BODY           - FOR EDIT
"RTN","DSIO3",157,0)
 ; 
"RTN","DSIO3",158,0)
 N FLD,OUT,I,LN,FLG,TIUARR,DATA,NCLSS,REC
"RTN","DSIO3",159,0)
 S RET=$NA(^TMP("DSIO3-GET",$J)) K @RET S @RET@(0)="0^Nothing found." Q:'$G(IEN)
"RTN","DSIO3",160,0)
 I $G(TYP)="B" D  Q
"RTN","DSIO3",161,0)
 . S FLD=".01;.06;.07;1204;1205;1208;1301;1405;1701;2101;70201;70202"
"RTN","DSIO3",162,0)
 . D GET4EDIT^TIUSRVR(.OUT,IEN,FLD)
"RTN","DSIO3",163,0)
 . I $G(@OUT@(0))["~" S $P(@RET@(0),U,2)=$$TRIM^XLFSTR($P(@OUT@(0),"~",2),"L") Q
"RTN","DSIO3",164,0)
 . S I=0,LN=$NA(@OUT) F  S LN=$Q(@LN) Q:LN=""  Q:$QS(LN,1)'="TIUEDIT"!($QS(LN,2)'=$J)  D
"RTN","DSIO3",165,0)
 . . I @LN="$TXT" S FLG=1 Q
"RTN","DSIO3",166,0)
 . . Q:'$D(FLG)
"RTN","DSIO3",167,0)
 . . S @RET@(I)=@LN,I=I+1
"RTN","DSIO3",168,0)
 Q:'$$AUTH(.RET,IEN,"VIEW")
"RTN","DSIO3",169,0)
 I $G(TYP)="H" D  Q
"RTN","DSIO3",170,0)
 . S TIUARR=RET,DATA=$$SETGDATA^TIUSRVR1(IEN)
"RTN","DSIO3",171,0)
 . ; Set a flag to indicate whether or not a Title is a memer of the
"RTN","DSIO3",172,0)
 . ; Clinical Procedures Class (1=Yes and 0=No)
"RTN","DSIO3",173,0)
 . S NCLSS=+$$ISA^TIULX(+$G(^TIU(8925,IEN,0)),+$$CLASS^TIUCP)
"RTN","DSIO3",174,0)
 . ; Call INQUIRE to get record
"RTN","DSIO3",175,0)
 . D INQUIRE^TIUSRVR2(IEN,.REC,NCLSS)
"RTN","DSIO3",176,0)
 . D LOADTOP^TIUSRVR1(.REC,IEN,0,DATA,NCLSS)
"RTN","DSIO3",177,0)
 . K:$O(@RET@(""),-1) @RET@(0)
"RTN","DSIO3",178,0)
 D TGET^TIUSRVR1(.RET,IEN)
"RTN","DSIO3",179,0)
 Q
"RTN","DSIO3",180,0)
 ;
"RTN","DSIO3",181,0)
 ; ----------------------------------------------------------------------------
"RTN","DSIO3",182,0)
 ;
"RTN","DSIO3",183,0)
DELETE(RET,IEN,JUST) ; RPC: DSIO DELETE A NOTE
"RTN","DSIO3",184,0)
 Q:'$$AUTH(.RET,IEN,"DELETE RECORD")
"RTN","DSIO3",185,0)
 D NEEDJUST^TIUSRVA(.RET,IEN) I RET D  Q
"RTN","DSIO3",186,0)
 . S:$G(JUST)="" RET="-1^Justification for deletion is required."
"RTN","DSIO3",187,0)
 ; *** If LCK is TRUE then FAILED to lock
"RTN","DSIO3",188,0)
 S RET=$$LCK(IEN) I RET S $P(RET,U)=-1 Q
"RTN","DSIO3",189,0)
 D DELETE^TIUSRVP(.RET,IEN,$G(JUST))
"RTN","DSIO3",190,0)
 S RET=$S('RET:1,1:$P(RET,U)=-1)
"RTN","DSIO3",191,0)
 ; *** UNLOCK is always TRUE
"RTN","DSIO3",192,0)
 D UNLCK(IEN)
"RTN","DSIO3",193,0)
 Q
"RTN","DSIO3",194,0)
 ;
"RTN","DSIO3",195,0)
SIGN(RET,IEN,SIG) ; RPC: DSIO SIGN A NOTE
"RTN","DSIO3",196,0)
 ;
"RTN","DSIO3",197,0)
 ; $$ENCRYP^XUSRB1 - DEBUG
"RTN","DSIO3",198,0)
 ;
"RTN","DSIO3",199,0)
 N ACT
"RTN","DSIO3",200,0)
 D SAVED^TIUSRVP1(.RET,IEN) I 'RET S $P(RET,U)=-1 Q
"RTN","DSIO3",201,0)
 ; *** If LCK is TRUE then FAILED to lock
"RTN","DSIO3",202,0)
 S RET=$$LCK(IEN) I RET S $P(RET,U)=-1 Q
"RTN","DSIO3",203,0)
 D WHATACT^TIUSRVA(.ACT,IEN)
"RTN","DSIO3",204,0)
 Q:'$$AUTH(.RET,IEN,ACT)
"RTN","DSIO3",205,0)
 D SIGN^TIUSRVP(.RET,IEN,SIG)
"RTN","DSIO3",206,0)
 S RET=$S('RET:1,1:$P(RET,U)=-1)
"RTN","DSIO3",207,0)
 ; *** UNLOCK is always TRUE
"RTN","DSIO3",208,0)
 D UNLCK(IEN)
"RTN","DSIO3",209,0)
 Q
"RTN","DSIO3",210,0)
 ;
"RTN","DSIO3",211,0)
 ; ------------------------------ TIU LIST ------------------------------------
"RTN","DSIO3",212,0)
 ;
"RTN","DSIO3",213,0)
LIST(RET,IEN,DFN,TITLES,FDT,TDT,PG,SORT) ; RPC: DSIO GET TIU NOTES
"RTN","DSIO3",214,0)
 ;
"RTN","DSIO3",215,0)
 ;     IEN: NOTE IEN
"RTN","DSIO3",216,0)
 ;     DFN: PATIENT IEN
"RTN","DSIO3",217,0)
 ;  TITLES: ARRY OF TITLES TITLE(#)=TITLE
"RTN","DSIO3",218,0)
 ;     FDT: FROM DATE
"RTN","DSIO3",219,0)
 ;     TDT: TO DATE
"RTN","DSIO3",220,0)
 ;      PG: IEN OF PREGNANCY HISTORY FILE (19641.13)
"RTN","DSIO3",221,0)
 ;    SORT: PAGE#,CT
"RTN","DSIO3",222,0)
 ;
"RTN","DSIO3",223,0)
 ; X-REF: ACLPT = ALL OF PATIENTS PROGRESS NOTES IF
"RTN","DSIO3",224,0)
 ;        ^TIU(8925,"ACLPT",3(DOC CLASS-PROGRESS NOTES),8(DFN),DT,NOTE IEN
"RTN","DSIO3",225,0)
 ;
"RTN","DSIO3",226,0)
 ; **if NOTE IEN is not associated with PREGIEN - DON'T INCLUDE
"RTN","DSIO3",227,0)
 ;
"RTN","DSIO3",228,0)
 ; RETURN: GLOBAL ARRAY
"RTN","DSIO3",229,0)
 ; ====================
"RTN","DSIO3",230,0)
 ;  IEN^TITLE(.01)^SUBJECT(1701)^STATUS(.05)^REFERENCE DATE(1301)^DUZ(1202I)^
"RTN","DSIO3",231,0)
 ;  AUTHOR/DICTATOR(1202E)^PARENT(.06)^ADDENDA("DAD" X-REF)(| DELIMITED)^PG
"RTN","DSIO3",232,0)
 ;
"RTN","DSIO3",233,0)
 N CT,TL,RCT,TS,DATE,STRT,END D SORT($G(SORT))
"RTN","DSIO3",234,0)
 S RET=$NA(^TMP($J,"DSIO LIST")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO3",235,0)
 I $G(IEN) S RET(1)=$$L1(IEN),RET(0)=1 Q
"RTN","DSIO3",236,0)
 ; *** Requirements
"RTN","DSIO3",237,0)
 I '$G(DFN) S @RET@(0)="-1^Patient not provided." Q
"RTN","DSIO3",238,0)
 S CT=$NA(TITLES) F  S CT=$Q(@CT) Q:CT=""  S:@CT'="" TL($$UP^XLFSTR(@CT))=""
"RTN","DSIO3",239,0)
 I '$D(TL) S @RET@(0)="-1^Titles required." Q 
"RTN","DSIO3",240,0)
 I $G(PG),'$D(^DSIO(19641.13,PG)) S @RET@(0)="-1^Pregnacy not found." Q
"RTN","DSIO3",241,0)
 I $G(FDT)'="" D  Q:$P(@RET@(0),U)=-1
"RTN","DSIO3",242,0)
 . S FDT=$$DT^DSIO2(FDT)
"RTN","DSIO3",243,0)
 . I FDT="" S @RET@(0)="-1^Invalid from date time format." Q
"RTN","DSIO3",244,0)
 . S FDT=9999999-FDT
"RTN","DSIO3",245,0)
 I $G(TDT)'="" D  Q:$P(@RET@(0),U)=-1
"RTN","DSIO3",246,0)
 . S TDT=$$DT^DSIO2(TDT)
"RTN","DSIO3",247,0)
 . I TDT="" S @RET@(0)="-1^Invalid to date time format." Q
"RTN","DSIO3",248,0)
 . S TDT=9999999-TDT
"RTN","DSIO3",249,0)
 ; *** Search Start
"RTN","DSIO3",250,0)
 S (RCT,TS)=0,DATE=$G(TDT)
"RTN","DSIO3",251,0)
 F  S DATE=$O(^TIU(8925,"ACLPT",3,DFN,DATE)) Q:DATE=""  Q:$D(FDT)&(DATE>$G(FDT))  D
"RTN","DSIO3",252,0)
 . S IEN=$O(^TIU(8925,"ACLPT",3,DFN,DATE,""))
"RTN","DSIO3",253,0)
 . Q:'$D(TL($$UP^XLFSTR($$GET1^DIQ(8925,IEN_",",.01))))
"RTN","DSIO3",254,0)
 . Q:'$$STATUS(IEN)
"RTN","DSIO3",255,0)
 . I $G(PG),'$$PG(IEN,PG) Q
"RTN","DSIO3",256,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO3",257,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO3",258,0)
 . S @RET@(RCT)=$$L1(IEN)
"RTN","DSIO3",259,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO3",260,0)
 Q
"RTN","DSIO3",261,0)
 ;
"RTN","DSIO3",262,0)
L1(IEN) ; Continue
"RTN","DSIO3",263,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO3",264,0)
 D GETS^DIQ(8925,IEN_",",".01;.05;.06;1202;1301;1701;","IE","OUT")
"RTN","DSIO3",265,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO3",266,0)
 S STR=IEN_U
"RTN","DSIO3",267,0)
 S STR=STR_FLD(.01,"E")_U                       ; TITLE
"RTN","DSIO3",268,0)
 S STR=STR_FLD(1701,"E")_U                      ; SUBJECT
"RTN","DSIO3",269,0)
 S STR=STR_FLD(.05,"E")_U                       ; STATUS
"RTN","DSIO3",270,0)
 S STR=STR_$$FMTE^XLFDT(FLD(1301,"I"),"5Z")_U   ; REFERENCE DATE
"RTN","DSIO3",271,0)
 S STR=STR_FLD(1202,"I")_U                      ; DUZ
"RTN","DSIO3",272,0)
 S STR=STR_FLD(1202,"E")_U                      ; AUTHOR/DICTATOR
"RTN","DSIO3",273,0)
 S STR=STR_FLD(.06,"E")_U                       ; PARENT
"RTN","DSIO3",274,0)
 S STR=STR_$$DAD(IEN)_U                         ; ADDENDUM
"RTN","DSIO3",275,0)
 S STR=STR_$G(PG)                               ; PREGNANCY IEN
"RTN","DSIO3",276,0)
 Q STR
"RTN","DSIO3",277,0)
 ;
"RTN","DSIO3",278,0)
DAD(IEN) ; Create Addendum List
"RTN","DSIO3",279,0)
 N CT,RT
"RTN","DSIO3",280,0)
 S CT=0 F  S CT=$O(^TIU(8925,"DAD",IEN,CT)) Q:'CT  S RT=$G(RT)_$S($D(RT):"|",1:"")_CT
"RTN","DSIO3",281,0)
 Q $G(RT)
"RTN","DSIO3",282,0)
 ;
"RTN","DSIO3",283,0)
PG(IEN,PG) ; Return PREGNACY IEN for TIU IEN
"RTN","DSIO3",284,0)
 Q:'$G(IEN)!('$G(PG)) 0
"RTN","DSIO3",285,0)
 I '$G(DFN) S DFN=$$GET1^DIQ(8925,IEN_",",.02,"I") Q:'$G(DFN) 0
"RTN","DSIO3",286,0)
 Q:'$D(^DSIO(19641.83,"C",PG,IEN,DFN)) 0
"RTN","DSIO3",287,0)
 Q 1
"RTN","DSIO3",288,0)
 ;
"RTN","DSIO3",289,0)
STATUS(IEN) ; Check the status of the note, can this user view it
"RTN","DSIO3",290,0)
 N RET I '$$AUTH(.RET,IEN,"VIEW") Q 0
"RTN","DSIO3",291,0)
 Q 1
"RTN","DSIO3",292,0)
 ;
"RTN","DSIO3",293,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO3",294,0)
 ;
"RTN","DSIO3",295,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO3",296,0)
 D S^DSIO2(SORT)
"RTN","DSIO3",297,0)
 Q
"RTN","DSIO3",298,0)
 ;
"RTN","DSIO3",299,0)
TITLE(TITLE) ; Find Title IEN
"RTN","DSIO3",300,0)
 S TITLE=$$UP^XLFSTR($G(TITLE)) Q:TITLE="" ""
"RTN","DSIO3",301,0)
 Q $O(^TIU(8925.1,"B",TITLE,""))
"RTN","DSIO3",302,0)
 ;
"RTN","DSIO3",303,0)
AUTH(OUT,IEN,ACT) ; TIU Authorization
"RTN","DSIO3",304,0)
 N RET
"RTN","DSIO3",305,0)
 D CANDO^TIUSRVA(.RET,IEN,ACT)
"RTN","DSIO3",306,0)
 I '$G(RET) D
"RTN","DSIO3",307,0)
 . I $D(OUT)>9 S @OUT@(0)="-1^"_$P(RET,U,2) Q
"RTN","DSIO3",308,0)
 . S OUT="-1^"_$P(RET,U,2)
"RTN","DSIO3",309,0)
 Q +$G(RET)
"RTN","DSIO3",310,0)
 ;
"RTN","DSIO3",311,0)
LCK(IEN) ; TIU Lock Record
"RTN","DSIO3",312,0)
 ;
"RTN","DSIO3",313,0)
 ; 0 if the LOCK was GRANTED
"RTN","DSIO3",314,0)
 ; 1^<Explanatory Message> if LOCK was DENIED
"RTN","DSIO3",315,0)
 ;
"RTN","DSIO3",316,0)
 D LOCK^TIUSRVP(.OUT,IEN)
"RTN","DSIO3",317,0)
 Q $G(OUT)
"RTN","DSIO3",318,0)
 ;
"RTN","DSIO3",319,0)
UNLCK(IEN) ; TIU Unlock Record
"RTN","DSIO3",320,0)
 N OUT D UNLOCK^TIUSRVP(.OUT,IEN)
"RTN","DSIO3",321,0)
 Q
"RTN","DSIO4")
0^4^B56656020
"RTN","DSIO4",1,0)
DSIO4 ;DSS/TFF - DSIO PREGNANCY X-REF AND FILE SUPPORT;06/28/2013 15:19
"RTN","DSIO4",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO4",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO4",4,0)
 ;
"RTN","DSIO4",5,0)
 ; External References      DBIA#
"RTN","DSIO4",6,0)
 ; -------------------      -----
"RTN","DSIO4",7,0)
 ;
"RTN","DSIO4",8,0)
 ;
"RTN","DSIO4",9,0)
 ;
"RTN","DSIO4",10,0)
 Q
"RTN","DSIO4",11,0)
 ;
"RTN","DSIO4",12,0)
 ; ------------------------------- UTILITIES ----------------------------------
"RTN","DSIO4",13,0)
PG(DFN) ; GET CURRENT PREGNANCY
"RTN","DSIO4",14,0)
 N SCR,OUT,ERR
"RTN","DSIO4",15,0)
 S SCR="I $P(^(0),U,3)=DFN,$P(^(0),U,4)=""C"""
"RTN","DSIO4",16,0)
 D LIST^DIC(19641.13,,"@","BP",1,,,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",17,0)
 Q $G(OUT("DILIST",1,0))
"RTN","DSIO4",18,0)
 ;
"RTN","DSIO4",19,0)
EDDC(DFN) ; GET EDD FOR COMPUTED FIELD
"RTN","DSIO4",20,0)
 Q $$FMTE^XLFDT($$GET1^DIQ(19641.03,$$GET1^DIQ(19641.13,$$PG^DSIO4($G(DFN))_",",.06,"I"),.01,"I"),"5Z")
"RTN","DSIO4",21,0)
 ;
"RTN","DSIO4",22,0)
WVPG(DFN) ; GET WV PATIENT CURRENT PREGNANCY
"RTN","DSIO4",23,0)
 N SCR,OUT,ERR,CT,WV
"RTN","DSIO4",24,0)
 S SCR="I $P(^(0),U,2)=1,'$P(^(0),U,4)"
"RTN","DSIO4",25,0)
 D LIST^DIC(790.16,","_DFN_",","@;3I","P",,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",26,0)
 Q:+$G(OUT("DILIST",0))=1 $G(OUT("DILIST",1,0))
"RTN","DSIO4",27,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO4",28,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",29,0)
 .S:$P(@CT,U,2) WV($P(@CT,U,2))=+@CT
"RTN","DSIO4",30,0)
 Q WV($O(WV(""),-1))
"RTN","DSIO4",31,0)
 ;
"RTN","DSIO4",32,0)
WVLMP(DFN) ; GET WV LAST MENSTRUAL PERIOD
"RTN","DSIO4",33,0)
 N SCR,OUT,ERR,CT,WV
"RTN","DSIO4",34,0)
 S SCR="I $P(^(0),U,2)"
"RTN","DSIO4",35,0)
 D LIST^DIC(790.15,","_DFN_",","@;2I","P",,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",36,0)
 Q:+$G(OUT("DILIST",0))=1 $G(OUT("DILIST",1,0))
"RTN","DSIO4",37,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO4",38,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",39,0)
 .S:$P(@CT,U,2) WV($P(@CT,U,2))=+@CT
"RTN","DSIO4",40,0)
 Q WV($O(WV(""),-1))
"RTN","DSIO4",41,0)
 ;
"RTN","DSIO4",42,0)
PSTAT(DFN) ; CURRENTLY PREGNANT
"RTN","DSIO4",43,0)
 I $$PG(DFN) Q "YES"
"RTN","DSIO4",44,0)
 Q "NO"
"RTN","DSIO4",45,0)
 ;
"RTN","DSIO4",46,0)
LACT(DFN) ; CURRENTLY LACTATING
"RTN","DSIO4",47,0)
 N FLG,SCR,OUT,ERR
"RTN","DSIO4",48,0)
 ; Because no one knows the state I'm in...
"RTN","DSIO4",49,0)
 I '$$VFILE^DILFD(790.17) D  Q $G(FLG,"NO")
"RTN","DSIO4",50,0)
 .S SCR="I '$P(^(0),U,2)"
"RTN","DSIO4",51,0)
 .D LIST^DIC(19641.04,","_DFN_",","@","BP",1,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",52,0)
 .I $G(OUT("DILIST",1,0)) S FLG="YES"
"RTN","DSIO4",53,0)
 ; IF LACTATION STATUS = YES AND NO END DATE
"RTN","DSIO4",54,0)
 S SCR="I $P(^(0),U,2)=1,'$P(^(0),U,3)"
"RTN","DSIO4",55,0)
 D LIST^DIC(790.17,","_DFN_",","@","BP",1,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",56,0)
 I $G(OUT("DILIST",1,0)) Q "YES"
"RTN","DSIO4",57,0)
 Q "NO"
"RTN","DSIO4",58,0)
 ;
"RTN","DSIO4",59,0)
LACE(DFN) ; CURRENTLY LACTATING ENTRY
"RTN","DSIO4",60,0)
 N FLG,SCR,OUT,ERR
"RTN","DSIO4",61,0)
 ; Because no one knows the state I'm in...
"RTN","DSIO4",62,0)
 I '$$VFILE^DILFD(790.17) D  Q $G(FLG)
"RTN","DSIO4",63,0)
 .S SCR="I '$P(^(0),U,2)"
"RTN","DSIO4",64,0)
 .D LIST^DIC(19641.04,","_DFN_",","@","BP",1,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",65,0)
 .S FLG=+$G(OUT("DILIST",1,0))
"RTN","DSIO4",66,0)
 S SCR="I $P(^(0),U,2)=1,'$P(^(0),U,3)"
"RTN","DSIO4",67,0)
 D LIST^DIC(790.17,","_DFN_",","@","BP",1,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",68,0)
 I $G(OUT("DILIST",1,0)) Q +$G(OUT("DILIST",1,0))
"RTN","DSIO4",69,0)
 Q ""
"RTN","DSIO4",70,0)
 ;
"RTN","DSIO4",71,0)
PGL(DFN) ; GET LAST PREGNANCY HISTORY ENTRY
"RTN","DSIO4",72,0)
 N SCR,OUT,ERR S SCR="I $P(^(0),U,3)=DFN"
"RTN","DSIO4",73,0)
 D LIST^DIC(19641.13,,"@","BP",1,,,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",74,0)
 Q $G(OUT("DILIST",1,0))
"RTN","DSIO4",75,0)
 ;
"RTN","DSIO4",76,0)
PGE(DFN) ; GET LAST PREGNANCY HISTORY ENTRY WITH AN END
"RTN","DSIO4",77,0)
 N SCR,OUT,ERR S SCR="I $P(^(0),U,3)=DFN,$P(^(0),U,7)'="""""
"RTN","DSIO4",78,0)
 D LIST^DIC(19641.13,,"@","BP",1,,,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",79,0)
 Q $G(OUT("DILIST",1,0))
"RTN","DSIO4",80,0)
 ;
"RTN","DSIO4",81,0)
PGEL(DFN) ; GET LAST PREGNANCY HISTORY ENTRY WITH A LIVE BIRTH
"RTN","DSIO4",82,0)
 ; PREGNANCY MUST HAVE AN OBSERVATION USING LOINC 75092-7
"RTN","DSIO4",83,0)
 N SCR,OUT,ERR,PN,OBS,POBS,FLG
"RTN","DSIO4",84,0)
 S SCR="I $P(^(0),U,3)=DFN,$P(^(0),U,7)'="""""
"RTN","DSIO4",85,0)
 ; GET PREGNANCIES WITH AN END DATE WITH OLDEST FIRST (B FLAG DOESN'T WORK)
"RTN","DSIO4",86,0)
 D LIST^DIC(19641.13,,"@","P",,,,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",87,0)
 I $D(OUT) S PN="" F  S PN=$O(OUT("DILIST",PN),-1) Q:PN=""!(PN=0)  D  Q:$D(FLG)
"RTN","DSIO4",88,0)
 .; LOOK AT MOST RECENT PREGNANCIES FIRST AND GET OBSERVATIONS WITH THAT
"RTN","DSIO4",89,0)
 .; PREGNANCY AND A CODY SYSTEM OF LOINC WITH A CODE OF 75092-7
"RTN","DSIO4",90,0)
 .S SCR="I $P(^(0),U,4)="_OUT("DILIST",PN,0)_",$P(^(0),U,7)=""LNC"""
"RTN","DSIO4",91,0)
 .K OBS D LIST^DIC(19641.12,,"@;.06E","P",,,,"P",SCR,,"OBS","ERR")
"RTN","DSIO4",92,0)
 .I $D(OBS) K POBS S POBS=$NA(OBS) F  S POBS=$Q(@POBS) Q:POBS=""  D  Q:$D(FLG)
"RTN","DSIO4",93,0)
 ..I $P(@POBS,U,2)="75092-7" S FLG=OUT("DILIST",PN,0)
"RTN","DSIO4",94,0)
 Q $G(FLG)
"RTN","DSIO4",95,0)
 ;
"RTN","DSIO4",96,0)
FC(DFN,PIEN) ; GET FETUS COUNT FOR A PREGNANCY
"RTN","DSIO4",97,0)
 N RET,CT,OUT,FLG Q:'$G(DFN) ""
"RTN","DSIO4",98,0)
 D OBG^DSIO10(.RET,DFN,,$G(PIEN),,,,"PREGNANCY",,"FetusBabyCount")
"RTN","DSIO4",99,0)
 S CT=$NA(@RET) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,2)'="DSIO OBG"  D  Q:$D(FLG)
"RTN","DSIO4",100,0)
 .I $QS(CT,3)=1 S OUT=+@CT,FLG=1
"RTN","DSIO4",101,0)
 Q $G(OUT)
"RTN","DSIO4",102,0)
 ;
"RTN","DSIO4",103,0)
TRACK(DFN,FL) ; GET TRACKING STATUS OF PATIENT
"RTN","DSIO4",104,0)
 N TR S TR=$O(^DSIO(19641.2,"S",DFN,""))
"RTN","DSIO4",105,0)
 Q:$D(FL) $S(TR="T":1,TR="F":2,1:0)
"RTN","DSIO4",106,0)
 Q $S(TR="T":"YES",TR="F":"FLAGGED",1:"NO")
"RTN","DSIO4",107,0)
 ;
"RTN","DSIO4",108,0)
 ;=============================================================================
"RTN","DSIO4",109,0)
 ;                       X - R E F  S U P P O R T
"RTN","DSIO4",110,0)
 ;=============================================================================
"RTN","DSIO4",111,0)
 ;
"RTN","DSIO4",112,0)
 ; DSIO PREGNANCY HISTORY
"RTN","DSIO4",113,0)
 ;  - IF C ALL OTHER ENTRIES WILL BE HISTORICAL (ONLY ONE C)
"RTN","DSIO4",114,0)
 ;    EXCEPT - IF ANOTHER ENTRY HAS A FUTURE EDD AND NO PREGNANCY END THEN
"RTN","DSIO4",115,0)
 ;    THE ENTRY WILL NOT BE CREATED.
"RTN","DSIO4",116,0)
 ;  - IF EDD IS FUTURE AND THE ENTRY IS CURRENT THEN WV PATIENT .13 IS
"RTN","DSIO4",117,0)
 ;    CHANGED TO YES AND .14 IS SET WITH EDD
"RTN","DSIO4",118,0)
 ;  - IF PREGNANCY END (NO FUTURE DATES) AND NOT A HISTORICAL ENTRY THEN THE
"RTN","DSIO4",119,0)
 ;    STATUS IS CHANGED TO H AND WV PATIENT .13 IS NO AND .14 IS DELETED
"RTN","DSIO4",120,0)
 ;
"RTN","DSIO4",121,0)
CURRENT(IEN) ; SHOULD THIS RECORD BE CURRENT?
"RTN","DSIO4",122,0)
 ; IS THERE AN ENTRY WITH A FUTURE EDD AND NO PREGNANCY END?
"RTN","DSIO4",123,0)
 ; INPUT TRANSFORM FOR .04 STATUS
"RTN","DSIO4",124,0)
 N DFN,FROM,SCR,OUT,ERR,CT,FLG S FLG=1
"RTN","DSIO4",125,0)
 S DFN=$$GET1^DIQ(19641.13,IEN_",",.03,"I")
"RTN","DSIO4",126,0)
 S FROM(1)=DFN,SCR="I $P(^(0),U,3)=DFN"
"RTN","DSIO4",127,0)
 D LIST^DIC(19641.13,,"@;.06I;.07I","P",,".FROM",,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",128,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:FLG=0
"RTN","DSIO4",129,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",130,0)
 .I $$GET1^DIQ(19641.03,$P(@CT,U,2)_",",.01,"I")>=DT&($P(@CT,U,3)="") S FLG=0
"RTN","DSIO4",131,0)
 Q FLG
"RTN","DSIO4",132,0)
 ;
"RTN","DSIO4",133,0)
HIS(DFN,IEN) ; KILL HISTORICAL EDD X-REF
"RTN","DSIO4",134,0)
 ; NEW 'ASTATUS'
"RTN","DSIO4",135,0)
 I $D(^DSIO(19641.13,"EDD",DFN,+$O(^DSIO(19641.13,"EDD",DFN,"")),IEN)) D
"RTN","DSIO4",136,0)
 .K ^DSIO(19641.13,"EDD",DFN)
"RTN","DSIO4",137,0)
 Q
"RTN","DSIO4",138,0)
 ;
"RTN","DSIO4",139,0)
STATUS(DFN,IEN) ; UPDATE PREGNANCY HISTORY STATUSES TO H IF CURRENT IS C
"RTN","DSIO4",140,0)
 ; NEW 'ASTATUS'
"RTN","DSIO4",141,0)
 ;Q:$D(DSIOSILENT)  N DSIOSILENT,DLAYGO S DSIOSILENT=1
"RTN","DSIO4",142,0)
 Q:$$GET1^DIQ(19641.13,$G(IEN)_",",.04,"I")'="C"
"RTN","DSIO4",143,0)
 N FROM,SCR,OUT,ERR,CT,IPT,WVIEN,EDD,RET
"RTN","DSIO4",144,0)
 S FROM(1)=DFN,SCR="I $P(^(0),U,3)=DFN,$P(^(0),U,4)=""C"""
"RTN","DSIO4",145,0)
 D LIST^DIC(19641.13,,"@","P",,".FROM",,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",146,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  K IPT D
"RTN","DSIO4",147,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",148,0)
 .I @CT'=IEN D
"RTN","DSIO4",149,0)
 ..S DLAYGO=19641.13
"RTN","DSIO4",150,0)
 ..S IPT(19641.13,@CT_",",.04)="H" D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",151,0)
 ..D HIS(DFN,@CT)
"RTN","DSIO4",152,0)
 ..S WVIEN=$$GET1^DIQ(19641.13,@CT_",",99.1,"I")
"RTN","DSIO4",153,0)
 ..S DLAYGO=790
"RTN","DSIO4",154,0)
 ..S IPT(790.16,WVIEN_","_DFN_",",2)=0 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",155,0)
 Q
"RTN","DSIO4",156,0)
 ;
"RTN","DSIO4",157,0)
EDD(EDD,IEN) ; UPDATE WV,DSIO PATIENT FILES WHEN EDD IS FUTURE
"RTN","DSIO4",158,0)
 ; NEW 'EDD' (NOT ON HISTORICAL ENTRIES)
"RTN","DSIO4",159,0)
 ; CREATE AN "EDD" X-REF - ONLY ONE PER PATIENT
"RTN","DSIO4",160,0)
 I '$G(DFN) S DFN=$$GET1^DIQ(19641.13,IEN_",",.03,"I") Q:'DFN
"RTN","DSIO4",161,0)
 K ^DSIO(19641.13,"EDD",DFN)
"RTN","DSIO4",162,0)
 I EDD'="@" D
"RTN","DSIO4",163,0)
 .S ^DSIO(19641.13,"EDD",DFN,EDD,DA)="",EDD=$$GET1^DIQ(19641.03,EDD_",",.01,"I")
"RTN","DSIO4",164,0)
 Q:$D(DSIOSILENT)  N DSIOSILENT,DLAYGO S DSIOSILENT=1
"RTN","DSIO4",165,0)
 Q:$$GET1^DIQ(19641.13,IEN_",",.04,"I")="H"
"RTN","DSIO4",166,0)
 N WVIEN,IPT,DLAYGO
"RTN","DSIO4",167,0)
 S WVIEN=$$GET1^DIQ(19641.13,IEN_",",99.1,"I")
"RTN","DSIO4",168,0)
 S DLAYGO=790
"RTN","DSIO4",169,0)
 S IPT(790.16,WVIEN_","_DFN_",",2)=1,IPT(790.16,WVIEN_","_DFN_",",3)=EDD
"RTN","DSIO4",170,0)
 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",171,0)
 D STATUS(DFN,IEN)
"RTN","DSIO4",172,0)
 Q
"RTN","DSIO4",173,0)
 ;
"RTN","DSIO4",174,0)
DELV(DATE,DFN,IEN) ; UPDATE WV,DSIO PATIENT FILES WHEN PREGNANCY END IS SET
"RTN","DSIO4",175,0)
 Q:$D(DSIOSILENT)  N DSIOSILENT S DSIOSILENT=1
"RTN","DSIO4",176,0)
 Q:+$G(DATE)=0!($$GET1^DIQ(19641.13,IEN_",",.04,"I")="H")
"RTN","DSIO4",177,0)
 I DATE'>$$NOW^XLFDT D
"RTN","DSIO4",178,0)
 .N DLAYGO,IPT,WVIEN
"RTN","DSIO4",179,0)
 .S DLAYGO=19641.13,IPT(19641.13,IEN_",",.04)="H" D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",180,0)
 .K ^DSIO(19641.13,"EDD",DFN)
"RTN","DSIO4",181,0)
 .S DLAYGO=790,WVIEN=$$GET1^DIQ(19641.13,IEN_",",99.1,"I")
"RTN","DSIO4",182,0)
 .S IPT(790.16,WVIEN_","_DFN_",",2)=0,IPT(790.16,WVIEN_","_DFN_",",3)=""
"RTN","DSIO4",183,0)
 .S IPT(790.16,WVIEN_","_DFN_",",4)=DATE
"RTN","DSIO4",184,0)
 .D UPDATE^DIE(,"IPT") K IPT D PTRK(DFN,0)
"RTN","DSIO4",185,0)
 Q
"RTN","DSIO4",186,0)
 ;
"RTN","DSIO4",187,0)
 ; -------------------------- WV PATIENT - (NEW) ------------------------------
"RTN","DSIO4",188,0)
 ;
"RTN","DSIO4",189,0)
WV(DFN,WVIEN) ; WOMEN'S HEALTH ENTRY POINT
"RTN","DSIO4",190,0)
 ; UPDATE THE CURRENT PREGNANCY WITH THE NEW EDD FROM WV PREGNANCY LOG
"RTN","DSIO4",191,0)
 ; OR IF THERE IS NO CURRENT PREGNANCY CREATE A NEW ONE
"RTN","DSIO4",192,0)
 ;
"RTN","DSIO4",193,0)
 ; PREGNANCY LOG IS TRIGGERED ON FIELD AND THIS NEW STYLE IS SET
"RTN","DSIO4",194,0)
 ; TO TRIGGER ON RECORD AND THE CREATION OF THE LOG
"RTN","DSIO4",195,0)
 ;
"RTN","DSIO4",196,0)
 ; PREG(RET,DFN,IEN,STRT,TYP,FOF,EDD,END,OBP,PFAC)
"RTN","DSIO4",197,0)
 ;
"RTN","DSIO4",198,0)
 Q:'$G(WVIEN)!('$G(DFN))
"RTN","DSIO4",199,0)
 N DLAYGO,PREG,EDD,END
"RTN","DSIO4",200,0)
 S DLAYGO=19641.13,CIEN=$$PG(DFN)
"RTN","DSIO4",201,0)
 S PREG=$$GET1^DIQ(790.16,WVIEN_","_DFN_",",2,"I")
"RTN","DSIO4",202,0)
 S EDD=$$GET1^DIQ(790.16,WVIEN_","_DFN_",",3,"I")
"RTN","DSIO4",203,0)
 S END=$$GET1^DIQ(790.16,WVIEN_","_DFN_",",4,"I") K:'END END
"RTN","DSIO4",204,0)
 I PREG=1,'CIEN D PREG^DSIO15(.RET,DFN,,,"C",,EDD),PTRK(DFN,PREG)
"RTN","DSIO4",205,0)
 E  I PREG=1,CIEN,EDD D PREG^DSIO15(.RET,DFN,CIEN,,,,EDD)
"RTN","DSIO4",206,0)
 E  I PREG=0,CIEN D PREG^DSIO15(.RET,DFN,CIEN,,"H",,,$G(END,DT)),PTRK(DFN,PREG)
"RTN","DSIO4",207,0)
 I $G(RET) K IPT S IPT(19641.13,RET_",",99.1)=WVIEN D UPDATE^DIE(,"IPT")
"RTN","DSIO4",208,0)
 Q
"RTN","DSIO4",209,0)
 ;
"RTN","DSIO4",210,0)
PTRK(DFN,PREG) ; TRACK PREGNANCY
"RTN","DSIO4",211,0)
 N RES,RET
"RTN","DSIO4",212,0)
 S RES="WV PATIENT FILE(790) PREGNANCY STATUS = "_$S(PREG:"YES",1:"NO")
"RTN","DSIO4",213,0)
 D REC^DSIO1(.RET,DFN,2,RES,,"TRIGGER")
"RTN","DSIO4",214,0)
 Q
"RTN","DSIO4",215,0)
 ;
"RTN","DSIO4",216,0)
 ; -------- WV PATIENT TO DSIO MENSTRUAL HISTORY AND DSIO PATIENT -------------
"RTN","DSIO4",217,0)
 ;
"RTN","DSIO4",218,0)
MH(DFN,WVIEN) ; UPDATE DSIO WITH LMP
"RTN","DSIO4",219,0)
 ;
"RTN","DSIO4",220,0)
 ; STARTING LOCATION = 790.15,2
"RTN","DSIO4",221,0)
 ; DSIO MENSTRUAL HISTORY (LINK BACK AT FIELD 99.1)
"RTN","DSIO4",222,0)
 ; DSIO PATIENT : 1.2
"RTN","DSIO4",223,0)
 ;
"RTN","DSIO4",224,0)
 Q:$D(DSIOSILENT)!('$G(WVIEN))!('$G(DFN))
"RTN","DSIO4",225,0)
 N DATE,FLG,IPT,IEN,DLAYGO,DSIOSILENT
"RTN","DSIO4",226,0)
 S DSIOSILENT=1,DLAYGO=19641.01
"RTN","DSIO4",227,0)
 S DATE=$$GET1^DIQ(790.15,WVIEN_","_DFN_",",2,"I") Q:'DATE
"RTN","DSIO4",228,0)
 Q:$D(^DSIO(19641.01,"C",DFN,DATE))
"RTN","DSIO4",229,0)
 S IPT(19641.01,"+1,",.01)=DATE,IPT(19641.01,"+1,",.02)=DFN
"RTN","DSIO4",230,0)
 D UPDATE^DIE("U","IPT","IEN") K IPT S DLAYGO=19641
"RTN","DSIO4",231,0)
 I $D(IEN(1)) S IPT(19641,DFN_",",1.2)=IEN(1) D FILE^DIE(,"IPT")
"RTN","DSIO4",232,0)
 Q
"RTN","DSIO4",233,0)
 ;
"RTN","DSIO4",234,0)
MH1(DFN,DATE) ; FROM DSIO PATIENT TO WV PATIENT
"RTN","DSIO4",235,0)
 Q:$D(DSIOSILENT)!('$G(DATE))
"RTN","DSIO4",236,0)
 N DSIOSILENT,DLAYGO,IPT,WVIEN S DSIOSILENT=1
"RTN","DSIO4",237,0)
 S DLAYGO=790
"RTN","DSIO4",238,0)
 S IPT(790.15,"?+1,"_DFN_",",.01)=$$NOW^XLFDT
"RTN","DSIO4",239,0)
 S IPT(790.15,"?+1,"_DFN_",",2)=$$GET1^DIQ(19641.01,DATE_",",.01,"I")
"RTN","DSIO4",240,0)
 S IPT(790.15,"?+1,"_DFN_",",3)=DUZ
"RTN","DSIO4",241,0)
 D UPDATE^DIE(,"IPT","WVIEN") Q:'$G(WVIEN(1))
"RTN","DSIO4",242,0)
 S DLAYGO=19641.01
"RTN","DSIO4",243,0)
 S IPT(19641.01,DATE_",",99.1)=WVIEN(1) D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",244,0)
 Q
"RTN","DSIO9")
0^5^B70697067
"RTN","DSIO9",1,0)
DSIO9 ;DSS/TFF - DSIO PERSON;06/28/2013 15:19
"RTN","DSIO9",2,0)
 ;;1.0;DSIO 1.0;;Feb 06, 2015;Build 1
"RTN","DSIO9",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO9",4,0)
 ;
"RTN","DSIO9",5,0)
 ; External References      DBIA#
"RTN","DSIO9",6,0)
 ; -------------------      -----
"RTN","DSIO9",7,0)
 ;
"RTN","DSIO9",8,0)
 ;
"RTN","DSIO9",9,0)
 ;
"RTN","DSIO9",10,0)
 Q
"RTN","DSIO9",11,0)
 ;
"RTN","DSIO9",12,0)
SAVE(RET,IEN,DFN,NAME,DOB,ADDR,PHONE,EDU,SEX,REL,STATUS,PROB) ; DSIO SAVE PERSON
"RTN","DSIO9",13,0)
 ;
"RTN","DSIO9",14,0)
 ;    IEN = IEN of 19641.11
"RTN","DSIO9",15,0)
 ;    DFN = PATIENT IEN
"RTN","DSIO9",16,0)
 ;   NAME = PERSON NAME (LAST,FIRST)
"RTN","DSIO9",17,0)
 ;    DOB = DATE OF BIRTH
"RTN","DSIO9",18,0)
 ;   ADDR = ARRAY OF LABELS: 1,2,3,CITY,STATE,ZIP
"RTN","DSIO9",19,0)
 ;  PHONE = ARRAY OF LABLES: H,MC,WP,FAX,O
"RTN","DSIO9",20,0)
 ;    EDU = NUMBER OF YEARS OF EDUCATION
"RTN","DSIO9",21,0)
 ;    SEX = M,F,U
"RTN","DSIO9",22,0)
 ;    REL = P:408.11
"RTN","DSIO9",23,0)
 ; STATUS = L,D
"RTN","DSIO9",24,0)
 ;   PROB = ARRAY OF ENTRIES (PROBLEMS)
"RTN","DSIO9",25,0)
 ;
"RTN","DSIO9",26,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO9",27,0)
 ;
"RTN","DSIO9",28,0)
 N IPT,CT
"RTN","DSIO9",29,0)
 I '$G(IEN),'$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO9",30,0)
 S NAME=$$UP^XLFSTR($G(NAME))
"RTN","DSIO9",31,0)
 S SEX=$$UP^XLFSTR($E($G(SEX),1)) S:"^M^F^U^"'[(U_SEX_U) SEX=""
"RTN","DSIO9",32,0)
 S EDU=+$G(EDU) S:'EDU EDU=""
"RTN","DSIO9",33,0)
 S DFN=+$G(DFN) S:'$D(^DPT(DFN)) DFN=""
"RTN","DSIO9",34,0)
 S REL=$$FIND1^DIC(408.11,,"X",$$UP^XLFSTR($G(REL))) S:'REL REL=""
"RTN","DSIO9",35,0)
 S STATUS=$$UP^XLFSTR($E($G(STATUS),1)) S:"^L^D^"'[(U_STATUS_U) STATUS=""
"RTN","DSIO9",36,0)
 D:'$G(AB) AB^DSIO2("DFN,DOB,ADDR,PHONE,EDU,SEX,REL,STATUS")
"RTN","DSIO9",37,0)
 S:$G(DOB)'="@" DOB=$$DT^DSIO2($G(DOB))
"RTN","DSIO9",38,0)
 S IEN=$S($G(IEN):IEN,NAME'=""&($G(DFN)):$O(^DSIO(19641.11,"C",DFN,NAME,"")),1:"")
"RTN","DSIO9",39,0)
 S:IEN="" IEN="?+1"
"RTN","DSIO9",40,0)
 S:$G(NAME)'="" IPT(19641.11,IEN_",",.01)=NAME             ; NAME
"RTN","DSIO9",41,0)
 S:$G(SEX)'="" IPT(19641.11,IEN_",",.02)=SEX               ; SEX
"RTN","DSIO9",42,0)
 S:$G(DOB)'="" IPT(19641.11,IEN_",",.03)=DOB               ; DATE OF BIRTH
"RTN","DSIO9",43,0)
 S:$G(EDU)'="" IPT(19641.11,IEN_",",.04)=EDU               ; EDUCATION
"RTN","DSIO9",44,0)
 S:$G(DFN)'="" IPT(19641.11,IEN_",",.05)=DFN               ; PATIENT
"RTN","DSIO9",45,0)
 S:$G(REL)'="" IPT(19641.11,IEN_",",.06)=REL               ; RELATIONSHIP
"RTN","DSIO9",46,0)
 S:$G(STATUS)'="" IPT(19641.11,IEN_",",.07)=STATUS         ; STATUS
"RTN","DSIO9",47,0)
 I $D(ADDR) D                                           ; ADDRESS
"RTN","DSIO9",48,0)
 . S CT=$NA(ADDR) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO9",49,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)),VAL=$P(@CT,U,2)
"RTN","DSIO9",50,0)
 . . I LOC[1 S IPT(19641.11,IEN_",",1.1)=VAL Q                 ; STREET ADDRESS 1
"RTN","DSIO9",51,0)
 . . I LOC[2 S IPT(19641.11,IEN_",",1.2)=VAL Q                 ; STREET ADDRESS 2
"RTN","DSIO9",52,0)
 . . I LOC[3 S IPT(19641.11,IEN_",",1.3)=VAL Q                 ; STREET ADDRESS 3
"RTN","DSIO9",53,0)
 . . I LOC="CITY" S IPT(19641.11,IEN_",",1.4)=VAL Q            ; CITY
"RTN","DSIO9",54,0)
 . . I LOC="STATE",$$FIND1^DIC(5,,"XM",VAL) D
"RTN","DSIO9",55,0)
 . . . S IPT(19641.11,IEN_",",1.5)=$$FIND1^DIC(5,,"XM",VAL) Q  ; STATE
"RTN","DSIO9",56,0)
 . . I LOC="ZIP" S IPT(19641.11,IEN_",",1.6)=VAL               ; ZIP CODE
"RTN","DSIO9",57,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO9",58,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO9",59,0)
 I $D(PHONE) D                                          ; PHONE
"RTN","DSIO9",60,0)
 . S CT=$NA(PHONE) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO9",61,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)) Q:"^H^MC^WP^FAX^O^"'[(U_LOC_U)
"RTN","DSIO9",62,0)
 . . S VAL=$TR($P(@CT,U,2),"()- ") Q:VAL=""!(VAL'?.N)
"RTN","DSIO9",63,0)
 . . S IPT(19641.14,"?+1,"_IEN_",",.01)=LOC                ; PHONE TYPE
"RTN","DSIO9",64,0)
 . . S IPT(19641.14,"?+1,"_IEN_",",.02)=VAL                ; NUMBER
"RTN","DSIO9",65,0)
 . . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO9",66,0)
 ; *** DIAGNOSIS MULTIPLE
"RTN","DSIO9",67,0)
 I $D(PROB) D DEL(IEN) D
"RTN","DSIO9",68,0)
 . S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO9",69,0)
 . . S IPT(19641.14,"?+1,"_IEN_",",.01)=$$UP^XLFSTR(@CT)
"RTN","DSIO9",70,0)
 . . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO9",71,0)
 Q
"RTN","DSIO9",72,0)
 ;
"RTN","DSIO9",73,0)
DEL(IEN) ; Delete DIAGNOSIS Multiple
"RTN","DSIO9",74,0)
 N OUT,CT,DIK,DA
"RTN","DSIO9",75,0)
 D GETS^DIQ(19641.11,IEN_",","3*",,"OUT")
"RTN","DSIO9",76,0)
 S DA(1)=IEN,DIK="^DSIO(19641.11,"_DA(1)_",3,"
"RTN","DSIO9",77,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S DA=+$QS(CT,2) D ^DIK
"RTN","DSIO9",78,0)
 Q
"RTN","DSIO9",79,0)
 ;
"RTN","DSIO9",80,0)
PERSON(RET,DFN,FIND,SEX) ; RPC: DSIO GET PERSON
"RTN","DSIO9",81,0)
 ;
"RTN","DSIO9",82,0)
 ; RETURN:
"RTN","DSIO9",83,0)
 ;  IEN^NAME^SEX^DOB^EDUCATION^STREET1^STREET2^STREET3^CITY^STATE^
"RTN","DSIO9",84,0)
 ;  ZIP^PHONE HOME^PHONE WORK^PHONE CELL^PHONE FAX^PATIENT^DFN
"RTN","DSIO9",85,0)
 ;
"RTN","DSIO9",86,0)
 ; IF SEX ADD
"RTN","DSIO9",87,0)
 ; ^RELATIONSHIP^STATUS^DIAGNOSIS|DIAGNOSIS
"RTN","DSIO9",88,0)
 ;
"RTN","DSIO9",89,0)
 ; IF SPOUSE THEN IEN = "S"
"RTN","DSIO9",90,0)
 ; IF SEX = 1 THEN DON'T RESTRICT TO FATHER OF FETUS
"RTN","DSIO9",91,0)
 ;
"RTN","DSIO9",92,0)
 ; IF DFN & FIND=""  THEN
"RTN","DSIO9",93,0)
 ;  - All associated Entries
"RTN","DSIO9",94,0)
 ; IF DFN & FIND="S" THEN
"RTN","DSIO9",95,0)
 ;  - SPOUSE
"RTN","DSIO9",96,0)
 ; IF DFN & FIND="NAME,NAME" OR FIND=#(IEN) THEN
"RTN","DSIO9",97,0)
 ;  - RETURN IF FOUND AND IF ASSOCIATED TO PATIENT
"RTN","DSIO9",98,0)
 ; IF 'DFN & FIND="NAME,NAME" OR FIND=#(IEN) THEN
"RTN","DSIO9",99,0)
 ;  - RETURN ENTRIES
"RTN","DSIO9",100,0)
 ;
"RTN","DSIO9",101,0)
 N IEN,NAM,CT,SP
"RTN","DSIO9",102,0)
 S RET(0)="-1^PERSON(s) not found."
"RTN","DSIO9",103,0)
 I $G(DFN) D  D P3 Q
"RTN","DSIO9",104,0)
 . I $G(FIND) D  Q
"RTN","DSIO9",105,0)
 . . Q:'$$P2(FIND)
"RTN","DSIO9",106,0)
 . . S RET(1)=$$P1(FIND)
"RTN","DSIO9",107,0)
 . I $G(FIND)'="" D  Q
"RTN","DSIO9",108,0)
 . . I FIND="S"!(FIND="SPOUSE") D  Q
"RTN","DSIO9",109,0)
 . . . S SP=$$SPOUSE(DFN) Q:'SP
"RTN","DSIO9",110,0)
 . . . D PO(SP)
"RTN","DSIO9",111,0)
 . . S IEN=$O(^DSIO(19641.11,"B",$$UP^XLFSTR(FIND),""))
"RTN","DSIO9",112,0)
 . . I IEN,$$P2(IEN) S RET(1)=$$P1(IEN)
"RTN","DSIO9",113,0)
 . S CT=1,NAM="" F  S NAM=$O(^DSIO(19641.11,"C",DFN,NAM)) Q:NAM=""  D
"RTN","DSIO9",114,0)
 . . S IEN=$O(^DSIO(19641.11,"C",DFN,NAM,""))
"RTN","DSIO9",115,0)
 . . Q:'$G(SEX)&($$GET1^DIQ(19641.11,IEN_",",.02,"I")'="M")
"RTN","DSIO9",116,0)
 . . S RET(CT)=$$P1(IEN),CT=CT+1
"RTN","DSIO9",117,0)
 . S SP=$$SPOUSE(DFN) D:SP PO(SP)
"RTN","DSIO9",118,0)
 ; *** Find the PERSON
"RTN","DSIO9",119,0)
 I $G(FIND),$D(^DSIO(19641.11,FIND)) S RET(1)=$$P1(FIND) D P3 Q
"RTN","DSIO9",120,0)
 I $G(FIND)'="" S IEN=$O(^DSIO(19641.11,"B",$$UP^XLFSTR(FIND),"")) D  Q
"RTN","DSIO9",121,0)
 . I IEN S RET(1)=$$P1(IEN) D P3
"RTN","DSIO9",122,0)
 Q
"RTN","DSIO9",123,0)
 ;
"RTN","DSIO9",124,0)
P1(IEN) ; Continue with 19641.11
"RTN","DSIO9",125,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO9",126,0)
 D GETS^DIQ(19641.11,IEN_",","*","IE","OUT")
"RTN","DSIO9",127,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO9",128,0)
 S STR=IEN_U
"RTN","DSIO9",129,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U                     ; NAME
"RTN","DSIO9",130,0)
 S STR=STR_FLD(.02,"E")_U                                   ; SEX
"RTN","DSIO9",131,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U                ; DATE OF BIRTH
"RTN","DSIO9",132,0)
 S STR=STR_FLD(.04,"I")_U                                   ; EDUCATION
"RTN","DSIO9",133,0)
 S STR=STR_FLD(1.1,"I")_U                                   ; STREET 1
"RTN","DSIO9",134,0)
 S STR=STR_FLD(1.2,"I")_U                                   ; STREET 2
"RTN","DSIO9",135,0)
 S STR=STR_FLD(1.3,"I")_U                                   ; STREET 3
"RTN","DSIO9",136,0)
 S STR=STR_FLD(1.4,"I")_U                                   ; CITY
"RTN","DSIO9",137,0)
 S STR=STR_$$GET1^DIQ(5,FLD(1.5,"I")_",",1)_U               ; STATE
"RTN","DSIO9",138,0)
 S STR=STR_FLD(1.6,"I")_U                                   ; ZIP
"RTN","DSIO9",139,0)
 S STR=STR_$$PHONE^DSIO1(19641.11,IEN)_U                    ; PHONE NUMBERS 
"RTN","DSIO9",140,0)
 S STR=STR_FLD(.05,"E")_U                                   ; PATIENT
"RTN","DSIO9",141,0)
 S STR=STR_FLD(.05,"I")                                     ; DFN
"RTN","DSIO9",142,0)
 Q:'$G(SEX) STR
"RTN","DSIO9",143,0)
 S STR=STR_U_FLD(.06,"E")_U                                 ; RELATIONSHIP
"RTN","DSIO9",144,0)
 S STR=STR_FLD(.07,"I")_U                                   ; STATUS
"RTN","DSIO9",145,0)
 S STR=STR_$$DG(IEN)                                        ; DIAGNOSIS
"RTN","DSIO9",146,0)
 Q STR
"RTN","DSIO9",147,0)
 ;
"RTN","DSIO9",148,0)
PO(OBJECT) ; Continue with Other
"RTN","DSIO9",149,0)
 N FLE,IEN,FLDS,OUT,LINE,FLD
"RTN","DSIO9",150,0)
 S FLE=$TR($P($G(OBJECT),"(",2),",") I OBJECT[";DPT(" S FLE=2
"RTN","DSIO9",151,0)
 S IEN=+$G(OBJECT)
"RTN","DSIO9",152,0)
 S:FLE=2 FLDS=".01;.02;.03;.111;.112;.113;.114;.115;.116;.131;.134;.132"
"RTN","DSIO9",153,0)
 D GETS^DIQ(FLE,IEN_",",$S($D(FLDS):FLDS,1:"*"),"IE","OUT")
"RTN","DSIO9",154,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO9",155,0)
 I FLE=2 S RET($O(RET(""),-1)+1)=$$PO2 Q
"RTN","DSIO9",156,0)
 I FLE=408.13 S RET($O(RET(""),-1)+1)=$$PO408
"RTN","DSIO9",157,0)
 Q
"RTN","DSIO9",158,0)
 ;
"RTN","DSIO9",159,0)
PO2() ; Continue with Other for 2
"RTN","DSIO9",160,0)
 N STR
"RTN","DSIO9",161,0)
 S STR="S^"
"RTN","DSIO9",162,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U                     ; NAME
"RTN","DSIO9",163,0)
 S STR=STR_FLD(.02,"E")_U                                   ; SEX
"RTN","DSIO9",164,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U                ; DATE OF BIRTH
"RTN","DSIO9",165,0)
 S STR=STR_U                                                ; EDUCATION
"RTN","DSIO9",166,0)
 S STR=STR_FLD(.111,"I")_U                                  ; STREET 1
"RTN","DSIO9",167,0)
 S STR=STR_FLD(.112,"I")_U                                  ; STREET 2
"RTN","DSIO9",168,0)
 S STR=STR_FLD(.113,"I")_U                                  ; STREET 3
"RTN","DSIO9",169,0)
 S STR=STR_FLD(.114,"I")_U                                  ; CITY
"RTN","DSIO9",170,0)
 S STR=STR_$$GET1^DIQ(5,FLD(.115,"I")_",",1)_U              ; STATE
"RTN","DSIO9",171,0)
 S STR=STR_FLD(.116,"I")_U                                  ; ZIP
"RTN","DSIO9",172,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(.131,"I"))_U                  ; PHONE (HOME)
"RTN","DSIO9",173,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(.132,"I"))_U                  ; PHONE (WORK)
"RTN","DSIO9",174,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(.134,"I"))_U                  ; PHONE (CELL)
"RTN","DSIO9",175,0)
 S STR=STR_U                                                ; PHONE (FAX)
"RTN","DSIO9",176,0)
 S STR=STR_$$GET1^DIQ(2,DFN_",",.01)_U                      ; PATIENT
"RTN","DSIO9",177,0)
 S STR=STR_DFN                                              ; DFN
"RTN","DSIO9",178,0)
 Q STR
"RTN","DSIO9",179,0)
 ;
"RTN","DSIO9",180,0)
PO408() ; Continue with Other for 408.13
"RTN","DSIO9",181,0)
 N STR
"RTN","DSIO9",182,0)
 S STR="S^"
"RTN","DSIO9",183,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U                     ; NAME
"RTN","DSIO9",184,0)
 S STR=STR_FLD(.02,"E")_U                                   ; SEX
"RTN","DSIO9",185,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U                ; DATE OF BIRTH
"RTN","DSIO9",186,0)
 S STR=STR_U                                                ; EDUCATION
"RTN","DSIO9",187,0)
 S STR=STR_FLD(1.2,"I")_U                                   ; STREET 1
"RTN","DSIO9",188,0)
 S STR=STR_FLD(1.3,"I")_U                                   ; STREET 2
"RTN","DSIO9",189,0)
 S STR=STR_FLD(1.4,"I")_U                                   ; STREET 3
"RTN","DSIO9",190,0)
 S STR=STR_FLD(1.5,"I")_U                                   ; CITY
"RTN","DSIO9",191,0)
 S STR=STR_$$GET1^DIQ(5,FLD(1.6,"I")_",",1)_U               ; STATE
"RTN","DSIO9",192,0)
 S STR=STR_FLD(1.7,"I")_U                                   ; ZIP
"RTN","DSIO9",193,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(1.8,"I"))_U                   ; PHONE (HOME)
"RTN","DSIO9",194,0)
 S STR=STR_U                                                ; PHONE (WORK)
"RTN","DSIO9",195,0)
 S STR=STR_U                                                ; PHONE (CELL)
"RTN","DSIO9",196,0)
 S STR=STR_U                                                ; PHONE (FAX)
"RTN","DSIO9",197,0)
 S STR=STR_$$GET1^DIQ(2,DFN_",",.01)_U                      ; PATIENT
"RTN","DSIO9",198,0)
 S STR=STR_DFN                                              ; DFN
"RTN","DSIO9",199,0)
 Q STR
"RTN","DSIO9",200,0)
 ;
"RTN","DSIO9",201,0)
DG(IEN) ; Add DIAGNOSIS to DSIO PERSON return
"RTN","DSIO9",202,0)
 N OUT,CT,FLD,STR
"RTN","DSIO9",203,0)
 D GETS^DIQ(19641.11,IEN_",","3*",,"OUT")
"RTN","DSIO9",204,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S STR=$G(STR)_@CT_"|"
"RTN","DSIO9",205,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO9",206,0)
 ;
"RTN","DSIO9",207,0)
P2(IEN) ; Check if associated patient
"RTN","DSIO9",208,0)
 I $$GET1^DIQ(19641.11,IEN_",",.05,"I")'=DFN D  Q 0
"RTN","DSIO9",209,0)
 . S RET(0)="-1^PERSON not associated with PATIENT."
"RTN","DSIO9",210,0)
 Q 1
"RTN","DSIO9",211,0)
 ;
"RTN","DSIO9",212,0)
P3 ; End
"RTN","DSIO9",213,0)
 S:$O(RET(""),-1) RET(0)=$O(RET(""),-1)
"RTN","DSIO9",214,0)
 Q
"RTN","DSIO9",215,0)
 ;
"RTN","DSIO9",216,0)
SPOUSE(DFN) ; Get Spouse
"RTN","DSIO9",217,0)
 Q:'$G(DFN) 0
"RTN","DSIO9",218,0)
 N IEN,FLG
"RTN","DSIO9",219,0)
 S IEN=0 F  S IEN=$O(^DGPR(408.12,"B",DFN,IEN)) Q:'IEN  D  Q:$D(FLG)
"RTN","DSIO9",220,0)
 . Q:$$GET1^DIQ(408.12,IEN_",",.02)'="SPOUSE"
"RTN","DSIO9",221,0)
 . S FLG=$$GET1^DIQ(408.12,IEN_",",.03,"I")
"RTN","DSIO9",222,0)
 Q $S($D(FLG):FLG,1:0)
"RTN","DSIO9",223,0)
 ;
"RTN","DSIO9",224,0)
SPN(DFN) ; Return Spouse Name
"RTN","DSIO9",225,0)
 N SP S SP=$$SPOUSE($G(DFN)) Q:'SP ""
"RTN","DSIO9",226,0)
 Q $$GET1^DIQ($S(SP[";DPT(":2,1:$TR($P(SP,"(",2),",")),+SP,.01)
"RTN","DSIO9",227,0)
 ;
"RTN","DSIO9",228,0)
 ; --------------------- PREGNANCY HISTORY FOF Input Transform
"RTN","DSIO9",229,0)
 ;
"RTN","DSIO9",230,0)
FOF(DFN,FOF) ; Get DSIO PERSON IEN
"RTN","DSIO9",231,0)
 N RET
"RTN","DSIO9",232,0)
 S FOF=$$UP^XLFSTR($G(FOF))
"RTN","DSIO9",233,0)
 Q:FOF=""!(FOF="U")!(FOF="UNSPECIFIED") "UNSPECIFIED"
"RTN","DSIO9",234,0)
 D PERSON(.RET,$G(DFN),FOF) Q:'$D(RET(1)) "UNSPECIFIED"
"RTN","DSIO9",235,0)
 I $P($G(RET(1)),U)!($P($G(RET(1)),U)="S") Q $$UP^XLFSTR($P(RET(1),U,2))_"|"_RET(1)
"RTN","DSIO9",236,0)
 Q "UNSPECIFIED"
"SEC","^DIC",19641,19641,0,"AUDIT")
@
"SEC","^DIC",19641,19641,0,"DD")
@
"SEC","^DIC",19641.1,19641.1,0,"AUDIT")
@
"SEC","^DIC",19641.1,19641.1,0,"DD")
@
"SEC","^DIC",19641.11,19641.11,0,"AUDIT")
@
"SEC","^DIC",19641.11,19641.11,0,"DD")
@
"SEC","^DIC",19641.112,19641.112,0,"AUDIT")
@
"SEC","^DIC",19641.112,19641.112,0,"DD")
@
"SEC","^DIC",19641.12,19641.12,0,"AUDIT")
@
"SEC","^DIC",19641.12,19641.12,0,"DD")
@
"SEC","^DIC",19641.12,19641.12,0,"DEL")

"SEC","^DIC",19641.12,19641.12,0,"LAYGO")

"SEC","^DIC",19641.12,19641.12,0,"RD")

"SEC","^DIC",19641.12,19641.12,0,"WR")

"SEC","^DIC",19641.13,19641.13,0,"AUDIT")
@
"SEC","^DIC",19641.13,19641.13,0,"DD")
@
"SEC","^DIC",19641.2,19641.2,0,"AUDIT")
@
"SEC","^DIC",19641.2,19641.2,0,"DD")
@
"SEC","^DIC",19641.5,19641.5,0,"AUDIT")
@
"SEC","^DIC",19641.5,19641.5,0,"DD")
@
"SEC","^DIC",19641.6,19641.6,0,"AUDIT")
@
"SEC","^DIC",19641.6,19641.6,0,"DD")
@
"SEC","^DIC",19641.83,19641.83,0,"AUDIT")
@
"SEC","^DIC",19641.83,19641.83,0,"DD")
@
"VER")
8.0^22.0
"^DD",19641,19641,0)
FIELD^^3^31
"^DD",19641,19641,0,"DDA")
N
"^DD",19641,19641,0,"DT")
3150401
"^DD",19641,19641,0,"IX","AC",19641,1.2)

"^DD",19641,19641,0,"IX","B",19641,.01)

"^DD",19641,19641,0,"NM","DSIO PATIENT")

"^DD",19641,19641,0,"PT",19641.01,.02)

"^DD",19641,19641,0,"PT",19641.03,.02)

"^DD",19641,19641,0,"PT",19641.11,.05)

"^DD",19641,19641,0,"PT",19641.112,.02)

"^DD",19641,19641,0,"PT",19641.12,.02)

"^DD",19641,19641,0,"PT",19641.12,.04)

"^DD",19641,19641,0,"PT",19641.13,.03)

"^DD",19641,19641,0,"PT",19641.2,.01)

"^DD",19641,19641,0,"PT",19641.6,.02)

"^DD",19641,19641,0,"PT",19641.83,.01)

"^DD",19641,19641,.01,0)
PATIENT^R*P2'X^DPT(^0;1^S DIC("S")="I $P(^DPT(Y,0),U,2)=""F""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X S:$D(X) DINUM=X
"^DD",19641,19641,.01,1,0)
^.1
"^DD",19641,19641,.01,1,1,0)
19641^B
"^DD",19641,19641,.01,1,1,1)
S ^DSIO(19641,"B",$E(X,1,30),DA)=""
"^DD",19641,19641,.01,1,1,2)
K ^DSIO(19641,"B",$E(X,1,30),DA)
"^DD",19641,19641,.01,3)

"^DD",19641,19641,.01,4)

"^DD",19641,19641,.01,12)
Only female patients.
"^DD",19641,19641,.01,12.1)
S DIC("S")="I $P(^DPT(Y,0),U,2)=""F"""
"^DD",19641,19641,.01,"DT")
3131118
"^DD",19641,19641,.02,0)
TRACKING^CJ10^^ ; ^S X=$$TRACK^DSIO4(DA)
"^DD",19641,19641,.02,9)
^
"^DD",19641,19641,.02,9.01)

"^DD",19641,19641,.02,9.1)
S X=$$TRACK^DSIO4(DA)
"^DD",19641,19641,.03,0)
NEXT CONTACT DATE^DO^^0;3^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.03,2)
S Y(0)=Y S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.03,2.1)
S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.03,"DT")
3140918
"^DD",19641,19641,.04,0)
GP^F^^0;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641,19641,.04,3)
Answer must be 1-20 characters in length.
"^DD",19641,19641,.04,"DT")
3140731
"^DD",19641,19641,.05,0)
LAST CONTACT DATE^DO^^0;5^S %DT="ETX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.05,2)
S Y(0)=Y S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.05,2.1)
S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.05,"DT")
3140918
"^DD",19641,19641,.06,0)
NEXT CHECKLIST DATE^DO^^0;6^S %DT="ETX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.06,2)
S Y(0)=Y S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.06,2.1)
S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.06,"DT")
3140918
"^DD",19641,19641,1.1,0)
MENARCHE^NJ3,0^^1;1^K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,1.1,3)
Enter the age of the patient when she first experienced her first menstrual cycle.
"^DD",19641,19641,1.1,"DT")
3140925
"^DD",19641,19641,1.2,0)
LAST MENSTRUAL PERIOD^*P19641.01O^DSIO(19641.01,^1;2^S DIC("S")="I $P(^(0),U,2)=DA" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641,19641,1.2,1,0)
^.1
"^DD",19641,19641,1.2,1,1,0)
19641^AC^MUMPS
"^DD",19641,19641,1.2,1,1,1)
D MH1^DSIO4($G(DA),$G(X))
"^DD",19641,19641,1.2,1,1,2)
D MH1^DSIO4($G(DA),$G(X))
"^DD",19641,19641,1.2,1,1,"DT")
3141025
"^DD",19641,19641,1.2,2)
S Y(0)=Y S Y=$$FMTE^XLFDT($$GET1^DIQ(19641.01,Y_",",.01,"I"),"5Z")
"^DD",19641,19641,1.2,2.1)
S Y=$$FMTE^XLFDT($$GET1^DIQ(19641.01,Y_",",.01,"I"),"5Z")
"^DD",19641,19641,1.2,12)
Only menstrual logs belonging to this patient.
"^DD",19641,19641,1.2,12.1)
S DIC("S")="I $P(^(0),U,2)=DA"
"^DD",19641,19641,1.2,"DT")
3141025
"^DD",19641,19641,2.1,0)
TOTAL PREGNANCIES^NJ2,0^^2;1^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.1,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.1,"DT")
3141030
"^DD",19641,19641,2.2,0)
FULL TERM^NJ2,0^^2;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.2,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.2,"DT")
3141030
"^DD",19641,19641,2.3,0)
PREMATURE^NJ2,0^^2;3^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.3,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.3,"DT")
3141030
"^DD",19641,19641,2.4,0)
AB. INDUCED^NJ2,0^^2;4^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.4,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.4,"DT")
3141030
"^DD",19641,19641,2.5,0)
AB. SPONTANEOUS^NJ2,0^^2;5^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.5,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.5,"DT")
3141030
"^DD",19641,19641,2.6,0)
ECTOPICS^NJ2,0^^2;6^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.6,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.6,"DT")
3141030
"^DD",19641,19641,2.7,0)
MULTIPLE BIRTHS^NJ2,0^^2;7^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.7,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.7,"DT")
3141030
"^DD",19641,19641,2.8,0)
LIVING^NJ2,0^^2;8^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.8,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.8,"DT")
3141030
"^DD",19641,19641,3,0)
LACTATION HISTORY^19641.04D^^3;0
"^DD",19641,19641,999.01,0)
SSN^CJ15^^ ; ^X ^DD(19641,999.01,9.2) S Y(19641,999.01,101)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P(Y(19641,999.01,101),U,9) S D0=Y(19641,999.01,80)
"^DD",19641,19641,999.01,9)
^
"^DD",19641,19641,999.01,9.01)
2^.09;19641^.01
"^DD",19641,19641,999.01,9.1)
.01:.09
"^DD",19641,19641,999.01,9.2)
S Y(19641,999.01,80)=$G(D0),Y(19641,999.01,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.01,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.02,0)
DOB^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(2,DA_",",.03,"I"),"5Z")
"^DD",19641,19641,999.02,9)
^
"^DD",19641,19641,999.02,9.01)

"^DD",19641,19641,999.02,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(2,DA_",",.03,"I"),"5Z")
"^DD",19641,19641,999.02,9.2)
S Y(19641,999.02,80)=$G(D0),Y(19641,999.02,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.02,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.02,"DT")
3140918
"^DD",19641,19641,999.03,0)
PHONE NUMBER [RESIDENCE]^CJ30^^ ; ^S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.131))
"^DD",19641,19641,999.03,9)
^
"^DD",19641,19641,999.03,9.01)

"^DD",19641,19641,999.03,9.1)
S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.131))
"^DD",19641,19641,999.03,9.2)
S Y(19641,999.03,80)=$G(D0),Y(19641,999.03,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.03,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.03,"DT")
3140731
"^DD",19641,19641,999.04,0)
PHONE NUMBER [WORK]^CJ30^^ ; ^S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.132))
"^DD",19641,19641,999.04,9)
^
"^DD",19641,19641,999.04,9.01)

"^DD",19641,19641,999.04,9.1)
S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.132))
"^DD",19641,19641,999.04,9.2)
S Y(19641,999.04,80)=$G(D0),Y(19641,999.04,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.04,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.04,"DT")
3140731
"^DD",19641,19641,999.05,0)
PHONE NUMBER [CELLULAR]^CJ30^^ ; ^S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.134))
"^DD",19641,19641,999.05,9)
^
"^DD",19641,19641,999.05,9.01)

"^DD",19641,19641,999.05,9.1)
S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.134))
"^DD",19641,19641,999.05,9.2)
S Y(19641,999.05,80)=$G(D0),Y(19641,999.05,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.05,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.05,"DT")
3140731
"^DD",19641,19641,999.06,0)
PREGNANT^CJ8^^ ; ^S X=$$PSTAT^DSIO4(DA)
"^DD",19641,19641,999.06,9)
^
"^DD",19641,19641,999.06,9.01)

"^DD",19641,19641,999.06,9.1)
S X=$$PSTAT^DSIO4(DA)
"^DD",19641,19641,999.06,"DT")
3141024
"^DD",19641,19641,999.07,0)
EDD^CJ15^^ ; ^S X=$$EDDC^DSIO4($G(DA))
"^DD",19641,19641,999.07,9)
^
"^DD",19641,19641,999.07,9.01)

"^DD",19641,19641,999.07,9.1)
S X=$$EDDC^DSIO4($G(DA))
"^DD",19641,19641,999.07,"DT")
3141025
"^DD",19641,19641,999.08,0)
LAST PREGNANCY END^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGE^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.08,9)
^
"^DD",19641,19641,999.08,9.01)

"^DD",19641,19641,999.08,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGE^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.08,"DT")
3140918
"^DD",19641,19641,999.09,0)
LAST PREGNANCY WITH LIVE BIRTH^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGEL^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.09,9)
^
"^DD",19641,19641,999.09,9.01)

"^DD",19641,19641,999.09,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGEL^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.09,"DT")
3140918
"^DD",19641,19641,999.1,0)
MEDICALLY UNABLE TO CONCEIVE^CJ8^^ ; ^S X=$$GET1^DIQ(790,DA_",",41)
"^DD",19641,19641,999.1,9)
^
"^DD",19641,19641,999.1,9.01)

"^DD",19641,19641,999.1,9.1)
S X=$$GET1^DIQ(790,DA_",",41)
"^DD",19641,19641,999.11,0)
TRYING TO BECOME PREGNANT^CJ8^^ ; ^S X=$$GET1^DIQ(790,DA_",",43)
"^DD",19641,19641,999.11,9)
^
"^DD",19641,19641,999.11,9.01)

"^DD",19641,19641,999.11,9.1)
S X=$$GET1^DIQ(790,DA_",",43)
"^DD",19641,19641,999.11,"DT")
3141024
"^DD",19641,19641,999.12,0)
CURRENT PREGNANCY^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PG^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641,999.12,9)
^
"^DD",19641,19641,999.12,9.01)

"^DD",19641,19641,999.12,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PG^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641,999.12,"DT")
3141008
"^DD",19641,19641,999.13,0)
CURRENTLY LACTATING^CJ8^^ ; ^S X=$$LACT^DSIO4(DA)
"^DD",19641,19641,999.13,9)
^
"^DD",19641,19641,999.13,9.01)

"^DD",19641,19641,999.13,9.1)
S X=$$LACT^DSIO4(DA)
"^DD",19641,19641,999.13,"DT")
3141024
"^DD",19641,19641,999.14,0)
LAST PREGNANCY^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGL^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641,999.14,9)
^
"^DD",19641,19641,999.14,9.01)

"^DD",19641,19641,999.14,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGL^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641.04,0)
LACTATION HISTORY SUB-FIELD^^4^3
"^DD",19641,19641.04,0,"DT")
3150401
"^DD",19641,19641.04,0,"IX","B",19641.04,.01)

"^DD",19641,19641.04,0,"NM","LACTATION HISTORY")

"^DD",19641,19641.04,0,"UP")
19641
"^DD",19641,19641.04,.01,0)
LACTATION DATE^MD^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641.04,.01,1,0)
^.1
"^DD",19641,19641.04,.01,1,1,0)
19641.04^B
"^DD",19641,19641.04,.01,1,1,1)
S ^DSIO(19641,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",19641,19641.04,.01,1,1,2)
K ^DSIO(19641,DA(1),3,"B",$E(X,1,30),DA)
"^DD",19641,19641.04,.01,"DT")
3150401
"^DD",19641,19641.04,.02,0)
END DATE^D^^0;2^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641.04,.02,"DT")
3150401
"^DD",19641,19641.04,4,0)
ENTERED BY^P200'^VA(200,^4;1^Q
"^DD",19641,19641.04,4,"DT")
3150401
"^DD",19641.1,19641.1,0)
FIELD^^2^11
"^DD",19641.1,19641.1,0,"DDA")
N
"^DD",19641.1,19641.1,0,"DT")
3150424
"^DD",19641.1,19641.1,0,"ID",.02)
W "   ",@("$P($P($C(59)_$S($D(^DD(19641.1,.02,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,2)_"":"",2),$C(59),1)")
"^DD",19641.1,19641.1,0,"IX","B",19641.1,.01)

"^DD",19641.1,19641.1,0,"NM","DSIO EXTERNAL ENTITIES")

"^DD",19641.1,19641.1,0,"PT",19641.13,.08)

"^DD",19641.1,19641.1,0,"PT",19641.13,.09)

"^DD",19641.1,19641.1,.01,0)
NAME^RF^^0;1^K:$L(X)>100!($L(X)<1) X
"^DD",19641.1,19641.1,.01,1,0)
^.1
"^DD",19641.1,19641.1,.01,1,1,0)
19641.1^B
"^DD",19641.1,19641.1,.01,1,1,1)
S ^DSIO(19641.1,"B",$E(X,1,30),DA)=""
"^DD",19641.1,19641.1,.01,1,1,2)
K ^DSIO(19641.1,"B",$E(X,1,30),DA)
"^DD",19641.1,19641.1,.01,3)
Answer must be 1-100 characters in length.
"^DD",19641.1,19641.1,.01,"DT")
3140127
"^DD",19641.1,19641.1,.02,0)
TYPE^RS^F:FACILITY;P:PROVIDER;^0;2^Q
"^DD",19641.1,19641.1,.02,"DT")
3140127
"^DD",19641.1,19641.1,.03,0)
INACTIVE^S^0:NO;1:YES;^0;3^Q
"^DD",19641.1,19641.1,.03,"DT")
3140127
"^DD",19641.1,19641.1,.04,0)
PRIMARY CONTACT^F^^0;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.1,19641.1,.04,3)
Answer must be 1-30 characters in length.
"^DD",19641.1,19641.1,.04,"DT")
3140710
"^DD",19641.1,19641.1,1.1,0)
STREET ADDRESS 1^F^^1;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.1,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.1,"DT")
3140127
"^DD",19641.1,19641.1,1.2,0)
STREET ADDRESS 2^F^^1;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.2,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.2,"DT")
3140127
"^DD",19641.1,19641.1,1.3,0)
STREET ADDRESS 3^F^^1;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.3,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.3,"DT")
3140127
"^DD",19641.1,19641.1,1.4,0)
CITY^F^^1;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641.1,19641.1,1.4,3)
Answer must be 1-20 characters in length.
"^DD",19641.1,19641.1,1.4,21,0)
^^3^3^3140127^
"^DD",19641.1,19641.1,1.4,21,1,0)
Enter the city in which this applicant resides [1-20 characters]. If the 
"^DD",19641.1,19641.1,1.4,21,2,0)
space provided is not sufficient please abbreviate the city to the best 
"^DD",19641.1,19641.1,1.4,21,3,0)
of your ability. 
"^DD",19641.1,19641.1,1.4,"DT")
3140127
"^DD",19641.1,19641.1,1.5,0)
STATE^*P5'X^DIC(5,^1;5^S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.1,19641.1,1.5,3)
Select from the available listing the state in which this entity resides.
"^DD",19641.1,19641.1,1.5,12)
This screen prevents selection of entires that are valid US states or possessions.
"^DD",19641.1,19641.1,1.5,12.1)
S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1"
"^DD",19641.1,19641.1,1.5,21,0)
^.001^1^1^3140417^^
"^DD",19641.1,19641.1,1.5,21,1,0)
From the available listing choose the state in which this entity resides.
"^DD",19641.1,19641.1,1.5,"DT")
3140617
"^DD",19641.1,19641.1,1.6,0)
ZIP CODE^FX^^1;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>5!($L(X)<5)!'(X?5N) X
"^DD",19641.1,19641.1,1.6,3)
Enter the zip code for the city in which this entity resides.
"^DD",19641.1,19641.1,1.6,21,0)
^^1^1^3140127^
"^DD",19641.1,19641.1,1.6,21,1,0)
Enter the zip code [5 numerics] for the city in which this entity resides.
"^DD",19641.1,19641.1,1.6,"DT")
3140127
"^DD",19641.1,19641.1,2,0)
PHONE NUMBERS^19641.15S^^2;0
"^DD",19641.1,19641.15,0)
PHONE NUMBERS SUB-FIELD^^.02^2
"^DD",19641.1,19641.15,0,"DT")
3150424
"^DD",19641.1,19641.15,0,"IX","B",19641.15,.01)

"^DD",19641.1,19641.15,0,"NM","PHONE NUMBERS")

"^DD",19641.1,19641.15,0,"UP")
19641.1
"^DD",19641.1,19641.15,.01,0)
PHONE TYPE^MS^H:HOME;WP:WORK;MC:MOBILE;FAX:FAX;O:OTHER;^0;1^Q
"^DD",19641.1,19641.15,.01,1,0)
^.1
"^DD",19641.1,19641.15,.01,1,1,0)
19641.15^B
"^DD",19641.1,19641.15,.01,1,1,1)
S ^DSIO(19641.1,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.1,19641.15,.01,1,1,2)
K ^DSIO(19641.1,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.1,19641.15,.01,3)

"^DD",19641.1,19641.15,.01,"DT")
3150424
"^DD",19641.1,19641.15,.02,0)
NUMBER^NJ10,0^^0;2^K:+X'=X!(X>9999999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.1,19641.15,.02,3)
Type a number between 0 and 9999999999, 0 decimal digits.
"^DD",19641.1,19641.15,.02,"DT")
3150424
"^DD",19641.11,19641.11,0)
FIELD^^3^15
"^DD",19641.11,19641.11,0,"DDA")
N
"^DD",19641.11,19641.11,0,"DT")
3150519
"^DD",19641.11,19641.11,0,"ID",.02)
W ""
"^DD",19641.11,19641.11,0,"IX","B",19641.11,.01)

"^DD",19641.11,19641.11,0,"NM","DSIO PERSON")

"^DD",19641.11,19641.11,.01,0)
NAME^RF^^0;1^K:$L(X)>40!($L(X)<3) X
"^DD",19641.11,19641.11,.01,1,0)
^.1
"^DD",19641.11,19641.11,.01,1,1,0)
19641.11^B
"^DD",19641.11,19641.11,.01,1,1,1)
S ^DSIO(19641.11,"B",$E(X,1,30),DA)=""
"^DD",19641.11,19641.11,.01,1,1,2)
K ^DSIO(19641.11,"B",$E(X,1,30),DA)
"^DD",19641.11,19641.11,.01,3)
Name must be in the format LASNAME,FIRSTNAME MIDDLE where MIDDLE is optional.
"^DD",19641.11,19641.11,.01,"DT")
3140606
"^DD",19641.11,19641.11,.02,0)
SEX^S^M:MALE;F:FEMALE;U:UNKNOWN;^0;2^Q
"^DD",19641.11,19641.11,.02,"DT")
3140506
"^DD",19641.11,19641.11,.03,0)
DATE OF BIRTH^D^^0;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.11,19641.11,.03,"DT")
3140417
"^DD",19641.11,19641.11,.04,0)
EDUCATION (YRS)^NJ3,0^^0;4^K:+X'=X!(X>125)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.11,19641.11,.04,3)
Type a number between 0 and 125, 0 decimal digits.
"^DD",19641.11,19641.11,.04,"DT")
3140424
"^DD",19641.11,19641.11,.05,0)
PATIENT^RP19641^DSIO(19641,^0;5^Q
"^DD",19641.11,19641.11,.05,"DT")
3141003
"^DD",19641.11,19641.11,.06,0)
RELATIONSHIP^P408.11'^DG(408.11,^0;6^Q
"^DD",19641.11,19641.11,.06,"DT")
3141003
"^DD",19641.11,19641.11,.07,0)
STATUS^S^L:LIVING;D:DECEASED;^0;7^Q
"^DD",19641.11,19641.11,.07,"DT")
3140923
"^DD",19641.11,19641.11,1.1,0)
STREET ADDRESS [LINE 1]^F^^1;1^K:$L(X)>30!($L(X)<1) X
"^DD",19641.11,19641.11,1.1,3)
Answer must be 1-30 characters in length.
"^DD",19641.11,19641.11,1.1,"DT")
3140610
"^DD",19641.11,19641.11,1.2,0)
STREET ADDRESS [LINE 2]^F^^1;2^K:$L(X)>30!($L(X)<1) X
"^DD",19641.11,19641.11,1.2,3)
Answer must be 1-30 characters in length.
"^DD",19641.11,19641.11,1.2,"DT")
3140610
"^DD",19641.11,19641.11,1.3,0)
STREET ADDRESS [LINE 3]^F^^1;3^K:$L(X)>30!($L(X)<1) X
"^DD",19641.11,19641.11,1.3,3)
Answer must be 1-30 characters in length.
"^DD",19641.11,19641.11,1.3,"DT")
3140610
"^DD",19641.11,19641.11,1.4,0)
CITY^F^^1;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641.11,19641.11,1.4,3)
Answer must be 1-20 characters in length.
"^DD",19641.11,19641.11,1.4,"DT")
3140415
"^DD",19641.11,19641.11,1.5,0)
STATE^*P5'X^DIC(5,^1;5^S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.11,19641.11,1.5,3)
Select from the available listing the state in which this person resides.
"^DD",19641.11,19641.11,1.5,12)
This screen prevents selection of entires that are valid US states or possessions.
"^DD",19641.11,19641.11,1.5,12.1)
S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1"
"^DD",19641.11,19641.11,1.5,"DT")
3140417
"^DD",19641.11,19641.11,1.6,0)
ZIP CODE^FX^^1;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>5!($L(X)<5)!'(X?5N) X
"^DD",19641.11,19641.11,1.6,3)
Answer must be 5 characters in length.
"^DD",19641.11,19641.11,1.6,"DT")
3140415
"^DD",19641.11,19641.11,2,0)
PHONE NUMBERS^19641.14S^^2;0
"^DD",19641.11,19641.11,3,0)
DIAGNOSIS^19641.113^^3;0
"^DD",19641.11,19641.113,0)
DIAGNOSIS SUB-FIELD^^.01^1
"^DD",19641.11,19641.113,0,"DT")
3150519
"^DD",19641.11,19641.113,0,"IX","B",19641.113,.01)

"^DD",19641.11,19641.113,0,"NM","DIAGNOSIS")

"^DD",19641.11,19641.113,0,"UP")
19641.11
"^DD",19641.11,19641.113,.01,0)
DIAGNOSIS^MF^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.11,19641.113,.01,1,0)
^.1
"^DD",19641.11,19641.113,.01,1,1,0)
19641.113^B
"^DD",19641.11,19641.113,.01,1,1,1)
S ^DSIO(19641.11,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",19641.11,19641.113,.01,1,1,2)
K ^DSIO(19641.11,DA(1),3,"B",$E(X,1,30),DA)
"^DD",19641.11,19641.113,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.11,19641.113,.01,"DT")
3150519
"^DD",19641.11,19641.14,0)
PHONE NUMBERS SUB-FIELD^^.02^2
"^DD",19641.11,19641.14,0,"DT")
3150519
"^DD",19641.11,19641.14,0,"IX","B",19641.14,.01)

"^DD",19641.11,19641.14,0,"NM","PHONE NUMBERS")

"^DD",19641.11,19641.14,0,"UP")
19641.11
"^DD",19641.11,19641.14,.01,0)
PHONE TYPE^MS^H:HOME;WP:WORK;MC:MOBILE;FAX:FAX;O:OTHER;^0;1^Q
"^DD",19641.11,19641.14,.01,1,0)
^.1
"^DD",19641.11,19641.14,.01,1,1,0)
19641.14^B
"^DD",19641.11,19641.14,.01,1,1,1)
S ^DSIO(19641.11,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.11,19641.14,.01,1,1,2)
K ^DSIO(19641.11,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.11,19641.14,.01,"DT")
3150519
"^DD",19641.11,19641.14,.02,0)
NUMBER^NJ10,0^^0;2^K:+X'=X!(X>9999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",19641.11,19641.14,.02,3)
Type a number between 1 and 9999999999, 0 decimal digits.
"^DD",19641.11,19641.14,.02,"DT")
3150519
"^DD",19641.112,19641.112,0)
FIELD^^.07^7
"^DD",19641.112,19641.112,0,"DDA")
N
"^DD",19641.112,19641.112,0,"DT")
3141218
"^DD",19641.112,19641.112,0,"IX","B",19641.112,.01)

"^DD",19641.112,19641.112,0,"IX","P",19641.112,.02)

"^DD",19641.112,19641.112,0,"NM","DSIO FETUS/BABY")

"^DD",19641.112,19641.112,0,"PT",19641.12,.02)

"^DD",19641.112,19641.112,0,"PT",19641.12,.04)

"^DD",19641.112,19641.112,0,"PT",19641.132,.01)

"^DD",19641.112,19641.112,.01,0)
NUMBER^RNJ1,0^^0;1^K:+X'=X!(X>9)!(X<1)!(X?.E1"."1N.N) X
"^DD",19641.112,19641.112,.01,1,0)
^.1
"^DD",19641.112,19641.112,.01,1,1,0)
19641.112^B
"^DD",19641.112,19641.112,.01,1,1,1)
S ^DSIO(19641.112,"B",$E(X,1,30),DA)=""
"^DD",19641.112,19641.112,.01,1,1,2)
K ^DSIO(19641.112,"B",$E(X,1,30),DA)
"^DD",19641.112,19641.112,.01,3)
Type a number between 1 and 9, 0 decimal digits.
"^DD",19641.112,19641.112,.01,"DT")
3140610
"^DD",19641.112,19641.112,.02,0)
PATIENT^RP19641I^DSIO(19641,^0;2^Q
"^DD",19641.112,19641.112,.02,1,0)
^.1
"^DD",19641.112,19641.112,.02,1,1,0)
19641.112^P
"^DD",19641.112,19641.112,.02,1,1,1)
S ^DSIO(19641.112,"P",$E(X,1,30),DA)=""
"^DD",19641.112,19641.112,.02,1,1,2)
K ^DSIO(19641.112,"P",$E(X,1,30),DA)
"^DD",19641.112,19641.112,.02,1,1,"DT")
3140518
"^DD",19641.112,19641.112,.02,"DT")
3140610
"^DD",19641.112,19641.112,.03,0)
PREGNANCY^R*P19641.13'^DSIO(19641.13,^0;3^S DIC("S")="I $P(^(0),U,3)=$$GET1^DIQ(19641.112,$G(DA)_"","",.02,""I"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.112,19641.112,.03,12)
Only pregnancies of the selected patient.
"^DD",19641.112,19641.112,.03,12.1)
S DIC("S")="I $P(^(0),U,3)=$$GET1^DIQ(19641.112,$G(DA)_"","",.02,""I"")"
"^DD",19641.112,19641.112,.03,"DT")
3140610
"^DD",19641.112,19641.112,.04,0)
NAME^F^^0;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.112,19641.112,.04,3)
Answer must be 1-30 characters in length.
"^DD",19641.112,19641.112,.04,"DT")
3140610
"^DD",19641.112,19641.112,.05,0)
GENDER^S^M:MALE;F:FEMALE;O:OTHER;U:UNKNOWN;^0;5^Q
"^DD",19641.112,19641.112,.05,"DT")
3141218
"^DD",19641.112,19641.112,.06,0)
BIRTH WEIGHT^F^^0;6^K:$L(X)>20!($L(X)<1) X
"^DD",19641.112,19641.112,.06,3)
Answer must be 1-20 characters in length. A format of #|#|# represents lb|oz|g.
"^DD",19641.112,19641.112,.06,"DT")
3141217
"^DD",19641.112,19641.112,.07,0)
STILLBORN^S^1:YES;0:NO;^0;7^Q
"^DD",19641.112,19641.112,.07,"DT")
3141030
"^DD",19641.12,19641.12,0)
FIELD^^.04^19
"^DD",19641.12,19641.12,0,"DDA")
N
"^DD",19641.12,19641.12,0,"DT")
3150518
"^DD",19641.12,19641.12,0,"IX","B",19641.12,.01)

"^DD",19641.12,19641.12,0,"NM","DSIO OBSERVATIONS")

"^DD",19641.12,19641.12,0,"PT",19641.03,2.2)

"^DD",19641.12,19641.12,.01,0)
DATE OF OBSERVATION^RD^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.01,1,0)
^.1
"^DD",19641.12,19641.12,.01,1,1,0)
19641.12^B
"^DD",19641.12,19641.12,.01,1,1,1)
S ^DSIO(19641.12,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.12,.01,1,1,2)
K ^DSIO(19641.12,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.12,.01,3)

"^DD",19641.12,19641.12,.01,"DT")
3150513
"^DD",19641.12,19641.12,.02,0)
PRIMARY OBJECT^RV^^0;2^Q
"^DD",19641.12,19641.12,.02,1,0)
^.1^^0
"^DD",19641.12,19641.12,.02,"DT")
3150513
"^DD",19641.12,19641.12,.02,"V",0)
^.12P^4^4
"^DD",19641.12,19641.12,.02,"V",1,0)
19641^PATIENT^1^P^^y
"^DD",19641.12,19641.12,.02,"V",2,0)
19641.112^FETUS/BABY^2^FB^^y
"^DD",19641.12,19641.12,.02,"V",3,0)
19641.13^PREGNANCY^3^PG^^y
"^DD",19641.12,19641.12,.02,"V",4,0)
8925^NOTE^4^N^^n
"^DD",19641.12,19641.12,.03,0)
RELATIONSHIP^F^^0;3^K:$L(X)>20!($L(X)<1) X
"^DD",19641.12,19641.12,.03,3)
Answer must be 1-20 characters in length.
"^DD",19641.12,19641.12,.03,"DT")
3150518
"^DD",19641.12,19641.12,.04,0)
SECONDARY OBJECT^V^^0;4^Q
"^DD",19641.12,19641.12,.04,"DT")
3150513
"^DD",19641.12,19641.12,.04,"V",0)
^.12P^4^4
"^DD",19641.12,19641.12,.04,"V",1,0)
19641^PATIENT^1^P^^y
"^DD",19641.12,19641.12,.04,"V",2,0)
19641.112^FETUS/BABY^2^FB^^y
"^DD",19641.12,19641.12,.04,"V",3,0)
19641.13^PREGNANCY^3^PG^^y
"^DD",19641.12,19641.12,.04,"V",4,0)
8925^NOTE^4^N^^n
"^DD",19641.12,19641.12,.05,0)
CATEGORY^P19641.122^DSIO(19641.122,^0;5^Q
"^DD",19641.12,19641.12,.05,3)

"^DD",19641.12,19641.12,.05,"DT")
3140609
"^DD",19641.12,19641.12,.06,0)
CODE^RVO^^0;6^Q
"^DD",19641.12,19641.12,.06,2)
S Y(0)=Y S Y=$$DCODE^DSIO2(Y)
"^DD",19641.12,19641.12,.06,2.1)
S Y=$$DCODE^DSIO2(Y)
"^DD",19641.12,19641.12,.06,"DT")
3150513
"^DD",19641.12,19641.12,.06,"V",0)
^.12P^2^2
"^DD",19641.12,19641.12,.06,"V",1,0)
95.3^LOINC^1^LNC^^n
"^DD",19641.12,19641.12,.06,"V",2,0)
757.02^SNOMED CT^2^SCT^y^n
"^DD",19641.12,19641.12,.06,"V",2,1)
S DIC("S")="I $P(^(0),U,3)=$$FIND1^DIC(757.03,,""O"",""SCT"")"
"^DD",19641.12,19641.12,.06,"V",2,2)
Only SNOMED CT.
"^DD",19641.12,19641.12,.07,0)
CODE SYSTEM^P757.03'^LEX(757.03,^0;7^Q
"^DD",19641.12,19641.12,.07,3)
Answer must be 1-20 characters in length.
"^DD",19641.12,19641.12,.07,"DT")
3150513
"^DD",19641.12,19641.12,.08,0)
UPDATED BY^P200'^VA(200,^0;8^Q
"^DD",19641.12,19641.12,.08,"DT")
3140624
"^DD",19641.12,19641.12,.09,0)
LAST MODIFIED DATE^D^^0;9^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.09,"DT")
3150427
"^DD",19641.12,19641.12,1,0)
DESCRIPTION^F^^1;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.12,19641.12,1,3)
Answer must be 1-245 characters in length. This is the user defined description not the code expression.
"^DD",19641.12,19641.12,1,"DT")
3150427
"^DD",19641.12,19641.12,1,"V",0)
^.12P
"^DD",19641.12,19641.12,2,0)
VALUE^F^^2;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.12,19641.12,2,3)
Answer must be 1-245 characters in length.
"^DD",19641.12,19641.12,2,"DT")
3140923
"^DD",19641.12,19641.12,3.1,0)
VALUE TYPE^F^^3;1^K:$L(X)>15!($L(X)<1) X
"^DD",19641.12,19641.12,3.1,3)
Answer must be 1-15 characters in length.
"^DD",19641.12,19641.12,3.1,"DT")
3150427
"^DD",19641.12,19641.12,3.2,0)
VALUE UNIT^F^^3;2^K:$L(X)>30!($L(X)<1) X
"^DD",19641.12,19641.12,3.2,3)
Answer must be 1-30 characters in length.
"^DD",19641.12,19641.12,3.2,"DT")
3150427
"^DD",19641.12,19641.12,3.3,0)
NEGATION^S^0:FALSE;1:TRUE;^3;3^Q
"^DD",19641.12,19641.12,3.3,"DT")
3150427
"^DD",19641.12,19641.12,3.4,0)
START^D^^3;4^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,3.4,"DT")
3150427
"^DD",19641.12,19641.12,3.5,0)
END^D^^3;5^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,3.5,"DT")
3150427
"^DD",19641.12,19641.12,4.1,0)
PUSHED^P19641.124'^DSIO(19641.124,^4;1^Q
"^DD",19641.12,19641.12,4.1,"DT")
3140921
"^DD",19641.12,19641.12,5,0)
QUALIFIERS^19641.125^^5;0
"^DD",19641.12,19641.12,6,0)
NARRATIVE^19641.126^^6;0
"^DD",19641.12,19641.125,0)
QUALIFIERS SUB-FIELD^^.02^2
"^DD",19641.12,19641.125,0,"DT")
3150427
"^DD",19641.12,19641.125,0,"IX","B",19641.125,.01)

"^DD",19641.12,19641.125,0,"NM","QUALIFIERS")

"^DD",19641.12,19641.125,0,"UP")
19641.12
"^DD",19641.12,19641.125,.01,0)
QUALIFIER^MF^^0;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.12,19641.125,.01,1,0)
^.1
"^DD",19641.12,19641.125,.01,1,1,0)
19641.125^B
"^DD",19641.12,19641.125,.01,1,1,1)
S ^DSIO(19641.12,DA(1),5,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.125,.01,1,1,2)
K ^DSIO(19641.12,DA(1),5,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.125,.01,3)
Answer must be 1-50 characters in length.
"^DD",19641.12,19641.125,.01,"DT")
3150427
"^DD",19641.12,19641.125,.02,0)
VALUE^F^^0;2^K:$L(X)>150!($L(X)<1) X
"^DD",19641.12,19641.125,.02,3)
Answer must be 1-150 characters in length.
"^DD",19641.12,19641.125,.02,"DT")
3150427
"^DD",19641.12,19641.126,0)
NARRATIVE SUB-FIELD^^.01^1
"^DD",19641.12,19641.126,0,"DT")
3150427
"^DD",19641.12,19641.126,0,"NM","NARRATIVE")

"^DD",19641.12,19641.126,0,"UP")
19641.12
"^DD",19641.12,19641.126,.01,0)
NARRATIVE^Wx^^0;1^Q
"^DD",19641.12,19641.126,.01,"DT")
3150427
"^DD",19641.13,19641.13,0)
FIELD^^4^19
"^DD",19641.13,19641.13,0,"ACT")
S DSIODFN=$$GET1^DIQ(19641.13,+$G(Y)_",",.03,"I")
"^DD",19641.13,19641.13,0,"DDA")
N
"^DD",19641.13,19641.13,0,"DT")
3150514
"^DD",19641.13,19641.13,0,"ID",.03)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DSIO(19641,+$P(^(0),U,3),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(19641,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",19641.13,19641.13,0,"IX","AC",19641.13,.06)

"^DD",19641.13,19641.13,0,"IX","B",19641.13,.01)

"^DD",19641.13,19641.13,0,"NM","DSIO PREGNANCY HISTORY")

"^DD",19641.13,19641.13,0,"PT",19641.03,2.1)

"^DD",19641.13,19641.13,0,"PT",19641.112,.03)

"^DD",19641.13,19641.13,0,"PT",19641.12,.02)

"^DD",19641.13,19641.13,0,"PT",19641.12,.04)

"^DD",19641.13,19641.13,0,"PT",19641.761,.02)

"^DD",19641.13,19641.13,0,"PT",19641.831,.02)

"^DD",19641.13,19641.13,.01,0)
DATE RECORDED^RDIX^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1!(Y>$$NOW^XLFDT) X
"^DD",19641.13,19641.13,.01,1,0)
^.1
"^DD",19641.13,19641.13,.01,1,1,0)
19641.13^B
"^DD",19641.13,19641.13,.01,1,1,1)
S ^DSIO(19641.13,"B",$E(X,1,30),DA)=""
"^DD",19641.13,19641.13,.01,1,1,2)
K ^DSIO(19641.13,"B",$E(X,1,30),DA)
"^DD",19641.13,19641.13,.01,3)
This is the date the pregnancy history was recorded and not the start of the pregnancy. No future dates.
"^DD",19641.13,19641.13,.01,"DT")
3150429
"^DD",19641.13,19641.13,.02,0)
EDC^DX^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1!(Y>$$NOW^XLFDT) X
"^DD",19641.13,19641.13,.02,3)
The estimated date of conception - no future dates.
"^DD",19641.13,19641.13,.02,"DT")
3141025
"^DD",19641.13,19641.13,.03,0)
PATIENT^RP19641I^DSIO(19641,^0;3^Q
"^DD",19641.13,19641.13,.03,1,0)
^.1^^0
"^DD",19641.13,19641.13,.03,"DT")
3150429
"^DD",19641.13,19641.13,.04,0)
STATUS^SIX^C:CURRENT;H:HISTORICAL;^0;4^K:'$$CURRENT^DSIO4(DA) X
"^DD",19641.13,19641.13,.04,3)
Only one "CURRENT" entry allowed. Other entries with a future EDD and no Delivery date will fail this entry's creation.
"^DD",19641.13,19641.13,.04,"DT")
3141025
"^DD",19641.13,19641.13,.05,0)
FATHER OF FETUS/BABY^FX^^0;5^S X=$$FOF^DSIO9($$GET1^DIQ(19641.13,DA_",",.03,"I"),X)
"^DD",19641.13,19641.13,.05,3)
Answer must be 1-50 characters in length.
"^DD",19641.13,19641.13,.05,"DT")
3150514
"^DD",19641.13,19641.13,.06,0)
EDD^*P19641.03^DSIO(19641.03,^0;6^S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,$G(DA)_"","",.03,""I"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.13,19641.13,.06,1,0)
^.1
"^DD",19641.13,19641.13,.06,1,1,0)
19641.13^AC^MUMPS
"^DD",19641.13,19641.13,.06,1,1,1)
D EDD^DSIO4(X,DA)
"^DD",19641.13,19641.13,.06,1,1,2)
D EDD^DSIO4("@",DA)
"^DD",19641.13,19641.13,.06,1,1,"DT")
3141002
"^DD",19641.13,19641.13,.06,3)

"^DD",19641.13,19641.13,.06,12)
Only those EDD histories belonging to the patient.
"^DD",19641.13,19641.13,.06,12.1)
S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,$G(DA)_"","",.03,""I"")"
"^DD",19641.13,19641.13,.06,"DT")
3141025
"^DD",19641.13,19641.13,.07,0)
PREGNANCY END^DX^^0;7^S %DT="ESTX" D ^%DT S X=Y K:Y<1!(Y>$$NOW^XLFDT) X
"^DD",19641.13,19641.13,.07,3)
Enter the date the pregnancy ended by any means.
"^DD",19641.13,19641.13,.07,"DT")
3141025
"^DD",19641.13,19641.13,.08,0)
OB^V^^0;8^Q
"^DD",19641.13,19641.13,.08,"DT")
3141025
"^DD",19641.13,19641.13,.08,"V",0)
^.12P^2^2
"^DD",19641.13,19641.13,.08,"V",1,0)
19641.1^NON-VA PROVIDER^1^NVA^y^n
"^DD",19641.13,19641.13,.08,"V",1,1)
S DIC("S")="I $P(^(0),U,2)=""P"""
"^DD",19641.13,19641.13,.08,"V",1,2)
Only provider types.
"^DD",19641.13,19641.13,.08,"V",2,0)
200^VA PROVIDER^2^VA^^n
"^DD",19641.13,19641.13,.09,0)
FACILITY^V^^0;9^Q
"^DD",19641.13,19641.13,.09,"DT")
3141025
"^DD",19641.13,19641.13,.09,"V",0)
^.12P^2^2
"^DD",19641.13,19641.13,.09,"V",1,0)
19641.1^NON-VA FACILITY^1^NVA^y^n
"^DD",19641.13,19641.13,.09,"V",1,1)
S DIC("S")="I $P(^(0),U,2)=""F"""
"^DD",19641.13,19641.13,.09,"V",1,2)
Only facility types.
"^DD",19641.13,19641.13,.09,"V",2,0)
4^VA FACILITY^2^VA^^n
"^DD",19641.13,19641.13,1.1,0)
UPDATED BY^P200'^VA(200,^1;1^Q
"^DD",19641.13,19641.13,1.1,"DT")
3141025
"^DD",19641.13,19641.13,2,0)
FETUSES/BABIES^19641.132P^^2;0
"^DD",19641.13,19641.13,2,"DT")
3140609
"^DD",19641.13,19641.13,3.1,0)
GESTATIONAL AGE AT DELIVERY^NJ2,0^^3;1^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.13,19641.13,3.1,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641.13,19641.13,3.1,"DT")
3141030
"^DD",19641.13,19641.13,3.2,0)
LENGTH OF LABOR^NJ2,0^^3;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.13,19641.13,3.2,3)
Time span of labor in hours.
"^DD",19641.13,19641.13,3.2,"DT")
3141030
"^DD",19641.13,19641.13,3.3,0)
TYPE OF DELIVERY^F^^3;3^K:$L(X)>20!($L(X)<1) X
"^DD",19641.13,19641.13,3.3,3)
Answer must be 1-20 characters in length.
"^DD",19641.13,19641.13,3.3,"DT")
3141030
"^DD",19641.13,19641.13,3.4,0)
EPIDURAL/SPINAL^S^1:YES;0:NO;^3;4^Q
"^DD",19641.13,19641.13,3.4,"DT")
3150519
"^DD",19641.13,19641.13,3.5,0)
PRETERM LABOR^S^0:NO;1:YES;^3;5^Q
"^DD",19641.13,19641.13,3.5,"DT")
3150429
"^DD",19641.13,19641.13,4,0)
COMMENTS^19641.134^^4;0
"^DD",19641.13,19641.13,99.1,0)
WV PATIENT PREGNANCY^P790'^WV(790,+$G(DSIODFN),7,^99;1^Q
"^DD",19641.13,19641.13,99.1,"DT")
3141025
"^DD",19641.13,19641.13,999.1,0)
BIRTH TYPE^CJ8^^ ; ^S X=+$P($G(^DSIO(19641.13,+$G(D0),2,0)),U,4),X=$S(X=1:"SINGLE",X>1:"MULTIPLE",1:"NONE")
"^DD",19641.13,19641.13,999.1,9)
^
"^DD",19641.13,19641.13,999.1,9.01)

"^DD",19641.13,19641.13,999.1,9.1)
S X=+$P($G(^DSIO(19641.13,+$G(D0),2,0)),U,4),X=$S(X=1:"SINGLE",X>1:"MULTIPLE",1:"NONE")
"^DD",19641.13,19641.13,999.1,"DT")
3141030
"^DD",19641.13,19641.132,0)
FETUSES/BABIES SUB-FIELD^^.01^1
"^DD",19641.13,19641.132,0,"DT")
3140606
"^DD",19641.13,19641.132,0,"IX","B",19641.132,.01)

"^DD",19641.13,19641.132,0,"NM","FETUSES/BABIES")

"^DD",19641.13,19641.132,0,"UP")
19641.13
"^DD",19641.13,19641.132,.01,0)
FETUS/BABY^M*P19641.112^DSIO(19641.112,^0;1^S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,DA_"","",.03,""I"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.13,19641.132,.01,1,0)
^.1^^-1
"^DD",19641.13,19641.132,.01,1,1,0)
19641.132^B
"^DD",19641.13,19641.132,.01,1,1,1)
S ^DSIO(19641.13,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.13,19641.132,.01,1,1,2)
K ^DSIO(19641.13,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.13,19641.132,.01,12)
Only babies associated to the patient - patient must have already been set.
"^DD",19641.13,19641.132,.01,12.1)
S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,DA_"","",.03,""I"")"
"^DD",19641.13,19641.132,.01,"DT")
3150518
"^DD",19641.13,19641.134,0)
COMMENTS SUB-FIELD^^.01^1
"^DD",19641.13,19641.134,0,"DT")
3150429
"^DD",19641.13,19641.134,0,"NM","COMMENTS")

"^DD",19641.13,19641.134,0,"UP")
19641.13
"^DD",19641.13,19641.134,.01,0)
COMMENTS^Wx^^0;1^Q
"^DD",19641.13,19641.134,.01,"DT")
3150429
"^DD",19641.2,19641.2,0)
FIELD^^1^2
"^DD",19641.2,19641.2,0,"DDA")
N
"^DD",19641.2,19641.2,0,"DT")
3150112
"^DD",19641.2,19641.2,0,"IX","B",19641.2,.01)

"^DD",19641.2,19641.2,0,"IX","C",19641.24,.01)

"^DD",19641.2,19641.2,0,"NM","DSIO TRACKING HISTORY")

"^DD",19641.2,19641.2,.01,0)
PATIENT^RP19641X^DSIO(19641,^0;1^S:$D(X) DINUM=X
"^DD",19641.2,19641.2,.01,1,0)
^.1
"^DD",19641.2,19641.2,.01,1,1,0)
19641.2^B
"^DD",19641.2,19641.2,.01,1,1,1)
S ^DSIO(19641.2,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.2,.01,1,1,2)
K ^DSIO(19641.2,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.2,.01,1,1,"DT")
3140102
"^DD",19641.2,19641.2,.01,3)

"^DD",19641.2,19641.2,.01,"DT")
3140813
"^DD",19641.2,19641.2,1,0)
TRACKING HISTORY LOG^19641.24D^^1;0
"^DD",19641.2,19641.24,0)
TRACKING HISTORY LOG SUB-FIELD^^2^6
"^DD",19641.2,19641.24,0,"DT")
3150112
"^DD",19641.2,19641.24,0,"IX","B",19641.24,.01)

"^DD",19641.2,19641.24,0,"NM","TRACKING HISTORY LOG")

"^DD",19641.2,19641.24,0,"UP")
19641.2
"^DD",19641.2,19641.24,.01,0)
TRACKING DATE^MDXI^^0;1^K X S X=$$NOW^XLFDT
"^DD",19641.2,19641.24,.01,1,0)
^.1
"^DD",19641.2,19641.24,.01,1,1,0)
19641.2^C
"^DD",19641.2,19641.24,.01,1,1,1)
S ^DSIO(19641.2,"C",$E(X,1,30),DA(1),DA)=""
"^DD",19641.2,19641.24,.01,1,1,2)
K ^DSIO(19641.2,"C",$E(X,1,30),DA(1),DA)
"^DD",19641.2,19641.24,.01,1,1,"DT")
3150424
"^DD",19641.2,19641.24,.01,1,2,0)
19641.24^B
"^DD",19641.2,19641.24,.01,1,2,1)
S ^DSIO(19641.2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.24,.01,1,2,2)
K ^DSIO(19641.2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.24,.01,1,2,"DT")
3150424
"^DD",19641.2,19641.24,.01,3)
Only present date and time will be used.
"^DD",19641.2,19641.24,.01,"DT")
3150424
"^DD",19641.2,19641.24,.02,0)
ACTION^RSI^0:STOP;1:START;2:FLAG;3:REJECT;4:ACCEPT;^0;2^Q
"^DD",19641.2,19641.24,.02,"DT")
3150424
"^DD",19641.2,19641.24,.03,0)
USER^RP200'I^VA(200,^0;3^Q
"^DD",19641.2,19641.24,.03,"DT")
3140102
"^DD",19641.2,19641.24,.04,0)
SOURCE^P19641.22X^DSIO(19641.22,^0;4^S:+$G(X)>0 X=$$GET1^DIQ(19641.22,X_",",.01)
"^DD",19641.2,19641.24,.04,"DT")
3140606
"^DD",19641.2,19641.24,1,0)
REASON^19641.241P^^1;0
"^DD",19641.2,19641.24,2,0)
COMMENT^19641.242^^2;0
"^DD",19641.2,19641.241,0)
REASON SUB-FIELD^^.01^1
"^DD",19641.2,19641.241,0,"DT")
3140102
"^DD",19641.2,19641.241,0,"IX","B",19641.241,.01)

"^DD",19641.2,19641.241,0,"NM","REASON")

"^DD",19641.2,19641.241,0,"UP")
19641.24
"^DD",19641.2,19641.241,.01,0)
REASON^MP19641.23X^DSIO(19641.23,^0;1^S X=^DSIO(19641.23,X,0) Q
"^DD",19641.2,19641.241,.01,1,0)
^.1
"^DD",19641.2,19641.241,.01,1,1,0)
19641.241^B
"^DD",19641.2,19641.241,.01,1,1,1)
S ^DSIO(19641.2,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.241,.01,1,1,2)
K ^DSIO(19641.2,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.241,.01,"DT")
3140102
"^DD",19641.2,19641.242,0)
COMMENT SUB-FIELD^^.01^1
"^DD",19641.2,19641.242,0,"DT")
3140102
"^DD",19641.2,19641.242,0,"NM","COMMENT")

"^DD",19641.2,19641.242,0,"UP")
19641.24
"^DD",19641.2,19641.242,.01,0)
COMMENT^Wx^^0;1^Q
"^DD",19641.2,19641.242,.01,"DT")
3140102
"^DD",19641.5,19641.5,0)
FIELD^^.03^3
"^DD",19641.5,19641.5,0,"DDA")
N
"^DD",19641.5,19641.5,0,"DT")
3150507
"^DD",19641.5,19641.5,0,"IX","B",19641.5,.01)

"^DD",19641.5,19641.5,0,"NM","DSIO TITLE CONFIGURATION")

"^DD",19641.5,19641.5,.01,0)
TITLE^R*P8925.1'X^TIU(8925.1,^0;1^S DIC("S")="I $P(^(0),U,4)=""DOC""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X S:$D(X) DINUM=X
"^DD",19641.5,19641.5,.01,1,0)
^.1
"^DD",19641.5,19641.5,.01,1,1,0)
19641.5^B
"^DD",19641.5,19641.5,.01,1,1,1)
S ^DSIO(19641.5,"B",$E(X,1,30),DA)=""
"^DD",19641.5,19641.5,.01,1,1,2)
K ^DSIO(19641.5,"B",$E(X,1,30),DA)
"^DD",19641.5,19641.5,.01,3)

"^DD",19641.5,19641.5,.01,12)
Only TIU Document Titles
"^DD",19641.5,19641.5,.01,12.1)
S DIC("S")="I $P(^(0),U,4)=""DOC"""
"^DD",19641.5,19641.5,.01,"DT")
3150506
"^DD",19641.5,19641.5,.02,0)
VISIT LOCATION^RP44'^SC(^0;2^Q
"^DD",19641.5,19641.5,.02,"DT")
3140411
"^DD",19641.5,19641.5,.03,0)
SERVICE CATEGORY^RS^A:AMBULATORY;H:HOSPITALIZATION;I:IN HOSPITAL;C:CHART REVIEW;T:TELECOMMUNICATIONS;N:NOT FOUND;S:DAY SURGERY;O:OBSERVATION;E:EVENT (HISTORICAL);R:NURSING HOME;D:DAILY HOSPITALIZATION DATA;X:ANCILLARY PACKAGE DAILY DATA;^0;3^Q
"^DD",19641.5,19641.5,.03,"DT")
3150507
"^DD",19641.6,19641.6,0)
FIELD^^.07^11
"^DD",19641.6,19641.6,0,"DDA")
N
"^DD",19641.6,19641.6,0,"DT")
3140624
"^DD",19641.6,19641.6,0,"ID",.02)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DSIO(19641,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(19641,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",19641.6,19641.6,0,"IX","B",19641.6,.01)

"^DD",19641.6,19641.6,0,"NM","DSIO IHE DOCUMENT")

"^DD",19641.6,19641.6,.01,0)
DT OF ENTRY^RD^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.01,1,0)
^.1
"^DD",19641.6,19641.6,.01,1,1,0)
19641.6^B
"^DD",19641.6,19641.6,.01,1,1,1)
S ^DSIO(19641.6,"B",$E(X,1,30),DA)=""
"^DD",19641.6,19641.6,.01,1,1,2)
K ^DSIO(19641.6,"B",$E(X,1,30),DA)
"^DD",19641.6,19641.6,.01,1,1,"DT")
3140624
"^DD",19641.6,19641.6,.01,3)
The date this entry was created, this date doesn't have anything to do the the document actually being created or transported.
"^DD",19641.6,19641.6,.01,23,0)
^.001^2^2^3140624^^
"^DD",19641.6,19641.6,.01,23,1,0)
Since nothing in this file is required we need to set something to .01 
"^DD",19641.6,19641.6,.01,23,2,0)
that will stick - might as well be something marginally useful.
"^DD",19641.6,19641.6,.01,"DT")
3140624
"^DD",19641.6,19641.6,.02,0)
PATIENT^RP19641^DSIO(19641,^0;2^Q
"^DD",19641.6,19641.6,.02,"DT")
3140620
"^DD",19641.6,19641.6,.03,0)
DT CREATION^D^^0;3^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.03,"DT")
3140620
"^DD",19641.6,19641.6,.04,0)
DT IMPORT/EXPORT^D^^0;4^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.04,"DT")
3140620
"^DD",19641.6,19641.6,.05,0)
DOCUMENT TYPE^P19641.61^DSIO(19641.61,^0;5^Q
"^DD",19641.6,19641.6,.05,"DT")
3140620
"^DD",19641.6,19641.6,.06,0)
DIRECTION^S^I:IN;O:OUT;^0;6^Q
"^DD",19641.6,19641.6,.06,"DT")
3140620
"^DD",19641.6,19641.6,.07,0)
GUID/ID^F^^0;7^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,.07,1,0)
^.1^^0
"^DD",19641.6,19641.6,.07,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,.07,"DT")
3140624
"^DD",19641.6,19641.6,1.1,0)
DOCUMENT TITLE^F^^1;1^K:$L(X)>100!($L(X)<1) X
"^DD",19641.6,19641.6,1.1,3)
Answer must be 1-100 characters in length.
"^DD",19641.6,19641.6,1.1,"DT")
3140620
"^DD",19641.6,19641.6,1.2,0)
SENDING FACILITY/PROVIDER^F^^1;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,1.2,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,1.2,"DT")
3140620
"^DD",19641.6,19641.6,1.3,0)
INTENDED RECIPIENT^F^^1;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,1.3,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,1.3,"DT")
3140620
"^DD",19641.6,19641.6,2,0)
DOCUMENT CONTENT^19641.62^^2;0
"^DD",19641.6,19641.62,0)
DOCUMENT CONTENT SUB-FIELD^^.01^1
"^DD",19641.6,19641.62,0,"DT")
3140620
"^DD",19641.6,19641.62,0,"NM","DOCUMENT CONTENT")

"^DD",19641.6,19641.62,0,"UP")
19641.6
"^DD",19641.6,19641.62,.01,0)
DOCUMENT CONTENT^Wx^^0;1^Q
"^DD",19641.6,19641.62,.01,"DT")
3140620
"^DD",19641.83,19641.83,0)
FIELD^^.01^2
"^DD",19641.83,19641.83,0,"DDA")
N
"^DD",19641.83,19641.83,0,"DT")
3150105
"^DD",19641.83,19641.83,0,"NM","DSIO PREGNANCY-NOTE")

"^DD",19641.83,19641.83,.01,0)
PATIENT^RP19641'X^DSIO(19641,^0;1^S:$D(X) DINUM=X
"^DD",19641.83,19641.83,.01,1,0)
^.1^^0
"^DD",19641.83,19641.83,.01,3)
ENTER DFN OF PATIENT
"^DD",19641.83,19641.83,.01,21,0)
^.001^1^1^3150203^^
"^DD",19641.83,19641.83,.01,21,1,0)
POINTER TO DSIO PATIENT FILE - 19641
"^DD",19641.83,19641.83,.01,"DT")
3150514
"^DD",19641.83,19641.83,1,0)
NOTE ASSOCIATION^19641.831PA^^1;0
"^DD",19641.83,19641.83,1,"DT")
3150514
"^DD",19641.83,19641.831,0)
NOTE ASSOCIATION SUB-FIELD^^.02^2
"^DD",19641.83,19641.831,0,"DT")
3150105
"^DD",19641.83,19641.831,0,"IX","B",19641.831,.01)

"^DD",19641.83,19641.831,0,"NM","NOTE ASSOCIATION")

"^DD",19641.83,19641.831,0,"UP")
19641.83
"^DD",19641.83,19641.831,.01,0)
NOTE^P8925'^TIU(8925,^0;1^Q
"^DD",19641.83,19641.831,.01,1,0)
^.1
"^DD",19641.83,19641.831,.01,1,1,0)
19641.831^B
"^DD",19641.83,19641.831,.01,1,1,1)
S ^DSIO(19641.83,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.83,19641.831,.01,1,1,2)
K ^DSIO(19641.83,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.83,19641.831,.01,"DT")
3150514
"^DD",19641.83,19641.831,.02,0)
PREGNANCY^P19641.13'^DSIO(19641.13,^0;2^Q
"^DD",19641.83,19641.831,.02,1,0)
^.1^^0
"^DD",19641.83,19641.831,.02,"DT")
3150514
"^DIC",19641,19641,0)
DSIO PATIENT^19641
"^DIC",19641,19641,0,"GL")
^DSIO(19641,
"^DIC",19641,19641,"%",0)
^1.005^^0
"^DIC",19641,19641,"%D",0)
^^1^1^3150209^
"^DIC",19641,19641,"%D",1,0)
This is the master patient file of the DSIO package.
"^DIC",19641,"B","DSIO PATIENT",19641)

"^DIC",19641.1,19641.1,0)
DSIO EXTERNAL ENTITIES^19641.1
"^DIC",19641.1,19641.1,0,"GL")
^DSIO(19641.1,
"^DIC",19641.1,19641.1,"%D",0)
^1.001^2^2^3150429^^
"^DIC",19641.1,19641.1,"%D",1,0)
This file is for the storage of providers and facilities that do not 
"^DIC",19641.1,19641.1,"%D",2,0)
belong in VistA but need to be associated to the DSIO PATIENT.
"^DIC",19641.1,"B","DSIO EXTERNAL ENTITIES",19641.1)

"^DIC",19641.11,19641.11,0)
DSIO PERSON^19641.11
"^DIC",19641.11,19641.11,0,"GL")
^DSIO(19641.11,
"^DIC",19641.11,19641.11,"%D",0)
^^4^4^3150209^
"^DIC",19641.11,19641.11,"%D",1,0)
People associated with the patient that cannot be referenced elsewhere 
"^DIC",19641.11,19641.11,"%D",2,0)
in VistA. This file is used by the MCC Dashboard to reference the 'Father 
"^DIC",19641.11,19641.11,"%D",3,0)
of Fetus' while the oCNTs use it to reference associated people such as 
"^DIC",19641.11,19641.11,"%D",4,0)
sister, brother, mother, uncle, ect...
"^DIC",19641.11,"B","DSIO PERSON",19641.11)

"^DIC",19641.112,19641.112,0)
DSIO FETUS/BABY^19641.112
"^DIC",19641.112,19641.112,0,"GL")
^DSIO(19641.112,
"^DIC",19641.112,19641.112,"%D",0)
^^3^3^3150208^
"^DIC",19641.112,19641.112,"%D",1,0)
This file holds information referenced as a fetus assoicated with a 
"^DIC",19641.112,19641.112,"%D",2,0)
pregnancy associated with a patient. Later this same entry can be 
"^DIC",19641.112,19641.112,"%D",3,0)
expanded to reference a baby.
"^DIC",19641.112,"B","DSIO FETUS/BABY",19641.112)

"^DIC",19641.12,19641.12,0)
DSIO OBSERVATIONS^19641.12
"^DIC",19641.12,19641.12,0,"GL")
^DSIO(19641.12,
"^DIC",19641.12,19641.12,"%",0)
^1.005^^
"^DIC",19641.12,19641.12,"%D",0)
^1.001^1^1^3150519^^
"^DIC",19641.12,19641.12,"%D",1,0)
These are generic entries classified as an observation.
"^DIC",19641.12,"B","DSIO OBSERVATIONS",19641.12)

"^DIC",19641.13,19641.13,0)
DSIO PREGNANCY HISTORY^19641.13
"^DIC",19641.13,19641.13,0,"GL")
^DSIO(19641.13,
"^DIC",19641.13,19641.13,"%D",0)
^^1^1^3150209^
"^DIC",19641.13,19641.13,"%D",1,0)
Pregnancy information linked to a patient by DSIO PATIENT.
"^DIC",19641.13,"B","DSIO PREGNANCY HISTORY",19641.13)

"^DIC",19641.2,19641.2,0)
DSIO TRACKING HISTORY^19641.2
"^DIC",19641.2,19641.2,0,"GL")
^DSIO(19641.2,
"^DIC",19641.2,19641.2,"%D",0)
^^2^2^3150209^
"^DIC",19641.2,19641.2,"%D",1,0)
When a patient is flagged for tracking, is tracked or rejected that entry 
"^DIC",19641.2,19641.2,"%D",2,0)
is stored in this file.
"^DIC",19641.2,"B","DSIO TRACKING HISTORY",19641.2)

"^DIC",19641.5,19641.5,0)
DSIO TITLE CONFIGURATION^19641.5
"^DIC",19641.5,19641.5,0,"GL")
^DSIO(19641.5,
"^DIC",19641.5,19641.5,"%D",0)
^1.001^3^3^3150506^^
"^DIC",19641.5,19641.5,"%D",1,0)
The MCC Dashboard does not allow the section of the necessary elements to 
"^DIC",19641.5,19641.5,"%D",2,0)
create a visit thus any title used by the dashboard must be configured 
"^DIC",19641.5,19641.5,"%D",3,0)
here so a visit string can be created.
"^DIC",19641.5,"B","DSIO TITLE CONFIGURATION",19641.5)

"^DIC",19641.6,19641.6,0)
DSIO IHE DOCUMENT^19641.6
"^DIC",19641.6,19641.6,0,"GL")
^DSIO(19641.6,
"^DIC",19641.6,19641.6,"%D",0)
^^1^1^3150208^
"^DIC",19641.6,19641.6,"%D",1,0)
This file holds a generated IHE document.
"^DIC",19641.6,"B","DSIO IHE DOCUMENT",19641.6)

"^DIC",19641.83,19641.83,0)
DSIO PREGNANCY-NOTE^19641.83
"^DIC",19641.83,19641.83,0,"GL")
^DSIO(19641.83,
"^DIC",19641.83,19641.83,"%D",0)
^1.001^2^2^3150514^^^
"^DIC",19641.83,19641.83,"%D",1,0)
Pregnancies can be linked to a TIU note here so that they can be 
"^DIC",19641.83,19641.83,"%D",2,0)
referenced by the MCC Dashboard when viewing notes by pregnancy.
"^DIC",19641.83,"B","DSIO PREGNANCY-NOTE",19641.83)

**END**
**END**
