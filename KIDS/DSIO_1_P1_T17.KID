KIDS Distribution saved on Jul 01, 2015@09:16:48
DSIO 1.0 P1 T17
**KIDS**:DSIO*1.0*1^

**INSTALL NAME**
DSIO*1.0*1
"BLD",9887,0)
DSIO*1.0*1^^0^3150701^n
"BLD",9887,4,0)
^9.64PA^19641.49^14
"BLD",9887,4,19641,0)
19641
"BLD",9887,4,19641,222)
y^y^f^^^^n
"BLD",9887,4,19641.1,0)
19641.1
"BLD",9887,4,19641.1,222)
y^y^f^^^^n
"BLD",9887,4,19641.11,0)
19641.11
"BLD",9887,4,19641.11,222)
y^y^f^^^^n
"BLD",9887,4,19641.112,0)
19641.112
"BLD",9887,4,19641.112,222)
y^y^f^^^^n
"BLD",9887,4,19641.12,0)
19641.12
"BLD",9887,4,19641.12,222)
y^y^f^^^^n
"BLD",9887,4,19641.124,0)
19641.124
"BLD",9887,4,19641.124,222)
y^y^f^^^^n
"BLD",9887,4,19641.13,0)
19641.13
"BLD",9887,4,19641.13,222)
y^y^f^^^^n
"BLD",9887,4,19641.2,0)
19641.2
"BLD",9887,4,19641.2,222)
y^y^f^^^^n
"BLD",9887,4,19641.48,0)
19641.48
"BLD",9887,4,19641.48,222)
y^y^f^^n^^y^r^n
"BLD",9887,4,19641.49,0)
19641.49
"BLD",9887,4,19641.49,222)
y^y^f^^n^^y^r^n
"BLD",9887,4,19641.5,0)
19641.5
"BLD",9887,4,19641.5,222)
y^y^f^^^^n
"BLD",9887,4,19641.6,0)
19641.6
"BLD",9887,4,19641.6,222)
y^y^f^^^^n
"BLD",9887,4,19641.83,0)
19641.83
"BLD",9887,4,19641.83,222)
y^y^f^^^^n
"BLD",9887,4,19641.99,0)
19641.99
"BLD",9887,4,19641.99,222)
y^y^f^^^^n
"BLD",9887,4,"B",19641,19641)

"BLD",9887,4,"B",19641.1,19641.1)

"BLD",9887,4,"B",19641.11,19641.11)

"BLD",9887,4,"B",19641.112,19641.112)

"BLD",9887,4,"B",19641.12,19641.12)

"BLD",9887,4,"B",19641.124,19641.124)

"BLD",9887,4,"B",19641.13,19641.13)

"BLD",9887,4,"B",19641.2,19641.2)

"BLD",9887,4,"B",19641.48,19641.48)

"BLD",9887,4,"B",19641.49,19641.49)

"BLD",9887,4,"B",19641.5,19641.5)

"BLD",9887,4,"B",19641.6,19641.6)

"BLD",9887,4,"B",19641.83,19641.83)

"BLD",9887,4,"B",19641.99,19641.99)

"BLD",9887,6.3)
19
"BLD",9887,"INI")
DSIO0P
"BLD",9887,"INID")
^y^y
"BLD",9887,"INIT")
DSIO0PP
"BLD",9887,"KRN",0)
^9.67PA^779.2^20
"BLD",9887,"KRN",.4,0)
.4
"BLD",9887,"KRN",.401,0)
.401
"BLD",9887,"KRN",.402,0)
.402
"BLD",9887,"KRN",.403,0)
.403
"BLD",9887,"KRN",.5,0)
.5
"BLD",9887,"KRN",.84,0)
.84
"BLD",9887,"KRN",3.6,0)
3.6
"BLD",9887,"KRN",3.8,0)
3.8
"BLD",9887,"KRN",9.2,0)
9.2
"BLD",9887,"KRN",9.8,0)
9.8
"BLD",9887,"KRN",9.8,"NM",0)
^9.68A^19^18
"BLD",9887,"KRN",9.8,"NM",1,0)
DSIO1^^0^B234772474
"BLD",9887,"KRN",9.8,"NM",2,0)
DSIO2^^0^B41277423
"BLD",9887,"KRN",9.8,"NM",3,0)
DSIO3^^0^B84942036
"BLD",9887,"KRN",9.8,"NM",4,0)
DSIO4^^0^B53155979
"BLD",9887,"KRN",9.8,"NM",5,0)
DSIO9^^0^B71248442
"BLD",9887,"KRN",9.8,"NM",6,0)
DSIO10^^0^B106816534
"BLD",9887,"KRN",9.8,"NM",7,0)
DSIO14^^0^B23728438
"BLD",9887,"KRN",9.8,"NM",9,0)
DSIO15^^0^B56112468
"BLD",9887,"KRN",9.8,"NM",10,0)
DSIO12^^0^B38836318
"BLD",9887,"KRN",9.8,"NM",11,0)
DSIO01^^0^B144614578
"BLD",9887,"KRN",9.8,"NM",12,0)
DSIO98^^0^B12067958
"BLD",9887,"KRN",9.8,"NM",13,0)
DSIO6^^0^B157316776
"BLD",9887,"KRN",9.8,"NM",14,0)
DSIO7^^0^B125690124
"BLD",9887,"KRN",9.8,"NM",15,0)
DSIO5^^0^B21596236
"BLD",9887,"KRN",9.8,"NM",16,0)
DSIO13^^0^B6558447
"BLD",9887,"KRN",9.8,"NM",17,0)
DSIO02^^0^B30432412
"BLD",9887,"KRN",9.8,"NM",18,0)
DSIO99^^0^B105485889
"BLD",9887,"KRN",9.8,"NM",19,0)
DSIO11^^0^B126247531
"BLD",9887,"KRN",9.8,"NM","B","DSIO01",11)

"BLD",9887,"KRN",9.8,"NM","B","DSIO02",17)

"BLD",9887,"KRN",9.8,"NM","B","DSIO1",1)

"BLD",9887,"KRN",9.8,"NM","B","DSIO10",6)

"BLD",9887,"KRN",9.8,"NM","B","DSIO11",19)

"BLD",9887,"KRN",9.8,"NM","B","DSIO12",10)

"BLD",9887,"KRN",9.8,"NM","B","DSIO13",16)

"BLD",9887,"KRN",9.8,"NM","B","DSIO14",7)

"BLD",9887,"KRN",9.8,"NM","B","DSIO15",9)

"BLD",9887,"KRN",9.8,"NM","B","DSIO2",2)

"BLD",9887,"KRN",9.8,"NM","B","DSIO3",3)

"BLD",9887,"KRN",9.8,"NM","B","DSIO4",4)

"BLD",9887,"KRN",9.8,"NM","B","DSIO5",15)

"BLD",9887,"KRN",9.8,"NM","B","DSIO6",13)

"BLD",9887,"KRN",9.8,"NM","B","DSIO7",14)

"BLD",9887,"KRN",9.8,"NM","B","DSIO9",5)

"BLD",9887,"KRN",9.8,"NM","B","DSIO98",12)

"BLD",9887,"KRN",9.8,"NM","B","DSIO99",18)

"BLD",9887,"KRN",19,0)
19
"BLD",9887,"KRN",19,"NM",0)
^9.68A^6^2
"BLD",9887,"KRN",19,"NM",5,0)
DSIO GUI CONTEXT^^0
"BLD",9887,"KRN",19,"NM",6,0)
DSIO CHECK NOTE STATUS^^0
"BLD",9887,"KRN",19,"NM","B","DSIO CHECK NOTE STATUS",6)

"BLD",9887,"KRN",19,"NM","B","DSIO GUI CONTEXT",5)

"BLD",9887,"KRN",19.1,0)
19.1
"BLD",9887,"KRN",101,0)
101
"BLD",9887,"KRN",409.61,0)
409.61
"BLD",9887,"KRN",771,0)
771
"BLD",9887,"KRN",779.2,0)
779.2
"BLD",9887,"KRN",870,0)
870
"BLD",9887,"KRN",8989.51,0)
8989.51
"BLD",9887,"KRN",8989.51,"NM",0)
^9.68A^^0
"BLD",9887,"KRN",8989.52,0)
8989.52
"BLD",9887,"KRN",8994,0)
8994
"BLD",9887,"KRN",8994,"NM",0)
^9.68A^42^40
"BLD",9887,"KRN",8994,"NM",1,0)
DSIO GET PERSON^^0
"BLD",9887,"KRN",8994,"NM",4,0)
DSIO GET PREG DETAILS^^0
"BLD",9887,"KRN",8994,"NM",5,0)
DSIO SAVE PREG DETAILS^^0
"BLD",9887,"KRN",8994,"NM",6,0)
DSIO SAVE IHE DOC^^0
"BLD",9887,"KRN",8994,"NM",7,0)
DSIO SAVE PERSON^^0
"BLD",9887,"KRN",8994,"NM",8,0)
DSIO GET TIU NOTES^^0
"BLD",9887,"KRN",8994,"NM",9,0)
DSIO SELECT LIST^^0
"BLD",9887,"KRN",8994,"NM",10,0)
DSIO PATIENT LIST^^0
"BLD",9887,"KRN",8994,"NM",11,0)
DSIO GET TRACKING^^0
"BLD",9887,"KRN",8994,"NM",12,0)
DSIO GET EXTERNAL ENTITY^^0
"BLD",9887,"KRN",8994,"NM",13,0)
DSIO SAVE EXTERNAL ENTITY^^0
"BLD",9887,"KRN",8994,"NM",14,0)
DSIO GET IHE PATIENT INFO^^1^
"BLD",9887,"KRN",8994,"NM",15,0)
DSIO IHE GET DOC^^1^
"BLD",9887,"KRN",8994,"NM",16,0)
DSIO IHE PATIENT LIST^^1^
"BLD",9887,"KRN",8994,"NM",17,0)
DSIO GET RECORD TEXT^^0
"BLD",9887,"KRN",8994,"NM",18,0)
DSIO CREATE TRACKING LOG^^0
"BLD",9887,"KRN",8994,"NM",19,0)
DSIO GET PATIENT INFORMATION^^0
"BLD",9887,"KRN",8994,"NM",20,0)
DSIO SET PATIENT INFORMATION^^0
"BLD",9887,"KRN",8994,"NM",21,0)
DSIO CREATE A NOTE^^0
"BLD",9887,"KRN",8994,"NM",22,0)
DSIO UPDATE A NOTE^^0
"BLD",9887,"KRN",8994,"NM",23,0)
DSIO MAKE ADDENDUM^^0
"BLD",9887,"KRN",8994,"NM",24,0)
DSIO DELETE A NOTE^^0
"BLD",9887,"KRN",8994,"NM",25,0)
DSIO SIGN A NOTE^^0
"BLD",9887,"KRN",8994,"NM",26,0)
DSIO FEMALE PATIENT FIND^^1^
"BLD",9887,"KRN",8994,"NM",27,0)
DSIO FEMALE PATIENT SEARCH^^1^
"BLD",9887,"KRN",8994,"NM",28,0)
DSIO GET PREG OBSERVATIONS^^1^
"BLD",9887,"KRN",8994,"NM",29,0)
DSIO GET PROVIDER^^0
"BLD",9887,"KRN",8994,"NM",30,0)
DSIO GET REMINDER LIST^^0
"BLD",9887,"KRN",8994,"NM",31,0)
DSIO GET REMINDER DETAIL^^0
"BLD",9887,"KRN",8994,"NM",32,0)
DSIO GET NOTIFICATIONS/ALERTS^^0
"BLD",9887,"KRN",8994,"NM",33,0)
DSIO IHE SAVE^^1^
"BLD",9887,"KRN",8994,"NM",34,0)
DSIO SAVE NON VA ENTITY^^1^
"BLD",9887,"KRN",8994,"NM",35,0)
DSIO GET IHE CONTENT^^0
"BLD",9887,"KRN",8994,"NM",36,0)
DSIO GET IHE DOCS^^0
"BLD",9887,"KRN",8994,"NM",37,0)
DSIO VPR GET PATIENT DATA^^0
"BLD",9887,"KRN",8994,"NM",38,0)
DSIO SAVE OBSERVATION^^0
"BLD",9887,"KRN",8994,"NM",39,0)
DSIO GET OBSERVATIONS^^0
"BLD",9887,"KRN",8994,"NM",40,0)
DSIO GET ORDER LIST^^0
"BLD",9887,"KRN",8994,"NM",41,0)
DSIO GET ORDER DETAIL^^0
"BLD",9887,"KRN",8994,"NM",42,0)
DSIO GET MCC PATIENT CHECKLIST^^0
"BLD",9887,"KRN",8994,"NM","B","DSIO CREATE A NOTE",21)

"BLD",9887,"KRN",8994,"NM","B","DSIO CREATE TRACKING LOG",18)

"BLD",9887,"KRN",8994,"NM","B","DSIO DELETE A NOTE",24)

"BLD",9887,"KRN",8994,"NM","B","DSIO FEMALE PATIENT FIND",26)

"BLD",9887,"KRN",8994,"NM","B","DSIO FEMALE PATIENT SEARCH",27)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET EXTERNAL ENTITY",12)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET IHE CONTENT",35)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET IHE DOCS",36)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET IHE PATIENT INFO",14)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET MCC PATIENT CHECKLIST",42)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET NOTIFICATIONS/ALERTS",32)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET OBSERVATIONS",39)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET ORDER DETAIL",41)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET ORDER LIST",40)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET PATIENT INFORMATION",19)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET PERSON",1)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET PREG DETAILS",4)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET PREG OBSERVATIONS",28)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET PROVIDER",29)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET RECORD TEXT",17)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET REMINDER DETAIL",31)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET REMINDER LIST",30)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET TIU NOTES",8)

"BLD",9887,"KRN",8994,"NM","B","DSIO GET TRACKING",11)

"BLD",9887,"KRN",8994,"NM","B","DSIO IHE GET DOC",15)

"BLD",9887,"KRN",8994,"NM","B","DSIO IHE PATIENT LIST",16)

"BLD",9887,"KRN",8994,"NM","B","DSIO IHE SAVE",33)

"BLD",9887,"KRN",8994,"NM","B","DSIO MAKE ADDENDUM",23)

"BLD",9887,"KRN",8994,"NM","B","DSIO PATIENT LIST",10)

"BLD",9887,"KRN",8994,"NM","B","DSIO SAVE EXTERNAL ENTITY",13)

"BLD",9887,"KRN",8994,"NM","B","DSIO SAVE IHE DOC",6)

"BLD",9887,"KRN",8994,"NM","B","DSIO SAVE NON VA ENTITY",34)

"BLD",9887,"KRN",8994,"NM","B","DSIO SAVE OBSERVATION",38)

"BLD",9887,"KRN",8994,"NM","B","DSIO SAVE PERSON",7)

"BLD",9887,"KRN",8994,"NM","B","DSIO SAVE PREG DETAILS",5)

"BLD",9887,"KRN",8994,"NM","B","DSIO SELECT LIST",9)

"BLD",9887,"KRN",8994,"NM","B","DSIO SET PATIENT INFORMATION",20)

"BLD",9887,"KRN",8994,"NM","B","DSIO SIGN A NOTE",25)

"BLD",9887,"KRN",8994,"NM","B","DSIO UPDATE A NOTE",22)

"BLD",9887,"KRN",8994,"NM","B","DSIO VPR GET PATIENT DATA",37)

"BLD",9887,"KRN","B",.4,.4)

"BLD",9887,"KRN","B",.401,.401)

"BLD",9887,"KRN","B",.402,.402)

"BLD",9887,"KRN","B",.403,.403)

"BLD",9887,"KRN","B",.5,.5)

"BLD",9887,"KRN","B",.84,.84)

"BLD",9887,"KRN","B",3.6,3.6)

"BLD",9887,"KRN","B",3.8,3.8)

"BLD",9887,"KRN","B",9.2,9.2)

"BLD",9887,"KRN","B",9.8,9.8)

"BLD",9887,"KRN","B",19,19)

"BLD",9887,"KRN","B",19.1,19.1)

"BLD",9887,"KRN","B",101,101)

"BLD",9887,"KRN","B",409.61,409.61)

"BLD",9887,"KRN","B",771,771)

"BLD",9887,"KRN","B",779.2,779.2)

"BLD",9887,"KRN","B",870,870)

"BLD",9887,"KRN","B",8989.51,8989.51)

"BLD",9887,"KRN","B",8989.52,8989.52)

"BLD",9887,"KRN","B",8994,8994)

"DATA",19641.48,1,0)
oCNT_OBHP.dll
"DATA",19641.48,1,1,0)
^19641.481A^35^34
"DATA",19641.48,1,1,1,0)
LISTBOXCOMPLAINTS^DL
"DATA",19641.48,1,1,1,1,0)
^19641.4811PA^12^12
"DATA",19641.48,1,1,1,1,1,0)
1
"DATA",19641.48,1,1,1,1,2,0)
2
"DATA",19641.48,1,1,1,1,3,0)
3
"DATA",19641.48,1,1,1,1,4,0)
4
"DATA",19641.48,1,1,1,1,5,0)
5
"DATA",19641.48,1,1,1,1,6,0)
6
"DATA",19641.48,1,1,1,1,7,0)
7
"DATA",19641.48,1,1,1,1,8,0)
8
"DATA",19641.48,1,1,1,1,9,0)
9
"DATA",19641.48,1,1,1,1,10,0)
10
"DATA",19641.48,1,1,1,1,11,0)
11
"DATA",19641.48,1,1,1,1,12,0)
12
"DATA",19641.48,1,1,2,0)
LISTBOXMEDICALHIST^DL
"DATA",19641.48,1,1,2,1,0)
^19641.4811PA^6^5
"DATA",19641.48,1,1,2,1,1,0)
14
"DATA",19641.48,1,1,2,1,3,0)
16
"DATA",19641.48,1,1,2,1,4,0)
17
"DATA",19641.48,1,1,2,1,5,0)
33
"DATA",19641.48,1,1,2,1,6,0)
30
"DATA",19641.48,1,1,3,0)
LISTBOXFAMILYHIST^DL
"DATA",19641.48,1,1,3,1,0)
^19641.4811PA^2^2
"DATA",19641.48,1,1,3,1,1,0)
18
"DATA",19641.48,1,1,3,1,2,0)
26
"DATA",19641.48,1,1,4,0)
LISTBOXSOCIALHIST^DL
"DATA",19641.48,1,1,4,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,4,1,1,0)
19
"DATA",19641.48,1,1,5,0)
BUTTONROS^DL
"DATA",19641.48,1,1,5,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,5,1,1,0)
35
"DATA",19641.48,1,1,6,0)
BUTTONPHYSICAL^DL
"DATA",19641.48,1,1,6,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,6,1,1,0)
34
"DATA",19641.48,1,1,7,0)
BUTTONOBFLOW^DL
"DATA",19641.48,1,1,7,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,7,1,1,0)
31
"DATA",19641.48,1,1,8,0)
BUTTONEDDCAL^DL
"DATA",19641.48,1,1,8,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,8,1,1,0)
24
"DATA",19641.48,1,1,9,0)
BUTTONPRENATALNORMAL^DL
"DATA",19641.48,1,1,9,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,9,1,1,0)
29
"DATA",19641.48,1,1,11,0)
BUTTONOBEXAM^DL
"DATA",19641.48,1,1,11,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,11,1,1,0)
27
"DATA",19641.48,1,1,12,0)
MEMOCOMPLAINTS^WP
"DATA",19641.48,1,1,13,0)
BUTTONCOMPLAINTCLEAR^S
"DATA",19641.48,1,1,14,0)
RADIOGROUP3^S
"DATA",19641.48,1,1,15,0)
MEMOACTIVEMEDICATIONS^WP
"DATA",19641.48,1,1,16,0)
MEMOACTIVEPROBLEMS^WP
"DATA",19641.48,1,1,17,0)
RADIOGROUPIMPORT^S
"DATA",19641.48,1,1,18,0)
BUTTONRELOAD^S
"DATA",19641.48,1,1,19,0)
MEMOALLERGIES^WP
"DATA",19641.48,1,1,20,0)
RADIOGROUPHISTORY^S
"DATA",19641.48,1,1,21,0)
MEMOHISTORY^WP
"DATA",19641.48,1,1,22,0)
BUTTONHISTORYCLEAR^S
"DATA",19641.48,1,1,23,0)
MEMOROS^WP
"DATA",19641.48,1,1,24,0)
BUTTONROSCLEAR^S
"DATA",19641.48,1,1,25,0)
MEMOPHYSICAL^WP
"DATA",19641.48,1,1,26,0)
BUTTONPHYSICALCLEAR^S
"DATA",19641.48,1,1,27,0)
MEMOOBEXAM^WP
"DATA",19641.48,1,1,28,0)
BUTTONOBCLEAR^S
"DATA",19641.48,1,1,29,0)
MEMOPRENATAL^WP
"DATA",19641.48,1,1,30,0)
BUTTONPLANCLEAR^S
"DATA",19641.48,1,1,31,0)
CKLSTPROBLEMS^M
"DATA",19641.48,1,1,31,2,0)
^^12^12^3141002^
"DATA",19641.48,1,1,31,2,1,0)
Asthma
"DATA",19641.48,1,1,31,2,2,0)
Depression
"DATA",19641.48,1,1,31,2,3,0)
Diabetes
"DATA",19641.48,1,1,31,2,4,0)
Eating disorders
"DATA",19641.48,1,1,31,2,5,0)
Epilepsy and other seizure disorders
"DATA",19641.48,1,1,31,2,6,0)
High blood pressure
"DATA",19641.48,1,1,31,2,7,0)
HIV
"DATA",19641.48,1,1,31,2,8,0)
Migraine
"DATA",19641.48,1,1,31,2,9,0)
Overweight and Obesity
"DATA",19641.48,1,1,31,2,10,0)
Sexually transmitted infections (STIs)
"DATA",19641.48,1,1,31,2,11,0)
Thyroid disease
"DATA",19641.48,1,1,31,2,12,0)
Uterine fibroids
"DATA",19641.48,1,1,32,0)
CKLSTEDUCATION^M
"DATA",19641.48,1,1,32,4)
D EDU^DSIO02
"DATA",19641.48,1,1,33,0)
PAGEPRENATAL^P
"DATA",19641.48,1,1,33,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,33,1,1,0)
28
"DATA",19641.48,1,1,34,0)
BTNEDUCATION^DL
"DATA",19641.48,1,1,34,1,0)
^19641.4811PA^1^1
"DATA",19641.48,1,1,34,1,1,0)
38
"DATA",19641.48,1,1,35,0)
GROUPBOX2^S^14
"DATA",19641.48,2,0)
oCNT_NursePostpartum.dll
"DATA",19641.48,2,1,0)
^19641.481A^2^2
"DATA",19641.48,2,1,1,0)
BUTTONDELIVERY^DL
"DATA",19641.48,2,1,1,1,0)
^19641.4811PA^1^1
"DATA",19641.48,2,1,1,1,1,0)
20
"DATA",19641.48,2,1,2,0)
BTNMATERNALINFO^DL
"DATA",19641.48,2,1,2,1,0)
^19641.4811PA^1^1
"DATA",19641.48,2,1,2,1,1,0)
42
"DATA",19641.48,3,0)
oCNT_OBFollowUp.dll
"DATA",19641.48,3,1,0)
^19641.481A^35^34
"DATA",19641.48,3,1,1,0)
LISTBOXCOMPLAINTS^DL
"DATA",19641.48,3,1,1,1,0)
^19641.4811PA^12^12
"DATA",19641.48,3,1,1,1,1,0)
1
"DATA",19641.48,3,1,1,1,2,0)
2
"DATA",19641.48,3,1,1,1,3,0)
3
"DATA",19641.48,3,1,1,1,4,0)
4
"DATA",19641.48,3,1,1,1,5,0)
5
"DATA",19641.48,3,1,1,1,6,0)
6
"DATA",19641.48,3,1,1,1,7,0)
7
"DATA",19641.48,3,1,1,1,8,0)
8
"DATA",19641.48,3,1,1,1,9,0)
9
"DATA",19641.48,3,1,1,1,10,0)
10
"DATA",19641.48,3,1,1,1,11,0)
11
"DATA",19641.48,3,1,1,1,12,0)
12
"DATA",19641.48,3,1,2,0)
LISTBOXMEDICALHIST^DL
"DATA",19641.48,3,1,2,1,0)
^19641.4811PA^6^5
"DATA",19641.48,3,1,2,1,1,0)
14
"DATA",19641.48,3,1,2,1,3,0)
16
"DATA",19641.48,3,1,2,1,4,0)
17
"DATA",19641.48,3,1,2,1,5,0)
33
"DATA",19641.48,3,1,2,1,6,0)
30
"DATA",19641.48,3,1,3,0)
LISTBOXFAMILYHIST^DL
"DATA",19641.48,3,1,3,1,0)
^19641.4811PA^2^2
"DATA",19641.48,3,1,3,1,1,0)
18
"DATA",19641.48,3,1,3,1,2,0)
26
"DATA",19641.48,3,1,4,0)
LISTBOXSOCIALHIST^DL
"DATA",19641.48,3,1,4,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,4,1,1,0)
19
"DATA",19641.48,3,1,5,0)
BUTTONROS^DL
"DATA",19641.48,3,1,5,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,5,1,1,0)
35
"DATA",19641.48,3,1,6,0)
BUTTONPHYSICAL^DL
"DATA",19641.48,3,1,6,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,6,1,1,0)
34
"DATA",19641.48,3,1,7,0)
BUTTONOBFLOW^DL
"DATA",19641.48,3,1,7,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,7,1,1,0)
31
"DATA",19641.48,3,1,8,0)
BUTTONEDDCAL^DL
"DATA",19641.48,3,1,8,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,8,1,1,0)
24
"DATA",19641.48,3,1,9,0)
BUTTONPRENATALNORMAL^DL
"DATA",19641.48,3,1,9,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,9,1,1,0)
29
"DATA",19641.48,3,1,11,0)
BUTTONOBEXAM^DL
"DATA",19641.48,3,1,11,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,11,1,1,0)
27
"DATA",19641.48,3,1,12,0)
MEMOCOMPLAINTS^WP
"DATA",19641.48,3,1,13,0)
BUTTONCOMPLAINTCLEAR^S
"DATA",19641.48,3,1,14,0)
RADIOGROUP3^S
"DATA",19641.48,3,1,15,0)
MEMOACTIVEMEDICATIONS^WP
"DATA",19641.48,3,1,16,0)
MEMOACTIVEPROBLEMS^WP
"DATA",19641.48,3,1,17,0)
RADIOGROUPIMPORT^S
"DATA",19641.48,3,1,18,0)
BUTTONRELOAD^S
"DATA",19641.48,3,1,19,0)
MEMOALLERGIES^WP
"DATA",19641.48,3,1,20,0)
RADIOGROUPHISTORY^S
"DATA",19641.48,3,1,21,0)
MEMOHISTORY^WP
"DATA",19641.48,3,1,22,0)
BUTTONHISTORYCLEAR^S
"DATA",19641.48,3,1,23,0)
MEMOROS^WP
"DATA",19641.48,3,1,24,0)
BUTTONROSCLEAR^S
"DATA",19641.48,3,1,25,0)
MEMOPHYSICAL^WP
"DATA",19641.48,3,1,26,0)
BUTTONPHYSICALCLEAR^S
"DATA",19641.48,3,1,27,0)
MEMOOBEXAM^WP
"DATA",19641.48,3,1,28,0)
BUTTONOBCLEAR^S
"DATA",19641.48,3,1,29,0)
MEMOPRENATAL^WP
"DATA",19641.48,3,1,29,5,0)
^19641.4815IP^2^2
"DATA",19641.48,3,1,29,5,1,0)
1^MEMOPRENATAL^93^^1
"DATA",19641.48,3,1,29,5,2,0)
3^MEMOPRENATAL^92^^0
"DATA",19641.48,3,1,30,0)
BUTTONPLANCLEAR^S
"DATA",19641.48,3,1,31,0)
CKLSTPROBLEMS^M
"DATA",19641.48,3,1,31,2,0)
^19641.4812^12^12^3141208^^
"DATA",19641.48,3,1,31,2,1,0)
Asthma
"DATA",19641.48,3,1,31,2,2,0)
Depression
"DATA",19641.48,3,1,31,2,3,0)
Diabetes
"DATA",19641.48,3,1,31,2,4,0)
Eating disorders
"DATA",19641.48,3,1,31,2,5,0)
Epilepsy and other seizure disorders
"DATA",19641.48,3,1,31,2,6,0)
High blood pressure
"DATA",19641.48,3,1,31,2,7,0)
HIV
"DATA",19641.48,3,1,31,2,8,0)
Migraine
"DATA",19641.48,3,1,31,2,9,0)
Overweight and Obesity
"DATA",19641.48,3,1,31,2,10,0)
Sexually transmitted infections (STIs)
"DATA",19641.48,3,1,31,2,11,0)
Thyroid disease
"DATA",19641.48,3,1,31,2,12,0)
Uterine fibroids
"DATA",19641.48,3,1,31,5,0)
^19641.4815IP^2^2
"DATA",19641.48,3,1,31,5,1,0)
1^CKLSTPROBLEMS^93^^1
"DATA",19641.48,3,1,31,5,2,0)
3^CKLSTPROBLEMS^92^^0
"DATA",19641.48,3,1,32,0)
CKLSTEDUCATION^M
"DATA",19641.48,3,1,32,4)
D EDU^DSIO02
"DATA",19641.48,3,1,32,5,0)
^19641.4815IP^2^2
"DATA",19641.48,3,1,32,5,1,0)
1^CKLSTEDUCATION^93^^1
"DATA",19641.48,3,1,32,5,2,0)
3^CKLSTEDUCATION^92^^0
"DATA",19641.48,3,1,33,0)
PAGEPRENATAL^P
"DATA",19641.48,3,1,33,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,33,1,1,0)
28
"DATA",19641.48,3,1,34,0)
BTNEDUCATION^DL
"DATA",19641.48,3,1,34,1,0)
^19641.4811PA^1^1
"DATA",19641.48,3,1,34,1,1,0)
38
"DATA",19641.48,3,1,35,0)
RADIOREASON^S^14
"DATA",19641.49,1,0)
ABDOMINAL PAIN/CRAMPING^udlgAbdomPain^TdlgAbdomPain
"DATA",19641.49,1,1,0)
^19641.491^12^12
"DATA",19641.49,1,1,1,0)
LEONSET^S
"DATA",19641.49,1,1,2,0)
LELOCAT^S
"DATA",19641.49,1,1,3,0)
LEFREQ^S
"DATA",19641.49,1,1,4,0)
LEDUR^S
"DATA",19641.49,1,1,5,0)
CBCONTYES^S
"DATA",19641.49,1,1,6,0)
CBCONTNO^S
"DATA",19641.49,1,1,7,0)
CBNAUSYES^S
"DATA",19641.49,1,1,8,0)
CBNAUSNO^S
"DATA",19641.49,1,1,9,0)
CBAPPYES^S
"DATA",19641.49,1,1,10,0)
CBAPPNO^S
"DATA",19641.49,1,1,11,0)
CBFEVYES^S
"DATA",19641.49,1,1,12,0)
CBFEVNO^S
"DATA",19641.49,2,0)
BACK PAIN^udlgBackPain^TdlgBackPain
"DATA",19641.49,2,1,0)
^19641.491^9^9
"DATA",19641.49,2,1,1,0)
LEONSET^S
"DATA",19641.49,2,1,2,0)
LECHAR^S
"DATA",19641.49,2,1,3,0)
LELOCAT^S
"DATA",19641.49,2,1,4,0)
LEDUR^S
"DATA",19641.49,2,1,5,0)
LEURIN^S
"DATA",19641.49,2,1,6,0)
CBDYSY^S
"DATA",19641.49,2,1,7,0)
CBDYSN^S
"DATA",19641.49,2,1,8,0)
CBFEVERY^S
"DATA",19641.49,2,1,9,0)
CBFEVERN^S
"DATA",19641.49,3,0)
COUGH/CONGESTION^udlgCoughCongest^TdlgCoughCongest
"DATA",19641.49,3,1,0)
^19641.491^16^16
"DATA",19641.49,3,1,1,0)
LEONSET^S
"DATA",19641.49,3,1,2,0)
LECOLOR^S
"DATA",19641.49,3,1,3,0)
CBPRODCY^S
"DATA",19641.49,3,1,4,0)
CBPRODCN^S
"DATA",19641.49,3,1,5,0)
CBBLOODY^S
"DATA",19641.49,3,1,6,0)
CBBLOODN^S
"DATA",19641.49,3,1,7,0)
CBNASALY^S
"DATA",19641.49,3,1,8,0)
CBNASALN^S
"DATA",19641.49,3,1,9,0)
CBSINUSY^S
"DATA",19641.49,3,1,10,0)
CBSINUSN^S
"DATA",19641.49,3,1,11,0)
CBRHINY^S
"DATA",19641.49,3,1,12,0)
CBRHINN^S
"DATA",19641.49,3,1,13,0)
CBFEVERY^S
"DATA",19641.49,3,1,14,0)
CBFEVERN^S
"DATA",19641.49,3,1,15,0)
CBSOBY^S
"DATA",19641.49,3,1,16,0)
CBSOBN^S
"DATA",19641.49,4,0)
HEADACHE^udlgHeadache^TdlgHeadache
"DATA",19641.49,4,1,0)
^19641.491^8^8
"DATA",19641.49,4,1,1,0)
LEONSET^S
"DATA",19641.49,4,1,2,0)
LECHAR^S
"DATA",19641.49,4,1,3,0)
LELOCAT^S
"DATA",19641.49,4,1,4,0)
LEDUR^S
"DATA",19641.49,4,1,5,0)
LEASSOC^S
"DATA",19641.49,4,1,6,0)
LEWHAT^S
"DATA",19641.49,4,1,7,0)
CBTREATYES^S
"DATA",19641.49,4,1,8,0)
CBTREATNO^S
"DATA",19641.49,5,0)
LEG PAIN/SWELLING^udlgLegPain^TdlgLegPain
"DATA",19641.49,5,1,0)
^19641.491^2^2
"DATA",19641.49,5,1,1,0)
LEONSET^S
"DATA",19641.49,5,1,2,0)
LEDUR^S
"DATA",19641.49,6,0)
NAUSEA/VOMITING/DIARRHEA^udlgNausea^TdlgNausea
"DATA",19641.49,6,1,0)
^19641.491^14^14
"DATA",19641.49,6,1,1,0)
LEONSET^S
"DATA",19641.49,6,1,2,0)
LELOCAL^S
"DATA",19641.49,6,1,3,0)
LEDUR^S
"DATA",19641.49,6,1,4,0)
LEDUR1^S
"DATA",19641.49,6,1,5,0)
CBSOLIDY^S
"DATA",19641.49,6,1,6,0)
CBSOLIDN^S
"DATA",19641.49,6,1,7,0)
CBLIQUIDY^S
"DATA",19641.49,6,1,8,0)
CBLIQUIDN^S
"DATA",19641.49,6,1,9,0)
CBFEVERY^S
"DATA",19641.49,6,1,10,0)
CBFEVERN^S
"DATA",19641.49,6,1,11,0)
CBABDOMY^S
"DATA",19641.49,6,1,12,0)
CBABDOMN^S
"DATA",19641.49,6,1,13,0)
CBCONTY^S
"DATA",19641.49,6,1,14,0)
CBCONTN^S
"DATA",19641.49,7,0)
PALPITATIONS^udlgPalp^TdlgPalp
"DATA",19641.49,7,1,0)
^19641.491^4^4
"DATA",19641.49,7,1,1,0)
LEONSET^S
"DATA",19641.49,7,1,2,0)
LEDUR^S
"DATA",19641.49,7,1,3,0)
LEASSOC^S
"DATA",19641.49,7,1,4,0)
LEFREQ^S
"DATA",19641.49,8,0)
RASH/ITCHING^udlgRash^TdlgRash
"DATA",19641.49,8,1,0)
^19641.491^4^4
"DATA",19641.49,8,1,1,0)
LEONSET^S
"DATA",19641.49,8,1,2,0)
LELOCAT^S
"DATA",19641.49,8,1,3,0)
CBITCHY^S
"DATA",19641.49,8,1,4,0)
CBITCHN^S
"DATA",19641.49,9,0)
VAGINAL BLEEDING^udlgVagBleed^TdlgVagBleed
"DATA",19641.49,9,1,0)
^19641.491^7^7
"DATA",19641.49,9,1,1,0)
LEONSET^S
"DATA",19641.49,9,1,2,0)
LEAMT^S
"DATA",19641.49,9,1,3,0)
LEDUR^S
"DATA",19641.49,9,1,4,0)
CBCRAMPY^S
"DATA",19641.49,9,1,5,0)
CBCRAMPN^S
"DATA",19641.49,9,1,6,0)
CBLEAKY^S
"DATA",19641.49,9,1,7,0)
CBLEAKN^S
"DATA",19641.49,10,0)
VAGINAL DISCHARGE^udlgVagDischarge^TdlgVagDischarge
"DATA",19641.49,10,1,0)
^19641.491^6^6
"DATA",19641.49,10,1,1,0)
LEONSET^S
"DATA",19641.49,10,1,2,0)
LECOLOR^S
"DATA",19641.49,10,1,3,0)
CHECKBOX1^S
"DATA",19641.49,10,1,4,0)
CHECKBOX2^S
"DATA",19641.49,10,1,5,0)
CHECKBOX3^S
"DATA",19641.49,10,1,6,0)
CHECKBOX4^S
"DATA",19641.49,11,0)
VISUAL CHANGES^udlgVisualChanges^TdlgVisualChanges
"DATA",19641.49,11,1,0)
^19641.491^7^7
"DATA",19641.49,11,1,1,0)
LEONSET^S
"DATA",19641.49,11,1,2,0)
LEOTHER^S
"DATA",19641.49,11,1,3,0)
LEDUR^S
"DATA",19641.49,11,1,4,0)
CMBCHAR^M
"DATA",19641.49,11,1,4,2,0)
^^4^4^3140826^
"DATA",19641.49,11,1,4,2,1,0)
Blurry
"DATA",19641.49,11,1,4,2,2,0)
Flashing Lights
"DATA",19641.49,11,1,4,2,3,0)
Color
"DATA",19641.49,11,1,4,2,4,0)
Loss of Vision
"DATA",19641.49,11,1,5,0)
CMBLOC^M
"DATA",19641.49,11,1,5,2,0)
^^2^2^3140826^
"DATA",19641.49,11,1,5,2,1,0)
Whole Field
"DATA",19641.49,11,1,5,2,2,0)
Segment of Visual Field
"DATA",19641.49,11,1,6,0)
CBVISCH^S
"DATA",19641.49,11,1,7,0)
CBNAUS^S
"DATA",19641.49,12,0)
WHEEZING^udlgWheezing^TdlgWheezing
"DATA",19641.49,12,1,0)
^19641.491^5^5
"DATA",19641.49,12,1,1,0)
LEONSET^S
"DATA",19641.49,12,1,2,0)
LEASSOCSYM^S
"DATA",19641.49,12,1,3,0)
LEDUR^S
"DATA",19641.49,12,1,4,0)
CBSOBY^S
"DATA",19641.49,12,1,5,0)
CBSOBN^S
"DATA",19641.49,13,0)
CHANGE IN FETAL MOVEMENT^udlgFetalMov^TdlgFetalMov
"DATA",19641.49,13,1,0)
^19641.491^14^14
"DATA",19641.49,13,1,1,0)
LEONSET^S
"DATA",19641.49,13,1,2,0)
LECHARFETAL^S
"DATA",19641.49,13,1,3,0)
LELASTMOV^S
"DATA",19641.49,13,1,4,0)
LEFREQ^S
"DATA",19641.49,13,1,5,0)
LEONSET1^S
"DATA",19641.49,13,1,6,0)
CBFETMOVY^S
"DATA",19641.49,13,1,7,0)
CBFETMOVN^S
"DATA",19641.49,13,1,8,0)
CBCONTY^S
"DATA",19641.49,13,1,9,0)
CBCONTN^S
"DATA",19641.49,13,1,10,0)
CBVAGBLEY^S
"DATA",19641.49,13,1,11,0)
CBVAGBLEN^S
"DATA",19641.49,13,1,12,0)
CBLEAKY^S
"DATA",19641.49,13,1,13,0)
CBLEAKN^S
"DATA",19641.49,13,1,14,0)
LEDUR^S
"DATA",19641.49,14,0)
MEDICAL HISTORY^udlgMedical^TdlgMedical
"DATA",19641.49,14,1,0)
^19641.491^87^87
"DATA",19641.49,14,1,1,0)
CHECKBOX1^S
"DATA",19641.49,14,1,2,0)
CHECKBOX2^S
"DATA",19641.49,14,1,3,0)
EDIT1^S
"DATA",19641.49,14,1,4,0)
CHECKBOX3^S
"DATA",19641.49,14,1,5,0)
CHECKBOX4^S
"DATA",19641.49,14,1,6,0)
EDIT2^S
"DATA",19641.49,14,1,7,0)
CHECKBOX5^S
"DATA",19641.49,14,1,8,0)
CHECKBOX6^S
"DATA",19641.49,14,1,9,0)
EDIT3^S
"DATA",19641.49,14,1,10,0)
CHECKBOX7^S
"DATA",19641.49,14,1,11,0)
CHECKBOX8^S
"DATA",19641.49,14,1,12,0)
EDIT4^S
"DATA",19641.49,14,1,13,0)
CHECKBOX9^S
"DATA",19641.49,14,1,14,0)
CHECKBOX10^S
"DATA",19641.49,14,1,15,0)
EDIT5^S
"DATA",19641.49,14,1,16,0)
CHECKBOX11^S
"DATA",19641.49,14,1,17,0)
CHECKBOX12^S
"DATA",19641.49,14,1,18,0)
EDIT6^S
"DATA",19641.49,14,1,19,0)
CHECKBOX13^S
"DATA",19641.49,14,1,20,0)
CHECKBOX14^S
"DATA",19641.49,14,1,21,0)
EDIT7^S
"DATA",19641.49,14,1,22,0)
CHECKBOX15^S
"DATA",19641.49,14,1,23,0)
CHECKBOX16^S
"DATA",19641.49,14,1,24,0)
EDIT8^S
"DATA",19641.49,14,1,25,0)
CHECKBOX17^S
"DATA",19641.49,14,1,26,0)
CHECKBOX18^S
"DATA",19641.49,14,1,27,0)
EDIT9^S
"DATA",19641.49,14,1,28,0)
CHECKBOX19^S
"DATA",19641.49,14,1,29,0)
CHECKBOX20^S
"DATA",19641.49,14,1,30,0)
EDIT10^S
"DATA",19641.49,14,1,31,0)
CHECKBOX21^S
"DATA",19641.49,14,1,32,0)
CHECKBOX22^S
"DATA",19641.49,14,1,33,0)
EDIT11^S
"DATA",19641.49,14,1,34,0)
EDIT18^S
"DATA",19641.49,14,1,35,0)
CHECKBOX998^S
"DATA",19641.49,14,1,36,0)
CHECKBOX999^S
"DATA",19641.49,14,1,37,0)
EDIT24^S
"DATA",19641.49,14,1,38,0)
EDIT25^S
"DATA",19641.49,14,1,39,0)
CHECKBOX23^S
"DATA",19641.49,14,1,40,0)
CHECKBOX24^S
"DATA",19641.49,14,1,41,0)
CHECKBOX25^S
"DATA",19641.49,14,1,42,0)
CHECKBOX26^S
"DATA",19641.49,14,1,43,0)
CHECKBOX27^S
"DATA",19641.49,14,1,44,0)
CHECKBOX28^S
"DATA",19641.49,14,1,45,0)
EDIT12^S
"DATA",19641.49,14,1,46,0)
CHECKBOX29^S
"DATA",19641.49,14,1,47,0)
CHECKBOX30^S
"DATA",19641.49,14,1,48,0)
EDIT13^S
"DATA",19641.49,14,1,49,0)
CHECKBOX35^S
"DATA",19641.49,14,1,50,0)
CHECKBOX36^S
"DATA",19641.49,14,1,51,0)
EDIT14^S
"DATA",19641.49,14,1,52,0)
CHECKBOX37^S
"DATA",19641.49,14,1,53,0)
CHECKBOX38^S
"DATA",19641.49,14,1,54,0)
EDIT15^S
"DATA",19641.49,14,1,55,0)
CHECKBOX39^S
"DATA",19641.49,14,1,56,0)
CHECKBOX40^S
"DATA",19641.49,14,1,57,0)
EDIT16^S
"DATA",19641.49,14,1,58,0)
CHECKBOX41^S
"DATA",19641.49,14,1,59,0)
CHECKBOX42^S
"DATA",19641.49,14,1,60,0)
EDIT17^S
"DATA",19641.49,14,1,61,0)
CHECKBOX43^S
"DATA",19641.49,14,1,62,0)
CHECKBOX44^S
"DATA",19641.49,14,1,63,0)
EDIT21^S
"DATA",19641.49,14,1,64,0)
CHECKBOX45^S
"DATA",19641.49,14,1,65,0)
CHECKBOX46^S
"DATA",19641.49,14,1,66,0)
EDIT22^S
"DATA",19641.49,14,1,67,0)
LABELEDEDIT1^S
"DATA",19641.49,14,1,68,0)
LABELEDEDIT2^S
"DATA",19641.49,14,1,69,0)
EDIT19^S
"DATA",19641.49,14,1,70,0)
EDIT20^S
"DATA",19641.49,14,1,71,0)
EDIT23^S
"DATA",19641.49,14,1,72,0)
EDIT26^S
"DATA",19641.49,14,1,73,0)
CHECKBOX31^S
"DATA",19641.49,14,1,74,0)
CHECKBOX32^S
"DATA",19641.49,14,1,75,0)
EDIT27^S
"DATA",19641.49,14,1,76,0)
CHECKBOX33^S
"DATA",19641.49,14,1,77,0)
CHECKBOX34^S
"DATA",19641.49,14,1,78,0)
CHECKBOX47^S
"DATA",19641.49,14,1,79,0)
CHECKBOX48^S
"DATA",19641.49,14,1,80,0)
CHECKBOX49^S
"DATA",19641.49,14,1,81,0)
CHECKBOX50^S
"DATA",19641.49,14,1,82,0)
CHECKBOX51^S
"DATA",19641.49,14,1,83,0)
CHECKBOX52^S
"DATA",19641.49,14,1,84,0)
EDIT28^S
"DATA",19641.49,14,1,85,0)
CHECKBOX53^S
"DATA",19641.49,14,1,86,0)
CHECKBOX54^S
"DATA",19641.49,14,1,87,0)
CHECKBOX997^S
"DATA",19641.49,15,0)
MENSTRUAL HISTORY^udlgMenstHist^TdlgMenstHist
"DATA",19641.49,15,1,0)
^19641.491^23^15
"DATA",19641.49,15,1,3,0)
EDTFREQUENCY^S
"DATA",19641.49,15,1,3,4)
D MH^DSIO02(1.2)
"DATA",19641.49,15,1,4,0)
EDTLMP^S^2
"DATA",19641.49,15,1,4,4)
D PAT^DSIO02(1.2)
"DATA",19641.49,15,1,5,0)
EDTMENARCHE^S^10
"DATA",19641.49,15,1,5,4)
D PAT^DSIO02(1.1)
"DATA",19641.49,15,1,10,0)
EDTHCG^S
"DATA",19641.49,15,1,10,4)
D MH^DSIO02(1.6)
"DATA",19641.49,15,1,13,0)
MEMLMP^WP
"DATA",19641.49,15,1,13,4)
D MH^DSIO02(2)
"DATA",19641.49,15,1,14,0)
BTNHISTORY^DL
"DATA",19641.49,15,1,14,1,0)
^19641.4911P^2^1
"DATA",19641.49,15,1,14,1,2,0)
37
"DATA",19641.49,15,1,15,0)
CKMENSESYES^S
"DATA",19641.49,15,1,15,4)
D MH^DSIO02(1.1)
"DATA",19641.49,15,1,16,0)
CKMENSESNO^S
"DATA",19641.49,15,1,16,4)
D MH^DSIO02(1.1)
"DATA",19641.49,15,1,17,0)
CKAMOUNTYES^S
"DATA",19641.49,15,1,17,4)
D MH^DSIO02(1.3)
"DATA",19641.49,15,1,18,0)
CKAMOUNTNO^S
"DATA",19641.49,15,1,18,4)
D MH^DSIO02(1.3)
"DATA",19641.49,15,1,19,0)
CKCONTRACEPTIONYES^S
"DATA",19641.49,15,1,19,4)
D MH^DSIO02(1.5)
"DATA",19641.49,15,1,20,0)
CKCONTRACEPTIONNO^S
"DATA",19641.49,15,1,20,4)
D MH^DSIO02(1.5)
"DATA",19641.49,15,1,21,0)
CKDURATIONYES^S
"DATA",19641.49,15,1,21,4)
D MH^DSIO02(1.4)
"DATA",19641.49,15,1,22,0)
CKDURATIONNO^S
"DATA",19641.49,15,1,22,4)
D MH^DSIO02(1.4)
"DATA",19641.49,15,1,23,0)
EDTCONTRACEPTIONTYPE^M
"DATA",19641.49,15,1,23,2,0)
^^10^10^3141217^
"DATA",19641.49,15,1,23,2,1,0)
Combination Hormonal Contraceptives (Pill, Patch, Ring)
"DATA",19641.49,15,1,23,2,2,0)
Condoms
"DATA",19641.49,15,1,23,2,3,0)
Implant-Etonogestrel (Nexplanon)
"DATA",19641.49,15,1,23,2,4,0)
Injection-Medroxyprogesterone (Depo Provera)
"DATA",19641.49,15,1,23,2,5,0)
IUD-Copper (Paraguard)
"DATA",19641.49,15,1,23,2,6,0)
IUD-Progestin (Mirena)
"DATA",19641.49,15,1,23,2,7,0)
IUD-Progestin (Skyla)
"DATA",19641.49,15,1,23,2,8,0)
Partner Vasectomy
"DATA",19641.49,15,1,23,2,9,0)
Progestin Only Oral Contraceptives
"DATA",19641.49,15,1,23,2,10,0)
Tubal Sterilization
"DATA",19641.49,16,0)
PREGNANCY HISTORY^udlgPregHist^TdlgPregHist
"DATA",19641.49,16,1,0)
^19641.491^5^5
"DATA",19641.49,16,1,1,0)
PREGLISTVIEW^LV^11^^1
"DATA",19641.49,16,1,1,4)
D PREG^DSIO02
"DATA",19641.49,16,1,2,0)
EDTABINDUCED^S
"DATA",19641.49,16,1,3,0)
EDTABSPONT^S
"DATA",19641.49,16,1,4,0)
EDTTOTPREG^S
"DATA",19641.49,16,1,5,0)
EDTECTOPIC^S
"DATA",19641.49,17,0)
INFECTION HISTORY^udlgInfectHist^TdlgInfectHist
"DATA",19641.49,17,1,0)
^19641.491^11^11
"DATA",19641.49,17,1,1,0)
CHECKBOX1^S
"DATA",19641.49,17,1,2,0)
CHECKBOX2^S
"DATA",19641.49,17,1,3,0)
CHECKBOX3^S
"DATA",19641.49,17,1,4,0)
CHECKBOX4^S
"DATA",19641.49,17,1,5,0)
CHECKBOX5^S
"DATA",19641.49,17,1,6,0)
CHECKBOX8^S
"DATA",19641.49,17,1,7,0)
CHECKBOX9^S
"DATA",19641.49,17,1,8,0)
CHECKBOX10^S
"DATA",19641.49,17,1,9,0)
CHECKBOX11^S
"DATA",19641.49,17,1,10,0)
LABELEDEDIT1^S
"DATA",19641.49,17,1,11,0)
LABELEDEDIT2^S
"DATA",19641.49,18,0)
FAMILY HISTORY^udlgFamily^TdlgFamily
"DATA",19641.49,18,1,0)
^19641.491^20^20
"DATA",19641.49,18,1,1,0)
COBDX^M
"DATA",19641.49,18,1,1,2,0)
^^23^23^3140923^
"DATA",19641.49,18,1,1,2,1,0)
Arthritis
"DATA",19641.49,18,1,1,2,2,0)
Asthma
"DATA",19641.49,18,1,1,2,3,0)
Bleeding Tendency
"DATA",19641.49,18,1,1,2,4,0)
Cancer
"DATA",19641.49,18,1,1,2,5,0)
Colitis
"DATA",19641.49,18,1,1,2,6,0)
Congenital Heart Disease
"DATA",19641.49,18,1,1,2,7,0)
Depression
"DATA",19641.49,18,1,1,2,8,0)
Diabetes
"DATA",19641.49,18,1,1,2,9,0)
Dyslipidemia
"DATA",19641.49,18,1,1,2,10,0)
Epilepsy
"DATA",19641.49,18,1,1,2,11,0)
Goiter
"DATA",19641.49,18,1,1,2,12,0)
Hay Fever
"DATA",19641.49,18,1,1,2,13,0)
Heart Attack
"DATA",19641.49,18,1,1,2,14,0)
High Blood Pressure
"DATA",19641.49,18,1,1,2,15,0)
Hypothyroidism for Goiter
"DATA",19641.49,18,1,1,2,16,0)
Kidney Disease
"DATA",19641.49,18,1,1,2,17,0)
Leukemia
"DATA",19641.49,18,1,1,2,18,0)
Migraine
"DATA",19641.49,18,1,1,2,19,0)
Rheumatic Heart Disease
"DATA",19641.49,18,1,1,2,20,0)
Stomach Ulcers
"DATA",19641.49,18,1,1,2,21,0)
Stroke
"DATA",19641.49,18,1,1,2,22,0)
Suicide
"DATA",19641.49,18,1,1,2,23,0)
Tuberculosis
"DATA",19641.49,18,1,2,0)
COBFAMMEM^M
"DATA",19641.49,18,1,2,2,0)
^^11^11^3140923^
"DATA",19641.49,18,1,2,2,1,0)
Mother
"DATA",19641.49,18,1,2,2,2,0)
Father
"DATA",19641.49,18,1,2,2,3,0)
Sister
"DATA",19641.49,18,1,2,2,4,0)
Brother
"DATA",19641.49,18,1,2,2,5,0)
Aunt
"DATA",19641.49,18,1,2,2,6,0)
Uncle
"DATA",19641.49,18,1,2,2,7,0)
Cousin
"DATA",19641.49,18,1,2,2,8,0)
Maternal Grandmother
"DATA",19641.49,18,1,2,2,9,0)
Maternal Grandfather
"DATA",19641.49,18,1,2,2,10,0)
Paternal Grandmother
"DATA",19641.49,18,1,2,2,11,0)
Paternal Grandfather
"DATA",19641.49,18,1,3,0)
MEMFAMILY^WP^9
"DATA",19641.49,18,1,4,0)
LISTBOX^M
"DATA",19641.49,18,1,5,0)
LEDCOMMENTS^S
"DATA",19641.49,18,1,6,0)
LEDDATEBIRTH^S
"DATA",19641.49,18,1,7,0)
CBDEAD^S
"DATA",19641.49,18,1,8,0)
CBLIVE^S
"DATA",19641.49,18,1,9,0)
CBNAME^M
"DATA",19641.49,18,1,10,0)
SPNEDUCATION^S
"DATA",19641.49,18,1,11,0)
EDTADDR1^S
"DATA",19641.49,18,1,12,0)
EDTADDR2^S
"DATA",19641.49,18,1,13,0)
EDTADDR3^S
"DATA",19641.49,18,1,14,0)
EDTADDRCITY^S
"DATA",19641.49,18,1,15,0)
EDTADDRZIP^S
"DATA",19641.49,18,1,16,0)
EDTPHONEH^S
"DATA",19641.49,18,1,17,0)
EDTPHONEC^S
"DATA",19641.49,18,1,18,0)
EDTPHONEW^S
"DATA",19641.49,18,1,19,0)
CBADDRSTATE^M
"DATA",19641.49,18,1,19,2,0)
^^50^50^3141003^
"DATA",19641.49,18,1,19,2,1,0)
Alabama
"DATA",19641.49,18,1,19,2,2,0)
Alaska
"DATA",19641.49,18,1,19,2,3,0)
Arizona
"DATA",19641.49,18,1,19,2,4,0)
Arkansas
"DATA",19641.49,18,1,19,2,5,0)
California
"DATA",19641.49,18,1,19,2,6,0)
Colorado
"DATA",19641.49,18,1,19,2,7,0)
Connecticut
"DATA",19641.49,18,1,19,2,8,0)
Delaware
"DATA",19641.49,18,1,19,2,9,0)
Florida
"DATA",19641.49,18,1,19,2,10,0)
Georgia
"DATA",19641.49,18,1,19,2,11,0)
Hawaii
"DATA",19641.49,18,1,19,2,12,0)
Idaho
"DATA",19641.49,18,1,19,2,13,0)
Illinois
"DATA",19641.49,18,1,19,2,14,0)
Indiana
"DATA",19641.49,18,1,19,2,15,0)
Iowa
"DATA",19641.49,18,1,19,2,16,0)
Kansas
"DATA",19641.49,18,1,19,2,17,0)
Kentucky
"DATA",19641.49,18,1,19,2,18,0)
Louisiana
"DATA",19641.49,18,1,19,2,19,0)
Maine
"DATA",19641.49,18,1,19,2,20,0)
Maryland
"DATA",19641.49,18,1,19,2,21,0)
Massachusetts
"DATA",19641.49,18,1,19,2,22,0)
Michigan
"DATA",19641.49,18,1,19,2,23,0)
Minnesota
"DATA",19641.49,18,1,19,2,24,0)
Mississippi
"DATA",19641.49,18,1,19,2,25,0)
Missouri
"DATA",19641.49,18,1,19,2,26,0)
Montana
"DATA",19641.49,18,1,19,2,27,0)
Nebraska
"DATA",19641.49,18,1,19,2,28,0)
Nevada
"DATA",19641.49,18,1,19,2,29,0)
New Hampshire
"DATA",19641.49,18,1,19,2,30,0)
New Jersey
"DATA",19641.49,18,1,19,2,31,0)
New Mexico
"DATA",19641.49,18,1,19,2,32,0)
New York
"DATA",19641.49,18,1,19,2,33,0)
North Carolina
"DATA",19641.49,18,1,19,2,34,0)
North Dakota
"DATA",19641.49,18,1,19,2,35,0)
Ohio
"DATA",19641.49,18,1,19,2,36,0)
Oklahoma
"DATA",19641.49,18,1,19,2,37,0)
Oregon
"DATA",19641.49,18,1,19,2,38,0)
Pennsylvania
"DATA",19641.49,18,1,19,2,39,0)
Rhode Island
"DATA",19641.49,18,1,19,2,40,0)
South Carolina
"DATA",19641.49,18,1,19,2,41,0)
South Dakota
"DATA",19641.49,18,1,19,2,42,0)
Tennessee
"DATA",19641.49,18,1,19,2,43,0)
Texas
"DATA",19641.49,18,1,19,2,44,0)
Utah
"DATA",19641.49,18,1,19,2,45,0)
Vermont
"DATA",19641.49,18,1,19,2,46,0)
Virginia
"DATA",19641.49,18,1,19,2,47,0)
Washington
"DATA",19641.49,18,1,19,2,48,0)
West Virginia
"DATA",19641.49,18,1,19,2,49,0)
Wisconsin
"DATA",19641.49,18,1,19,2,50,0)
Wyoming
"DATA",19641.49,18,1,20,0)
LVPERSONLIST^LV^^1
"DATA",19641.49,18,1,20,4)
D PERSON^DSIO02
"DATA",19641.49,19,0)
SOCIAL HISTORY^udlgSocial^TdlgSocial
"DATA",19641.49,19,1,0)
^19641.491^90^90
"DATA",19641.49,19,1,1,0)
CB3^S
"DATA",19641.49,19,1,2,0)
CB4^S
"DATA",19641.49,19,1,3,0)
CB5^S
"DATA",19641.49,19,1,4,0)
CB6^S
"DATA",19641.49,19,1,5,0)
CB9^S
"DATA",19641.49,19,1,6,0)
CB10^S
"DATA",19641.49,19,1,7,0)
LE2^S
"DATA",19641.49,19,1,8,0)
LE3^S
"DATA",19641.49,19,1,9,0)
CB11^S
"DATA",19641.49,19,1,10,0)
CB12^S
"DATA",19641.49,19,1,11,0)
CB13^S
"DATA",19641.49,19,1,12,0)
CB14^S
"DATA",19641.49,19,1,13,0)
CB15^S
"DATA",19641.49,19,1,14,0)
CB16^S
"DATA",19641.49,19,1,15,0)
CB17^S
"DATA",19641.49,19,1,16,0)
CB18^S
"DATA",19641.49,19,1,17,0)
LEOTHER^S
"DATA",19641.49,19,1,18,0)
LE6^S
"DATA",19641.49,19,1,19,0)
LABELEDEDIT1^S
"DATA",19641.49,19,1,20,0)
CHECKBOX2^S
"DATA",19641.49,19,1,21,0)
CHECKBOX1^S
"DATA",19641.49,19,1,22,0)
CHECKBOX4^S
"DATA",19641.49,19,1,23,0)
CHECKBOX3^S
"DATA",19641.49,19,1,24,0)
CHECKBOX6^S
"DATA",19641.49,19,1,25,0)
CHECKBOX5^S
"DATA",19641.49,19,1,26,0)
LE1^S
"DATA",19641.49,19,1,27,0)
CB2^S
"DATA",19641.49,19,1,28,0)
CB1^S
"DATA",19641.49,19,1,29,0)
EDTBIRTHCONTROL^S
"DATA",19641.49,19,1,30,0)
LABELEDEDIT2^S
"DATA",19641.49,19,1,31,0)
CHECKBOX7^S
"DATA",19641.49,19,1,32,0)
CHECKBOX8^S
"DATA",19641.49,19,1,33,0)
CHECKBOX9^S
"DATA",19641.49,19,1,34,0)
CHECKBOX10^S
"DATA",19641.49,19,1,35,0)
CBNOSMOKE^S
"DATA",19641.49,19,1,36,0)
CBCHEW^S
"DATA",19641.49,19,1,37,0)
EDDAYS^S
"DATA",19641.49,19,1,38,0)
EDYEARS^S
"DATA",19641.49,19,1,39,0)
CBSMOKE^S
"DATA",19641.49,19,1,40,0)
LEDTOBACCO^S
"DATA",19641.49,19,1,41,0)
EDDAYS1^S
"DATA",19641.49,19,1,42,0)
EDYEARS1^S
"DATA",19641.49,19,1,43,0)
LEDCHEWDAY^S
"DATA",19641.49,19,1,44,0)
LEDCHEWYEARS^S
"DATA",19641.49,19,1,45,0)
LEDEPISODE^S
"DATA",19641.49,19,1,46,0)
EDDAYS2^S
"DATA",19641.49,19,1,47,0)
EDYEARS2^S
"DATA",19641.49,19,1,48,0)
CBSECOND^S
"DATA",19641.49,19,1,49,0)
CBNO1^S
"DATA",19641.49,19,1,50,0)
CBNO2^S
"DATA",19641.49,19,1,51,0)
CBNO3^S
"DATA",19641.49,19,1,52,0)
LEDQUIT^S
"DATA",19641.49,19,1,53,0)
LEDDATE^S
"DATA",19641.49,19,1,54,0)
LEDSECOND^S
"DATA",19641.49,19,1,55,0)
CBALCOHOLYES^S
"DATA",19641.49,19,1,56,0)
CBALCOHOLNO^S
"DATA",19641.49,19,1,57,0)
LEDALCOHOL^S
"DATA",19641.49,19,1,58,0)
LEDWINE^S
"DATA",19641.49,19,1,59,0)
COBWINE^M
"DATA",19641.49,19,1,59,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,59,2,1,0)
per day
"DATA",19641.49,19,1,59,2,2,0)
per week
"DATA",19641.49,19,1,59,2,3,0)
per weekend
"DATA",19641.49,19,1,59,2,4,0)
per month
"DATA",19641.49,19,1,60,0)
LEDBEER^S
"DATA",19641.49,19,1,61,0)
COBBEER^M
"DATA",19641.49,19,1,61,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,61,2,1,0)
per day
"DATA",19641.49,19,1,61,2,2,0)
per week
"DATA",19641.49,19,1,61,2,3,0)
per weekend
"DATA",19641.49,19,1,61,2,4,0)
per month
"DATA",19641.49,19,1,62,0)
LEDSPIRITS^S
"DATA",19641.49,19,1,63,0)
COBSPIRITS^M
"DATA",19641.49,19,1,63,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,63,2,1,0)
per day
"DATA",19641.49,19,1,63,2,2,0)
per week
"DATA",19641.49,19,1,63,2,3,0)
per weekend
"DATA",19641.49,19,1,63,2,4,0)
per month
"DATA",19641.49,19,1,64,0)
LEDQUITALCOHOL^S
"DATA",19641.49,19,1,65,0)
LEDDATEALCOHOL^S
"DATA",19641.49,19,1,66,0)
CBDRUGSYES^S
"DATA",19641.49,19,1,67,0)
CBDRUGSNO^S
"DATA",19641.49,19,1,68,0)
LEDQUITDRUGS^S
"DATA",19641.49,19,1,69,0)
LEDDATEDRUGS^S
"DATA",19641.49,19,1,70,0)
LEDDRUGS^S
"DATA",19641.49,19,1,71,0)
COBSTIM^M
"DATA",19641.49,19,1,71,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,71,2,1,0)
Addreall
"DATA",19641.49,19,1,71,2,2,0)
Dexedrine
"DATA",19641.49,19,1,71,2,3,0)
Methamphetamine
"DATA",19641.49,19,1,71,2,4,0)
Ritalin
"DATA",19641.49,19,1,72,0)
COBOTHER^M
"DATA",19641.49,19,1,72,2,0)
^^2^2^3140827^
"DATA",19641.49,19,1,72,2,1,0)
Marijuana
"DATA",19641.49,19,1,72,2,2,0)
Cocaine
"DATA",19641.49,19,1,73,0)
COBRNARC^M
"DATA",19641.49,19,1,73,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,73,2,1,0)
IV
"DATA",19641.49,19,1,73,2,2,0)
Oral
"DATA",19641.49,19,1,73,2,3,0)
Snort/Inhaled
"DATA",19641.49,19,1,73,2,4,0)
Transdermal
"DATA",19641.49,19,1,74,0)
COBRSTIM^M
"DATA",19641.49,19,1,74,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,74,2,1,0)
IV
"DATA",19641.49,19,1,74,2,2,0)
Oral
"DATA",19641.49,19,1,74,2,3,0)
Snort/Inhaled
"DATA",19641.49,19,1,74,2,4,0)
Transdermal
"DATA",19641.49,19,1,75,0)
COBROTHER^M
"DATA",19641.49,19,1,75,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,75,2,1,0)
IV
"DATA",19641.49,19,1,75,2,2,0)
Oral
"DATA",19641.49,19,1,75,2,3,0)
Snort/Inhaled
"DATA",19641.49,19,1,75,2,4,0)
Transdermal
"DATA",19641.49,19,1,76,0)
COBHALL^M
"DATA",19641.49,19,1,76,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,76,2,1,0)
Anabolic Steroids
"DATA",19641.49,19,1,76,2,2,0)
Glue
"DATA",19641.49,19,1,76,2,3,0)
Paint
"DATA",19641.49,19,1,76,2,4,0)
PSP
"DATA",19641.49,19,1,77,0)
COBRHALL^M
"DATA",19641.49,19,1,77,2,0)
^^4^4^3140827^
"DATA",19641.49,19,1,77,2,1,0)
IV
"DATA",19641.49,19,1,77,2,2,0)
Oral
"DATA",19641.49,19,1,77,2,3,0)
Snort/Inhaled
"DATA",19641.49,19,1,77,2,4,0)
Transdermal
"DATA",19641.49,19,1,78,0)
COBNARC^M
"DATA",19641.49,19,1,78,2,0)
^^5^5^3140827^
"DATA",19641.49,19,1,78,2,1,0)
Heroin
"DATA",19641.49,19,1,78,2,2,0)
Hydrocodone (Vicodin)
"DATA",19641.49,19,1,78,2,3,0)
Hydromorphone (Dilaudid)
"DATA",19641.49,19,1,78,2,4,0)
Morphine
"DATA",19641.49,19,1,78,2,5,0)
Oxycodone (Percocet)
"DATA",19641.49,19,1,79,0)
LABELEDEDIT3^S
"DATA",19641.49,19,1,80,0)
LABELEDEDIT4^S
"DATA",19641.49,19,1,81,0)
LABELEDEDIT5^S
"DATA",19641.49,19,1,82,0)
LABELEDEDIT6^S
"DATA",19641.49,19,1,83,0)
LABELEDEDIT7^S
"DATA",19641.49,19,1,84,0)
LABELEDEDIT8^S
"DATA",19641.49,19,1,85,0)
LABELEDEDIT9^S
"DATA",19641.49,19,1,86,0)
LABELEDEDIT10^S
"DATA",19641.49,19,1,87,0)
LABELEDEDIT11^S
"DATA",19641.49,19,1,88,0)
LABELEDEDIT12^S
"DATA",19641.49,19,1,89,0)
LABELEDEDIT13^S
"DATA",19641.49,19,1,90,0)
LABELEDEDIT14^S
"DATA",19641.49,20,0)
DELIVERY INFORMATION^udlgDelivery^TdlgDelivery
"DATA",19641.49,20,1,0)
^19641.491^50^47
"DATA",19641.49,20,1,1,0)
EDTDELIVERYAT^S^13
"DATA",19641.49,20,1,2,0)
CHKVAGVACUUM^S
"DATA",19641.49,20,1,3,0)
CHKVAGFORCEPS^S
"DATA",19641.49,20,1,4,0)
CHKVAGEPISIOTOMY^S
"DATA",19641.49,20,1,5,0)
CHKVAGLACERATIONS^S
"DATA",19641.49,20,1,6,0)
CHKVAGVBAC^S
"DATA",19641.49,20,1,7,0)
CHKVAGSVD^S
"DATA",19641.49,20,1,8,0)
CHKCPRIMARYFOR^S
"DATA",19641.49,20,1,9,0)
EDTCPRIMARYFOR^S
"DATA",19641.49,20,1,10,0)
CHKCREPEATELECTIVE^S
"DATA",19641.49,20,1,11,0)
CHKCUNSUCCESSFULVBAC^S
"DATA",19641.49,20,1,12,0)
RGINCISION^S
"DATA",19641.49,20,1,13,0)
RBVAGINAL^S
"DATA",19641.49,20,1,14,0)
RBCESAREAN^S
"DATA",19641.49,20,1,15,0)
CBLABOR^M
"DATA",19641.49,20,1,15,2,0)
^^4^4^3141121^
"DATA",19641.49,20,1,15,2,1,0)
None
"DATA",19641.49,20,1,15,2,2,0)
Spontaneous
"DATA",19641.49,20,1,15,2,3,0)
Induced
"DATA",19641.49,20,1,15,2,4,0)
Augmented
"DATA",19641.49,20,1,16,0)
CBANESTHESIA^M
"DATA",19641.49,20,1,16,2,0)
^^6^6^3141121^
"DATA",19641.49,20,1,16,2,1,0)
None
"DATA",19641.49,20,1,16,2,2,0)
Local/Pudendal
"DATA",19641.49,20,1,16,2,3,0)
Epidural
"DATA",19641.49,20,1,16,2,4,0)
Spinal
"DATA",19641.49,20,1,16,2,5,0)
General
"DATA",19641.49,20,1,16,2,6,0)
Other
"DATA",19641.49,20,1,17,0)
MEMODELIVERYNOTES^WP
"DATA",19641.49,20,1,18,0)
RGTUBALSTERILIZATION^S
"DATA",19641.49,20,1,19,0)
DTDELIVERY^S^12
"DATA",19641.49,20,1,20,0)
DTMATERNAL^S
"DATA",19641.49,20,1,21,0)
CKREPEATWOLABOR^S
"DATA",19641.49,20,1,22,0)
CBREASONSCPRIMARY^M
"DATA",19641.49,20,1,22,2,0)
^^25^25^3150107^
"DATA",19641.49,20,1,22,2,1,0)
Abnormal Placenta Issues
"DATA",19641.49,20,1,22,2,2,0)
Accreta/Increta/Percreta
"DATA",19641.49,20,1,22,2,3,0)
Cord Prolapse
"DATA",19641.49,20,1,22,2,4,0)
Elective
"DATA",19641.49,20,1,22,2,5,0)
Failed Forceps
"DATA",19641.49,20,1,22,2,6,0)
Failed Vacuum
"DATA",19641.49,20,1,22,2,7,0)
Failure to Progress - Failure to Descend
"DATA",19641.49,20,1,22,2,8,0)
Failure to Progress - Failure to Dilate
"DATA",19641.49,20,1,22,2,9,0)
Fetal Bradycardia
"DATA",19641.49,20,1,22,2,10,0)
Fetal Malpresentation - Breech
"DATA",19641.49,20,1,22,2,11,0)
Fetal Malpresentation - Transverse
"DATA",19641.49,20,1,22,2,12,0)
Maternal Hemorrhage
"DATA",19641.49,20,1,22,2,13,0)
Maternal Illness/Disease Contraindicating Vaginal Delivery
"DATA",19641.49,20,1,22,2,14,0)
Maternal Infection - Active Herpes Simplex Virus 
"DATA",19641.49,20,1,22,2,15,0)
Maternal Infection - HIV
"DATA",19641.49,20,1,22,2,16,0)
Multiple Gestation
"DATA",19641.49,20,1,22,2,17,0)
Non-Reassuring Fetal Status
"DATA",19641.49,20,1,22,2,18,0)
Patient Desires Repeat C-Section
"DATA",19641.49,20,1,22,2,19,0)
Placenta Previa
"DATA",19641.49,20,1,22,2,20,0)
Placental Abruption
"DATA",19641.49,20,1,22,2,21,0)
Primary Elective C-Section
"DATA",19641.49,20,1,22,2,22,0)
Prior Vertical C-Section
"DATA",19641.49,20,1,22,2,23,0)
Suspected Macrosomia
"DATA",19641.49,20,1,22,2,24,0)
Uterine Rupture
"DATA",19641.49,20,1,22,2,25,0)
Vasa Previa
"DATA",19641.49,20,1,23,0)
CBREASONSCSECONDARY^M
"DATA",19641.49,20,1,23,2,0)
^^25^25^3150107^
"DATA",19641.49,20,1,23,2,1,0)
Abnormal Placenta Issues
"DATA",19641.49,20,1,23,2,2,0)
Accreta/Increta/Percreta
"DATA",19641.49,20,1,23,2,3,0)
Cord Prolapse
"DATA",19641.49,20,1,23,2,4,0)
Elective
"DATA",19641.49,20,1,23,2,5,0)
Failed Forceps
"DATA",19641.49,20,1,23,2,6,0)
Failed Vacuum
"DATA",19641.49,20,1,23,2,7,0)
Failure to Progress - Failure to Descend
"DATA",19641.49,20,1,23,2,8,0)
Failure to Progress - Failure to Dilate
"DATA",19641.49,20,1,23,2,9,0)
Fetal Bradycardia
"DATA",19641.49,20,1,23,2,10,0)
Fetal Malpresentation - Breech
"DATA",19641.49,20,1,23,2,11,0)
Fetal Malpresentation - Transverse
"DATA",19641.49,20,1,23,2,12,0)
Maternal Hemorrhage
"DATA",19641.49,20,1,23,2,13,0)
Maternal Illness/Disease Contraindicating Vaginal Delivery
"DATA",19641.49,20,1,23,2,14,0)
Maternal Infection - Active Herpes Simplex Virus 
"DATA",19641.49,20,1,23,2,15,0)
Maternal Infection - HIV
"DATA",19641.49,20,1,23,2,16,0)
Multiple Gestation
"DATA",19641.49,20,1,23,2,17,0)
Non-Reassuring Fetal Status
"DATA",19641.49,20,1,23,2,18,0)
Patient Desires Repeat C-Section
"DATA",19641.49,20,1,23,2,19,0)
Placenta Previa
"DATA",19641.49,20,1,23,2,20,0)
Placental Abruption
"DATA",19641.49,20,1,23,2,21,0)
Primary Elective C-Section
"DATA",19641.49,20,1,23,2,22,0)
Prior Vertical C-Section
"DATA",19641.49,20,1,23,2,23,0)
Suspected Macrosomia
"DATA",19641.49,20,1,23,2,24,0)
Uterine Rupture
"DATA",19641.49,20,1,23,2,25,0)
Vasa Previa
"DATA",19641.49,20,1,24,0)
EDTREASONSCOTHPRIMARY^S
"DATA",19641.49,20,1,25,0)
EDTREASONSCOTHSECONDARY^S
"DATA",19641.49,20,1,26,0)
EDTPROCEDURESOTHER^S
"DATA",19641.49,20,1,27,0)
CKPROUTERINECURETTAGE^S
"DATA",19641.49,20,1,28,0)
CKPROTUBALLIGATIONATCESAREAN^S
"DATA",19641.49,20,1,29,0)
CKPROPOSTPARTUMTUBALLIGATION^S
"DATA",19641.49,20,1,30,0)
CKPROPOSTPARTUMHYSTERECTOMY^S
"DATA",19641.49,20,1,31,0)
MEMODELIVERYMETHODCOMPLICATIONS^WP
"DATA",19641.49,20,1,32,0)
RBSINGLETON^S
"DATA",19641.49,20,1,33,0)
RBMULTIPLE^S
"DATA",19641.49,20,1,34,0)
EDTNUMBABIES^S
"DATA",19641.49,20,1,35,0)
RGSEX1^S^^1
"DATA",19641.49,20,1,36,0)
EDTLB1^S^^1
"DATA",19641.49,20,1,37,0)
EDTOZ1^S^^1
"DATA",19641.49,20,1,38,0)
MEMCOMPLICATIONS1^WP^^1
"DATA",19641.49,20,1,39,0)
EDTG1^S^^1
"DATA",19641.49,20,1,40,0)
RBLIVING1^S^^1
"DATA",19641.49,20,1,41,0)
RBDEMISED1^S^^1
"DATA",19641.49,20,1,42,0)
EDTAPGAR1^S^^1
"DATA",19641.49,20,1,43,0)
CKNICU1^S^^1
"DATA",19641.49,20,1,46,0)
CKNEXPLANONIMPLANT^S
"DATA",19641.49,20,1,47,0)
CKIUDINSERTION^S
"DATA",19641.49,20,1,49,0)
LSTDELIVERY^LV^15
"DATA",19641.49,20,1,49,4)
D BAY^DSIO02
"DATA",19641.49,20,1,50,0)
EDTAPGARS1^S^^1
"DATA",19641.49,21,0)
DATE^udlgDate^TdlgDate
"DATA",19641.49,22,0)
DIAGNOSIS ASSESSMENT^udlgDiagnosis^TdlgDiagnosis
"DATA",19641.49,22,1,0)
^19641.491^7^7
"DATA",19641.49,22,1,1,0)
RB1^S
"DATA",19641.49,22,1,2,0)
RB4^S
"DATA",19641.49,22,1,3,0)
RB5^S
"DATA",19641.49,22,1,4,0)
MEMO1^WP
"DATA",19641.49,22,1,5,0)
RB2^S
"DATA",19641.49,22,1,6,0)
RB3^S
"DATA",19641.49,22,1,7,0)
COBDX^M
"DATA",19641.49,24,0)
ESTIMATED DELIVERY DATE^udlgEstDelivDate^TdlgEstDelivDate
"DATA",19641.49,24,1,0)
^19641.491^41^41
"DATA",19641.49,24,1,1,0)
RBLMP^S
"DATA",19641.49,24,1,2,0)
RBULTRASOUND^S
"DATA",19641.49,24,1,3,0)
RBINITIALEXAM^S
"DATA",19641.49,24,1,4,0)
RBQUICKENING^S
"DATA",19641.49,24,1,5,0)
RBFUNDAL^S
"DATA",19641.49,24,1,6,0)
RBEDDESTIMATE^S
"DATA",19641.49,24,1,7,0)
CHKFINALEDD^S
"DATA",19641.49,24,1,8,0)
CBUSWEEKS^M
"DATA",19641.49,24,1,9,0)
CBUSDAYS^M
"DATA",19641.49,24,1,10,0)
LABELEDEDIT1^S
"DATA",19641.49,24,1,11,0)
EDTCURRENTEDD^S
"DATA",19641.49,24,1,11,4)
D PAT^DSIO02(999.07)
"DATA",19641.49,24,1,12,0)
EDTWEEKLMP^S
"DATA",19641.49,24,1,13,0)
EDTDAYLMP^S
"DATA",19641.49,24,1,14,0)
EDTEDDLMP^S
"DATA",19641.49,24,1,15,0)
EDTWEEKECD^S
"DATA",19641.49,24,1,16,0)
EDTDAYECD^S
"DATA",19641.49,24,1,17,0)
EDTEDDECD^S^7
"DATA",19641.49,24,1,18,0)
SPNWEEKULTRA^S
"DATA",19641.49,24,1,19,0)
SPNDAYULTRA^S
"DATA",19641.49,24,1,20,0)
EDTEDDULTRA^S^6
"DATA",19641.49,24,1,21,0)
EDTWEEKEMBRYO^S
"DATA",19641.49,24,1,22,0)
EDTDAYEMBRYO^S
"DATA",19641.49,24,1,23,0)
EDTEDDEMBRYO^S^5
"DATA",19641.49,24,1,24,0)
SPNWEEKOTHER^S
"DATA",19641.49,24,1,25,0)
SPNDAYOTHER^S
"DATA",19641.49,24,1,26,0)
EDTEDDOTHER^S^4
"DATA",19641.49,24,1,27,0)
LBLOTHER^S
"DATA",19641.49,24,1,28,0)
CKFINALEDDLMP^S
"DATA",19641.49,24,1,29,0)
CKFINALEDDECD^S
"DATA",19641.49,24,1,30,0)
CKFINALEDDULTRA^S
"DATA",19641.49,24,1,31,0)
CKFINALEDDEMBRYO^S
"DATA",19641.49,24,1,32,0)
CKFINALEDDOTHER^S
"DATA",19641.49,24,1,33,0)
CKFINALEDDUNKNOWN^S
"DATA",19641.49,24,1,34,0)
SPNTRANSFERDAY^S
"DATA",19641.49,24,1,35,0)
DTEDDUNKNOWN^S^3
"DATA",19641.49,24,1,36,0)
BTNHISTORY^DL
"DATA",19641.49,24,1,36,1,0)
^19641.4911P^1^1
"DATA",19641.49,24,1,36,1,1,0)
36
"DATA",19641.49,24,1,37,0)
DTLMP^S^8
"DATA",19641.49,24,1,38,0)
DTECD^S
"DATA",19641.49,24,1,39,0)
DTULTRA^S
"DATA",19641.49,24,1,40,0)
DTEMBRYO^S
"DATA",19641.49,24,1,41,0)
DTOTHER^S
"DATA",19641.49,24,2,0)
^19641.51P^1^1
"DATA",19641.49,24,2,1,0)
1
"DATA",19641.49,26,0)
GENETIC SCREENING^udlgGenetic^TdlgGenetic
"DATA",19641.49,26,1,0)
^19641.491^42^42
"DATA",19641.49,26,1,1,0)
CHECKBOX1^S
"DATA",19641.49,26,1,2,0)
CHECKBOX2^S
"DATA",19641.49,26,1,3,0)
CHECKBOX3^S
"DATA",19641.49,26,1,4,0)
CHECKBOX4^S
"DATA",19641.49,26,1,5,0)
CHECKBOX5^S
"DATA",19641.49,26,1,6,0)
CHECKBOX6^S
"DATA",19641.49,26,1,7,0)
CHECKBOX7^S
"DATA",19641.49,26,1,8,0)
CHECKBOX8^S
"DATA",19641.49,26,1,9,0)
CHECKBOX9^S
"DATA",19641.49,26,1,10,0)
CHECKBOX10^S
"DATA",19641.49,26,1,11,0)
CHECKBOX11^S
"DATA",19641.49,26,1,12,0)
CHECKBOX12^S
"DATA",19641.49,26,1,13,0)
CHECKBOX13^S
"DATA",19641.49,26,1,14,0)
CHECKBOX14^S
"DATA",19641.49,26,1,15,0)
CHECKBOX15^S
"DATA",19641.49,26,1,16,0)
CHECKBOX16^S
"DATA",19641.49,26,1,17,0)
CHECKBOX17^S
"DATA",19641.49,26,1,18,0)
CHECKBOX18^S
"DATA",19641.49,26,1,19,0)
CHECKBOX19^S
"DATA",19641.49,26,1,20,0)
CHECKBOX20^S
"DATA",19641.49,26,1,21,0)
CHECKBOX21^S
"DATA",19641.49,26,1,22,0)
CHECKBOX22^S
"DATA",19641.49,26,1,23,0)
CHECKBOX23^S
"DATA",19641.49,26,1,24,0)
CHECKBOX24^S
"DATA",19641.49,26,1,25,0)
CHECKBOX25^S
"DATA",19641.49,26,1,26,0)
CHECKBOX26^S
"DATA",19641.49,26,1,27,0)
CHECKBOX27^S
"DATA",19641.49,26,1,28,0)
CHECKBOX28^S
"DATA",19641.49,26,1,29,0)
CHECKBOX29^S
"DATA",19641.49,26,1,30,0)
CHECKBOX30^S
"DATA",19641.49,26,1,31,0)
CHECKBOX31^S
"DATA",19641.49,26,1,32,0)
CHECKBOX32^S
"DATA",19641.49,26,1,33,0)
CHECKBOX33^S
"DATA",19641.49,26,1,34,0)
CHECKBOX34^S
"DATA",19641.49,26,1,35,0)
EDIT1^S
"DATA",19641.49,26,1,36,0)
CHECKBOX35^S
"DATA",19641.49,26,1,37,0)
CHECKBOX36^S
"DATA",19641.49,26,1,38,0)
LABELEDEDIT1^S
"DATA",19641.49,26,1,39,0)
CHECKBOX37^S
"DATA",19641.49,26,1,40,0)
CHECKBOX38^S
"DATA",19641.49,26,1,41,0)
CHECKBOX39^S
"DATA",19641.49,26,1,42,0)
CHECKBOX40^S
"DATA",19641.49,27,0)
OB EXAM^udlgOBExamHx^TdlgOBExamHx
"DATA",19641.49,27,1,0)
^19641.491^60^60
"DATA",19641.49,27,1,1,0)
LBLEDTAGE^S
"DATA",19641.49,27,1,2,0)
LBLEDTFNDHT^S
"DATA",19641.49,27,1,3,0)
LBLEDTWT^S
"DATA",19641.49,27,1,4,0)
LBLEDTBPSYS^S
"DATA",19641.49,27,1,5,0)
LBLEDTBPDIA^S
"DATA",19641.49,27,1,6,0)
CBPRES^M
"DATA",19641.49,27,1,7,0)
CBPROTEIN^M
"DATA",19641.49,27,1,8,0)
CBSUGAR^M
"DATA",19641.49,27,1,9,0)
CBEDEMA^M
"DATA",19641.49,27,1,10,0)
LBLEDTCERVICALEXAM^S
"DATA",19641.49,27,1,11,0)
LBLEDTESTDELIVDT^S
"DATA",19641.49,27,1,12,0)
CBNITRITES^M
"DATA",19641.49,27,1,13,0)
CBFETACTY^S
"DATA",19641.49,27,1,14,0)
CBFETACTN^S
"DATA",19641.49,27,1,15,0)
CBHEARTY^S
"DATA",19641.49,27,1,16,0)
CBHEARTN^S
"DATA",19641.49,27,1,17,0)
LERATE^S
"DATA",19641.49,27,1,18,0)
CBVULVNORM^S
"DATA",19641.49,27,1,19,0)
CBVULVCOND^S
"DATA",19641.49,27,1,20,0)
CBVULVLES^S
"DATA",19641.49,27,1,21,0)
CBVAGNORM^S
"DATA",19641.49,27,1,22,0)
CBVAGINFLAM^S
"DATA",19641.49,27,1,23,0)
CBVAGDISC^S
"DATA",19641.49,27,1,24,0)
CBCERVNORM^S
"DATA",19641.49,27,1,25,0)
CBCERVINFLAM^S
"DATA",19641.49,27,1,26,0)
CBCERVLES^S
"DATA",19641.49,27,1,27,0)
CBFIBRY^S
"DATA",19641.49,27,1,28,0)
CBFIBRN^S
"DATA",19641.49,27,1,29,0)
CBADNNORM^S
"DATA",19641.49,27,1,30,0)
CBADNMAS^S
"DATA",19641.49,27,1,31,0)
CBRECTNORM^S
"DATA",19641.49,27,1,32,0)
CBRECTABN^S
"DATA",19641.49,27,1,33,0)
EDUTERSIZE^S
"DATA",19641.49,27,1,34,0)
CBADEQPROV^S
"DATA",19641.49,27,1,35,0)
CBADEQNOTPROV^S
"DATA",19641.49,27,1,36,0)
CBADEQNO^S
"DATA",19641.49,27,1,37,0)
CBUTERABN^S
"DATA",19641.49,27,1,38,0)
CBUTERNORM^S
"DATA",19641.49,27,1,39,0)
EDADQEQ^S
"DATA",19641.49,27,1,40,0)
CBADEQN^S
"DATA",19641.49,27,1,41,0)
CBADEQY^S
"DATA",19641.49,27,1,42,0)
CBPELDIMADE^S
"DATA",19641.49,27,1,43,0)
CBPELDIMBOR^S
"DATA",19641.49,27,1,44,0)
CBPELDIMCON^S
"DATA",19641.49,27,1,45,0)
CBPELDCRYES^S
"DATA",19641.49,27,1,46,0)
CBPELDCRNO^S
"DATA",19641.49,27,1,47,0)
EDPELDCR^S
"DATA",19641.49,27,1,48,0)
COBPELTYP^M
"DATA",19641.49,27,1,48,2,0)
^^4^4^3141204^
"DATA",19641.49,27,1,48,2,1,0)
Gynecoid
"DATA",19641.49,27,1,48,2,2,0)
Android
"DATA",19641.49,27,1,48,2,3,0)
Anthropoid
"DATA",19641.49,27,1,48,2,4,0)
Platypelloid
"DATA",19641.49,27,1,49,0)
CBPELSPIAVE^S
"DATA",19641.49,27,1,50,0)
CBPELSPIPRO^S
"DATA",19641.49,27,1,51,0)
CBPELSPIBLU^S
"DATA",19641.49,27,1,52,0)
CBLSTPELSPI^M
"DATA",19641.49,27,1,52,2,0)
^^1^1^3150126^
"DATA",19641.49,27,1,52,2,1,0)
TEST ITEM ONE
"DATA",19641.49,27,1,53,0)
CBLSTPELSAC^M
"DATA",19641.49,27,1,53,2,0)
^^1^1^3150126^
"DATA",19641.49,27,1,53,2,1,0)
TEST THE SECOND
"DATA",19641.49,27,1,54,0)
CBLSTPELSUB^M
"DATA",19641.49,27,1,54,2,0)
^^1^1^3150126^
"DATA",19641.49,27,1,54,2,1,0)
99999999999999999
"DATA",19641.49,27,1,55,0)
CBPELSACCON^S
"DATA",19641.49,27,1,56,0)
CBPELSACSTR^S
"DATA",19641.49,27,1,57,0)
CBPELSACANT^S
"DATA",19641.49,27,1,58,0)
CBPELSUBNOR^S
"DATA",19641.49,27,1,59,0)
CBPELSUBWID^S
"DATA",19641.49,27,1,60,0)
CBPELSUBNAR^S
"DATA",19641.49,28,0)
PRENATAL VISIT^udlgPreNatal^TdlgPreNatal
"DATA",19641.49,28,1,0)
^19641.491^30^30
"DATA",19641.49,28,1,1,0)
ED1^S
"DATA",19641.49,28,1,2,0)
ED2^S
"DATA",19641.49,28,1,3,0)
ED3^S
"DATA",19641.49,28,1,4,0)
ED4^S
"DATA",19641.49,28,1,5,0)
ED5^S
"DATA",19641.49,28,1,6,0)
ED6^S
"DATA",19641.49,28,1,7,0)
ED7^S
"DATA",19641.49,28,1,8,0)
CB1^S
"DATA",19641.49,28,1,9,0)
CB2^S
"DATA",19641.49,28,1,10,0)
CB3^S
"DATA",19641.49,28,1,11,0)
CB4^S
"DATA",19641.49,28,1,12,0)
CB5^S
"DATA",19641.49,28,1,13,0)
CB6^S
"DATA",19641.49,28,1,14,0)
CB7^S
"DATA",19641.49,28,1,15,0)
ED8^S
"DATA",19641.49,28,1,16,0)
ED9^S
"DATA",19641.49,28,1,17,0)
ED10^S
"DATA",19641.49,28,1,18,0)
ED11^S
"DATA",19641.49,28,1,19,0)
ED12^S
"DATA",19641.49,28,1,20,0)
ED13^S
"DATA",19641.49,28,1,21,0)
ED14^S
"DATA",19641.49,28,1,22,0)
CB14^S
"DATA",19641.49,28,1,23,0)
CB13^S
"DATA",19641.49,28,1,24,0)
CB12^S
"DATA",19641.49,28,1,25,0)
CB11^S
"DATA",19641.49,28,1,26,0)
CB10^S
"DATA",19641.49,28,1,27,0)
CB9^S
"DATA",19641.49,28,1,28,0)
CB8^S
"DATA",19641.49,28,1,29,0)
LEDMEDICAL^S
"DATA",19641.49,28,1,30,0)
MEMO1^WP
"DATA",19641.49,29,0)
RETURN TO CLINIC TIME SPAN^udlgRTClinic^TdlgRTClinic
"DATA",19641.49,29,1,0)
^19641.491^2^2
"DATA",19641.49,29,1,1,0)
EDTRTCWEEKS^S
"DATA",19641.49,29,1,2,0)
CBTIMEUNIT^M
"DATA",19641.49,30,0)
SURGICAL HISTORY^udlgSurgical^TdlgSurgical
"DATA",19641.49,30,1,0)
^19641.491^22^22
"DATA",19641.49,30,1,1,0)
MEMO1^WP
"DATA",19641.49,30,1,2,0)
CHECKBOX41^S
"DATA",19641.49,30,1,3,0)
CHECKBOX42^S
"DATA",19641.49,30,1,4,0)
EDIT24^S
"DATA",19641.49,30,1,5,0)
CHECKBOX43^S
"DATA",19641.49,30,1,6,0)
CHECKBOX44^S
"DATA",19641.49,30,1,7,0)
EDIT25^S
"DATA",19641.49,30,1,8,0)
CHECKBOX45^S
"DATA",19641.49,30,1,9,0)
CHECKBOX46^S
"DATA",19641.49,30,1,10,0)
EDIT26^S
"DATA",19641.49,30,1,11,0)
CHECKBOX47^S
"DATA",19641.49,30,1,12,0)
CHECKBOX48^S
"DATA",19641.49,30,1,13,0)
EDIT27^S
"DATA",19641.49,30,1,14,0)
EDIT18^S
"DATA",19641.49,30,1,15,0)
CHECKBOX40^S
"DATA",19641.49,30,1,16,0)
CHECKBOX39^S
"DATA",19641.49,30,1,17,0)
CHECKBOX37^S
"DATA",19641.49,30,1,18,0)
CHECKBOX38^S
"DATA",19641.49,30,1,19,0)
EDIT19^S
"DATA",19641.49,30,1,20,0)
EDIT1^S
"DATA",19641.49,30,1,21,0)
CHECKBOX49^S
"DATA",19641.49,30,1,22,0)
CHECKBOX50^S
"DATA",19641.49,31,0)
OB FLOW SHEET^udlgOBSpread^TdlgOBSpread^1
"DATA",19641.49,31,1,0)
^19641.491^39^39
"DATA",19641.49,31,1,1,0)
LBLEDTAGE^S
"DATA",19641.49,31,1,2,0)
LBLEDTFNDHT^S
"DATA",19641.49,31,1,3,0)
LBLWT^S
"DATA",19641.49,31,1,3,4)
D VIT^DSIO02("WT")
"DATA",19641.49,31,1,4,0)
LBLBP^S
"DATA",19641.49,31,1,4,4)
D VIT^DSIO02("BP")
"DATA",19641.49,31,1,5,0)
CMBPRES^M
"DATA",19641.49,31,1,5,2,0)
^^4^4^3140902^
"DATA",19641.49,31,1,5,2,1,0)
Deferred
"DATA",19641.49,31,1,5,2,2,0)
Vertex
"DATA",19641.49,31,1,5,2,3,0)
Breech
"DATA",19641.49,31,1,5,2,4,0)
Transverse
"DATA",19641.49,31,1,6,0)
CMBFETACT^M
"DATA",19641.49,31,1,6,2,0)
^^2^2^3140902^
"DATA",19641.49,31,1,6,2,1,0)
Yes
"DATA",19641.49,31,1,6,2,2,0)
No
"DATA",19641.49,31,1,7,0)
CMBPROTEIN^M
"DATA",19641.49,31,1,7,2,0)
^^6^6^3140902^
"DATA",19641.49,31,1,7,2,1,0)
None
"DATA",19641.49,31,1,7,2,2,0)
Trace
"DATA",19641.49,31,1,7,2,3,0)
1
"DATA",19641.49,31,1,7,2,4,0)
2
"DATA",19641.49,31,1,7,2,5,0)
3
"DATA",19641.49,31,1,7,2,6,0)
4
"DATA",19641.49,31,1,8,0)
CMBSUGAR^M
"DATA",19641.49,31,1,8,2,0)
^^6^6^3140902^
"DATA",19641.49,31,1,8,2,1,0)
None
"DATA",19641.49,31,1,8,2,2,0)
Trace
"DATA",19641.49,31,1,8,2,3,0)
1
"DATA",19641.49,31,1,8,2,4,0)
2
"DATA",19641.49,31,1,8,2,5,0)
3
"DATA",19641.49,31,1,8,2,6,0)
4
"DATA",19641.49,31,1,9,0)
CMBEDEMA^M
"DATA",19641.49,31,1,9,2,0)
^^6^6^3140902^
"DATA",19641.49,31,1,9,2,1,0)
None
"DATA",19641.49,31,1,9,2,2,0)
Trace
"DATA",19641.49,31,1,9,2,3,0)
1
"DATA",19641.49,31,1,9,2,4,0)
2
"DATA",19641.49,31,1,9,2,5,0)
3
"DATA",19641.49,31,1,9,2,6,0)
4
"DATA",19641.49,31,1,10,0)
CMBHEART^M
"DATA",19641.49,31,1,11,0)
LERATE^S
"DATA",19641.49,31,1,12,0)
LERATE2^S
"DATA",19641.49,31,1,13,0)
LERATE3^S
"DATA",19641.49,31,1,14,0)
SGSTANDARD^M^1
"DATA",19641.49,31,1,15,0)
CBCERVICAL^S
"DATA",19641.49,31,1,16,0)
CBXDRUG^M
"DATA",19641.49,31,1,16,2,0)
^^23^23^3140903^
"DATA",19641.49,31,1,16,2,1,0)
Insulin NPH
"DATA",19641.49,31,1,16,2,2,0)
Insulin Reg.
"DATA",19641.49,31,1,16,2,3,0)
Glyburide
"DATA",19641.49,31,1,16,2,4,0)
Humalog
"DATA",19641.49,31,1,16,2,5,0)
Lispro
"DATA",19641.49,31,1,16,2,6,0)
Novolog
"DATA",19641.49,31,1,16,2,7,0)
Aspart
"DATA",19641.49,31,1,16,2,8,0)
Apidra
"DATA",19641.49,31,1,16,2,9,0)
Glulisine
"DATA",19641.49,31,1,16,2,10,0)
Humulin
"DATA",19641.49,31,1,16,2,11,0)
Novolin
"DATA",19641.49,31,1,16,2,12,0)
Velosulin
"DATA",19641.49,31,1,16,2,13,0)
Lente
"DATA",19641.49,31,1,16,2,14,0)
Ultralente
"DATA",19641.49,31,1,16,2,15,0)
Lantus
"DATA",19641.49,31,1,16,2,16,0)
Levemir
"DATA",19641.49,31,1,16,2,17,0)
Detemir
"DATA",19641.49,31,1,16,2,18,0)
Humulin 70/30
"DATA",19641.49,31,1,16,2,19,0)
Novolin 70/30
"DATA",19641.49,31,1,16,2,20,0)
Novolog 70/30
"DATA",19641.49,31,1,16,2,21,0)
Humulin 50/50
"DATA",19641.49,31,1,16,2,22,0)
Humalog Mix 75/25
"DATA",19641.49,31,1,16,2,23,0)
Metformin
"DATA",19641.49,31,1,17,0)
LBLEDTDOSAGE^S
"DATA",19641.49,31,1,18,0)
CBXUNITS^M
"DATA",19641.49,31,1,18,2,0)
^^6^6^3140902^
"DATA",19641.49,31,1,18,2,1,0)
U.
"DATA",19641.49,31,1,18,2,2,0)
mg
"DATA",19641.49,31,1,18,2,3,0)
ml
"DATA",19641.49,31,1,18,2,4,0)
cc
"DATA",19641.49,31,1,18,2,5,0)
tab
"DATA",19641.49,31,1,18,2,6,0)
cap
"DATA",19641.49,31,1,19,0)
CBXDISPENCETIME^S
"DATA",19641.49,31,1,20,0)
SGDRUG^M
"DATA",19641.49,31,1,21,0)
LEAVGFBS^S
"DATA",19641.49,31,1,22,0)
LEAVGPOSTPRANDIAL^S
"DATA",19641.49,31,1,23,0)
CBXDIET^M
"DATA",19641.49,31,1,23,2,0)
^^11^11^3140902^
"DATA",19641.49,31,1,23,2,1,0)
1800
"DATA",19641.49,31,1,23,2,2,0)
1900
"DATA",19641.49,31,1,23,2,3,0)
2000
"DATA",19641.49,31,1,23,2,4,0)
2100
"DATA",19641.49,31,1,23,2,5,0)
2200
"DATA",19641.49,31,1,23,2,6,0)
2300
"DATA",19641.49,31,1,23,2,7,0)
2400
"DATA",19641.49,31,1,23,2,8,0)
2500
"DATA",19641.49,31,1,23,2,9,0)
2600
"DATA",19641.49,31,1,23,2,10,0)
2700
"DATA",19641.49,31,1,23,2,11,0)
2800
"DATA",19641.49,31,1,24,0)
CBXCONTROL^M
"DATA",19641.49,31,1,24,2,0)
^^5^5^3140902^
"DATA",19641.49,31,1,24,2,1,0)
Excellent
"DATA",19641.49,31,1,24,2,2,0)
Good
"DATA",19641.49,31,1,24,2,3,0)
Fair
"DATA",19641.49,31,1,24,2,4,0)
Poor
"DATA",19641.49,31,1,24,2,5,0)
Unknown
"DATA",19641.49,31,1,25,0)
CBXAVGNUMREADPERDAY^S
"DATA",19641.49,31,1,26,0)
SGDIABETIC^M
"DATA",19641.49,31,1,27,0)
RDGRBXSTANDARDEXAMDATE^S
"DATA",19641.49,31,1,28,0)
CUSTCOL1^S
"DATA",19641.49,31,1,29,0)
CUSTVAL1^S
"DATA",19641.49,31,1,30,0)
CUSTCOL2^S
"DATA",19641.49,31,1,31,0)
CUSTVAL2^S
"DATA",19641.49,31,1,32,0)
CUSTCOL3^S
"DATA",19641.49,31,1,33,0)
CUSTVAL3^S
"DATA",19641.49,31,1,34,0)
CUSTCOL4^S
"DATA",19641.49,31,1,35,0)
CUSTVAL4^S
"DATA",19641.49,31,1,36,0)
CUSTCOL5^S
"DATA",19641.49,31,1,37,0)
CUSTVAL5^S
"DATA",19641.49,31,1,38,0)
RDGRBXDIABETICEXAMDATE^S
"DATA",19641.49,31,1,39,0)
DTPICREXAMDATE^S
"DATA",19641.49,31,2,0)
^19641.51P^1^1
"DATA",19641.49,31,2,1,0)
5^OB H&P INITIAL
"DATA",19641.49,33,0)
IMMUNIZATION HISTORY^udlgImmunizations^TdlgImmunizations
"DATA",19641.49,33,1,0)
^19641.491^10^10
"DATA",19641.49,33,1,1,0)
LABELEDEDIT1^S
"DATA",19641.49,33,1,2,0)
LABELEDEDIT2^S
"DATA",19641.49,33,1,3,0)
LABELEDEDIT3^S
"DATA",19641.49,33,1,4,0)
LABELEDEDIT4^S
"DATA",19641.49,33,1,5,0)
LABELEDEDIT5^S
"DATA",19641.49,33,1,6,0)
EDIT1^S
"DATA",19641.49,33,1,7,0)
LABELEDEDIT6^S
"DATA",19641.49,33,1,8,0)
EDIT2^S
"DATA",19641.49,33,1,9,0)
LABELEDEDIT7^S
"DATA",19641.49,33,1,10,0)
EDIT3^S
"DATA",19641.49,34,0)
PHYSICAL EXAM^udlgPhysicalExam^TdlgPhysicalExam
"DATA",19641.49,34,1,0)
^19641.491^52^52
"DATA",19641.49,34,1,1,0)
CHECKBOX1^S
"DATA",19641.49,34,1,2,0)
CHECKBOX26^S
"DATA",19641.49,34,1,3,0)
CHECKBOX25^S
"DATA",19641.49,34,1,4,0)
CHECKBOX24^S
"DATA",19641.49,34,1,5,0)
CHECKBOX23^S
"DATA",19641.49,34,1,6,0)
CHECKBOX22^S
"DATA",19641.49,34,1,7,0)
CHECKBOX21^S
"DATA",19641.49,34,1,8,0)
CHECKBOX20^S
"DATA",19641.49,34,1,9,0)
CHECKBOX19^S
"DATA",19641.49,34,1,10,0)
CHECKBOX18^S
"DATA",19641.49,34,1,11,0)
CHECKBOX17^S
"DATA",19641.49,34,1,12,0)
CHECKBOX16^S
"DATA",19641.49,34,1,13,0)
CHECKBOX15^S
"DATA",19641.49,34,1,14,0)
CHECKBOX14^S
"DATA",19641.49,34,1,15,0)
CHECKBOX13^S
"DATA",19641.49,34,1,16,0)
CHECKBOX12^S
"DATA",19641.49,34,1,17,0)
CHECKBOX11^S
"DATA",19641.49,34,1,18,0)
CHECKBOX10^S
"DATA",19641.49,34,1,19,0)
CHECKBOX9^S
"DATA",19641.49,34,1,20,0)
CHECKBOX8^S
"DATA",19641.49,34,1,21,0)
CHECKBOX7^S
"DATA",19641.49,34,1,22,0)
CHECKBOX6^S
"DATA",19641.49,34,1,23,0)
CHECKBOX5^S
"DATA",19641.49,34,1,24,0)
CHECKBOX4^S
"DATA",19641.49,34,1,25,0)
CHECKBOX3^S
"DATA",19641.49,34,1,26,0)
CHECKBOX2^S
"DATA",19641.49,34,1,27,0)
EDIT13^S
"DATA",19641.49,34,1,28,0)
EDIT12^S
"DATA",19641.49,34,1,29,0)
EDIT11^S
"DATA",19641.49,34,1,30,0)
EDIT10^S
"DATA",19641.49,34,1,31,0)
EDIT9^S
"DATA",19641.49,34,1,32,0)
EDIT8^S
"DATA",19641.49,34,1,33,0)
EDIT7^S
"DATA",19641.49,34,1,34,0)
EDIT6^S
"DATA",19641.49,34,1,35,0)
EDIT5^S
"DATA",19641.49,34,1,36,0)
EDIT4^S
"DATA",19641.49,34,1,37,0)
EDIT3^S
"DATA",19641.49,34,1,38,0)
EDIT2^S
"DATA",19641.49,34,1,39,0)
EDIT1^S
"DATA",19641.49,34,1,40,0)
LABELEDEDIT1^S
"DATA",19641.49,34,1,41,0)
EDIT14^S
"DATA",19641.49,34,1,42,0)
EDIT15^S
"DATA",19641.49,34,1,43,0)
EDIT16^S
"DATA",19641.49,34,1,44,0)
EDIT17^S
"DATA",19641.49,34,1,45,0)
CHECKBOX27^S
"DATA",19641.49,34,1,46,0)
CHECKBOX28^S
"DATA",19641.49,34,1,47,0)
CHECKBOX29^S
"DATA",19641.49,34,1,48,0)
CHECKBOX30^S
"DATA",19641.49,34,1,49,0)
CHECKBOX31^S
"DATA",19641.49,34,1,50,0)
CHECKBOX32^S
"DATA",19641.49,34,1,51,0)
CHECKBOX33^S
"DATA",19641.49,34,1,52,0)
CHECKBOX34^S
"DATA",19641.49,35,0)
ROS: SYMPTOMS SINCE LMP^udlgROS^TdlgROS
"DATA",19641.49,35,1,0)
^19641.491^40^40
"DATA",19641.49,35,1,1,0)
EDIT1^S
"DATA",19641.49,35,1,2,0)
EDIT2^S
"DATA",19641.49,35,1,3,0)
EDIT3^S
"DATA",19641.49,35,1,4,0)
EDIT4^S
"DATA",19641.49,35,1,5,0)
EDIT5^S
"DATA",19641.49,35,1,6,0)
EDIT6^S
"DATA",19641.49,35,1,7,0)
EDIT7^S
"DATA",19641.49,35,1,8,0)
EDIT8^S
"DATA",19641.49,35,1,9,0)
EDIT9^S
"DATA",19641.49,35,1,10,0)
EDIT10^S
"DATA",19641.49,35,1,11,0)
EDIT11^S
"DATA",19641.49,35,1,12,0)
EDIT12^S
"DATA",19641.49,35,1,13,0)
EDIT13^S
"DATA",19641.49,35,1,14,0)
CHECKBOX1^S
"DATA",19641.49,35,1,15,0)
CHECKBOX2^S
"DATA",19641.49,35,1,16,0)
CHECKBOX3^S
"DATA",19641.49,35,1,17,0)
CHECKBOX4^S
"DATA",19641.49,35,1,18,0)
CHECKBOX5^S
"DATA",19641.49,35,1,19,0)
CHECKBOX6^S
"DATA",19641.49,35,1,20,0)
CHECKBOX7^S
"DATA",19641.49,35,1,21,0)
CHECKBOX8^S
"DATA",19641.49,35,1,22,0)
CHECKBOX9^S
"DATA",19641.49,35,1,23,0)
CHECKBOX10^S
"DATA",19641.49,35,1,24,0)
CHECKBOX11^S
"DATA",19641.49,35,1,25,0)
CHECKBOX12^S
"DATA",19641.49,35,1,26,0)
CHECKBOX13^S
"DATA",19641.49,35,1,27,0)
CHECKBOX14^S
"DATA",19641.49,35,1,28,0)
CHECKBOX15^S
"DATA",19641.49,35,1,29,0)
CHECKBOX16^S
"DATA",19641.49,35,1,30,0)
CHECKBOX17^S
"DATA",19641.49,35,1,31,0)
CHECKBOX18^S
"DATA",19641.49,35,1,32,0)
CHECKBOX19^S
"DATA",19641.49,35,1,33,0)
CHECKBOX20^S
"DATA",19641.49,35,1,34,0)
CHECKBOX21^S
"DATA",19641.49,35,1,35,0)
CHECKBOX22^S
"DATA",19641.49,35,1,36,0)
CHECKBOX23^S
"DATA",19641.49,35,1,37,0)
CHECKBOX24^S
"DATA",19641.49,35,1,38,0)
CHECKBOX25^S
"DATA",19641.49,35,1,39,0)
CHECKBOX26^S
"DATA",19641.49,35,1,40,0)
LABELEDEDIT1^S
"DATA",19641.49,36,0)
EDD HISTORY^udlgHistory^TdlgHistory
"DATA",19641.49,36,1,0)
^19641.491^1^1
"DATA",19641.49,36,1,1,0)
LISTVIEW^M
"DATA",19641.49,36,1,1,4)
D GETOBS^DSIO02("EDD")
"DATA",19641.49,36,2,0)
^19641.51P^2^2
"DATA",19641.49,36,2,1,0)
1
"DATA",19641.49,36,2,2,0)
3
"DATA",19641.49,37,0)
LMP HISTORY^udlgHistory^TdlgHistory
"DATA",19641.49,37,1,0)
^19641.491^1^1
"DATA",19641.49,37,1,1,0)
LISTVIEW^M
"DATA",19641.49,37,1,1,4)
D GETOBS^DSIO02("LMP","8665-2")
"DATA",19641.49,37,2,0)
^19641.51P^2^2
"DATA",19641.49,37,2,1,0)
1
"DATA",19641.49,37,2,2,0)
3
"DATA",19641.49,38,0)
EDUCATION^udlgEducation^TdlgEducation^1
"DATA",19641.49,38,1,0)
^19641.491^1^1
"DATA",19641.49,38,1,1,0)
EDUCATIONLISTVIEW^LV
"DATA",19641.49,38,1,1,2,0)
^^102^102^3150112^
"DATA",19641.49,38,1,1,2,1,0)
Education Topic^Category
"DATA",19641.49,38,1,1,2,2,0)
1st Tri-Appropriate weight gain^1st Trimester
"DATA",19641.49,38,1,1,2,3,0)
1st Tri-Dental care during pregnancy^1st Trimester
"DATA",19641.49,38,1,1,2,4,0)
1st Tri-Diet^1st Trimester
"DATA",19641.49,38,1,1,2,5,0)
1st Tri-Eligible for travel pay^1st Trimester
"DATA",19641.49,38,1,1,2,6,0)
1st Tri-Exercise^1st Trimester
"DATA",19641.49,38,1,1,2,7,0)
1st Tri-HIV^1st Trimester
"DATA",19641.49,38,1,1,2,8,0)
1st Tri-Hazards in the workplace and home^1st Trimester
"DATA",19641.49,38,1,1,2,9,0)
1st Tri-Immunization during pregnancy^1st Trimester
"DATA",19641.49,38,1,1,2,10,0)
1st Tri-Important telephone numbers^1st Trimester
"DATA",19641.49,38,1,1,2,11,0)
1st Tri-Infection related risk: Coxsackie virus^1st Trimester
"DATA",19641.49,38,1,1,2,12,0)
1st Tri-Infection-related risk: Cytomegalovirus^1st Trimester
"DATA",19641.49,38,1,1,2,13,0)
1st Tri-Infection-related risk: High fever^1st Trimester
"DATA",19641.49,38,1,1,2,14,0)
1st Tri-Infection-related risk: Influenza^1st Trimester
"DATA",19641.49,38,1,1,2,15,0)
1st Tri-Infection-related risk: Parvovirus^1st Trimester
"DATA",19641.49,38,1,1,2,16,0)
1st Tri-Infection-related risk: Toxoplasmosis^1st Trimester
"DATA",19641.49,38,1,1,2,17,0)
1st Tri-Influenza vaccine (seasonally)^1st Trimester
"DATA",19641.49,38,1,1,2,18,0)
1st Tri-Intimate partner violence yes/no^1st Trimester
"DATA",19641.49,38,1,1,2,19,0)
1st Tri-Labor and delivery coverage and planning^1st Trimester
"DATA",19641.49,38,1,1,2,20,0)
1st Tri-MMR necessary^1st Trimester
"DATA",19641.49,38,1,1,2,21,0)
1st Tri-Medications^1st Trimester
"DATA",19641.49,38,1,1,2,22,0)
1st Tri-Mood disorder risk yes/no^1st Trimester
"DATA",19641.49,38,1,1,2,23,0)
1st Tri-NVCC authorization obtained^1st Trimester
"DATA",19641.49,38,1,1,2,24,0)
1st Tri-Nausea & vomiting in pregnancy^1st Trimester
"DATA",19641.49,38,1,1,2,25,0)
1st Tri-Patient enrollment/eligibility review^1st Trimester
"DATA",19641.49,38,1,1,2,26,0)
1st Tri-Pregnancy booklet given and reviewed^1st Trimester
"DATA",19641.49,38,1,1,2,27,0)
1st Tri-Prenatal vitamins^1st Trimester
"DATA",19641.49,38,1,1,2,28,0)
1st Tri-Prenatal screening options^1st Trimester
"DATA",19641.49,38,1,1,2,29,0)
1st Tri-Rhogam necessary^1st Trimester
"DATA",19641.49,38,1,1,2,30,0)
1st Tri-Safety of medications in pregnancy^1st Trimester
"DATA",19641.49,38,1,1,2,31,0)
1st Tri-Sauna & hot tub exposure^1st Trimester
"DATA",19641.49,38,1,1,2,32,0)
1st Tri-Sexual activity^1st Trimester
"DATA",19641.49,38,1,1,2,33,0)
1st Tri-TDap vaccine offered^1st Trimester
"DATA",19641.49,38,1,1,2,34,0)
1st Tri-Tobacco use and substance abuse^1st Trimester
"DATA",19641.49,38,1,1,2,35,0)
2nd Tri-Appropriate weight gain^2nd Trimester
"DATA",19641.49,38,1,1,2,36,0)
2nd Tri-Birthing classes^2nd Trimester
"DATA",19641.49,38,1,1,2,37,0)
2nd Tri-Breastfeeding^2nd Trimester
"DATA",19641.49,38,1,1,2,38,0)
2nd Tri-Dental care during pregnancy^2nd Trimester
"DATA",19641.49,38,1,1,2,39,0)
2nd Tri-Diet^2nd Trimester
"DATA",19641.49,38,1,1,2,40,0)
2nd Tri-Eligible for travel pay^2nd Trimester
"DATA",19641.49,38,1,1,2,41,0)
2nd Tri-Exercise^2nd Trimester
"DATA",19641.49,38,1,1,2,42,0)
2nd Tri-Immunization during pregnancy^2nd Trimester
"DATA",19641.49,38,1,1,2,43,0)
2nd Tri-Influenza vaccine (seasonally)^2nd Trimester
"DATA",19641.49,38,1,1,2,44,0)
2nd Tri-Intimate partner violence^2nd Trimester
"DATA",19641.49,38,1,1,2,45,0)
2nd Tri-MMR necessary^2nd Trimester
"DATA",19641.49,38,1,1,2,46,0)
2nd Tri-Mood disorder risk^2nd Trimester
"DATA",19641.49,38,1,1,2,47,0)
2nd Tri-NVCC authorization obtained^2nd Trimester
"DATA",19641.49,38,1,1,2,48,0)
2nd Tri-PP contraceptive planning^2nd Trimester
"DATA",19641.49,38,1,1,2,49,0)
2nd Tri-Parenting classes^2nd Trimester
"DATA",19641.49,38,1,1,2,50,0)
2nd Tri-Patient enrollment/eligibility review^2nd Trimester
"DATA",19641.49,38,1,1,2,51,0)
2nd Tri-Records sent to delivery hospital^2nd Trimester
"DATA",19641.49,38,1,1,2,52,0)
2nd Tri-Reviewed important telephone numbers^2nd Trimester
"DATA",19641.49,38,1,1,2,53,0)
2nd Tri-Rhogam necessary^2nd Trimester
"DATA",19641.49,38,1,1,2,54,0)
2nd Tri-Screening for hypertensive disorders^2nd Trimester
"DATA",19641.49,38,1,1,2,55,0)
2nd Tri-Signs/Symptoms:Decreased fetal movement^2nd Trimester
"DATA",19641.49,38,1,1,2,56,0)
2nd Tri-Signs/Symptoms:PPROM (leaking fluid)^2nd Trimester
"DATA",19641.49,38,1,1,2,57,0)
2nd Tri-Signs/Symptoms:Pre-E(HA,visual changes,RUQ pain)^2nd Trimester
"DATA",19641.49,38,1,1,2,58,0)
2nd Tri-Signs/Symptoms rpt. to clinician:PTL (cramping, CTX)^2nd Trimester
"DATA",19641.49,38,1,1,2,59,0)
2nd Tri-TDap vaccine offered^2nd Trimester
"DATA",19641.49,38,1,1,2,60,0)
2nd Tri-Tobacco use and substance abuse^2nd Trimester
"DATA",19641.49,38,1,1,2,61,0)
3rd Tri-Appropriate weight gain^3rd Trimester
"DATA",19641.49,38,1,1,2,62,0)
3rd Tri-Birthing classes^3rd Trimester
"DATA",19641.49,38,1,1,2,63,0)
3rd Tri-Breastfeeding^3rd Trimester
"DATA",19641.49,38,1,1,2,64,0)
3rd Tri-Diet^3rd Trimester
"DATA",19641.49,38,1,1,2,65,0)
3rd Tri-Discussed labor and ruptured membranes^3rd Trimester
"DATA",19641.49,38,1,1,2,66,0)
3rd Tri-Eligible for travel pay^3rd Trimester
"DATA",19641.49,38,1,1,2,67,0)
3rd Tri-Exercise^3rd Trimester
"DATA",19641.49,38,1,1,2,68,0)
3rd Tri-Influenza vaccine (seasonally)^3rd Trimester
"DATA",19641.49,38,1,1,2,69,0)
3rd Tri-Insurance for infant beyond first 7 days of life^3rd Trimester
"DATA",19641.49,38,1,1,2,70,0)
3rd Tri-Intimate partner violence^3rd Trimester
"DATA",19641.49,38,1,1,2,71,0)
3rd Tri-Kick counts^3rd Trimester
"DATA",19641.49,38,1,1,2,72,0)
3rd Tri-MMR necessary^3rd Trimester
"DATA",19641.49,38,1,1,2,73,0)
3rd Tri-Mood disorder risk^3rd Trimester
"DATA",19641.49,38,1,1,2,74,0)
3rd Tri-NVCC authorization obtained^3rd Trimester
"DATA",19641.49,38,1,1,2,75,0)
3rd Tri-Newborn car seat^3rd Trimester
"DATA",19641.49,38,1,1,2,76,0)
3rd Tri-Parenting classes^3rd Trimester
"DATA",19641.49,38,1,1,2,77,0)
3rd Tri-Patient enrollment/eligibility review^3rd Trimester
"DATA",19641.49,38,1,1,2,78,0)
3rd Tri-Postpartum contraceptive planning^3rd Trimester
"DATA",19641.49,38,1,1,2,79,0)
3rd Tri-Records sent to delivery hospital^3rd Trimester
"DATA",19641.49,38,1,1,2,80,0)
3rd Tri-Reviewed important telephone numbers^3rd Trimester
"DATA",19641.49,38,1,1,2,81,0)
3rd Tri-Reviewed postpartum depression^3rd Trimester
"DATA",19641.49,38,1,1,2,82,0)
3rd Tri-Rhogam necessary^3rd Trimester
"DATA",19641.49,38,1,1,2,83,0)
3rd Tri-Screening for hypertensive disorders^3rd Trimester
"DATA",19641.49,38,1,1,2,84,0)
3rd Tri-Selection of pediatrician^3rd Trimester
"DATA",19641.49,38,1,1,2,85,0)
3rd Tri-Signs/Symptoms:Decreased fetal movement^3rd Trimester
"DATA",19641.49,38,1,1,2,86,0)
3rd Tri-Signs/Symptoms:PPROM (leaking fluid)^3rd Trimester
"DATA",19641.49,38,1,1,2,87,0)
3rd Tri-Signs/Symptoms:Pre-E(HA,visual changes,RUQ pain)^3rd Trimester
"DATA",19641.49,38,1,1,2,88,0)
3rd Tri-Signs/Symptoms rpt. to clinician:PTL (cramping, CTX)^3rd Trimester
"DATA",19641.49,38,1,1,2,89,0)
3rd Tri-TDap vaccine offered^3rd Trimester
"DATA",19641.49,38,1,1,2,90,0)
3rd Tri-Testing and exams 36 weeks and beyond^3rd Trimester
"DATA",19641.49,38,1,1,2,91,0)
3rd Tri-Tobacco use and substance abuse^3rd Trimester
"DATA",19641.49,38,1,1,2,92,0)
3rd Tri-Tour of labor and delivery^3rd Trimester
"DATA",19641.49,38,1,1,2,93,0)
3rd Tri-PTL symptoms^3rd Trimester
"DATA",19641.49,38,1,1,2,94,0)
Abdominal binder^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,95,0)
Breast pump^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,96,0)
Contraception^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,97,0)
Delivery plans^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,98,0)
Name of baby^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,99,0)
Nursing bras^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,100,0)
Pediatrician^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,101,0)
Plans for feeding baby^End of 3rd Trimester
"DATA",19641.49,38,1,1,2,102,0)
Post-delivery prescriptions^End of 3rd Trimester
"DATA",19641.49,39,0)
PG-CHILD HISTORY^frmChildHist^TfrmChildHist
"DATA",19641.49,39,2,0)
^19641.51P^2^2
"DATA",19641.49,39,2,1,0)
1
"DATA",19641.49,39,2,2,0)
3
"DATA",19641.49,40,0)
PG-PREG HISTORY^frmPregHist^TfrmPregHist
"DATA",19641.49,40,1,0)
^19641.491^2^2
"DATA",19641.49,40,1,1,0)
E_TYPEOFDELIVERY^M
"DATA",19641.49,40,1,1,2,0)
^^2^2^3141028^
"DATA",19641.49,40,1,1,2,1,0)
Vaginal
"DATA",19641.49,40,1,1,2,2,0)
Caesarian
"DATA",19641.49,40,1,2,0)
CB_PLACEOFDELIVERY^M
"DATA",19641.49,40,2,0)
^19641.51P^2^2
"DATA",19641.49,40,2,1,0)
1
"DATA",19641.49,40,2,2,0)
3
"DATA",19641.49,41,0)
<History>^udlgHistory^TdlgHistory
"DATA",19641.49,42,0)
MATERNAL INFORMATION^udlgMaternal^TdlgMaternal
"DATA",19641.49,42,1,0)
^19641.491^14^14
"DATA",19641.49,42,1,1,0)
CHKFEEDBREAST^S
"DATA",19641.49,42,1,2,0)
CHKFEEDBOTTLE^S
"DATA",19641.49,42,1,3,0)
EDTCNTROTHER^S
"DATA",19641.49,42,1,4,0)
CHKSDASTHMA^S
"DATA",19641.49,42,1,5,0)
CHKSDDIABETES^S
"DATA",19641.49,42,1,6,0)
CHKSDHYPERTENSION^S
"DATA",19641.49,42,1,7,0)
EDTSDOTHER^S
"DATA",19641.49,42,1,8,0)
EDTMCOTHER^S
"DATA",19641.49,42,1,9,0)
CHKMCNONE^S
"DATA",19641.49,42,1,10,0)
CHKMCHEMORRHAGE^S
"DATA",19641.49,42,1,11,0)
CHKMCINFECTION^S
"DATA",19641.49,42,1,12,0)
CHKMCHYPERTENSION^S
"DATA",19641.49,42,1,13,0)
CKFEEDFORMULA^S
"DATA",19641.49,42,1,14,0)
CBCONTRACEPTIVES^M
"DATA",19641.49,42,1,14,2,0)
^19641.4912^10^10^3141217^^
"DATA",19641.49,42,1,14,2,1,0)
Combination Hormonal Contraceptives (Pill, Patch, Ring)
"DATA",19641.49,42,1,14,2,2,0)
Condoms
"DATA",19641.49,42,1,14,2,3,0)
Implant-Etonogestrel (Nexplanon)
"DATA",19641.49,42,1,14,2,4,0)
Injection-Medroxyprogesterone (Depo Provera)
"DATA",19641.49,42,1,14,2,5,0)
IUD-Copper (Paraguard)
"DATA",19641.49,42,1,14,2,6,0)
IUD-Progestin (Mirena)
"DATA",19641.49,42,1,14,2,7,0)
IUD-Progestin (Skyla)
"DATA",19641.49,42,1,14,2,8,0)
Partner Vasectomy
"DATA",19641.49,42,1,14,2,9,0)
Progestin Only Oral Contraceptives
"DATA",19641.49,42,1,14,2,10,0)
Tubal Sterilization
"FIA",19641)
DSIO PATIENT
"FIA",19641,0)
^DSIO(19641,
"FIA",19641,0,0)
19641P
"FIA",19641,0,1)
y^y^f^^^^n
"FIA",19641,0,10)

"FIA",19641,0,11)

"FIA",19641,0,"RLRO")

"FIA",19641,19641)
0
"FIA",19641,19641.04)
0
"FIA",19641.1)
DSIO EXTERNAL ENTITIES
"FIA",19641.1,0)
^DSIO(19641.1,
"FIA",19641.1,0,0)
19641.1I
"FIA",19641.1,0,1)
y^y^f^^^^n
"FIA",19641.1,0,10)

"FIA",19641.1,0,11)

"FIA",19641.1,0,"RLRO")

"FIA",19641.1,19641.1)
0
"FIA",19641.1,19641.15)
0
"FIA",19641.11)
DSIO PERSON
"FIA",19641.11,0)
^DSIO(19641.11,
"FIA",19641.11,0,0)
19641.11IO
"FIA",19641.11,0,1)
y^y^f^^^^n
"FIA",19641.11,0,10)

"FIA",19641.11,0,11)

"FIA",19641.11,0,"RLRO")

"FIA",19641.11,19641.11)
0
"FIA",19641.11,19641.113)
0
"FIA",19641.11,19641.14)
0
"FIA",19641.112)
DSIO FETUS/BABY
"FIA",19641.112,0)
^DSIO(19641.112,
"FIA",19641.112,0,0)
19641.112O
"FIA",19641.112,0,1)
y^y^f^^^^n
"FIA",19641.112,0,10)

"FIA",19641.112,0,11)

"FIA",19641.112,0,"RLRO")

"FIA",19641.112,19641.112)
0
"FIA",19641.12)
DSIO OBSERVATIONS
"FIA",19641.12,0)
^DSIO(19641.12,
"FIA",19641.12,0,0)
19641.12DIO
"FIA",19641.12,0,1)
y^y^f^^^^n
"FIA",19641.12,0,10)

"FIA",19641.12,0,11)

"FIA",19641.12,0,"RLRO")

"FIA",19641.12,19641.12)
0
"FIA",19641.12,19641.121)
0
"FIA",19641.12,19641.125)
0
"FIA",19641.12,19641.126)
0
"FIA",19641.12,19641.16)
0
"FIA",19641.12,19641.17)
0
"FIA",19641.124)
DSIO PUSH HISTORY
"FIA",19641.124,0)
^DSIO(19641.124,
"FIA",19641.124,0,0)
19641.124DO
"FIA",19641.124,0,1)
y^y^f^^^^n
"FIA",19641.124,0,10)

"FIA",19641.124,0,11)

"FIA",19641.124,0,"RLRO")

"FIA",19641.124,19641.124)
0
"FIA",19641.124,19641.1241)
0
"FIA",19641.124,19641.1242)
0
"FIA",19641.13)
DSIO PREGNANCY HISTORY
"FIA",19641.13,0)
^DSIO(19641.13,
"FIA",19641.13,0,0)
19641.13DIO
"FIA",19641.13,0,1)
y^y^f^^^^n
"FIA",19641.13,0,10)

"FIA",19641.13,0,11)

"FIA",19641.13,0,"RLRO")

"FIA",19641.13,19641.13)
0
"FIA",19641.13,19641.132)
0
"FIA",19641.13,19641.134)
0
"FIA",19641.2)
DSIO TRACKING HISTORY
"FIA",19641.2,0)
^DSIO(19641.2,
"FIA",19641.2,0,0)
19641.2P
"FIA",19641.2,0,1)
y^y^f^^^^n
"FIA",19641.2,0,10)

"FIA",19641.2,0,11)

"FIA",19641.2,0,"RLRO")

"FIA",19641.2,19641.2)
0
"FIA",19641.2,19641.24)
0
"FIA",19641.2,19641.241)
0
"FIA",19641.2,19641.242)
0
"FIA",19641.48)
DSIO OCNT CONFIGURATION
"FIA",19641.48,0)
^DSIO(19641.48,
"FIA",19641.48,0,0)
19641.48
"FIA",19641.48,0,1)
y^y^f^^n^^y^r^n
"FIA",19641.48,0,10)

"FIA",19641.48,0,11)

"FIA",19641.48,0,"RLRO")

"FIA",19641.48,19641.48)
0
"FIA",19641.48,19641.481)
0
"FIA",19641.48,19641.4811)
0
"FIA",19641.48,19641.4812)
0
"FIA",19641.48,19641.4815)
0
"FIA",19641.49)
DSIO OCNT DIALOGS
"FIA",19641.49,0)
^DSIO(19641.49,
"FIA",19641.49,0,0)
19641.49
"FIA",19641.49,0,1)
y^y^f^^n^^y^r^n
"FIA",19641.49,0,10)

"FIA",19641.49,0,11)

"FIA",19641.49,0,"RLRO")

"FIA",19641.49,19641.49)
0
"FIA",19641.49,19641.491)
0
"FIA",19641.49,19641.4911)
0
"FIA",19641.49,19641.4912)
0
"FIA",19641.49,19641.51)
0
"FIA",19641.5)
DSIO TITLE CONFIGURATION
"FIA",19641.5,0)
^DSIO(19641.5,
"FIA",19641.5,0,0)
19641.5P
"FIA",19641.5,0,1)
y^y^f^^^^n
"FIA",19641.5,0,10)

"FIA",19641.5,0,11)

"FIA",19641.5,0,"RLRO")

"FIA",19641.5,19641.5)
0
"FIA",19641.6)
DSIO IHE DOCUMENT
"FIA",19641.6,0)
^DSIO(19641.6,
"FIA",19641.6,0,0)
19641.6DI
"FIA",19641.6,0,1)
y^y^f^^^^n
"FIA",19641.6,0,10)

"FIA",19641.6,0,11)

"FIA",19641.6,0,"RLRO")

"FIA",19641.6,19641.6)
0
"FIA",19641.6,19641.62)
0
"FIA",19641.83)
DSIO PREGNANCY-NOTE
"FIA",19641.83,0)
^DSIO(19641.83,
"FIA",19641.83,0,0)
19641.83P
"FIA",19641.83,0,1)
y^y^f^^^^n
"FIA",19641.83,0,10)

"FIA",19641.83,0,11)

"FIA",19641.83,0,"RLRO")

"FIA",19641.83,19641.83)
0
"FIA",19641.83,19641.831)
0
"FIA",19641.99)
DSIO CODES
"FIA",19641.99,0)
^DSIO(19641.99,
"FIA",19641.99,0,0)
19641.99D
"FIA",19641.99,0,1)
y^y^f^^^^n
"FIA",19641.99,0,10)

"FIA",19641.99,0,11)

"FIA",19641.99,0,"RLRO")

"FIA",19641.99,19641.99)
0
"INI")
DSIO0P
"INIT")
DSIO0PP
"IX",19641.1,19641.1,"F",0)
19641.1^F^ALL FACILITIES^MU^^R^IR^I^19641.1^^^^^LS
"IX",19641.1,19641.1,"F",1)
I X(1)="F" S ^DSIO(19641.1,"F",X(2),DA)=""
"IX",19641.1,19641.1,"F",2)
I X(1)="F" K ^DSIO(19641.1,"F",X(2),DA)
"IX",19641.1,19641.1,"F",2.5)
K ^DSIO(19641.1,"F")
"IX",19641.1,19641.1,"F",11.1,0)
^.114IA^2^2
"IX",19641.1,19641.1,"F",11.1,1,0)
1^F^19641.1^.02^^^F
"IX",19641.1,19641.1,"F",11.1,1,3)

"IX",19641.1,19641.1,"F",11.1,2,0)
2^F^19641.1^.01^^1^F
"IX",19641.1,19641.1,"F",11.1,2,3)

"IX",19641.1,19641.1,"P",0)
19641.1^P^ALL PROVIDERS^MU^^R^IR^I^19641.1^^^^^LS
"IX",19641.1,19641.1,"P",1)
I X(1)="P" S ^DSIO(19641.1,"P",X(2),DA)=""
"IX",19641.1,19641.1,"P",2)
I X(1)="P" K ^DSIO(19641.1,"P",X(2),DA)
"IX",19641.1,19641.1,"P",2.5)
K ^DSIO(19641.1,"P")
"IX",19641.1,19641.1,"P",11.1,0)
^.114IA^2^2
"IX",19641.1,19641.1,"P",11.1,1,0)
1^F^19641.1^.02^^^F
"IX",19641.1,19641.1,"P",11.1,1,3)

"IX",19641.1,19641.1,"P",11.1,2,0)
2^F^19641.1^.01^^1^F
"IX",19641.1,19641.1,"P",11.1,2,3)

"IX",19641.11,19641.11,"C",0)
19641.11^C^Uniqueness Index for Key 'A' of File #19641.11^R^^R^IR^I^19641.11^^^^^LS
"IX",19641.11,19641.11,"C",1)
S ^DSIO(19641.11,"C",X(1),X(2),DA)=""
"IX",19641.11,19641.11,"C",2)
K ^DSIO(19641.11,"C",X(1),X(2),DA)
"IX",19641.11,19641.11,"C",2.5)
K ^DSIO(19641.11,"C")
"IX",19641.11,19641.11,"C",11.1,0)
^.114IA^2^2
"IX",19641.11,19641.11,"C",11.1,1,0)
1^F^19641.11^.05^^1
"IX",19641.11,19641.11,"C",11.1,2,0)
2^F^19641.11^.01^^2
"IX",19641.11,19641.11,"D",0)
19641.11^D^PERSON BY PATIENT RELATIONSHIP^R^^R^IR^I^19641.11^^^^^LS
"IX",19641.11,19641.11,"D",1)
S ^DSIO(19641.11,"D",X(1),X(2),DA)=""
"IX",19641.11,19641.11,"D",2)
K ^DSIO(19641.11,"D",X(1),X(2),DA)
"IX",19641.11,19641.11,"D",2.5)
K ^DSIO(19641.11,"D")
"IX",19641.11,19641.11,"D",11.1,0)
^.114IA^2^2
"IX",19641.11,19641.11,"D",11.1,1,0)
1^F^19641.11^.05^^1^F
"IX",19641.11,19641.11,"D",11.1,1,3)

"IX",19641.11,19641.11,"D",11.1,2,0)
2^F^19641.11^.06^^2^F
"IX",19641.11,19641.11,"D",11.1,2,2)
S X=$$EXTERNAL^DILFD(19641.11,.06,,X)
"IX",19641.11,19641.11,"D",11.1,2,3)

"IX",19641.112,19641.112,"C",0)
19641.112^C^Uniqueness Index for Key 'A' of File #19641.112^R^^R^IR^I^19641.112^^^^^LS
"IX",19641.112,19641.112,"C",1)
S ^DSIO(19641.112,"C",X(1),X(2),X(3),DA)=""
"IX",19641.112,19641.112,"C",2)
K ^DSIO(19641.112,"C",X(1),X(2),X(3),DA)
"IX",19641.112,19641.112,"C",2.5)
K ^DSIO(19641.112,"C")
"IX",19641.112,19641.112,"C",11.1,0)
^.114IA^3^3
"IX",19641.112,19641.112,"C",11.1,1,0)
1^F^19641.112^.02^^1
"IX",19641.112,19641.112,"C",11.1,2,0)
2^F^19641.112^.03^^2
"IX",19641.112,19641.112,"C",11.1,3,0)
3^F^19641.112^.01^^3
"IX",19641.12,19641.12,"OBJ",0)
19641.12^OBJ^OBJECTS OF OBSERVATION^R^^F^IR^W^19641.121^^^^^LS
"IX",19641.12,19641.12,"OBJ",1)
S ^DSIO(19641.12,"OBJ",X,DA(1),DA)=""
"IX",19641.12,19641.12,"OBJ",2)
K ^DSIO(19641.12,"OBJ",X,DA(1),DA)
"IX",19641.12,19641.12,"OBJ",2.5)
K ^DSIO(19641.12,"OBJ")
"IX",19641.12,19641.12,"OBJ",11.1,0)
^.114IA^1^1
"IX",19641.12,19641.12,"OBJ",11.1,1,0)
1^F^19641.121^.01^^1^F
"IX",19641.12,19641.12,"OBJ",11.1,1,3)

"IX",19641.12,19641.12,"P",0)
19641.12^P^DFN,DATE^R^^R^IR^I^19641.12^^^^^LS
"IX",19641.12,19641.12,"P",1)
S ^DSIO(19641.12,"P",X(1),X(2),DA)=""
"IX",19641.12,19641.12,"P",2)
K ^DSIO(19641.12,"P",X(1),X(2),DA)
"IX",19641.12,19641.12,"P",2.5)
K ^DSIO(19641.12,"P")
"IX",19641.12,19641.12,"P",11.1,0)
^.114IA^2^2
"IX",19641.12,19641.12,"P",11.1,1,0)
1^F^19641.12^.02^^1^F
"IX",19641.12,19641.12,"P",11.1,2,0)
2^F^19641.12^.01^^2^F
"IX",19641.13,19641.13,"ADELV",0)
19641.13^ADELV^UPDATE WV,DSIO PATIENT FILES WHEN DELIVERLY DATE IS SET^MU^^R^IR^I^19641.13^^^^^A
"IX",19641.13,19641.13,"ADELV",1)
D DELV^DSIO4(X(1),X(2),DA)
"IX",19641.13,19641.13,"ADELV",2)
Q
"IX",19641.13,19641.13,"ADELV",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"ADELV",11.1,1,0)
1^F^19641.13^.07^^^F
"IX",19641.13,19641.13,"ADELV",11.1,2,0)
2^F^19641.13^.03^^^F
"IX",19641.13,19641.13,"ADELV","NOREINDEX")
1
"IX",19641.13,19641.13,"ASTATUS",0)
19641.13^ASTATUS^UPDATE THE PREGNANCY STATUSES^MU^^R^IR^I^19641.13^^^^^A
"IX",19641.13,19641.13,"ASTATUS",1)
D:X(2)="C" STATUS^DSIO4(X(1),DA)
"IX",19641.13,19641.13,"ASTATUS",2)
Q
"IX",19641.13,19641.13,"ASTATUS",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"ASTATUS",11.1,1,0)
1^F^19641.13^.03^^^F
"IX",19641.13,19641.13,"ASTATUS",11.1,2,0)
2^F^19641.13^.04^^^F
"IX",19641.13,19641.13,"ASTATUS","NOREINDEX")
1
"IX",19641.13,19641.13,"D",0)
19641.13^D^PATIENT PREGNANCY HISTORY BY START DATE^R^^R^IR^I^19641.13^^^^^LS
"IX",19641.13,19641.13,"D",1)
S ^DSIO(19641.13,"D",X(1),X(2),DA)=""
"IX",19641.13,19641.13,"D",2)
K ^DSIO(19641.13,"D",X(1),X(2),DA)
"IX",19641.13,19641.13,"D",2.5)
K ^DSIO(19641.13,"D")
"IX",19641.13,19641.13,"D",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"D",11.1,1,0)
1^F^19641.13^.03^^1^F
"IX",19641.13,19641.13,"D",11.1,2,0)
2^F^19641.13^.02^^2^B
"IX",19641.13,19641.13,"P",0)
19641.13^P^PATIENT,CREATION DATE^R^^R^IR^I^19641.13^^^^^LS
"IX",19641.13,19641.13,"P",1)
S ^DSIO(19641.13,"P",X(1),X(2),DA)=""
"IX",19641.13,19641.13,"P",2)
K ^DSIO(19641.13,"P",X(1),X(2),DA)
"IX",19641.13,19641.13,"P",2.5)
K ^DSIO(19641.13,"P")
"IX",19641.13,19641.13,"P",11.1,0)
^.114IA^2^2
"IX",19641.13,19641.13,"P",11.1,1,0)
1^F^19641.13^.03^^1^F
"IX",19641.13,19641.13,"P",11.1,1,3)

"IX",19641.13,19641.13,"P",11.1,2,0)
2^F^19641.13^.01^^2^F
"IX",19641.13,19641.13,"P",11.1,2,3)

"IX",19641.2,19641.2,"FLAGGED",0)
19641.2^FLAGGED^CURRENTLY FLAGGED PATIENTS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"FLAGGED",1)
K ^DSIO(19641.2,"FLAGGED",X(1),DA(1)),^DSIO(19641.2,"S",DA(1)) S:X(2)=2&('X(3)) ^DSIO(19641.2,"FLAGGED",X(1),DA(1),DA)="",^DSIO(19641.2,"S",DA(1),"F")=""
"IX",19641.2,19641.2,"FLAGGED",1.4)

"IX",19641.2,19641.2,"FLAGGED",2)
Q
"IX",19641.2,19641.2,"FLAGGED",2.5)
K ^DSIO(19641.2,"FLAGGED")
"IX",19641.2,19641.2,"FLAGGED",11.1,0)
^.114IA^3^3
"IX",19641.2,19641.2,"FLAGGED",11.1,1,0)
1^C^^^^1
"IX",19641.2,19641.2,"FLAGGED",11.1,1,1.5)
S X=$P(^DPT(DA(1),0),U)
"IX",19641.2,19641.2,"FLAGGED",11.1,2,0)
2^F^19641.24^.02^^^F
"IX",19641.2,19641.2,"FLAGGED",11.1,3,0)
3^C
"IX",19641.2,19641.2,"FLAGGED",11.1,3,1.5)
S X=0 I $D(^DSIO(19641.2,"TRACKING",$P(^DPT(DA(1),0),U),DA(1))) S X=1
"IX",19641.2,19641.2,"FLAGGED","NOREINDEX")
1
"IX",19641.2,19641.2,"TRACKING",0)
19641.2^TRACKING^CURRENTLY TRACKED PATIENTS^MU^^F^IR^W^19641.24^^^^^LS
"IX",19641.2,19641.2,"TRACKING",1)
K:X(2)'=2 ^DSIO(19641.2,"TRACKING",X(1),DA(1)),^DSIO(19641.2,"S",DA(1)) S:X(2)=1!(X(2)=4) ^DSIO(19641.2,"TRACKING",X(1),DA(1),DA)="",^DSIO(19641.2,"S",DA(1),"T")=""
"IX",19641.2,19641.2,"TRACKING",1.4)

"IX",19641.2,19641.2,"TRACKING",2)
Q
"IX",19641.2,19641.2,"TRACKING",2.5)
K ^DSIO(19641.2,"TRACKING")
"IX",19641.2,19641.2,"TRACKING",11.1,0)
^.114IA^5^2
"IX",19641.2,19641.2,"TRACKING",11.1,4,0)
1^C^^^^1
"IX",19641.2,19641.2,"TRACKING",11.1,4,1.5)
S X=$P(^DPT(DA(1),0),U)
"IX",19641.2,19641.2,"TRACKING",11.1,5,0)
2^F^19641.24^.02^^^F
"IX",19641.2,19641.2,"TRACKING","NOREINDEX")
1
"IX",19641.2,19641.24,"B",0)
19641.24^B^REGULAR BUT SORT DT BACKWARDS^R^^F^IR^I^19641.24^^^^^LS
"IX",19641.2,19641.24,"B",1)
S ^DSIO(19641.2,DA(1),1,"B",X,DA)=""
"IX",19641.2,19641.24,"B",2)
K ^DSIO(19641.2,DA(1),1,"B",X,DA)
"IX",19641.2,19641.24,"B",2.5)
K ^DSIO(19641.2,DA(1),1,"B")
"IX",19641.2,19641.24,"B",11.1,0)
^.114IA^1^1
"IX",19641.2,19641.24,"B",11.1,1,0)
1^F^19641.24^.01^^1^B
"IX",19641.2,19641.24,"B",11.1,1,3)

"IX",19641.2,19641.24,"FLAG",0)
19641.24^FLAG^ALL FLAGGED TRACKING LOGS.^MU^^R^IR^I^19641.24^^^^^LS
"IX",19641.2,19641.24,"FLAG",1)
S:X(1)=2 ^DSIO(19641.2,DA(1),1,"FLAG",X(2),DA)="" K:X(1)'=2 ^DSIO(19641.2,DA(1),1,"FLAG")
"IX",19641.2,19641.24,"FLAG",1.4)
I X(1)'=""
"IX",19641.2,19641.24,"FLAG",2)
Q
"IX",19641.2,19641.24,"FLAG",2.4)

"IX",19641.2,19641.24,"FLAG",2.5)
K ^DSIO(19641.2,DA(1),1,"FLAG")
"IX",19641.2,19641.24,"FLAG",11.1,0)
^.114IA^2^2
"IX",19641.2,19641.24,"FLAG",11.1,1,0)
1^F^19641.24^.02^^^F
"IX",19641.2,19641.24,"FLAG",11.1,2,0)
2^F^19641.24^.01^^1^B
"IX",19641.49,19641.49,"D",0)
19641.49^D^UNIT AND CLASS^R^^R^IR^I^19641.49^^^^^LS
"IX",19641.49,19641.49,"D",1)
S ^DSIO(19641.49,"D",X(1),X(2),DA)=""
"IX",19641.49,19641.49,"D",2)
K ^DSIO(19641.49,"D",X(1),X(2),DA)
"IX",19641.49,19641.49,"D",2.5)
K ^DSIO(19641.49,"D")
"IX",19641.49,19641.49,"D",11.1,0)
^.114IA^2^2
"IX",19641.49,19641.49,"D",11.1,1,0)
1^F^19641.49^.02^^1^F
"IX",19641.49,19641.49,"D",11.1,1,3)

"IX",19641.49,19641.49,"D",11.1,2,0)
2^F^19641.49^.03^^2^F
"IX",19641.49,19641.49,"D",11.1,2,3)

"IX",19641.6,19641.6,"GUID",0)
19641.6^GUID^GUID UNIQUENESS IF SUPPLIED^R^^F^IR^I^19641.6^^^^^LS
"IX",19641.6,19641.6,"GUID",1)
S ^DSIO(19641.6,"GUID",X,DA)=""
"IX",19641.6,19641.6,"GUID",2)
K ^DSIO(19641.6,"GUID",X,DA)
"IX",19641.6,19641.6,"GUID",2.5)
K ^DSIO(19641.6,"GUID")
"IX",19641.6,19641.6,"GUID",11.1,0)
^.114IA^1^1
"IX",19641.6,19641.6,"GUID",11.1,1,0)
1^F^19641.6^.07^^1^F
"IX",19641.6,19641.6,"GUID",11.1,1,3)

"IX",19641.6,19641.6,"P",0)
19641.6^P^PATIENT SORT^R^^F^IR^I^19641.6^^^^^LS
"IX",19641.6,19641.6,"P",1)
S ^DSIO(19641.6,"P",X,DA)=""
"IX",19641.6,19641.6,"P",2)
K ^DSIO(19641.6,"P",X,DA)
"IX",19641.6,19641.6,"P",2.5)
K ^DSIO(19641.6,"P")
"IX",19641.6,19641.6,"P",11.1,0)
^.114IA^1^1
"IX",19641.6,19641.6,"P",11.1,1,0)
1^F^19641.6^.02^^1^F
"IX",19641.6,19641.6,"P",11.1,1,3)

"KEY",19641.11,19641.11,"A",0)
19641.11^A^P^21
"KEY",19641.11,19641.11,"A",2,0)
^.312IA^2^2
"KEY",19641.11,19641.11,"A",2,1,0)
.05^19641.11^1
"KEY",19641.11,19641.11,"A",2,2,0)
.01^19641.11^2
"KEY",19641.112,19641.112,"A",0)
19641.112^A^P^30
"KEY",19641.112,19641.112,"A",2,0)
^.312IA^3^3
"KEY",19641.112,19641.112,"A",2,1,0)
.02^19641.112^1
"KEY",19641.112,19641.112,"A",2,2,0)
.03^19641.112^2
"KEY",19641.112,19641.112,"A",2,3,0)
.01^19641.112^3
"KEYPTR",19641.11,19641.11,"A")
19641.11^C
"KEYPTR",19641.112,19641.112,"A")
19641.112^C
"KRN",19,14821,-1)
0^5
"KRN",19,14821,0)
DSIO GUI CONTEXT^MCC DASHBOARD RPCS^^B^^^^^^^^
"KRN",19,14821,1,0)
^19.06^1^1^3150519^^
"KRN",19,14821,1,1,0)
This are the RPCs used by the DSIO Maternity Care Dashboard.
"KRN",19,14821,"RPC",0)
^19.05P^72^71
"KRN",19,14821,"RPC",1,0)
DSIO CREATE TRACKING LOG
"KRN",19,14821,"RPC",4,0)
DSIO GET TRACKING
"KRN",19,14821,"RPC",6,0)
DSIO SELECT LIST
"KRN",19,14821,"RPC",7,0)
ORWU HASKEY
"KRN",19,14821,"RPC",8,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,14821,"RPC",9,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,14821,"RPC",10,0)
TIU DOCUMENTS BY CONTEXT
"KRN",19,14821,"RPC",11,0)
ORWPT SELECT
"KRN",19,14821,"RPC",12,0)
ORWU USERINFO
"KRN",19,14821,"RPC",14,0)
DSIO SAVE EXTERNAL ENTITY
"KRN",19,14821,"RPC",15,0)
DSIO GET EXTERNAL ENTITY
"KRN",19,14821,"RPC",16,0)
DSIO CREATE A NOTE
"KRN",19,14821,"RPC",17,0)
DSIO UPDATE A NOTE
"KRN",19,14821,"RPC",18,0)
DSIO MAKE ADDENDUM
"KRN",19,14821,"RPC",19,0)
DSIO GET RECORD TEXT
"KRN",19,14821,"RPC",20,0)
DSIO DELETE A NOTE
"KRN",19,14821,"RPC",21,0)
DSIO SIGN A NOTE
"KRN",19,14821,"RPC",22,0)
DSIO GET TIU NOTES
"KRN",19,14821,"RPC",23,0)
DSIO GET NOTE ELEMENT
"KRN",19,14821,"RPC",26,0)
XUS CVC
"KRN",19,14821,"RPC",28,0)
TIU AUTHORIZATION
"KRN",19,14821,"RPC",29,0)
DSIO SAVE IHE DOC
"KRN",19,14821,"RPC",30,0)
VPR DATA VERSION
"KRN",19,14821,"RPC",31,0)
VPR GET PATIENT DATA
"KRN",19,14821,"RPC",34,0)
ORWU1 NEWLOC
"KRN",19,14821,"RPC",35,0)
DSIO VPR GET PATIENT DATA
"KRN",19,14821,"RPC",36,0)
DSIO SAVE PERSON
"KRN",19,14821,"RPC",37,0)
DSIO GET PERSON
"KRN",19,14821,"RPC",38,0)
DSIO SAVE PREG DETAILS
"KRN",19,14821,"RPC",40,0)
DSIO SAVE OBSERVATION
"KRN",19,14821,"RPC",41,0)
DSIO GET PREG DETAILS
"KRN",19,14821,"RPC",42,0)
DSIO GET PATIENT INFORMATION
"KRN",19,14821,"RPC",43,0)
DSIO GET OBSERVATIONS
"KRN",19,14821,"RPC",44,0)
DSIO GET ORDER LIST
"KRN",19,14821,"RPC",45,0)
DSIO GET ORDER DETAIL
"KRN",19,14821,"RPC",46,0)
DSIO GET REMINDER DETAIL
"KRN",19,14821,"RPC",47,0)
DSIO GET REMINDER LIST
"KRN",19,14821,"RPC",50,0)
DSIO DDCS STORE (TASK)
"KRN",19,14821,"RPC",51,0)
ORQQCN LIST
"KRN",19,14821,"RPC",52,0)
ORQQCN DETAIL
"KRN",19,14821,"RPC",53,0)
ORWRP REPORT TEXT
"KRN",19,14821,"RPC",54,0)
DSIO SET PATIENT INFORMATION
"KRN",19,14821,"RPC",55,0)
DSIO GET EDUC CATEGORY LIST
"KRN",19,14821,"RPC",56,0)
DSIO GET EDUCATION ITEMS
"KRN",19,14821,"RPC",57,0)
DSIO GET MCC CHECKLIST
"KRN",19,14821,"RPC",58,0)
DSIO GET MCC PATIENT CHECKLIST
"KRN",19,14821,"RPC",59,0)
DSIO GET PATIENT EDUCATION
"KRN",19,14821,"RPC",60,0)
DSIO GET PROVIDER
"KRN",19,14821,"RPC",61,0)
DSIO SAVE EDUCATION ITEM
"KRN",19,14821,"RPC",62,0)
DSIO SAVE MCC CHECKLIST
"KRN",19,14821,"RPC",63,0)
DSIO SAVE MCC PAT CHECKLIST
"KRN",19,14821,"RPC",64,0)
DSIO SAVE PATIENT EDUCATION
"KRN",19,14821,"RPC",65,0)
DSIO DELETE MCC CHECKLIST
"KRN",19,14821,"RPC",66,0)
DSIO DELETE MCC PAT CHKLST
"KRN",19,14821,"RPC",67,0)
DSIO CHECK CONTROLLED LABS
"KRN",19,14821,"RPC",69,0)
DSIO PATIENT LIST
"KRN",19,14821,"RPC",70,0)
DSIO GET NOTIFICATIONS/ALERTS
"KRN",19,14821,"RPC",71,0)
DSIO GET IHE CONTENT
"KRN",19,14821,"RPC",72,0)
DSIO GET IHE DOCS
"KRN",19,14821,"U")
MCC DASHBOARD RPCS
"KRN",19,14827,-1)
0^6
"KRN",19,14827,0)
DSIO CHECK NOTE STATUS^Act on TIU note status^^R^^^^^^^^
"KRN",19,14827,1,0)
^^3^3^3150326^
"KRN",19,14827,1,1,0)
Check the DSIO NOTE DATA file for any note that has discreet data and 
"KRN",19,14827,1,2,0)
push if the status is COMPLETED and delete the data if the status is 
"KRN",19,14827,1,3,0)
DELETED - already pushed note data cannot be deleted.
"KRN",19,14827,25)
TRIG^DSIO6
"KRN",19,14827,"U")
ACT ON TIU NOTE STATUS
"KRN",8994,4000,-1)
0^11
"KRN",8994,4000,0)
DSIO GET TRACKING^TRCLIST^DSIO1^4^^^^1
"KRN",8994,4000,1,0)
^8994.01^12^12^3150525^^^
"KRN",8994,4000,1,1,0)
 ;
"KRN",8994,4000,1,2,0)
 ; RETURN MATERNITY TRACKING LISTS
"KRN",8994,4000,1,3,0)
 ;
"KRN",8994,4000,1,4,0)
 ; INPUT PARAMETERS:
"KRN",8994,4000,1,5,0)
 ; -----------------
"KRN",8994,4000,1,6,0)
 ; ALL: ALL LOGS
"KRN",8994,4000,1,7,0)
 ;   T: ALL CURRENTLY TRACKED PATIENTS
"KRN",8994,4000,1,8,0)
 ;   F: ALL CURRENTLY FLAGGED PATIENTS
"KRN",8994,4000,1,9,0)
 ; DFN: ALL LOGS FOR A PATIENT
"KRN",8994,4000,1,10,0)
 ;  F#: ALL CURRENTLY FLAGGED LOGS FOR A PATIENT
"KRN",8994,4000,1,11,0)
 ;
"KRN",8994,4000,1,12,0)
 ; SORT: PAGE#,CT
"KRN",8994,4000,2,0)
^8994.02A^2^2
"KRN",8994,4000,2,1,0)
TYP^1^^^1
"KRN",8994,4000,2,2,0)
SORT^1^^^2
"KRN",8994,4000,2,"B","SORT",2)

"KRN",8994,4000,2,"B","TYP",1)

"KRN",8994,4000,2,"PARAMSEQ",1,1)

"KRN",8994,4000,2,"PARAMSEQ",2,2)

"KRN",8994,4000,3,0)
^^21^21^3150525^
"KRN",8994,4000,3,1,0)
 ;
"KRN",8994,4000,3,2,0)
 ; *** GET ALL CURRENTLY TRACKED PATIENTS
"KRN",8994,4000,3,3,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD^OB^PLANNED DELV LOC^
"KRN",8994,4000,3,4,0)
 ;     CURRENTLY PREGNANT^CURRENTLY LACATING
"KRN",8994,4000,3,5,0)
 ;     ^DSIO(19641.2,"TRACKING",PATIENT NAME,DFN,DA)=""
"KRN",8994,4000,3,6,0)
 ;
"KRN",8994,4000,3,7,0)
 ; *** GET ALL CURRENTLY FLAGGED PATIENTS
"KRN",8994,4000,3,8,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"KRN",8994,4000,3,9,0)
 ;     ^DSIO(19641.2,"FLAGGED",PATIENT NAME,DFN,DA)=""
"KRN",8994,4000,3,10,0)
 ;
"KRN",8994,4000,3,11,0)
 ; *** GET ALL LOGS FOR A PATIENT
"KRN",8994,4000,3,12,0)
 ;     L^IEN^TRACKING 
"KRN",8994,4000,3,13,0)
DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"KRN",8994,4000,3,14,0)
 ;     C^IEN^COMMENT
"KRN",8994,4000,3,15,0)
 ;     ^DSIO(19641.2,DFN,1,"B",LOG DATE,DA)=""
"KRN",8994,4000,3,16,0)
 ;
"KRN",8994,4000,3,17,0)
 ; *** GET CURRENTLY FLAGGED ENTRIES FOR A PATIENT
"KRN",8994,4000,3,18,0)
 ;     ^DSIO(19641.2,DFN,1,"FLAG",LOG DATE,DA)
"KRN",8994,4000,3,19,0)
 ;
"KRN",8994,4000,3,20,0)
 ; *** GET ALL LOGS
"KRN",8994,4000,3,21,0)
 ;     ^DSIO(19641.2,"C",LOG DATE,DFN,DA)=""
"KRN",8994,4001,-1)
0^9
"KRN",8994,4001,0)
DSIO SELECT LIST^SELECT^DSIO1^2
"KRN",8994,4001,1,0)
^^9^9^3150429^
"KRN",8994,4001,1,1,0)
 ;
"KRN",8994,4001,1,2,0)
 ; RETURN DROP DOWN LIST
"KRN",8994,4001,1,3,0)
 ;
"KRN",8994,4001,1,4,0)
 ; INPUT PARAMETER:
"KRN",8994,4001,1,5,0)
 ;  TYP : 'S' FOR FILE 19641.22
"KRN",8994,4001,1,6,0)
 ;  TYP : 'R' FOR FILE 19641.23
"KRN",8994,4001,1,7,0)
 ;
"KRN",8994,4001,1,8,0)
 ;  LETTER^ENTRY^A : ADD AN ENTRY TO ONE OF THE ABOVE FILES
"KRN",8994,4001,1,9,0)
 ;  LETTER^ENTRY^D : DELETE AN ENTRY FROM ONE OF THE ABOVE FILES
"KRN",8994,4001,2,0)
^8994.02A^1^1
"KRN",8994,4001,2,1,0)
TYP^1^^^1
"KRN",8994,4001,2,1,1,0)
^8994.021^10^10^3150429^^
"KRN",8994,4001,2,1,1,1,0)
When this input parameter is set to S it will return a list of entries 
"KRN",8994,4001,2,1,1,2,0)
that are not marked as system from the DSIO TRACKING SOURCE file; 
"KRN",8994,4001,2,1,1,3,0)
likewise, it will do the same for the DSIO TRACKING REASON file when it 
"KRN",8994,4001,2,1,1,4,0)
is set to R.
"KRN",8994,4001,2,1,1,5,0)
 
"KRN",8994,4001,2,1,1,6,0)
To add an entry:
"KRN",8994,4001,2,1,1,7,0)
(S or R)^ENTRY NAME^A
"KRN",8994,4001,2,1,1,8,0)
 
"KRN",8994,4001,2,1,1,9,0)
To delete an entry:
"KRN",8994,4001,2,1,1,10,0)
(S or R)^ENTRY NAME^D
"KRN",8994,4001,2,"B","TYP",1)

"KRN",8994,4001,2,"PARAMSEQ",1,1)

"KRN",8994,4001,3,0)
^^1^1^3150429^
"KRN",8994,4001,3,1,0)
 ;  RETURN LIST FOR SUCCESS OR RET(0)="-1^MESSAGE" FOR FAILURE
"KRN",8994,4001,3,2,0)
Multi Lines of the entry name.
"KRN",8994,4001,3,3,0)
 
"KRN",8994,4001,3,4,0)
Failure 
"KRN",8994,4001,3,5,0)
-1^ERROR MESSAGE
"KRN",8994,4002,-1)
0^18
"KRN",8994,4002,0)
DSIO CREATE TRACKING LOG^REC^DSIO1^1
"KRN",8994,4002,1,0)
^^36^36^3150525^
"KRN",8994,4002,1,1,0)
 ; ACT: ACTION    INPUT PARAMETER:
"KRN",8994,4002,1,2,0)
 ;   0: STOP           DFN : PATIENT NUMBER
"KRN",8994,4002,1,3,0)
 ;   1: START          ACT : ACTION 
"KRN",8994,4002,1,4,0)
(0:STOP,1:START,2:FLAG,3:REJECT,4:ACCEPT)
"KRN",8994,4002,1,5,0)
 ;   2: FLAG           RES : REASON  - #^#^#
"KRN",8994,4002,1,6,0)
 ;   3: REJECT         COM : COMMENT - ARRAY
"KRN",8994,4002,1,7,0)
 ;   4: ACCEPT         SOR : SOURCE  - DEFAULT IS DASHBOARD
"KRN",8994,4002,1,8,0)
 
"KRN",8994,4002,1,9,0)
This RPC creates a tracking log in the DSIO TRACKING HISTORY file. The 
"KRN",8994,4002,1,10,0)
ACTION(.02) used to create the entry may or may not change the status of 
"KRN",8994,4002,1,11,0)
the patient depending on their current TRACKING STATUS(.02) within the 
"KRN",8994,4002,1,12,0)
DSIO PATIENT file.
"KRN",8994,4002,1,13,0)
 
"KRN",8994,4002,1,14,0)
Note
"KRN",8994,4002,1,15,0)
---------------------------------
"KRN",8994,4002,1,16,0)
When the Patient's TRACKING STATUS is:
"KRN",8994,4002,1,17,0)
 
"KRN",8994,4002,1,18,0)
0   NO = No, the patient is not being tracked.
"KRN",8994,4002,1,19,0)
When the patient's tracking status is NO and a tracking entry of START is 
"KRN",8994,4002,1,20,0)
created the patients status will become YES.
"KRN",8994,4002,1,21,0)
Likewise, if a tracking entry of FLAG were to be created the patients 
"KRN",8994,4002,1,22,0)
tracking status would become FLAG.
"KRN",8994,4002,1,23,0)
Additionally, but not necessary, if an entry of STOP was created the 
"KRN",8994,4002,1,24,0)
tracking status would be set to NO.
"KRN",8994,4002,1,25,0)
 
"KRN",8994,4002,1,26,0)
1  YES = Yes, the patient is being tracked.
"KRN",8994,4002,1,27,0)
When the patients tracking status is YES a tracking entry of NO will 
"KRN",8994,4002,1,28,0)
change their status to NO. FLAG entries do not change the status of the 
"KRN",8994,4002,1,29,0)
patient when their status is YES; however, if a FLAG entry where to be 
"KRN",8994,4002,1,30,0)
rejected it would change the status of the patient to NO.
"KRN",8994,4002,1,31,0)
 
"KRN",8994,4002,1,32,0)
2  FLAG = Please review, this patient may need to be tracked.
"KRN",8994,4002,1,33,0)
If a patient is set as FLAG then a tracking entry of ACCEPT will YES 
"KRN",8994,4002,1,34,0)
their status while a REJECT will NO their status.
"KRN",8994,4002,1,35,0)
Likewise, but not necessary, an entry of START or STOP will change their 
"KRN",8994,4002,1,36,0)
status to YES or NO respectably.
"KRN",8994,4002,2,0)
^8994.02A^5^5
"KRN",8994,4002,2,1,0)
DFN^1^^^1
"KRN",8994,4002,2,1,1,0)
^8994.021^1^1^3150522^^
"KRN",8994,4002,2,1,1,1,0)
Patient Internal Entry Number
"KRN",8994,4002,2,2,0)
ACT^1^^^2
"KRN",8994,4002,2,2,1,0)
^8994.021^7^7^3150522^^
"KRN",8994,4002,2,2,1,1,0)
This action represents the purpose of the entry and potentially the 
"KRN",8994,4002,2,2,1,2,0)
status of the patient.
"KRN",8994,4002,2,2,1,3,0)
'0' FOR STOP
"KRN",8994,4002,2,2,1,4,0)
'1' FOR START
"KRN",8994,4002,2,2,1,5,0)
'2' FOR FLAG
"KRN",8994,4002,2,2,1,6,0)
'3' FOR REJECT
"KRN",8994,4002,2,2,1,7,0)
'4' FOR ACCEPT
"KRN",8994,4002,2,3,0)
RES^1^^^3
"KRN",8994,4002,2,3,1,0)
^8994.021^4^4^3150522^^
"KRN",8994,4002,2,3,1,1,0)
A caret delimited string of human readable reasons as to why this 
"KRN",8994,4002,2,3,1,2,0)
tracking entry is being created. These reasons are also saved in the DSIO 
"KRN",8994,4002,2,3,1,3,0)
TRACKING REASON file.
"KRN",8994,4002,2,3,1,4,0)
RES="REASON 1^REASON 2"
"KRN",8994,4002,2,4,0)
COM^2^^^4
"KRN",8994,4002,2,4,1,0)
^8994.021^4^4^3150522^^^
"KRN",8994,4002,2,4,1,1,0)
A list of formatted lines that will be identified as a comment and placed 
"KRN",8994,4002,2,4,1,2,0)
in a word processing field (COMMENT(2)) of the DSIO TRACKING HISTORY 
"KRN",8994,4002,2,4,1,3,0)
file. This is a simple numbered list.
"KRN",8994,4002,2,4,1,4,0)
COM(0)="This would be the first line of the comment."
"KRN",8994,4002,2,5,0)
SOR^1^^^5
"KRN",8994,4002,2,5,1,0)
^8994.021^3^3^3150525^^^^
"KRN",8994,4002,2,5,1,1,0)
This is the source or origin of the tracking entry. Some of the system 
"KRN",8994,4002,2,5,1,2,0)
entries are "DASHBOARD" and "FILEMAN". These entries are saved in the 
"KRN",8994,4002,2,5,1,3,0)
DSIO TRACKING SOURCE file.
"KRN",8994,4002,2,"B","ACT",2)

"KRN",8994,4002,2,"B","COM",4)

"KRN",8994,4002,2,"B","DFN",1)

"KRN",8994,4002,2,"B","RES",3)

"KRN",8994,4002,2,"B","SOR",5)

"KRN",8994,4002,2,"PARAMSEQ",1,1)

"KRN",8994,4002,2,"PARAMSEQ",2,2)

"KRN",8994,4002,2,"PARAMSEQ",3,3)

"KRN",8994,4002,2,"PARAMSEQ",4,4)

"KRN",8994,4002,2,"PARAMSEQ",5,5)

"KRN",8994,4002,3,0)
^^3^3^3150525^
"KRN",8994,4002,3,1,0)
-1^Error Message
"KRN",8994,4002,3,2,0)
or
"KRN",8994,4002,3,3,0)
1 if SOR="DASHBOARD" or IEN if SOR does not equal DASHBOARD
"KRN",8994,4006,-1)
0^21
"KRN",8994,4006,0)
DSIO CREATE A NOTE^CREATE^DSIO3^1
"KRN",8994,4006,1,0)
^^17^17^3150525^
"KRN",8994,4006,1,1,0)
 ; Visit information will come out of a configuration file
"KRN",8994,4006,1,2,0)
 ;
"KRN",8994,4006,1,3,0)
 ; ADDITIONAL PARAMETER TO SAVE DISCREET INFORMATION
"KRN",8994,4006,1,4,0)
 ; ARRAY(#)=(S,M,WP)^CONTROL^LABEL 1^INDEX(OPTIONAL ONLY FOR M)^VALUE
"KRN",8994,4006,1,5,0)
 ;
"KRN",8994,4006,1,6,0)
 ;  TIUX(.02)=PATIENT                       -UPDATE,ADDENDA
"KRN",8994,4006,1,7,0)
 ; TIUX(1202)=AUTHOR/DICTATOR
"KRN",8994,4006,1,8,0)
 ; TIUX(1205)=HOSPITAL LOCATION
"KRN",8994,4006,1,9,0)
 ; TIUX(1208)=EXPECTED COSIGNER
"KRN",8994,4006,1,10,0)
 ; TIUX(1301)=REFERENCE DATE/DT OF ENTRY    -UPDATE,ADDENDA
"KRN",8994,4006,1,11,0)
 ; TIUX(1302)=ENTERED BY                    -UPDATE,ADDENDA
"KRN",8994,4006,1,12,0)
 ; TIUX(1405)=PKGREF
"KRN",8994,4006,1,13,0)
 ; TIUX(1701)=SUBJECT
"KRN",8994,4006,1,14,0)
 ; TIUX(2101)=IDPARENT
"KRN",8994,4006,1,15,0)
 ;
"KRN",8994,4006,1,16,0)
 ; ORDER:
"KRN",8994,4006,1,17,0)
 ; CREATE - BOILER - LOCK - UPDATE - SET - UNLOCK
"KRN",8994,4006,2,0)
^8994.02A^5^2
"KRN",8994,4006,2,1,0)
DFN^1^^1^1
"KRN",8994,4006,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4006,2,1,1,1,0)
Patient Internal Entry Number
"KRN",8994,4006,2,2,0)
TITLE^1^^1^2
"KRN",8994,4006,2,2,1,0)
^^2^2^3140829^
"KRN",8994,4006,2,2,1,1,0)
The name of the entry to the TIU DOCUMENT DEFINITION file (8925.1) whose 
"KRN",8994,4006,2,2,1,2,0)
TYPE(.04) is TITLE.
"KRN",8994,4006,2,3,0)
NOTE^2^^^3
"KRN",8994,4006,2,3,1,0)
^8994.021^3^3^3140829^^
"KRN",8994,4006,2,3,1,1,0)
A list of formatted lines that will be placed in the body of the note. 
"KRN",8994,4006,2,3,1,2,0)
This is a simple numbered list.
"KRN",8994,4006,2,3,1,3,0)
NOTE(0)="This would be the first line of the note."
"KRN",8994,4006,2,4,0)
DATA^2^^^4
"KRN",8994,4006,2,4,1,0)
^8994.021^18^18^3140829^^
"KRN",8994,4006,2,4,1,1,0)
A list of values to be saved discreetly and associated to the identified 
"KRN",8994,4006,2,4,1,2,0)
note. Each entry in this list consists of four pieces delimited by caret  
"KRN",8994,4006,2,4,1,3,0)
TYPE^ID^FIELD^VALUE.
"KRN",8994,4006,2,4,1,4,0)
 
"KRN",8994,4006,2,4,1,5,0)
Where TYPE = S, M, WP which means single, multiple, and word processing.
"KRN",8994,4006,2,4,1,6,0)
 
"KRN",8994,4006,2,4,1,7,0)
ID is a unique number that associates multiple entries of the list to 
"KRN",8994,4006,2,4,1,8,0)
belong to one entry for VistA.
"KRN",8994,4006,2,4,1,9,0)
 
"KRN",8994,4006,2,4,1,10,0)
FIELD is the name of the caption or label that identifies the VALUE which 
"KRN",8994,4006,2,4,1,11,0)
is the fourth piece of a list entry.
"KRN",8994,4006,2,4,1,12,0)
 
"KRN",8994,4006,2,4,1,13,0)
EXAMPLE ARRAY:
"KRN",8994,4006,2,4,1,14,0)
(S,M,WP) ^ CONTROL ^ LABEL 1 ^ SOME VALUE ^ INDEX ^ NOTE TEXT
"KRN",8994,4006,2,4,1,15,0)
- M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"KRN",8994,4006,2,4,1,16,0)
- IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO 
"KRN",8994,4006,2,4,1,17,0)
ONE ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A 
"KRN",8994,4006,2,4,1,18,0)
SINGLE ENTRY TO DSIO NOTE DATA.
"KRN",8994,4006,2,5,0)
SUBJ^1^^^5
"KRN",8994,4006,2,5,1,0)
^8994.021^1^1^3150525^^^
"KRN",8994,4006,2,5,1,1,0)
The note subject (optional)  this is not the title.
"KRN",8994,4006,2,6,0)
PREG^1^^^6
"KRN",8994,4006,2,6,1,0)
^8994.021^1^1^3150520^^^^
"KRN",8994,4006,2,6,1,1,0)
ENTER THE PREGNANT HISTORY FILE IEN.
"KRN",8994,4006,2,"B","DATA",4)

"KRN",8994,4006,2,"B","DFN",1)

"KRN",8994,4006,2,"B","NOTE",3)

"KRN",8994,4006,2,"B","PREG",6)

"KRN",8994,4006,2,"B","SUBJ",5)

"KRN",8994,4006,2,"B","TITLE",2)

"KRN",8994,4006,2,"PARAMSEQ",1,1)

"KRN",8994,4006,2,"PARAMSEQ",2,2)

"KRN",8994,4006,2,"PARAMSEQ",3,3)

"KRN",8994,4006,2,"PARAMSEQ",4,4)

"KRN",8994,4006,2,"PARAMSEQ",5,5)

"KRN",8994,4006,2,"PARAMSEQ",6,6)

"KRN",8994,4006,3,0)
^^7^7^3150525^
"KRN",8994,4006,3,1,0)
Success
"KRN",8994,4006,3,2,0)
NOTE IEN^1^1
"KRN",8994,4006,3,3,0)
NOTE IEN = The TIU DOCUMENT IEN
"KRN",8994,4006,3,4,0)
1^1 = the page number and total number of pages of the Note
"KRN",8994,4006,3,5,0)
 
"KRN",8994,4006,3,6,0)
Failure
"KRN",8994,4006,3,7,0)
-1^ERROR MESSAGE
"KRN",8994,4007,-1)
0^22
"KRN",8994,4007,0)
DSIO UPDATE A NOTE^SET^DSIO3^1
"KRN",8994,4007,1,0)
^^12^12^3150525^
"KRN",8994,4007,1,1,0)
 ; REQUIRED INPUT:
"KRN",8994,4007,1,2,0)
 ; ---------------
"KRN",8994,4007,1,3,0)
 ; IEN,NOTE
"KRN",8994,4007,1,4,0)
 ;
"KRN",8994,4007,1,5,0)
 ; THIS RETURN ALSO APPLIES TO CREATE AND ADDENDUM
"KRN",8994,4007,1,6,0)
 ; -----------------------------------------------
"KRN",8994,4007,1,7,0)
 ; If successful:
"KRN",8994,4007,1,8,0)
 ;   <IEN in TIU DOCUMENT 
"KRN",8994,4007,1,9,0)
FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"KRN",8994,4007,1,10,0)
 ; 
"KRN",8994,4007,1,11,0)
 ; If unsuccessful:
"KRN",8994,4007,1,12,0)
 ;   0^0^0^Explanatory text
"KRN",8994,4007,2,0)
^8994.02A^4^4
"KRN",8994,4007,2,1,0)
IEN^1^^1^1
"KRN",8994,4007,2,1,1,0)
^8994.021^1^1^3140829^^
"KRN",8994,4007,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4007,2,2,0)
NOTE^2^^^2
"KRN",8994,4007,2,2,1,0)
^^3^3^3140829^
"KRN",8994,4007,2,2,1,1,0)
A list of formatted lines that will be placed in the body of the note. 
"KRN",8994,4007,2,2,1,2,0)
This is a simple numbered list.
"KRN",8994,4007,2,2,1,3,0)
NOTE(0)="This would be the first line of the note."
"KRN",8994,4007,2,3,0)
DATA^2^^^3
"KRN",8994,4007,2,3,1,0)
^^18^18^3140829^
"KRN",8994,4007,2,3,1,1,0)
A list of values to be saved discreetly and associated to the identified 
"KRN",8994,4007,2,3,1,2,0)
note. Each entry in this list consists of four pieces delimited by caret  
"KRN",8994,4007,2,3,1,3,0)
TYPE^ID^FIELD^VALUE.
"KRN",8994,4007,2,3,1,4,0)
 
"KRN",8994,4007,2,3,1,5,0)
Where TYPE = S, M, WP which means single, multiple, and word processing.
"KRN",8994,4007,2,3,1,6,0)
 
"KRN",8994,4007,2,3,1,7,0)
ID is a unique number that associates multiple entries of the list to 
"KRN",8994,4007,2,3,1,8,0)
belong to one entry for VistA.
"KRN",8994,4007,2,3,1,9,0)
 
"KRN",8994,4007,2,3,1,10,0)
FIELD is the name of the caption or label that identifies the VALUE which 
"KRN",8994,4007,2,3,1,11,0)
is the fourth piece of a list entry.
"KRN",8994,4007,2,3,1,12,0)
 
"KRN",8994,4007,2,3,1,13,0)
EXAMPLE ARRAY:
"KRN",8994,4007,2,3,1,14,0)
(S,M,WP) ^ CONTROL ^ LABEL 1 ^ SOME VALUE ^ INDEX ^ NOTE TEXT
"KRN",8994,4007,2,3,1,15,0)
- M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"KRN",8994,4007,2,3,1,16,0)
- IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO 
"KRN",8994,4007,2,3,1,17,0)
ONE ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A 
"KRN",8994,4007,2,3,1,18,0)
SINGLE ENTRY TO DSIO NOTE DATA.
"KRN",8994,4007,2,4,0)
SUBJ^1^^^4
"KRN",8994,4007,2,4,1,0)
^8994.021^1^1^3150525^^^
"KRN",8994,4007,2,4,1,1,0)
The note subject (optional)  this is not the title.
"KRN",8994,4007,2,5,0)
PREG^1^^^5
"KRN",8994,4007,2,5,1,0)
^8994.021^1^1^3150520^^^^
"KRN",8994,4007,2,5,1,1,0)
ENTER THE PREGNANT HISTORY FILE IEN.
"KRN",8994,4007,2,"B","DATA",3)

"KRN",8994,4007,2,"B","IEN",1)

"KRN",8994,4007,2,"B","NOTE",2)

"KRN",8994,4007,2,"B","PREG",5)

"KRN",8994,4007,2,"B","SUBJ",4)

"KRN",8994,4007,2,"PARAMSEQ",1,1)

"KRN",8994,4007,2,"PARAMSEQ",2,2)

"KRN",8994,4007,2,"PARAMSEQ",3,3)

"KRN",8994,4007,2,"PARAMSEQ",4,4)

"KRN",8994,4007,2,"PARAMSEQ",5,5)

"KRN",8994,4007,3,0)
^^4^4^3150525^
"KRN",8994,4007,3,1,0)
Success
"KRN",8994,4007,3,2,0)
IEN ^ LAST PAGE ^ TOTAL PAGES
"KRN",8994,4007,3,3,0)
Failure 
"KRN",8994,4007,3,4,0)
-1^ERROR MESSAGE
"KRN",8994,4008,-1)
0^23
"KRN",8994,4008,0)
DSIO MAKE ADDENDUM^ADDEN^DSIO3^1
"KRN",8994,4008,1,0)
^8994.01^2^2^3150525^^^
"KRN",8994,4008,1,1,0)
This RPC allows the creation of addenda to TIU Documents; the user must 
"KRN",8994,4008,1,2,0)
first pass TIU Authentication.
"KRN",8994,4008,2,0)
^8994.02A^4^4
"KRN",8994,4008,2,1,0)
IEN^1^^1^1
"KRN",8994,4008,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4008,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4008,2,2,0)
NOTE^2^^^2
"KRN",8994,4008,2,2,1,0)
^8994.021^3^3^3140829^^
"KRN",8994,4008,2,2,1,1,0)
A list of formatted lines that will be placed in the body of the note. 
"KRN",8994,4008,2,2,1,2,0)
This is a simple numbered list.
"KRN",8994,4008,2,2,1,3,0)
NOTE(0)="This would be the first line of the note."
"KRN",8994,4008,2,3,0)
DATA^2^^^3
"KRN",8994,4008,2,3,1,0)
^8994.021^18^18^3140829^^
"KRN",8994,4008,2,3,1,1,0)
A list of values to be saved discreetly and associated to the identified 
"KRN",8994,4008,2,3,1,2,0)
note. Each entry in this list consists of four pieces delimited by caret  
"KRN",8994,4008,2,3,1,3,0)
TYPE^ID^FIELD^VALUE.
"KRN",8994,4008,2,3,1,4,0)
 
"KRN",8994,4008,2,3,1,5,0)
Where TYPE = S, M, WP which means single, multiple, and word processing.
"KRN",8994,4008,2,3,1,6,0)
 
"KRN",8994,4008,2,3,1,7,0)
ID is a unique number that associates multiple entries of the list to 
"KRN",8994,4008,2,3,1,8,0)
belong to one entry for VistA.
"KRN",8994,4008,2,3,1,9,0)
 
"KRN",8994,4008,2,3,1,10,0)
FIELD is the name of the caption or label that identifies the VALUE which 
"KRN",8994,4008,2,3,1,11,0)
is the fourth piece of a list entry.
"KRN",8994,4008,2,3,1,12,0)
 
"KRN",8994,4008,2,3,1,13,0)
EXAMPLE ARRAY:
"KRN",8994,4008,2,3,1,14,0)
(S,M,WP) ^ CONTROL ^ LABEL 1 ^ SOME VALUE ^ INDEX ^ NOTE TEXT
"KRN",8994,4008,2,3,1,15,0)
- M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"KRN",8994,4008,2,3,1,16,0)
- IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO 
"KRN",8994,4008,2,3,1,17,0)
ONE ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A 
"KRN",8994,4008,2,3,1,18,0)
SINGLE ENTRY TO DSIO NOTE DATA.
"KRN",8994,4008,2,4,0)
SUBJ^1^^^4
"KRN",8994,4008,2,4,1,0)
^8994.021^1^1^3150525^^
"KRN",8994,4008,2,4,1,1,0)
The note subject (optional)  this is not the title.
"KRN",8994,4008,2,"B","DATA",3)

"KRN",8994,4008,2,"B","IEN",1)

"KRN",8994,4008,2,"B","NOTE",2)

"KRN",8994,4008,2,"B","SUBJ",4)

"KRN",8994,4008,2,"PARAMSEQ",1,1)

"KRN",8994,4008,2,"PARAMSEQ",2,2)

"KRN",8994,4008,2,"PARAMSEQ",3,3)

"KRN",8994,4008,2,"PARAMSEQ",4,4)

"KRN",8994,4008,3,0)
^^4^4^3150525^
"KRN",8994,4008,3,1,0)
Success
"KRN",8994,4008,3,2,0)
IEN ^ LAST PAGE ^ TOTAL PAGES
"KRN",8994,4008,3,3,0)
Failure 
"KRN",8994,4008,3,4,0)
-1^ERROR MESSAGE
"KRN",8994,4009,-1)
0^17
"KRN",8994,4009,0)
DSIO GET RECORD TEXT^GET^DSIO3^4^^^^1
"KRN",8994,4009,1,0)
^8994.01^4^4^3150525^^
"KRN",8994,4009,1,1,0)
 ; - TYP 
"KRN",8994,4009,1,2,0)
 ;   = NULL - Whole note with addenda - FOR VIEW
"KRN",8994,4009,1,3,0)
 ;   = H    - ONLY the HEADER         - FOR VIEW
"KRN",8994,4009,1,4,0)
 ;   = B    - ONLY the BODY           - FOR EDIT
"KRN",8994,4009,2,0)
^8994.02A^2^2
"KRN",8994,4009,2,1,0)
IEN^1^^1^1
"KRN",8994,4009,2,1,1,0)
^8994.021^1^1^3140402^^
"KRN",8994,4009,2,1,1,1,0)
PROGRESS NOTE IEN
"KRN",8994,4009,2,2,0)
TYP^1^^^2
"KRN",8994,4009,2,2,1,0)
^8994.021^2^2^3150525^^^
"KRN",8994,4009,2,2,1,1,0)
Pass null for whole note, H to return the header only, or B to return the 
"KRN",8994,4009,2,2,1,2,0)
body only.
"KRN",8994,4009,2,"B","IEN",1)

"KRN",8994,4009,2,"B","TYP",2)

"KRN",8994,4009,2,"PARAMSEQ",1,1)

"KRN",8994,4009,2,"PARAMSEQ",2,2)

"KRN",8994,4009,3,0)
^^3^3^3150525^
"KRN",8994,4009,3,1,0)
ARRAY of text
"KRN",8994,4009,3,2,0)
or
"KRN",8994,4009,3,3,0)
-1^Error Message
"KRN",8994,4010,-1)
0^24
"KRN",8994,4010,0)
DSIO DELETE A NOTE^DELETE^DSIO3^1
"KRN",8994,4010,1,0)
^8994.01^4^4^3150525^^^
"KRN",8994,4010,1,1,0)
This RPC allows a user to attempt to delete a note which must first pass 
"KRN",8994,4010,1,2,0)
TIU Authentication. Running this RPC without using the optional 
"KRN",8994,4010,1,3,0)
parameter, JUST, could fail the delete if TIU Authentication asks for it 
"KRN",8994,4010,1,4,0)
and so, must then be called again with justification.
"KRN",8994,4010,2,0)
^8994.02A^2^2
"KRN",8994,4010,2,1,0)
IEN^1^^1^1
"KRN",8994,4010,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4010,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4010,2,2,0)
JUST^1^^^2
"KRN",8994,4010,2,2,1,0)
^8994.021^2^2^3150525^^
"KRN",8994,4010,2,2,1,1,0)
This is just a string of text that will be saved off as the reason as to 
"KRN",8994,4010,2,2,1,2,0)
why the user needs to delete the note.
"KRN",8994,4010,2,"B","IEN",1)

"KRN",8994,4010,2,"B","JUST",2)

"KRN",8994,4010,2,"PARAMSEQ",1,1)

"KRN",8994,4010,2,"PARAMSEQ",2,2)

"KRN",8994,4010,3,0)
^^3^3^3150525^
"KRN",8994,4010,3,1,0)
1
"KRN",8994,4010,3,2,0)
or
"KRN",8994,4010,3,3,0)
-1^Error Message
"KRN",8994,4011,-1)
0^25
"KRN",8994,4011,0)
DSIO SIGN A NOTE^SIGN^DSIO3^1
"KRN",8994,4011,1,0)
^8994.01^1^1^3150525^^
"KRN",8994,4011,1,1,0)
This RPC is used to electronically sign a TIU Document.
"KRN",8994,4011,2,0)
^8994.02A^2^2
"KRN",8994,4011,2,1,0)
IEN^1^^1^1
"KRN",8994,4011,2,1,1,0)
^^1^1^3140829^
"KRN",8994,4011,2,1,1,1,0)
Note (TIU DOCUMENT) internal entry number.
"KRN",8994,4011,2,2,0)
SIG^1^^1^2
"KRN",8994,4011,2,2,1,0)
^^1^1^3140829^
"KRN",8994,4011,2,2,1,1,0)
This is the users electronic signature encrypted.
"KRN",8994,4011,2,"B","IEN",1)

"KRN",8994,4011,2,"B","SIG",2)

"KRN",8994,4011,2,"PARAMSEQ",1,1)

"KRN",8994,4011,2,"PARAMSEQ",2,2)

"KRN",8994,4011,3,0)
^^3^3^3150525^
"KRN",8994,4011,3,1,0)
1
"KRN",8994,4011,3,2,0)
or
"KRN",8994,4011,3,3,0)
-1^Error Message
"KRN",8994,4023,-1)
0^37
"KRN",8994,4023,0)
DSIO VPR GET PATIENT DATA^GET^DSIO7^4^^^^1^^^1
"KRN",8994,4023,1,0)
^8994.01^9^9^3150521^^
"KRN",8994,4023,1,1,0)
This RPC retrieves the requested data from VistA, and returns it in
"KRN",8994,4023,1,2,0)
^TMP("VPR",$J,n) as XML.
"KRN",8994,4023,1,3,0)
 
"KRN",8994,4023,1,4,0)
This RPC utilizes VPR GET PATIENT DATA but overrides the creation of some 
"KRN",8994,4023,1,5,0)
sections so that they can provide the additional information for IHE and 
"KRN",8994,4023,1,6,0)
it adds sections that dont originally exist with VPR.
"KRN",8994,4023,1,7,0)
 
"KRN",8994,4023,1,8,0)
Please see VPR (Virtual Patient Record) for more information:
"KRN",8994,4023,1,9,0)
http://www.va.gov/vdl/application.asp?appid=197 
"KRN",8994,4023,2,0)
^8994.02A^7^7
"KRN",8994,4023,2,1,0)
DFN^1^20^1^1
"KRN",8994,4023,2,1,1,0)
^8994.021^2^2^3140829^^
"KRN",8994,4023,2,1,1,1,0)
 Internal entry number from Patient file #2
"KRN",8994,4023,2,1,1,2,0)
 [optionally DFN;ICN for remote calls]
"KRN",8994,4023,2,2,0)
TYPE^1^100^0^2
"KRN",8994,4023,2,2,1,0)
^^4^4^3140410^
"KRN",8994,4023,2,2,1,1,0)
 The kind(s) of data to return, which may include:
"KRN",8994,4023,2,2,1,2,0)
   demographics;reactions;problems;vitals;labs;meds;
"KRN",8994,4023,2,2,1,3,0)
   immunizations;visits;appointments;documents;
"KRN",8994,4023,2,2,1,4,0)
   procedures;consults
"KRN",8994,4023,2,3,0)
START^1^20^0^3
"KRN",8994,4023,2,3,1,0)
^^1^1^3140410^
"KRN",8994,4023,2,3,1,1,0)
The date/time from which to begin searching for data [optional].
"KRN",8994,4023,2,4,0)
STOP^1^20^0^4
"KRN",8994,4023,2,4,1,0)
^^1^1^3140410^
"KRN",8994,4023,2,4,1,1,0)
The date/time at which to end searching for data [optional].
"KRN",8994,4023,2,5,0)
MAX^1^7^0^5
"KRN",8994,4023,2,5,1,0)
^^1^1^3140410^
"KRN",8994,4023,2,5,1,1,0)
The maximum number of items to return per data type [optional].
"KRN",8994,4023,2,6,0)
ITEM^1^30^0^6
"KRN",8994,4023,2,6,1,0)
^^2^2^3140410^
"KRN",8994,4023,2,6,1,1,0)
 The identifier of a single item to return [optional, but TYPE must
"KRN",8994,4023,2,6,1,2,0)
 also be defined when used].
"KRN",8994,4023,2,7,0)
FILTER^2^^0^7
"KRN",8994,4023,2,7,1,0)
^8994.021^1^1^3150521^^
"KRN",8994,4023,2,7,1,1,0)
 List of name-value pairs, further refining the search.
"KRN",8994,4023,2,"B","DFN",1)

"KRN",8994,4023,2,"B","FILTER",7)

"KRN",8994,4023,2,"B","ITEM",6)

"KRN",8994,4023,2,"B","MAX",5)

"KRN",8994,4023,2,"B","START",3)

"KRN",8994,4023,2,"B","STOP",4)

"KRN",8994,4023,2,"B","TYPE",2)

"KRN",8994,4023,2,"PARAMSEQ",1,1)

"KRN",8994,4023,2,"PARAMSEQ",2,2)

"KRN",8994,4023,2,"PARAMSEQ",3,3)

"KRN",8994,4023,2,"PARAMSEQ",4,4)

"KRN",8994,4023,2,"PARAMSEQ",5,5)

"KRN",8994,4023,2,"PARAMSEQ",6,6)

"KRN",8994,4023,2,"PARAMSEQ",7,7)

"KRN",8994,4023,3,0)
^8994.03^1^1^3150521^^^
"KRN",8994,4023,3,1,0)
 Text array formatted as XML
"KRN",8994,4024,-1)
0^7
"KRN",8994,4024,0)
DSIO SAVE PERSON^SAVE^DSIO9^1
"KRN",8994,4024,1,0)
^^11^11^3150525^
"KRN",8994,4024,1,1,0)
 ;    IEN = IEN of 19641.11
"KRN",8994,4024,1,2,0)
 ;    DFN = PATIENT IEN
"KRN",8994,4024,1,3,0)
 ;   NAME = PERSON NAME (LAST,FIRST)
"KRN",8994,4024,1,4,0)
 ;    DOB = DATE OF BIRTH
"KRN",8994,4024,1,5,0)
 ;   ADDR = ARRAY OF LABELS: 1,2,3,CITY,STATE,ZIP
"KRN",8994,4024,1,6,0)
 ;  PHONE = ARRAY OF LABLES: H,MC,WP,FAX,O
"KRN",8994,4024,1,7,0)
 ;    EDU = NUMBER OF YEARS OF EDUCATION
"KRN",8994,4024,1,8,0)
 ;    SEX = M,F,U
"KRN",8994,4024,1,9,0)
 ;    REL = P:408.11
"KRN",8994,4024,1,10,0)
 ; STATUS = L,D
"KRN",8994,4024,1,11,0)
 ;   PROB = ARRAY OF ENTRIES (PROBLEMS)
"KRN",8994,4024,2,0)
^8994.02A^11^11
"KRN",8994,4024,2,1,0)
IEN^1^^^1
"KRN",8994,4024,2,2,0)
DFN^1^^^2
"KRN",8994,4024,2,3,0)
NAME^1^^^3
"KRN",8994,4024,2,4,0)
DOB^1^^^4
"KRN",8994,4024,2,5,0)
ADDR^2^^^5
"KRN",8994,4024,2,6,0)
PHONE^2^^^6
"KRN",8994,4024,2,7,0)
EDU^1^^^7
"KRN",8994,4024,2,8,0)
SEX^1^^^8
"KRN",8994,4024,2,9,0)
REL^1^^^9
"KRN",8994,4024,2,10,0)
STATUS^1^^^10
"KRN",8994,4024,2,11,0)
PROB^2^^^11
"KRN",8994,4024,2,"B","ADDR",5)

"KRN",8994,4024,2,"B","DFN",2)

"KRN",8994,4024,2,"B","DOB",4)

"KRN",8994,4024,2,"B","EDU",7)

"KRN",8994,4024,2,"B","IEN",1)

"KRN",8994,4024,2,"B","NAME",3)

"KRN",8994,4024,2,"B","PHONE",6)

"KRN",8994,4024,2,"B","PROB",11)

"KRN",8994,4024,2,"B","REL",9)

"KRN",8994,4024,2,"B","SEX",8)

"KRN",8994,4024,2,"B","STATUS",10)

"KRN",8994,4024,2,"PARAMSEQ",1,1)

"KRN",8994,4024,2,"PARAMSEQ",2,2)

"KRN",8994,4024,2,"PARAMSEQ",3,3)

"KRN",8994,4024,2,"PARAMSEQ",4,4)

"KRN",8994,4024,2,"PARAMSEQ",5,5)

"KRN",8994,4024,2,"PARAMSEQ",6,6)

"KRN",8994,4024,2,"PARAMSEQ",7,7)

"KRN",8994,4024,2,"PARAMSEQ",8,8)

"KRN",8994,4024,2,"PARAMSEQ",9,9)

"KRN",8994,4024,2,"PARAMSEQ",10,10)

"KRN",8994,4024,2,"PARAMSEQ",11,11)

"KRN",8994,4024,3,0)
^^3^3^3150525^
"KRN",8994,4024,3,1,0)
IEN
"KRN",8994,4024,3,2,0)
or
"KRN",8994,4024,3,3,0)
-1^Error Message
"KRN",8994,4025,-1)
0^5
"KRN",8994,4025,0)
DSIO SAVE PREG DETAILS^PREG^DSIO15^1
"KRN",8994,4025,1,0)
^^27^27^3150525^
"KRN",8994,4025,1,1,0)
 ; CREATE, UPDATE, or DELETE a PREGNANCY HISTORY record
"KRN",8994,4025,1,2,0)
 ;
"KRN",8994,4025,1,3,0)
 ;    DFN = PATIENT IEN
"KRN",8994,4025,1,4,0)
 ;    IEN = IF NOT NULL THEN EDIT
"KRN",8994,4025,1,5,0)
 ;  DATES = EDC^END^EDD
"KRN",8994,4025,1,6,0)
 ;    TYP = C(urrent),H(istorical)
"KRN",8994,4025,1,7,0)
 ;    FOF = IEN, U(nspecified), S(pouse)
"KRN",8994,4025,1,8,0)
 ;    OBP = OB (VARIABLE POINTER)
"KRN",8994,4025,1,9,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"KRN",8994,4025,1,10,0)
 ;           VA.IEN (VA) (200)
"KRN",8994,4025,1,11,0)
 ;    FAP = FACILITY (VARIABLE POINTER)
"KRN",8994,4025,1,12,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"KRN",8994,4025,1,13,0)
 ;           VA.IEN (VA) (4)
"KRN",8994,4025,1,14,0)
 ;    BAB = NUMBER
"KRN",8994,4025,1,15,0)
 ;            IF 1,2,3 THEN THREE BABIES WILL BE ADDED
"KRN",8994,4025,1,16,0)
 ;            IF 1,2@,3 THEN BABY 2 WILL BE DELETED
"KRN",8994,4025,1,17,0)
 ;   POST = ADDITIONAL DETAILS (CARET DELIMITED STRING)
"KRN",8994,4025,1,18,0)
 ;            1: GESTATIONAL AGE AT DELIVERY (NUMBER 0 - 99)
"KRN",8994,4025,1,19,0)
 ;            2: LENGTH OF LABOR (NUMBER (IN HOURS))
"KRN",8994,4025,1,20,0)
 ;            3: TYPE OF DELIVERY (TEXT 1-20 CHARACTERS)
"KRN",8994,4025,1,21,0)
 ;            4: EPIDURAL/SPINAL (0 (NO), 1 (YES))
"KRN",8994,4025,1,22,0)
 ;            5: PRETERM LABOR (0 (NO), 1 (YES))
"KRN",8994,4025,1,23,0)
 ;    COM = COMMENTS (ARRAY OF TEXT)
"KRN",8994,4025,1,24,0)
 ;
"KRN",8994,4025,1,25,0)
 ; X-REFS on EDD and STATUS
"KRN",8994,4025,1,26,0)
 ; If EDD>DT then update WV PATIENT - CURRENTLY PREGNANT (#.13) to 'YES'
"KRN",8994,4025,1,27,0)
 ; and EDC (#.14) with the EDD value
"KRN",8994,4025,2,0)
^8994.02A^10^10
"KRN",8994,4025,2,1,0)
IEN^1^^^1
"KRN",8994,4025,2,2,0)
DFN^1^^^2
"KRN",8994,4025,2,3,0)
DATES^1^^^3
"KRN",8994,4025,2,4,0)
TYP^1^^^4
"KRN",8994,4025,2,5,0)
FOF^1^^^5
"KRN",8994,4025,2,6,0)
OBP^1^^^6
"KRN",8994,4025,2,7,0)
FAP^1^^^7
"KRN",8994,4025,2,8,0)
BAB^1^^^8
"KRN",8994,4025,2,9,0)
POST^1^^^9
"KRN",8994,4025,2,10,0)
COM^2^^^10
"KRN",8994,4025,2,"B","BAB",8)

"KRN",8994,4025,2,"B","COM",10)

"KRN",8994,4025,2,"B","DATES",3)

"KRN",8994,4025,2,"B","DFN",2)

"KRN",8994,4025,2,"B","FAP",7)

"KRN",8994,4025,2,"B","FOF",5)

"KRN",8994,4025,2,"B","IEN",1)

"KRN",8994,4025,2,"B","OBP",6)

"KRN",8994,4025,2,"B","POST",9)

"KRN",8994,4025,2,"B","TYP",4)

"KRN",8994,4025,2,"PARAMSEQ",1,1)

"KRN",8994,4025,2,"PARAMSEQ",2,2)

"KRN",8994,4025,2,"PARAMSEQ",3,3)

"KRN",8994,4025,2,"PARAMSEQ",4,4)

"KRN",8994,4025,2,"PARAMSEQ",5,5)

"KRN",8994,4025,2,"PARAMSEQ",6,6)

"KRN",8994,4025,2,"PARAMSEQ",7,7)

"KRN",8994,4025,2,"PARAMSEQ",8,8)

"KRN",8994,4025,2,"PARAMSEQ",9,9)

"KRN",8994,4025,2,"PARAMSEQ",10,10)

"KRN",8994,4025,3,0)
^^3^3^3150525^
"KRN",8994,4025,3,1,0)
IEN
"KRN",8994,4025,3,2,0)
or
"KRN",8994,4025,3,3,0)
-1^Error Message
"KRN",8994,4026,-1)
0^1
"KRN",8994,4026,0)
DSIO GET PERSON^PERSON^DSIO9^2
"KRN",8994,4026,1,0)
^^14^14^3150525^
"KRN",8994,4026,1,1,0)
 ; IF SEX ADD
"KRN",8994,4026,1,2,0)
 ; ^RELATIONSHIP^STATUS^DIAGNOSIS|DIAGNOSIS
"KRN",8994,4026,1,3,0)
 ;
"KRN",8994,4026,1,4,0)
 ; IF SPOUSE THEN IEN = "S"
"KRN",8994,4026,1,5,0)
 ; IF SEX = 1 THEN DON'T RESTRICT TO FATHER OF FETUS
"KRN",8994,4026,1,6,0)
 ;
"KRN",8994,4026,1,7,0)
 ; IF DFN & FIND=""  THEN
"KRN",8994,4026,1,8,0)
 ;  - All associated Entries
"KRN",8994,4026,1,9,0)
 ; IF DFN & FIND="S" THEN
"KRN",8994,4026,1,10,0)
 ;  - SPOUSE
"KRN",8994,4026,1,11,0)
 ; IF DFN & FIND="NAME,NAME" OR FIND=#(IEN) THEN
"KRN",8994,4026,1,12,0)
 ;  - RETURN IF FOUND AND IF ASSOCIATED TO PATIENT
"KRN",8994,4026,1,13,0)
 ; IF 'DFN & FIND="NAME,NAME" OR FIND=#(IEN) THEN
"KRN",8994,4026,1,14,0)
 ;  - RETURN ENTRIES
"KRN",8994,4026,2,0)
^8994.02A^3^3
"KRN",8994,4026,2,1,0)
DFN^1^^^1
"KRN",8994,4026,2,2,0)
FIND^1^^^2
"KRN",8994,4026,2,3,0)
SEX^1^^^3
"KRN",8994,4026,2,"B","DFN",1)

"KRN",8994,4026,2,"B","FIND",2)

"KRN",8994,4026,2,"B","SEX",3)

"KRN",8994,4026,2,"PARAMSEQ",1,1)

"KRN",8994,4026,2,"PARAMSEQ",2,2)

"KRN",8994,4026,2,"PARAMSEQ",3,3)

"KRN",8994,4026,3,0)
^^2^2^3150525^
"KRN",8994,4026,3,1,0)
 ;  IEN^NAME^SEX^DOB^EDUCATION^STREET1^STREET2^STREET3^CITY^STATE^
"KRN",8994,4026,3,2,0)
 ;  ZIP^PHONE HOME^PHONE WORK^PHONE CELL^PHONE FAX^PATIENT^DFN
"KRN",8994,4028,-1)
0^38
"KRN",8994,4028,0)
DSIO SAVE OBSERVATION^OBS^DSIO10^1
"KRN",8994,4028,1,0)
^^20^20^3150525^
"KRN",8994,4028,1,1,0)
 ;    IEN = IF NOT NULL THEN EDIT
"KRN",8994,4028,1,2,0)
 ;    DFN = PATIENT
"KRN",8994,4028,1,3,0)
 ;  DATES = OBSERVATION^START^END
"KRN",8994,4028,1,4,0)
 ; OBJECT = OBJECTS OF OBSERVATION (ARRAY)
"KRN",8994,4028,1,5,0)
 ;          FB.### (FETUS/BABY)
"KRN",8994,4028,1,6,0)
 ;             IF 1,2,3 THEN THREE BABIES WILL BE ADDED TO ASSOCIATED 
"KRN",8994,4028,1,7,0)
PREGNANCY OBJECTS
"KRN",8994,4028,1,8,0)
 ;             OR CURRENT PREGNANCY IF NOT PROVIDED
"KRN",8994,4028,1,9,0)
 ;          PG.IEN (PREGNANCY)
"KRN",8994,4028,1,10,0)
 ;    REF = OBJECTS OF REFERENCE (ARRAY)
"KRN",8994,4028,1,11,0)
 ;         TIU.IEN (NOTE)
"KRN",8994,4028,1,12,0)
 ;         IHE.IEN (IHE DOCUMENT)
"KRN",8994,4028,1,13,0)
 ;    REL = RELATIONSHIP
"KRN",8994,4028,1,14,0)
 ;    CAT = CATEGORY
"KRN",8994,4028,1,15,0)
 ;   CODE = SYS^CODE^DISPLAY NAME
"KRN",8994,4028,1,16,0)
 ;    VAL = TYPE^UNIT^VALUE
"KRN",8994,4028,1,17,0)
 ;  VALCD = SYS^CODE^DISPLAY NAME
"KRN",8994,4028,1,18,0)
 ;    NEG = NEGATION (T/F)
"KRN",8994,4028,1,19,0)
 ;   QUAL = QUALIFIERS (ARRAY OF QUALIFIER^VALUE)
"KRN",8994,4028,1,20,0)
 ;    NAR = NARRATIVE (ARRAY OF TEXT)
"KRN",8994,4028,2,0)
^8994.02A^13^13
"KRN",8994,4028,2,1,0)
IEN^1^^^1
"KRN",8994,4028,2,2,0)
DFN^1^^^2
"KRN",8994,4028,2,3,0)
DATES^1^^^3
"KRN",8994,4028,2,4,0)
OBJECT^2^^^4
"KRN",8994,4028,2,5,0)
REF^2^^^5
"KRN",8994,4028,2,6,0)
REL^1^^^6
"KRN",8994,4028,2,7,0)
CAT^1^^^7
"KRN",8994,4028,2,8,0)
CODE^1^^^8
"KRN",8994,4028,2,9,0)
VAL^1^^^9
"KRN",8994,4028,2,10,0)
VALCD^1^^^10
"KRN",8994,4028,2,11,0)
NEG^1^^^11
"KRN",8994,4028,2,12,0)
QUAL^2^^^12
"KRN",8994,4028,2,13,0)
NAR^2^^^13
"KRN",8994,4028,2,"B","CAT",7)

"KRN",8994,4028,2,"B","CODE",8)

"KRN",8994,4028,2,"B","DATES",3)

"KRN",8994,4028,2,"B","DFN",2)

"KRN",8994,4028,2,"B","IEN",1)

"KRN",8994,4028,2,"B","NAR",13)

"KRN",8994,4028,2,"B","NEG",11)

"KRN",8994,4028,2,"B","OBJECT",4)

"KRN",8994,4028,2,"B","QUAL",12)

"KRN",8994,4028,2,"B","REF",5)

"KRN",8994,4028,2,"B","REL",6)

"KRN",8994,4028,2,"B","VAL",9)

"KRN",8994,4028,2,"B","VALCD",10)

"KRN",8994,4028,2,"PARAMSEQ",1,1)

"KRN",8994,4028,2,"PARAMSEQ",2,2)

"KRN",8994,4028,2,"PARAMSEQ",3,3)

"KRN",8994,4028,2,"PARAMSEQ",4,4)

"KRN",8994,4028,2,"PARAMSEQ",5,5)

"KRN",8994,4028,2,"PARAMSEQ",6,6)

"KRN",8994,4028,2,"PARAMSEQ",7,7)

"KRN",8994,4028,2,"PARAMSEQ",8,8)

"KRN",8994,4028,2,"PARAMSEQ",9,9)

"KRN",8994,4028,2,"PARAMSEQ",10,10)

"KRN",8994,4028,2,"PARAMSEQ",11,11)

"KRN",8994,4028,2,"PARAMSEQ",12,12)

"KRN",8994,4028,2,"PARAMSEQ",13,13)

"KRN",8994,4028,3,0)
^8994.03^3^3^3150525^^^
"KRN",8994,4028,3,1,0)
IEN
"KRN",8994,4028,3,2,0)
or
"KRN",8994,4028,3,3,0)
-1^Error Message
"KRN",8994,4030,-1)
0^4
"KRN",8994,4030,0)
DSIO GET PREG DETAILS^PREGG^DSIO15^4^^^^1
"KRN",8994,4030,1,0)
^^1^1^3150525^
"KRN",8994,4030,1,1,0)
 ; If IEN = "C" get only the CURRENT pregnancy
"KRN",8994,4030,2,0)
^8994.02A^3^3
"KRN",8994,4030,2,1,0)
IEN^1^^^1
"KRN",8994,4030,2,2,0)
DFN^1^^^2
"KRN",8994,4030,2,3,0)
SORT^1^^^3
"KRN",8994,4030,2,"B","DFN",2)

"KRN",8994,4030,2,"B","IEN",1)

"KRN",8994,4030,2,"B","SORT",3)

"KRN",8994,4030,2,"PARAMSEQ",1,1)

"KRN",8994,4030,2,"PARAMSEQ",2,2)

"KRN",8994,4030,2,"PARAMSEQ",3,3)

"KRN",8994,4030,3,0)
^^6^6^3150525^
"KRN",8994,4030,3,1,0)
 ;  L^IEN^DATE RECORDED^EDC^DFN|PATIENT^STATUS^FOF|(IEN OR IDENTIFIER)^
"KRN",8994,4030,3,2,0)
 ;    EDD^PREGNANCY END^OB IEN|OB^FACILITY IEN|FACILITY^
"KRN",8994,4030,3,3,0)
 ;    UPDATED BY IEN|UPDATED BY^GESTATIONAL AGE AT DELIVERY^LENGTH OF 
"KRN",8994,4030,3,4,0)
DELIVERY^
"KRN",8994,4030,3,5,0)
 ;    EPIDERAL/SPINAL^PRETERM LABOR^BIRTH TYPE^IEN;BABY |IEN;BABY
"KRN",8994,4030,3,6,0)
 ;  C^IEN^COMMENT
"KRN",8994,4031,-1)
0^39
"KRN",8994,4031,0)
DSIO GET OBSERVATIONS^OBG^DSIO10^4^^^^1
"KRN",8994,4031,1,0)
^^13^13^3150526^
"KRN",8994,4031,1,1,0)
 ;    IEN = IF NOT NULL THEN RETURN ONLY
"KRN",8994,4031,1,2,0)
 ; OBJECT = OBJECTS OF OBSERVATION (ARRAY)
"KRN",8994,4031,1,3,0)
 ;          FB.IEN (FETUS/BABY)
"KRN",8994,4031,1,4,0)
 ;          PG.IEN (PREGNANCY)
"KRN",8994,4031,1,5,0)
 ;    REF = OBJECTS OF REFERENCE (ARRAY)
"KRN",8994,4031,1,6,0)
 ;         TIU.IEN (NOTE)
"KRN",8994,4031,1,7,0)
 ;         IHE.IEN (IHE DOCUMENT)
"KRN",8994,4031,1,8,0)
 ;    FDT = FROM DATE
"KRN",8994,4031,1,9,0)
 ;    TDT = TO DATE
"KRN",8994,4031,1,10,0)
 ;    REL = RELATIONSHIP
"KRN",8994,4031,1,11,0)
 ;    CAT = CATEGORY
"KRN",8994,4031,1,12,0)
 ;    SYS = CODING SYSTEM
"KRN",8994,4031,1,13,0)
 ;  **SYS = $S(SYS="LNC":"LOINC",SYS="SCT":"SNOMED-CT",1:SYS)
"KRN",8994,4031,2,0)
^8994.02A^11^11
"KRN",8994,4031,2,1,0)
IEN^1^^^1
"KRN",8994,4031,2,2,0)
DFN^1^^^2
"KRN",8994,4031,2,3,0)
OBJECT^2^^^3
"KRN",8994,4031,2,4,0)
REF^2^^^4
"KRN",8994,4031,2,5,0)
FDT^1^^^5
"KRN",8994,4031,2,6,0)
TDT^1^^^6
"KRN",8994,4031,2,7,0)
REL^1^^^7
"KRN",8994,4031,2,8,0)
CAT^1^^^8
"KRN",8994,4031,2,9,0)
SYS^1^^^9
"KRN",8994,4031,2,10,0)
CODE^1^^^10
"KRN",8994,4031,2,11,0)
SORT^1^^^11
"KRN",8994,4031,2,"B","CAT",8)

"KRN",8994,4031,2,"B","CODE",10)

"KRN",8994,4031,2,"B","DFN",2)

"KRN",8994,4031,2,"B","FDT",5)

"KRN",8994,4031,2,"B","IEN",1)

"KRN",8994,4031,2,"B","OBJECT",3)

"KRN",8994,4031,2,"B","REF",4)

"KRN",8994,4031,2,"B","REL",7)

"KRN",8994,4031,2,"B","SORT",11)

"KRN",8994,4031,2,"B","SYS",9)

"KRN",8994,4031,2,"B","TDT",6)

"KRN",8994,4031,2,"PARAMSEQ",1,1)

"KRN",8994,4031,2,"PARAMSEQ",2,2)

"KRN",8994,4031,2,"PARAMSEQ",3,3)

"KRN",8994,4031,2,"PARAMSEQ",4,4)

"KRN",8994,4031,2,"PARAMSEQ",5,5)

"KRN",8994,4031,2,"PARAMSEQ",6,6)

"KRN",8994,4031,2,"PARAMSEQ",7,7)

"KRN",8994,4031,2,"PARAMSEQ",8,8)

"KRN",8994,4031,2,"PARAMSEQ",9,9)

"KRN",8994,4031,2,"PARAMSEQ",10,10)

"KRN",8994,4031,2,"PARAMSEQ",11,11)

"KRN",8994,4031,3,0)
^^5^5^3150526^
"KRN",8994,4031,3,1,0)
 ;  L^IEN^DFN^DATE^OBJ OF OBS|...^OBJ OF REF|...^REL^CAT^START^END^PUSHED^
"KRN",8994,4031,3,2,0)
 ;    CODE^SYS^DISPLAY NAME^VALUE CODE^VALUE SYS^VALUE DISPLAY NAME^
"KRN",8994,4031,3,3,0)
 ;    VALUE TYPE^VALUE^VALUE UNIT^NEGATION^UPDATED BY^MODIFIED DATE^
"KRN",8994,4031,3,4,0)
 ;    QUALIFIERS(NAME;VALUE)|...
"KRN",8994,4031,3,5,0)
 ;  C^IEN^NARRATIVE
"KRN",8994,4035,-1)
0^29
"KRN",8994,4035,0)
DSIO GET PROVIDER^PROV^DSIO12^4^^^^1
"KRN",8994,4035,1,0)
^^1^1^3150525^
"KRN",8994,4035,1,1,0)
 ; LIST - LIST(#)= PIEN (Provider IEN List)
"KRN",8994,4035,2,0)
^8994.02A^1^1
"KRN",8994,4035,2,1,0)
LIST^2^^^1
"KRN",8994,4035,2,1,1,0)
^8994.021^1^1^3150520^^^
"KRN",8994,4035,2,1,1,1,0)
A LIST OF PROVIDER IENS TO RETURN VALUES - LIST(#)=IEN
"KRN",8994,4035,2,"B","LIST",1)

"KRN",8994,4035,2,"PARAMSEQ",1,1)

"KRN",8994,4035,3,0)
^^2^2^3150525^
"KRN",8994,4035,3,1,0)
 ;  IEN^NAME^ADDRESS1^ADDRESS2^ADDRESS3^CITY^STATE^ZIP^PH OFFICE^
"KRN",8994,4035,3,2,0)
 ;  TITLE^SERVICE^NPI
"KRN",8994,4036,-1)
0^40
"KRN",8994,4036,0)
DSIO GET ORDER LIST^AGET^DSIO13^4^^^^1
"KRN",8994,4036,2,0)
^8994.02A^6^6
"KRN",8994,4036,2,1,0)
DFN^1^^^1
"KRN",8994,4036,2,1,1,0)
^8994.021^1^1^3150603^^
"KRN",8994,4036,2,1,1,1,0)
Enter patient IEN.
"KRN",8994,4036,2,2,0)
FILTER^1^^^2
"KRN",8994,4036,2,2,1,0)
^8994.021^1^1^3150603^^
"KRN",8994,4036,2,2,1,1,0)
Enter FILTER number. (default= 2)
"KRN",8994,4036,2,3,0)
GROUPS^1^^^3
"KRN",8994,4036,2,3,1,0)
^8994.021^1^1^3150603^^
"KRN",8994,4036,2,3,1,1,0)
Enter GROUPS (default=1)
"KRN",8994,4036,2,4,0)
DTFROM^1^^^4
"KRN",8994,4036,2,4,1,0)
^8994.021^1^1^3150603^^
"KRN",8994,4036,2,4,1,1,0)
List order From Date
"KRN",8994,4036,2,5,0)
DTTHRU^1^^^5
"KRN",8994,4036,2,5,1,0)
^8994.021^1^1^3150603^^^
"KRN",8994,4036,2,5,1,1,0)
Enter Order Date Thru
"KRN",8994,4036,2,6,0)
SORT^1^^^6
"KRN",8994,4036,2,6,1,0)
^8994.021^1^1^3150603^^^^
"KRN",8994,4036,2,6,1,1,0)
Enter a sort entry for which page and number of rows ie: "1,5" or "2,10"
"KRN",8994,4036,2,"B","DFN",1)

"KRN",8994,4036,2,"B","DTFROM",4)

"KRN",8994,4036,2,"B","DTTHRU",5)

"KRN",8994,4036,2,"B","FILTER",2)

"KRN",8994,4036,2,"B","GROUPS",3)

"KRN",8994,4036,2,"B","SORT",6)

"KRN",8994,4036,2,"PARAMSEQ",1,1)

"KRN",8994,4036,2,"PARAMSEQ",2,2)

"KRN",8994,4036,2,"PARAMSEQ",3,3)

"KRN",8994,4036,2,"PARAMSEQ",4,4)

"KRN",8994,4036,2,"PARAMSEQ",5,5)

"KRN",8994,4036,2,"PARAMSEQ",6,6)

"KRN",8994,4036,3,0)
^^3^3^3150603^
"KRN",8994,4036,3,1,0)
~IFN^Grp^ActTm^StrtTm^StopTm^Sts^Sig^Nrs^Clk^PrvID^PrvNam^ActDA^Flag^DCTyp
"KRN",8994,4036,3,2,0)
  e^ChrtRev^DEA#^^Schedule
"KRN",8994,4036,3,3,0)
 tOrder Text (repeating as necessary)
"KRN",8994,4037,-1)
0^41
"KRN",8994,4037,0)
DSIO GET ORDER DETAIL^DETAIL^DSIO13^4^^^^1
"KRN",8994,4037,1,0)
^8994.01^1^1^3150603^^^^
"KRN",8994,4037,1,1,0)
Get order detail for a patient order.
"KRN",8994,4037,2,0)
^8994.02A^2^2
"KRN",8994,4037,2,1,0)
ORIEN^1^^^1
"KRN",8994,4037,2,1,1,0)
^8994.021^1^1^3150603^^
"KRN",8994,4037,2,1,1,1,0)
Enter the IEN for the order.
"KRN",8994,4037,2,2,0)
DFN^1^^^2
"KRN",8994,4037,2,"B","DFN",2)

"KRN",8994,4037,2,"B","ORIEN",1)

"KRN",8994,4037,2,"PARAMSEQ",1,1)

"KRN",8994,4037,2,"PARAMSEQ",2,2)

"KRN",8994,4037,3,0)
^8994.03^1^1^3150603^^^
"KRN",8994,4037,3,1,0)
RPC returns details for a given order for a patient.
"KRN",8994,4038,-1)
0^30
"KRN",8994,4038,0)
DSIO GET REMINDER LIST^REM^DSIO12^4^^^^1
"KRN",8994,4038,2,0)
^8994.02A^2^2
"KRN",8994,4038,2,1,0)
DFN^1^^^1
"KRN",8994,4038,2,2,0)
SORT^1^^^2
"KRN",8994,4038,2,"B","DFN",1)

"KRN",8994,4038,2,"B","SORT",2)

"KRN",8994,4038,2,"PARAMSEQ",1,1)

"KRN",8994,4038,2,"PARAMSEQ",2,2)

"KRN",8994,4039,-1)
0^31
"KRN",8994,4039,0)
DSIO GET REMINDER DETAIL^DETAIL^DSIO12^2^^^^
"KRN",8994,4039,2,0)
^8994.02A^2^2
"KRN",8994,4039,2,1,0)
RIEN^1^^^2
"KRN",8994,4039,2,2,0)
DFN^1^^^1
"KRN",8994,4039,2,"B","DFN",2)

"KRN",8994,4039,2,"B","RIEN",1)

"KRN",8994,4039,2,"PARAMSEQ",1,2)

"KRN",8994,4039,2,"PARAMSEQ",2,1)

"KRN",8994,4041,-1)
0^8
"KRN",8994,4041,0)
DSIO GET TIU NOTES^LIST^DSIO3^4^^^^1
"KRN",8994,4041,1,0)
^^13^13^3150525^
"KRN",8994,4041,1,1,0)
 ;     IEN: NOTE IEN
"KRN",8994,4041,1,2,0)
 ;     DFN: PATIENT IEN
"KRN",8994,4041,1,3,0)
 ;  TITLES: ARRY OF TITLES TITLE(#)=TITLE
"KRN",8994,4041,1,4,0)
 ;     FDT: FROM DATE
"KRN",8994,4041,1,5,0)
 ;     TDT: TO DATE
"KRN",8994,4041,1,6,0)
 ;  DIRECT: DIRECTION OF SORT (1,-1) (defaults to 1)
"KRN",8994,4041,1,7,0)
 ;    PREG: IEN OF PREGNANCY HISTORY FILE (19641.13)
"KRN",8994,4041,1,8,0)
 ;    SORT: PAGE#,CT
"KRN",8994,4041,1,9,0)
 ;
"KRN",8994,4041,1,10,0)
 ; X-REF: ACLPT = ALL OF PATIENTS PROGRESS NOTES IF
"KRN",8994,4041,1,11,0)
 ;        ^TIU(8925,"ACLPT",3(DOC CLASS-PROGRESS NOTES),8(DFN),DT,NOTE IEN
"KRN",8994,4041,1,12,0)
 ;
"KRN",8994,4041,1,13,0)
 ; **if NOTE IEN is not associated with PREG - DON'T INCLUDE
"KRN",8994,4041,2,0)
^8994.02A^9^7
"KRN",8994,4041,2,1,0)
DFN^1^^^2
"KRN",8994,4041,2,1,1,0)
^8994.021^1^1^3150520^^^^
"KRN",8994,4041,2,1,1,1,0)
Patient Internal Entry Number
"KRN",8994,4041,2,2,0)
TITLES^2^^^3
"KRN",8994,4041,2,2,1,0)
^8994.021^1^1^3150520^^^^
"KRN",8994,4041,2,2,1,1,0)
An array of TIU Document Definitions (8925.1) whose TYPE is TITLE.
"KRN",8994,4041,2,3,0)
SORT^1^^^8
"KRN",8994,4041,2,3,1,0)
^8994.021^6^6^3150521^^^^
"KRN",8994,4041,2,3,1,1,0)
This input parameter must be formatted as PAGE#,COUNT# (the comma is 
"KRN",8994,4041,2,3,1,2,0)
required). The COUNT portion of this parameter will control how many 
"KRN",8994,4041,2,3,1,3,0)
entries in the list will be returned and the PAGE portion will identify 
"KRN",8994,4041,2,3,1,4,0)
the increment by COUNT of the entries returned. Thus if there are 4 
"KRN",8994,4041,2,3,1,5,0)
entries, a SORT of 1,2 will be entries 1 and 2 and 2,2 will return 
"KRN",8994,4041,2,3,1,6,0)
entries 3 and 4.
"KRN",8994,4041,2,5,0)
FDT^1^^^4
"KRN",8994,4041,2,5,1,0)
^8994.021^1^1^3150520^^^
"KRN",8994,4041,2,5,1,1,0)
From Date
"KRN",8994,4041,2,6,0)
TDT^1^^^5
"KRN",8994,4041,2,6,1,0)
^8994.021^1^1^3150521^^^^
"KRN",8994,4041,2,6,1,1,0)
To Date
"KRN",8994,4041,2,7,0)
IEN^1^^^1
"KRN",8994,4041,2,7,1,0)
^8994.021^1^1^3150521^^^^
"KRN",8994,4041,2,7,1,1,0)
Internal entry for TIU Document of file 8925.
"KRN",8994,4041,2,8,0)
PREG^1^^^7
"KRN",8994,4041,2,8,1,0)
^8994.021^1^1^3150521^^^^
"KRN",8994,4041,2,8,1,1,0)
ENTER THE PREGNANT HISTORY FILE IEN.
"KRN",8994,4041,2,9,0)
DIRECT^1^^^6
"KRN",8994,4041,2,"B","DFN",1)

"KRN",8994,4041,2,"B","DIRECT",9)

"KRN",8994,4041,2,"B","FDT",5)

"KRN",8994,4041,2,"B","IEN",7)

"KRN",8994,4041,2,"B","PREG",8)

"KRN",8994,4041,2,"B","SORT",3)

"KRN",8994,4041,2,"B","TDT",6)

"KRN",8994,4041,2,"B","TITLES",2)

"KRN",8994,4041,2,"PARAMSEQ",1,7)

"KRN",8994,4041,2,"PARAMSEQ",2,1)

"KRN",8994,4041,2,"PARAMSEQ",3,2)

"KRN",8994,4041,2,"PARAMSEQ",4,5)

"KRN",8994,4041,2,"PARAMSEQ",5,6)

"KRN",8994,4041,2,"PARAMSEQ",6,9)

"KRN",8994,4041,2,"PARAMSEQ",7,8)

"KRN",8994,4041,2,"PARAMSEQ",8,3)

"KRN",8994,4041,3,0)
^^4^4^3150525^
"KRN",8994,4041,3,1,0)
 ;  IEN^TITLE(.01)^SUBJECT(1701)^STATUS(.05)^REFERENCE 
"KRN",8994,4041,3,2,0)
DATE(1301)^DUZ(1202I)^
"KRN",8994,4041,3,3,0)
 ;  AUTHOR/DICTATOR(1202E)^PARENT(.06)^ADDENDA("DAD" X-REF)(| 
"KRN",8994,4041,3,4,0)
DELIMITED)^PG
"KRN",8994,4049,-1)
0^20
"KRN",8994,4049,0)
DSIO SET PATIENT INFORMATION^PATSET^DSIO1^1
"KRN",8994,4049,2,0)
^8994.02A^3^3
"KRN",8994,4049,2,1,0)
DFN^1^^^1
"KRN",8994,4049,2,2,0)
FLD^1^^^2
"KRN",8994,4049,2,3,0)
VAL^1^^^3
"KRN",8994,4049,2,"B","DFN",1)

"KRN",8994,4049,2,"B","FLD",2)

"KRN",8994,4049,2,"B","VAL",3)

"KRN",8994,4049,2,"PARAMSEQ",1,1)

"KRN",8994,4049,2,"PARAMSEQ",2,2)

"KRN",8994,4049,2,"PARAMSEQ",3,3)

"KRN",8994,4049,3,0)
^^3^3^3150525^
"KRN",8994,4049,3,1,0)
-1^Error Message
"KRN",8994,4049,3,2,0)
or
"KRN",8994,4049,3,3,0)
1 for success
"KRN",8994,4050,-1)
0^42
"KRN",8994,4050,0)
DSIO GET MCC PATIENT CHECKLIST^PATGET^DSIO11^4^^^^1
"KRN",8994,4050,1,0)
^8994.01^1^1^3150630^^^^
"KRN",8994,4050,1,1,0)
get info from the DSIO MCC PATIENT CHECKLIST file 19641.75
"KRN",8994,4050,2,0)
^8994.02A^5^5
"KRN",8994,4050,2,1,0)
CIEN^1^^^2
"KRN",8994,4050,2,1,1,0)
^8994.021^2^2^3150630^^^
"KRN",8994,4050,2,1,1,1,0)
If CIEN is present, returns a single item matching CIEN
"KRN",8994,4050,2,1,1,2,0)
CIEN ? string ? Unique identifier of a single item ? Not Required
"KRN",8994,4050,2,2,0)
DFN^1^^^1
"KRN",8994,4050,2,2,1,0)
^8994.021^2^2^3150630^^
"KRN",8994,4050,2,2,1,1,0)
If PIEN is present, returns items with matching Pien only
"KRN",8994,4050,2,2,1,2,0)
PIEN ? string ? Unique DFN identifier for a patient ? Required
"KRN",8994,4050,2,3,0)
HIEN^1^^^3
"KRN",8994,4050,2,3,1,0)
^8994.021^2^2^3150630^^
"KRN",8994,4050,2,3,1,1,0)
If HIEN is present, return items linked to this HIEN
"KRN",8994,4050,2,3,1,2,0)
HIEN  string  Unique ID for a patient pregnancy history  Not Required
"KRN",8994,4050,2,4,0)
CSI^1^^^4
"KRN",8994,4050,2,4,1,0)
^8994.021^5^5^3150630^^^
"KRN",8994,4050,2,4,1,1,0)
If CompletionStatus (CSI) is present, returns items with matching 
"KRN",8994,4050,2,4,1,2,0)
CompletionStatus only Includes the user who completed the item,
"KRN",8994,4050,2,4,1,3,0)
CompletedBy
"KRN",8994,4050,2,4,1,4,0)
CompletionStatus - List-? The completion status of an ite- ? Not 
"KRN",8994,4050,2,4,1,5,0)
Required
"KRN",8994,4050,2,5,0)
SORT^1^^^5
"KRN",8994,4050,2,"B","CIEN",1)

"KRN",8994,4050,2,"B","CSI",4)

"KRN",8994,4050,2,"B","DFN",2)

"KRN",8994,4050,2,"B","HIEN",3)

"KRN",8994,4050,2,"B","SORT",5)

"KRN",8994,4050,2,"PARAMSEQ",1,2)

"KRN",8994,4050,2,"PARAMSEQ",2,1)

"KRN",8994,4050,2,"PARAMSEQ",3,3)

"KRN",8994,4050,2,"PARAMSEQ",4,4)

"KRN",8994,4050,2,"PARAMSEQ",5,5)

"KRN",8994,4065,-1)
0^13
"KRN",8994,4065,0)
DSIO SAVE EXTERNAL ENTITY^SENT^DSIO1^1
"KRN",8994,4065,1,0)
^8994.01^3^3^3150525^^
"KRN",8994,4065,1,1,0)
 ;
"KRN",8994,4065,1,2,0)
 ;  ADDR LABELS: 1,2,3,CITY,STATE,ZIP
"KRN",8994,4065,1,3,0)
 ; PHONE LABELS: H,MC,WP,FAX
"KRN",8994,4065,2,0)
^8994.02A^7^7
"KRN",8994,4065,2,1,0)
IEN^1^^^1
"KRN",8994,4065,2,2,0)
NAME^1^^^2
"KRN",8994,4065,2,3,0)
TYP^1^^^3
"KRN",8994,4065,2,4,0)
ACT^1^^^4
"KRN",8994,4065,2,5,0)
PCON^1^^^5
"KRN",8994,4065,2,6,0)
ADDR^2^^^6
"KRN",8994,4065,2,7,0)
PHONE^2^^^7
"KRN",8994,4065,2,"B","ACT",4)

"KRN",8994,4065,2,"B","ADDR",6)

"KRN",8994,4065,2,"B","IEN",1)

"KRN",8994,4065,2,"B","NAME",2)

"KRN",8994,4065,2,"B","PCON",5)

"KRN",8994,4065,2,"B","PHONE",7)

"KRN",8994,4065,2,"B","SAVE",1)

"KRN",8994,4065,2,"B","TYP",3)

"KRN",8994,4065,2,"PARAMSEQ",1,1)

"KRN",8994,4065,2,"PARAMSEQ",2,2)

"KRN",8994,4065,2,"PARAMSEQ",3,3)

"KRN",8994,4065,2,"PARAMSEQ",4,4)

"KRN",8994,4065,2,"PARAMSEQ",5,5)

"KRN",8994,4065,2,"PARAMSEQ",6,6)

"KRN",8994,4065,2,"PARAMSEQ",7,7)

"KRN",8994,4065,3,0)
^^3^3^3150525^
"KRN",8994,4065,3,1,0)
-1^Error Message
"KRN",8994,4065,3,2,0)
or
"KRN",8994,4065,3,3,0)
IEN
"KRN",8994,4066,-1)
0^12
"KRN",8994,4066,0)
DSIO GET EXTERNAL ENTITY^RENT^DSIO1^4^^^^1
"KRN",8994,4066,1,0)
^^5^5^3150525^
"KRN",8994,4066,1,1,0)
 ;
"KRN",8994,4066,1,2,0)
 ; TYP - F        (FACILITIES)
"KRN",8994,4066,1,3,0)
 ;       P        (PROVIDERS)
"KRN",8994,4066,1,4,0)
 ;       NULL     (ALL ENTITIES)
"KRN",8994,4066,1,5,0)
 ;       IEN/NAME (SINGLE ENTITY)
"KRN",8994,4066,2,0)
^8994.02A^2^2
"KRN",8994,4066,2,1,0)
TYP^1^^^1
"KRN",8994,4066,2,2,0)
SORT^1^^^2
"KRN",8994,4066,2,"B","SORT",2)

"KRN",8994,4066,2,"B","TYP",1)

"KRN",8994,4066,2,"PARAMSEQ",1,1)

"KRN",8994,4066,2,"PARAMSEQ",2,2)

"KRN",8994,4066,3,0)
^^4^4^3150525^
"KRN",8994,4066,3,1,0)
 ; IEN^NAME^TYPE^INACTIVE^PRIMARY PROVIDER NAME^STREET ADDRESS 1
"KRN",8994,4066,3,2,0)
 ; ^STREET ADDRESS 2^STREET ADDRESS 3^CITY^STATE^ZIP CODE
"KRN",8994,4066,3,3,0)
 ; ^PHONE NUMBER (HOME)^PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX 
"KRN",8994,4066,3,4,0)
NUMBER
"KRN",8994,4067,-1)
0^6
"KRN",8994,4067,0)
DSIO SAVE IHE DOC^SAVE^DSIO14^1
"KRN",8994,4067,1,0)
^^10^10^3150525^
"KRN",8994,4067,1,1,0)
 ;    IEN = IF NULL THEN NEW
"KRN",8994,4067,1,2,0)
 ;    DFN = PATIENT IEN
"KRN",8994,4067,1,3,0)
 ;  DATES = DT CREATION^DT IMPORT/EXPORT
"KRN",8994,4067,1,4,0)
 ;    TYP = DOCUMENT TYPE
"KRN",8994,4067,1,5,0)
 ; DIRECT = DIRECTION
"KRN",8994,4067,1,6,0)
 ;   GUID = GUID
"KRN",8994,4067,1,7,0)
 ;  TITLE = DOCUMENT TITLE
"KRN",8994,4067,1,8,0)
 ;    FAC = SENDING FACILITY/PROVIDER
"KRN",8994,4067,1,9,0)
 ;    REC = INTENDED RECIPIENT
"KRN",8994,4067,1,10,0)
 ;    DOC = ARRAY OF TEXT
"KRN",8994,4067,2,0)
^8994.02A^10^10
"KRN",8994,4067,2,1,0)
IEN^1^^^1
"KRN",8994,4067,2,2,0)
DFN^1^^^2
"KRN",8994,4067,2,3,0)
DATES^1^^^3
"KRN",8994,4067,2,4,0)
TYP^1^^^4
"KRN",8994,4067,2,5,0)
DIRECT^1^^^5
"KRN",8994,4067,2,6,0)
GUID^1^^^6
"KRN",8994,4067,2,7,0)
TITLE^1^^^7
"KRN",8994,4067,2,8,0)
FAC^1^^^8
"KRN",8994,4067,2,9,0)
REC^1^^^9
"KRN",8994,4067,2,10,0)
DOC^2^^^10
"KRN",8994,4067,2,"B","DATES",3)

"KRN",8994,4067,2,"B","DFN",2)

"KRN",8994,4067,2,"B","DIRECT",5)

"KRN",8994,4067,2,"B","DOC",10)

"KRN",8994,4067,2,"B","FAC",8)

"KRN",8994,4067,2,"B","GUID",6)

"KRN",8994,4067,2,"B","IEN",1)

"KRN",8994,4067,2,"B","REC",9)

"KRN",8994,4067,2,"B","TITLE",7)

"KRN",8994,4067,2,"B","TYP",4)

"KRN",8994,4067,2,"PARAMSEQ",1,1)

"KRN",8994,4067,2,"PARAMSEQ",2,2)

"KRN",8994,4067,2,"PARAMSEQ",3,3)

"KRN",8994,4067,2,"PARAMSEQ",4,4)

"KRN",8994,4067,2,"PARAMSEQ",5,5)

"KRN",8994,4067,2,"PARAMSEQ",6,6)

"KRN",8994,4067,2,"PARAMSEQ",7,7)

"KRN",8994,4067,2,"PARAMSEQ",8,8)

"KRN",8994,4067,2,"PARAMSEQ",9,9)

"KRN",8994,4067,2,"PARAMSEQ",10,10)

"KRN",8994,4067,3,0)
^^3^3^3150525^
"KRN",8994,4067,3,1,0)
IEN
"KRN",8994,4067,3,2,0)
or
"KRN",8994,4067,3,3,0)
-1^Error Message
"KRN",8994,4068,-1)
0^19
"KRN",8994,4068,0)
DSIO GET PATIENT INFORMATION^INFO^DSIO1^2
"KRN",8994,4068,1,0)
^8994.01^1^1^3150525^^
"KRN",8994,4068,1,1,0)
 ; Return a list of patient information by field name or number
"KRN",8994,4068,2,0)
^8994.02A^2^2
"KRN",8994,4068,2,1,0)
DFN^1^^^1
"KRN",8994,4068,2,2,0)
LIST^2^^^2
"KRN",8994,4068,2,"B","DFN",1)

"KRN",8994,4068,2,"B","LIST",2)

"KRN",8994,4068,2,"PARAMSEQ",1,1)

"KRN",8994,4068,2,"PARAMSEQ",2,2)

"KRN",8994,4068,3,0)
^8994.03^5^5^3150525^^^
"KRN",8994,4068,3,1,0)
Success
"KRN",8994,4068,3,2,0)
INPUT (FIELD #/NAME)^VALUE
"KRN",8994,4068,3,3,0)
 
"KRN",8994,4068,3,4,0)
Failure
"KRN",8994,4068,3,5,0)
-1^Error Message
"KRN",8994,4069,-1)
0^10
"KRN",8994,4069,0)
DSIO PATIENT LIST^PATIENT^DSIO1^4^^^^1
"KRN",8994,4069,1,0)
^8994.01^9^9^3150525^^
"KRN",8994,4069,1,1,0)
 ;
"KRN",8994,4069,1,2,0)
 ;  IX : KEY
"KRN",8994,4069,1,3,0)
 ; ----------------------------------------------
"KRN",8994,4069,1,4,0)
 ;  SSN: SSN
"KRN",8994,4069,1,5,0)
 ;   BS: LAST 4
"KRN",8994,4069,1,6,0)
 ;  BS5: FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"KRN",8994,4069,1,7,0)
 ;
"KRN",8994,4069,1,8,0)
 ;  KEY: PARTIAL NAME - TO - FULL NAME
"KRN",8994,4069,1,9,0)
 ; SORT: PAGE#,CT
"KRN",8994,4069,2,0)
^8994.02A^2^2
"KRN",8994,4069,2,1,0)
KEY^1^^^1
"KRN",8994,4069,2,2,0)
SORT^1^^^2
"KRN",8994,4069,2,"B","KEY",1)

"KRN",8994,4069,2,"B","SORT",2)

"KRN",8994,4069,2,"PARAMSEQ",1,1)

"KRN",8994,4069,2,"PARAMSEQ",2,2)

"KRN",8994,4069,3,0)
^8994.03^9^9^3150525^^
"KRN",8994,4069,3,1,0)
 ;
"KRN",8994,4069,3,2,0)
 ; RETURN FORMAT
"KRN",8994,4069,3,3,0)
 ; -------------
"KRN",8994,4069,3,4,0)
 ; DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"KRN",8994,4069,3,5,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING^
"KRN",8994,4069,3,6,0)
 ; SSN^CITY^STATE^ZIP^SENSITIVE STATUS (1,0)
"KRN",8994,4069,3,7,0)
 ;
"KRN",8994,4069,3,8,0)
 ;  CURRENTLY TRACKING: 0:NO,1:YES,2:FLAG
"KRN",8994,4069,3,9,0)
 ; IF NOTHING IS FOUND: RET(0)="0^Patient(s) not found."
"KRN",8994,4071,-1)
0^32
"KRN",8994,4071,0)
DSIO GET NOTIFICATIONS/ALERTS^ALERT^DSIO12^4^^^^1
"KRN",8994,4071,2,0)
^8994.02A^2^2
"KRN",8994,4071,2,1,0)
SORT^1^^^1
"KRN",8994,4071,2,2,0)
EXP^1^^^2
"KRN",8994,4071,2,"B","EXP",2)

"KRN",8994,4071,2,"B","SORT",1)

"KRN",8994,4071,2,"PARAMSEQ",1,1)

"KRN",8994,4071,2,"PARAMSEQ",2,2)

"KRN",8994,4078,-1)
0^35
"KRN",8994,4078,0)
DSIO GET IHE CONTENT^GD^DSIO14^4^^^^1
"KRN",8994,4078,2,0)
^8994.02A^1^1
"KRN",8994,4078,2,1,0)
IEN^1^^^1
"KRN",8994,4078,2,"B","IEN",1)

"KRN",8994,4078,2,"PARAMSEQ",1,1)

"KRN",8994,4079,-1)
0^36
"KRN",8994,4079,0)
DSIO GET IHE DOCS^GET^DSIO14^4^^^^1
"KRN",8994,4079,2,0)
^8994.02A^3^3
"KRN",8994,4079,2,1,0)
IEN^1^^^1
"KRN",8994,4079,2,2,0)
DFN^1^^^2
"KRN",8994,4079,2,3,0)
SORT^1^^^3
"KRN",8994,4079,2,"B","DFN",2)

"KRN",8994,4079,2,"B","IEN",1)

"KRN",8994,4079,2,"B","SORT",3)

"KRN",8994,4079,2,"PARAMSEQ",1,1)

"KRN",8994,4079,2,"PARAMSEQ",2,2)

"KRN",8994,4079,2,"PARAMSEQ",3,3)

"KRN",8994,4079,3,0)
^^4^4^3150525^
"KRN",8994,4079,3,1,0)
 ; IEN^DATE OF ENTRY^DFN^DATE OF CREATION^DATE OF IMPORT/EXPORT^DOCUMENT 
"KRN",8994,4079,3,2,0)
TYPE^
"KRN",8994,4079,3,3,0)
 ; DIRECTION^GUID/ID^DOCUMENT TITLE^SENDING FACILITY/PROVIDER^INTENDED 
"KRN",8994,4079,3,4,0)
RECIPIENT
"KRN",8994,4091,-1)
1^14
"KRN",8994,4091,0)
DSIO GET IHE PATIENT INFO
"KRN",8994,4092,-1)
1^15
"KRN",8994,4092,0)
DSIO IHE GET DOC
"KRN",8994,4093,-1)
1^16
"KRN",8994,4093,0)
DSIO IHE PATIENT LIST
"KRN",8994,4094,-1)
1^26
"KRN",8994,4094,0)
DSIO FEMALE PATIENT FIND
"KRN",8994,4095,-1)
1^27
"KRN",8994,4095,0)
DSIO FEMALE PATIENT SEARCH
"KRN",8994,4096,-1)
1^28
"KRN",8994,4096,0)
DSIO GET PREG OBSERVATIONS
"KRN",8994,4097,-1)
1^33
"KRN",8994,4097,0)
DSIO IHE SAVE
"KRN",8994,4098,-1)
1^34
"KRN",8994,4098,0)
DSIO SAVE NON VA ENTITY
"MBREQ")
0
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
20
"RTN","DSIO01")
0^11^B144614578
"RTN","DSIO01",1,0)
DSIO01 ;DSS/TFF - DSIO OCNT PUSH SUPPORT;06/28/2013 15:19
"RTN","DSIO01",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO01",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO01",4,0)
 ;
"RTN","DSIO01",5,0)
 ; External References      DBIA#
"RTN","DSIO01",6,0)
 ; -------------------      -----
"RTN","DSIO01",7,0)
 ; FASTVIT^ORQQVI
"RTN","DSIO01",8,0)
 ;
"RTN","DSIO01",9,0)
 ;
"RTN","DSIO01",10,0)
 ;
"RTN","DSIO01",11,0)
 ; PUSH DEFINED VARIABLES
"RTN","DSIO01",12,0)
 ; ----------------------
"RTN","DSIO01",13,0)
 ;   DFN = PATIENT IEN
"RTN","DSIO01",14,0)
 ;   ELE = DSIO NOTE ELEMENT IEN
"RTN","DSIO01",15,0)
 ;  DIEN = DSIO OCNT DIALOG IEN
"RTN","DSIO01",16,0)
 ; FNAME = INTERFACE NAME
"RTN","DSIO01",17,0)
 ;  FIEN = DSIO OCNT CONFIGURATION IEN
"RTN","DSIO01",18,0)
 ;  CIEN = DSIO OCNT CONFIGURATION CONTROL MULTIPLE IEN
"RTN","DSIO01",19,0)
 ;  PUSH = IEN FOR EITHER DSIO REPORT ITEMS OR DSIO REMINDER ELEMENTS
"RTN","DSIO01",20,0)
 ;  RIEN = REMINDER DIALOG IEN (PARENT)
"RTN","DSIO01",21,0)
 ; RIENS = REMINDER DIALOG IEN
"RTN","DSIO01",22,0)
 ;
"RTN","DSIO01",23,0)
 Q
"RTN","DSIO01",24,0)
 ;
"RTN","DSIO01",25,0)
FLOW ; PARSE FLOWSHEET AND PUSH VALUES
"RTN","DSIO01",26,0)
 ;
"RTN","DSIO01",27,0)
 ; SHARED DIALOG GLOBAL: ^DSIO(19641.4941,DFN,2,DIEN,
"RTN","DSIO01",28,0)
 ;
"RTN","DSIO01",29,0)
 N LOC,CT,COLS,RATE,DATE,RDT,RET,FCT,PRT,BIEN,OBJ,OBJECT,NAR,ORT
"RTN","DSIO01",30,0)
 S LOC=$NA(^TMP($J,"DSIO FLOW")) K @LOC
"RTN","DSIO01",31,0)
 D GETS^DIQ(19641.45,$G(ELE)_",",1,"E",LOC) K @LOC@(19641.45,+$G(ELE)_",",1,"E")
"RTN","DSIO01",32,0)
 S CT=$NA(@LOC) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,1)'=$J!($QS(CT,2)'="DSIO FLOW")  D
"RTN","DSIO01",33,0)
 . ; SET THE DATE FOR THE ROW
"RTN","DSIO01",34,0)
 . I +@CT=0,$P($P(@CT,U),",",2)'=0 S DATE($P($P(@CT,U),",",2))=$P(@CT,U,2)
"RTN","DSIO01",35,0)
 . I $P($P(@CT,U),",",2)=0,$P(@CT,U,2)["Rate" D
"RTN","DSIO01",36,0)
 . . ; GET THE COLUMN AND THE RATE COUNT
"RTN","DSIO01",37,0)
 . . S COLS=$G(COLS)_+@CT_"|"_$P($P(@CT,U,2)," ",2)_U
"RTN","DSIO01",38,0)
 . Q:$P($P(@CT,U),",",2)=0
"RTN","DSIO01",39,0)
 . ; IF THIS COLUMN IS UNDER THE RATE HEADER THEN THE SECOND PIECE IS RATE VAL
"RTN","DSIO01",40,0)
 . S RATE=$$COL(+@CT) I RATE S FCT=$G(FCT)+1 D
"RTN","DSIO01",41,0)
 . . S RDT=DATE(+$P($P(@CT,U),",",2))
"RTN","DSIO01",42,0)
 . . Q:$$OBS(RDT,FCT,249043002)  ; HAS THIS BEEN OBSERVED ALREADY?
"RTN","DSIO01",43,0)
 . . ; SCT 249043002 = Fetal heart rate
"RTN","DSIO01",44,0)
 . . K PRT D PREG^DSIO15(.PRT,$$PG^DSIO4(DFN),DFN,,,,,,"+",,,1) Q:+PRT<1
"RTN","DSIO01",45,0)
 . . S BIEN=+$P(PRT,U,2) Q:'BIEN
"RTN","DSIO01",46,0)
 . . S (OBJ(0),OBJECT($O(OBJECT(""),-1)+1))="FB."_BIEN
"RTN","DSIO01",47,0)
 . . S OBJ(1)="PG."_$$PG^DSIO4(DFN)
"RTN","DSIO01",48,0)
 . . K ORT D OBS^DSIO10(.ORT,,DFN,RDT,.OBJ,,,"FETAL HEART RATE","SCT^^249043002","^^"_RATE,,,,,1)
"RTN","DSIO01",49,0)
 . S NAR(0)="Fetus/Baby Count",OBJECT(0)="PG."_$$PG^DSIO4(DFN)
"RTN","DSIO01",50,0)
 . K ORT D:$G(FCT) OBS^DSIO10(.ORT,,DFN,$$NOW^XLFDT,.OBJECT,,,"PREGNANCY","OTHER^^FetusBabyCount","^^"_FCT,,,,.NAR,1)
"RTN","DSIO01",51,0)
 K @LOC
"RTN","DSIO01",52,0)
 Q
"RTN","DSIO01",53,0)
 ;
"RTN","DSIO01",54,0)
COL(CK) ; ARE WE LOOKING FOR THIS COLUMN?
"RTN","DSIO01",55,0)
 Q:$G(COLS)="" 0
"RTN","DSIO01",56,0)
 N P,FLG S FLG=0 F P=1:1:$L(COLS,U) I +$P(COLS,U,P)=CK S FLG=$P($P(COLS,U,P),"|",2) Q
"RTN","DSIO01",57,0)
 Q FLG
"RTN","DSIO01",58,0)
 ;
"RTN","DSIO01",59,0)
OBS(DATE,FCT,CODE) ; HAS THIS OBSERVATION BEEN CREATED ALREADY?
"RTN","DSIO01",60,0)
 Q:DATE="" 1
"RTN","DSIO01",61,0)
 N PREG,BIEN,OBJ,RET
"RTN","DSIO01",62,0)
 S PREG=$$PG^DSIO4(DFN) Q:'PREG 0
"RTN","DSIO01",63,0)
 S BIEN=$O(^DSIO(19641.112,"C",DFN,PREG,FCT,"")) Q:'BIEN 0
"RTN","DSIO01",64,0)
 S OBJ(0)="PG."_PREG,OBJ(1)="FB."_BIEN
"RTN","DSIO01",65,0)
 K RET D OBG^DSIO10(.RET,,DFN,.OBJ,,,,,,"SCT",CODE) Q:+$G(@RET@(0))<1 0
"RTN","DSIO01",66,0)
 Q 1
"RTN","DSIO01",67,0)
 ;
"RTN","DSIO01",68,0)
EDD(TYP,OVR) ; CREATE EDD OBSERVATIONS
"RTN","DSIO01",69,0)
 ;
"RTN","DSIO01",70,0)
 ; Piece 1 is type date
"RTN","DSIO01",71,0)
 ; Piece 2 is "IsFinal"
"RTN","DSIO01",72,0)
 ; Piece 3 is Gestational Age in days
"RTN","DSIO01",73,0)
 ; Piece 4 is EDD
"RTN","DSIO01",74,0)
 ;
"RTN","DSIO01",75,0)
 ; OVR = IF SET THEN UPDATE EVEN IF FALSE (USED FOR DUAL PURPOSED LMP UPDATE)
"RTN","DSIO01",76,0)
 ;
"RTN","DSIO01",77,0)
 ; OBS(RET,DFN,IEN,PIEN,BIEN,DATE,CAT,SYS,CODE,DESC,VAL)
"RTN","DSIO01",78,0)
 ; OBS(.RET,DFN,,,,$$NOW^XLFDT,"EDD")
"RTN","DSIO01",79,0)
 ;
"RTN","DSIO01",80,0)
 ; RUN ROUTINE WILL BE ON THE EDD COLUMN ELEMENTS AND THEY WILL CREATE
"RTN","DSIO01",81,0)
 ; OBSERVATIONS AND NOT PUSH - ONLY AN OBSERVATION OF "ISFINAL" WILL
"RTN","DSIO01",82,0)
 ; PUSH AND "DSIO OBSERVATION PUSH" WILL HANDLE THAT
"RTN","DSIO01",83,0)
 ;
"RTN","DSIO01",84,0)
 ; DFN,@VAL(1),ELE(19641.45 IEN),OUT(LIST OF CONTROLS FOR THE NOTE)
"RTN","DSIO01",85,0)
 ;
"RTN","DSIO01",86,0)
 Q:'$D(@VAL)  Q:@VAL@($O(@VAL@("")))=""
"RTN","DSIO01",87,0)
 N RET,CAT,SYS,CODE,DES,DY,ISFIN,GESD,GESW,EDD,VALUE,LMPQ,OBJECT
"RTN","DSIO01",88,0)
 ; *** LMP
"RTN","DSIO01",89,0)
 I TYP="LMP" S SYS="LOINC",CODE="8665-2",DES(0)="Last Menstrual Period"
"RTN","DSIO01",90,0)
 ; *** CONCEPTION
"RTN","DSIO01",91,0)
 I TYP="ECD" S SYS="LOINC",CODE="33067-0",DES(0)="Estimated Conception Date"
"RTN","DSIO01",92,0)
 ; *** ULTRASOUND
"RTN","DSIO01",93,0)
 I TYP="ULTRA" S SYS="LOINC",CODE="11884-4",DES(0)="Ultrasound"
"RTN","DSIO01",94,0)
 ; *** EMBRYO
"RTN","DSIO01",95,0)
 I TYP="EMBRYO" S DY=$$VAL("SPNTRANSFERDAY") Q:DY=""  D
"RTN","DSIO01",96,0)
 . S SYS="OTHER",CODE="EmbryoTransfer",DES(0)="Embryo Transfer ("_$G(DY)_"-days)"
"RTN","DSIO01",97,0)
 ; *** OTHER
"RTN","DSIO01",98,0)
 I TYP="OTHER" S DES(0)=$$VAL("LBLOTHER") Q:DES(0)=""!(DES(0)="Enter Other Criteria")  D
"RTN","DSIO01",99,0)
 . S SYS="OTHER",CODE="OtherEdd",DES(0)=$$VAL("LBLOTHER")
"RTN","DSIO01",100,0)
 ; *** UNKNOWN
"RTN","DSIO01",101,0)
 I TYP="UNKNOWN" Q:$$VAL("CKFINALEDD"_TYP)'="TRUE"  D
"RTN","DSIO01",102,0)
 . S SYS="LOINC",CODE="11778-8",DES(0)="Unknown",EDD=$$VAL("DTEDD"_TYP)
"RTN","DSIO01",103,0)
 ; *** VALUE
"RTN","DSIO01",104,0)
 S ISFIN=$$VAL("CKFINALEDD"_TYP)
"RTN","DSIO01",105,0)
 S GESD=$$VAL("EDTDAY"_TYP) I GESD="" S GESD=$$VAL("SPNDAY"_TYP)
"RTN","DSIO01",106,0)
 S GESW=$$VAL("EDTWEEK"_TYP) I GESW="" S GESW=$$VAL("SPNWEEK"_TYP)
"RTN","DSIO01",107,0)
 S GESD=GESD+(GESW*7)
"RTN","DSIO01",108,0)
 S:'$D(EDD) EDD=$$VAL("EDTEDD"_TYP)
"RTN","DSIO01",109,0)
 S VALUE=@VAL@($O(@VAL@("")))_"|"_$S(ISFIN'="":"TRUE",1:"FALSE")_"|"_$S(+GESD>0:GESD,1:"")
"RTN","DSIO01",110,0)
 S VALUE=VALUE_"|"_$S($G(EDD):EDD,1:"")
"RTN","DSIO01",111,0)
 I TYP="LMP" D
"RTN","DSIO01",112,0)
 . S LMPQ=$$VAL("LMPQ"),VALUE=VALUE_"|"_LMPQ
"RTN","DSIO01",113,0)
 . I '$P(VALUE,"|",3),'$P(VALUE,"|",4)
"RTN","DSIO01",114,0)
 . I $G(OVR) S $P(VALUE,"|",2)="TRUE"
"RTN","DSIO01",115,0)
 S OBJECT(0)="PG."_$$PG^DSIO4(DFN)
"RTN","DSIO01",116,0)
 D OBS^DSIO10(.RET,,DFN,$$NOW^XLFDT,.OBJECT,,,$S($D(LMPQ):"LMP",1:"EDD"),SYS_"^^"_CODE,"^^"_VALUE,,,,.DES,1)
"RTN","DSIO01",117,0)
 I TYP="LMP",$D(LMPQ) D OBSLMP
"RTN","DSIO01",118,0)
 Q
"RTN","DSIO01",119,0)
 ;
"RTN","DSIO01",120,0)
EDDCAL(TYP) ; EDD OBSERVATION CALCULATOR ENTRY
"RTN","DSIO01",121,0)
 Q:'$P($G(X),"|")
"RTN","DSIO01",122,0)
 N TVAL,EDD,IPT,RT,LMPI
"RTN","DSIO01",123,0)
 S TVAL=$$DT^DSIO2($P(X,"|")) ; EDC,LMP,ULTRASOUND,EMBRYO,OTHER,UNKNOWN DATE VALUE
"RTN","DSIO01",124,0)
 I $$UP^XLFSTR($P(X,"|",2))="TRUE"!($$UP^XLFSTR($P(X,"|",2))="YES") D
"RTN","DSIO01",125,0)
 . S EDD=$P(X,"|",4) I EDD="" S EDD=$$CAL(TYP,TVAL,$P(X,"|",3))
"RTN","DSIO01",126,0)
 . D OBEFLE
"RTN","DSIO01",127,0)
 I TYP="LMP",$$UP^XLFSTR($P(X,"|",2))="TRUE" D
"RTN","DSIO01",128,0)
 . S IPT(19641.01,"?+1,",.01)=TVAL
"RTN","DSIO01",129,0)
 . S IPT(19641.01,"?+1,",.02)=DFN
"RTN","DSIO01",130,0)
 . S IPT(19641.01,"?+1,",.03)=DUZ
"RTN","DSIO01",131,0)
 . S IPT(19641.01,"?+1,",.04)=$$NOW^XLFDT
"RTN","DSIO01",132,0)
 . S IPT(19641.01,"?+1,",.05)=$P(X,"|",5)
"RTN","DSIO01",133,0)
 . D UPDATE^DIE(,"IPT","LMPI") K IPT I $G(LMPI(1)) D
"RTN","DSIO01",134,0)
 . . S IPT(19641,$G(DFN)_",",1.2)=LMPI(1) D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO01",135,0)
 I TYP="EDC" D PREG^DSIO15(.RT,$$PG^DSIO4(DFN),DFN,TVAL,,,,,,,,1)
"RTN","DSIO01",136,0)
 Q
"RTN","DSIO01",137,0)
 ;
"RTN","DSIO01",138,0)
CAL(TYP,VAL,GES) ; EDD CALCULATOR
"RTN","DSIO01",139,0)
 N RET
"RTN","DSIO01",140,0)
 I TYP="LMP" S RET=$$FMADD^XLFDT(VAL,280)
"RTN","DSIO01",141,0)
 I TYP="ECD" S RET=$$FMADD^XLFDT(VAL,266)
"RTN","DSIO01",142,0)
 I TYP="ULT" S RET=$$FMADD^XLFDT(VAL,(280-GES))
"RTN","DSIO01",143,0)
 I TYP="EMB" S RET=$$FMADD^XLFDT(VAL,262)
"RTN","DSIO01",144,0)
 I TYP="OTH" S RET=$$FMADD^XLFDT(VAL,(280-GES))
"RTN","DSIO01",145,0)
 I TYP="UNK" S RET=VAL
"RTN","DSIO01",146,0)
 Q $G(RET)
"RTN","DSIO01",147,0)
 ;
"RTN","DSIO01",148,0)
OBEFLE ; FILE EDD OBSERVATION
"RTN","DSIO01",149,0)
 N IPT,EIEN,PG,RT Q:'$G(EDD)
"RTN","DSIO01",150,0)
 I +$G(PIEN)>0 S PG=PIEN,EIEN=$$GET1^DIQ(19641.13,PG_",",.06,"I")
"RTN","DSIO01",151,0)
 E  S PG=$$PG^DSIO4(DFN),EIEN=$$GET1^DIQ(19641.13,PG_",",.06,"I")
"RTN","DSIO01",152,0)
 S IPT(19641.03,EIEN_",",1.1)=$P($$GET1^DIQ(19641.123,IEN_",",.01),"EDD BY ",2)
"RTN","DSIO01",153,0)
 S IPT(19641.03,EIEN_",",1.2)="YES"        ; IS FINAL
"RTN","DSIO01",154,0)
 S IPT(19641.03,EIEN_",",2.2)="`"_OIEN     ; OBSERVATION
"RTN","DSIO01",155,0)
 D FILE^DIE("E","IPT") K IPT
"RTN","DSIO01",156,0)
 D PREG^DSIO15(.RT,PG,DFN,"^^"_EDD,,,,,,,,1)
"RTN","DSIO01",157,0)
 Q
"RTN","DSIO01",158,0)
 ;
"RTN","DSIO01",159,0)
OBSLMP ; OBSERVATION FOR RECORDING ADDITIONAL DATA ELEMENTS FOR LMP
"RTN","DSIO01",160,0)
 N IPT,LIEN,MYES,MNO,AYES,ANO,DYES,DNO,CYES,CNO,NVAL,CONIEN
"RTN","DSIO01",161,0)
 S LIEN=$$GET1^DIQ(19641,DFN_",",1.2,"I") Q:LIEN=""
"RTN","DSIO01",162,0)
 S MYES=$$VAL("CKMENSESYES"),MNO=$$VAL("CKMENSESNO")
"RTN","DSIO01",163,0)
 S IPT(19641.01,LIEN_",",1.1)=$S($G(MYES)'="":MYES,$G(MNO)'="":MNO,1:"")
"RTN","DSIO01",164,0)
 S IPT(19641.01,LIEN_",",1.2)=$$VAL("EDTFREQUENCY")
"RTN","DSIO01",165,0)
 S AYES=$$VAL("CKAMOUNTYES"),ANO=$$VAL("CKAMOUNTNO")
"RTN","DSIO01",166,0)
 S IPT(19641.01,LIEN_",",1.3)=$S($G(AYES)'="":AYES,$G(ANO)'="":ANO,1:"")
"RTN","DSIO01",167,0)
 S DYES=$$VAL("CKDURATIONYES"),DNO=$$VAL("CKDURATIONNO")
"RTN","DSIO01",168,0)
 S IPT(19641.01,LIEN_",",1.4)=$S($G(DYES)'="":DYES,$G(DNO)'="":DNO,1:"")
"RTN","DSIO01",169,0)
 S CYES=$$VAL("CKCONTRACEPTIONYES"),CNO=$$VAL("CKCONTRACEPTIONNO")
"RTN","DSIO01",170,0)
 S IPT(19641.01,LIEN_",",1.5)=$S($G(CYES)'="":CYES,$G(CNO)'="":CNO,1:"")
"RTN","DSIO01",171,0)
 S IPT(19641.01,LIEN_",",1.6)=$$DT^DSIO2($$VAL("EDTHCG")) ; hCG+
"RTN","DSIO01",172,0)
 D FILE^DIE("E","IPT") K IPT
"RTN","DSIO01",173,0)
 D VALWP("MEMLMP",19641.01,2,LIEN) ; COMMENTS
"RTN","DSIO01",174,0)
 Q
"RTN","DSIO01",175,0)
 ;
"RTN","DSIO01",176,0)
OBLAC ; OBSERVATION PUSH LACTATION STATUS
"RTN","DSIO01",177,0)
 Q:$G(X)=""!('$G(DFN))
"RTN","DSIO01",178,0)
 N FLE,IPT,IENS
"RTN","DSIO01",179,0)
 ; Because no one knows the state I'm in...
"RTN","DSIO01",180,0)
 S FLE=790.17 I '$$VFILE^DILFD(790.17) S FLE=19641.04
"RTN","DSIO01",181,0)
 I X="YES" D
"RTN","DSIO01",182,0)
 . Q:$$LACT^DSIO4(DFN)="YES"
"RTN","DSIO01",183,0)
 . S IPT(FLE,"?+1,"_DFN_",",.01)=$$NOW^XLFDT
"RTN","DSIO01",184,0)
 . S:FLE=790.17 IPT(FLE,"?+1,"_DFN_",",2)=1
"RTN","DSIO01",185,0)
 . S IPT(FLE,"?+1,"_DFN_",",4)=DUZ
"RTN","DSIO01",186,0)
 I X="NO" D
"RTN","DSIO01",187,0)
 . Q:$$LACT^DSIO4(DFN)="NO"
"RTN","DSIO01",188,0)
 . S IENS=$$LACE^DSIO4(DFN)_","_DFN_","
"RTN","DSIO01",189,0)
 . I +IENS<1 S IENS="?+1,"_DFN_",",IPT(FLE,IENS,.01)=$$NOW^XLFDT
"RTN","DSIO01",190,0)
 . S:FLE=790.17 IPT(FLE,IENS,2)=0
"RTN","DSIO01",191,0)
 . S IPT(FLE,IENS,$S(FLE=790.17:3,1:.02))=$$NOW^XLFDT
"RTN","DSIO01",192,0)
 . S IPT(FLE,IENS,4)=DUZ
"RTN","DSIO01",193,0)
 D:$D(IPT) UPDATE^DIE(,"IPT")
"RTN","DSIO01",194,0)
 Q
"RTN","DSIO01",195,0)
 ;
"RTN","DSIO01",196,0)
FAM ; PROCESS FAMILY HISTORY FOR DSIO PERSON
"RTN","DSIO01",197,0)
 ;
"RTN","DSIO01",198,0)
 ; FFSAVE(RET,DFN,IEN,NAME,DOB,ADDR,PHONE,EDU,SEX,REL,STAT,PROB)
"RTN","DSIO01",199,0)
 ;
"RTN","DSIO01",200,0)
 ; VARIABLES DEFINED: DFN, DIEN = DIALOG IEN, CIEN = CONTROL IEN,
"RTN","DSIO01",201,0)
 ;                    ELE = DATA ELEMENT IEN
"RTN","DSIO01",202,0)
 N LOC,CT,NAME,DOB,ADDR,PHONE,EDU,SEX,REL,STAT,PROB,RET
"RTN","DSIO01",203,0)
 S LOC=$NA(^TMP($J,"DSIO FAM")) K @LOC
"RTN","DSIO01",204,0)
 D GETS^DIQ(19641.45,$G(ELE)_",",1,"E",LOC) K @LOC@(19641.45,+$G(ELE)_",",1,"E")
"RTN","DSIO01",205,0)
 S CT=$NA(@LOC) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,1)'=$J!($QS(CT,2)'="DSIO FAM")  D
"RTN","DSIO01",206,0)
 . I $$FAMP(@CT,"RELATIONSHIP") D
"RTN","DSIO01",207,0)
 . . I $D(REL) D FAMS
"RTN","DSIO01",208,0)
 . . S REL=$$FAMR(@CT),SEX=$$CR(REL)
"RTN","DSIO01",209,0)
 . I $$FAMP(@CT,"NAME") S NAME=$$FAMR(@CT)
"RTN","DSIO01",210,0)
 . I $$FAMP(@CT,"STATUS") S STAT=$$FAMR(@CT)
"RTN","DSIO01",211,0)
 . I $$FAMP(@CT,"DATE OF BIRTH") S DOB=$$DT^DSIO2($$FAMR(@CT))
"RTN","DSIO01",212,0)
 . I $$FAMP(@CT,"YEARS OF EDUCATION") S EDU=$$FAMR(@CT)
"RTN","DSIO01",213,0)
 . I $$FAMP(@CT,"SEX") S SEX=$$FAMR(@CT)
"RTN","DSIO01",214,0)
 . ; BUILD ARRAYS ADDR,PHONE,PROB
"RTN","DSIO01",215,0)
 . I $$FAMP(@CT,"STREET LINE 1") S ADDR($O(ADDR(""),-1)+1)="1^"_$$FAMR(@CT)
"RTN","DSIO01",216,0)
 . I $$FAMP(@CT,"STREET LINE 2") S ADDR($O(ADDR(""),-1)+1)="2^"_$$FAMR(@CT)
"RTN","DSIO01",217,0)
 . I $$FAMP(@CT,"STREET LINE 3") S ADDR($O(ADDR(""),-1)+1)="3^"_$$FAMR(@CT)
"RTN","DSIO01",218,0)
 . I $$FAMP(@CT,"CITY") S ADDR($O(ADDR(""),-1)+1)="CITY^"_$$FAMR(@CT)
"RTN","DSIO01",219,0)
 . I $$FAMP(@CT,"STATE") S ADDR($O(ADDR(""),-1)+1)="STATE^"_$$FAMR(@CT)
"RTN","DSIO01",220,0)
 . I $$FAMP(@CT,"ZIP") S ADDR($O(ADDR(""),-1)+1)="ZIP^"_$$FAMR(@CT)
"RTN","DSIO01",221,0)
 . I $$FAMP(@CT,"PHONE (HOME)") S PHONE($O(PHONE(""),-1)+1)="H^"_$$FAMR(@CT)
"RTN","DSIO01",222,0)
 . I $$FAMP(@CT,"PHONE (CELL)") S PHONE($O(PHONE(""),-1)+1)="MC^"_$$FAMR(@CT)
"RTN","DSIO01",223,0)
 . I $$FAMP(@CT,"PHONE (WORK)") S PHONE($O(PHONE(""),-1)+1)="WP^"_$$FAMR(@CT)
"RTN","DSIO01",224,0)
 . I $$FAMP(@CT,"DIAGNOSIS") S PROB($O(PROB(""),-1)+1)=$$FAMR(@CT)
"RTN","DSIO01",225,0)
 D:$D(REL) FAMS
"RTN","DSIO01",226,0)
 K @LOC
"RTN","DSIO01",227,0)
 Q
"RTN","DSIO01",228,0)
 ;
"RTN","DSIO01",229,0)
FAMS ; SUBMIT TO FFSAVE
"RTN","DSIO01",230,0)
 N IEN I $G(NAME)="",$G(REL)'="" D
"RTN","DSIO01",231,0)
 . S IEN=$O(^DSIO(19641.11,"D",DFN,REL,"")) S:IEN<1 NAME="<LAST>,<FIRST>"
"RTN","DSIO01",232,0)
 D SAVE^DSIO9(.RET,$G(IEN),DFN,$G(NAME),$G(DOB),.ADDR,.PHONE,$G(EDU),SEX,$G(REL),$G(STAT),.PROB)
"RTN","DSIO01",233,0)
 K NAME,DOB,ADDR,PHONE,EDU,SEX,REL,STAT,PROB
"RTN","DSIO01",234,0)
 Q
"RTN","DSIO01",235,0)
 ;
"RTN","DSIO01",236,0)
FAMP(ND,NAME) ; DOES THE NAME VALUE EXIST ON THIS LINE
"RTN","DSIO01",237,0)
 Q $P($$UP^XLFSTR($$TRIM^XLFSTR(ND)),":")=NAME
"RTN","DSIO01",238,0)
 ;
"RTN","DSIO01",239,0)
FAMR(ND) ; RETRUN THE VALUE
"RTN","DSIO01",240,0)
 Q $$UP^XLFSTR($$TRIM^XLFSTR($P(ND,":",2)))
"RTN","DSIO01",241,0)
 ;
"RTN","DSIO01",242,0)
CR(REL) ; DETERMINE GENDER BY RELATIONSHIP
"RTN","DSIO01",243,0)
 I REL="OTHER" Q ""
"RTN","DSIO01",244,0)
 I "FATHER,BROTHER,SON,UNCLE,NEPHEW"[REL Q "M"
"RTN","DSIO01",245,0)
 I "MOTHER,SISTER,DAUGHTER,AUNT,NIECE"[REL Q "F"
"RTN","DSIO01",246,0)
 Q ""
"RTN","DSIO01",247,0)
 ;
"RTN","DSIO01",248,0)
PHIST ; PREGNANCY HISTORY PUSH
"RTN","DSIO01",249,0)
 ;
"RTN","DSIO01",250,0)
 ; PREGNANCY:
"RTN","DSIO01",251,0)
 ; PREG(RET,IEN,DFN,DATES,TYP,FOF,OBP,FAP,BAB,POST,COM,AB)
"RTN","DSIO01",252,0)
 ;
"RTN","DSIO01",253,0)
 ; FACILITY:
"RTN","DSIO01",254,0)
 ; SENT(RET,IEN,NAME,TYP,ACT,PCON,ADDR,PHONE,AB)
"RTN","DSIO01",255,0)
 ;
"RTN","DSIO01",256,0)
 ; OBSERVATION:
"RTN","DSIO01",257,0)
 ;  OBS(RET,IEN,DFN,DATES,OBJECT,REF,REL,CAT,CODE,VAL,VALCD,NEG,QUAL,NAR,AB)
"RTN","DSIO01",258,0)
 ;
"RTN","DSIO01",259,0)
 N LOC,CT,PHGES,PHLOL,PHTOD,TMP,PHEPS,PHPOD,PHFAC,PHPTL,PHCOM,PHPOST,PRT
"RTN","DSIO01",260,0)
 N BSTR,P,ORT,BAY,BABY,OBJECT,IPT,PHBAB,PHNAR,FCT,ORT
"RTN","DSIO01",261,0)
 S LOC=$NA(^TMP($J,"DSIO PHIST")) K @LOC
"RTN","DSIO01",262,0)
 D GETS^DIQ(19641.45,$G(ELE)_",",1,"E",LOC) K @LOC@(19641.45,+$G(ELE)_",",1,"E")
"RTN","DSIO01",263,0)
 S CT=$NA(@LOC) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,1)'=$J!($QS(CT,2)'="DSIO PHIST")  D
"RTN","DSIO01",264,0)
 . S PHGES=$P(@CT,U,18)                                      ; GESTATIONAL AGE AT DELIVERY
"RTN","DSIO01",265,0)
 . S PHLOL=$P(@CT,U,19)                                      ; LENGTH OF LABOR
"RTN","DSIO01",266,0)
 . S PHTOD=$P(@CT,U,20)                                      ; TYPE OF DELIVERY
"RTN","DSIO01",267,0)
 . S TMP=$$UP^XLFSTR($E($P(@CT,U,21),1))
"RTN","DSIO01",268,0)
 . S PHEPS=$S(TMP="Y":1,TMP="N":0,1:"")                      ; EPIDERAL/SPINAL
"RTN","DSIO01",269,0)
 . S PHPOD=$P(@CT,U,22)                                      ; PLACE OF DELIVERY
"RTN","DSIO01",270,0)
 . I PHPOD'="" D SENT^DSIO1(.PHFAC,,PHPOD,"F",,,,,1) S PHFAC=$S(PHFAC:PHFAC="NVA."_+PHFAC,1:"")
"RTN","DSIO01",271,0)
 . S TMP=$$UP^XLFSTR($E($P(@CT,U,23),1))
"RTN","DSIO01",272,0)
 . S PHPTL=$S(TMP="Y":1,TMP="N":0,1:"")                      ; PRETERM LABOR
"RTN","DSIO01",273,0)
 . S PHCOM=$P(@CT,U,25)                                      ; COMMENTS/COMPLICATIONS
"RTN","DSIO01",274,0)
 . S PHPOST=PHGES_U_PHLOL_U_PHTOD_U_PHEPS_U_PHPTL
"RTN","DSIO01",275,0)
 . S BSTR=$P(@CT,U,17) F P=1:1:$L(BSTR,"|") D
"RTN","DSIO01",276,0)
 . . S BAY=$P(BSTR,"|",P) S BABY($O(BABY(""),-1)+1)=BAY      ; SAVE FOR LATER
"RTN","DSIO01",277,0)
 . . S PHBAB=$S($D(PHBAB):PHBAB_",",1:"")_+BAY               ; BABY STRING FOR PREGNANCY "1,2,3"
"RTN","DSIO01",278,0)
 . K PRT D PREG^DSIO15(.PRT,,DFN,U_$P(@CT,U,10)_U,,,,$G(PHFAC),$G(PHBAB),PHPOST,PHCOM,1) Q:+PRT<1
"RTN","DSIO01",279,0)
 . S OBJECT($O(OBJECT(""),-1)+1)="PG."_PRT
"RTN","DSIO01",280,0)
 . S P=0 F  S P=$O(BABY(P)) Q:'P  D
"RTN","DSIO01",281,0)
 . . S BIEN=$O(^DSIO(19641.112,"C",DFN,PRT,+BABY(P),"")) Q:'BIEN
"RTN","DSIO01",282,0)
 . . S OBJECT($O(OBJECT(""),-1)+1)="FB."_BIEN
"RTN","DSIO01",283,0)
 . . S IPT(19641.112,BIEN_",",.05)=$P(BABY(P),";",3)
"RTN","DSIO01",284,0)
 . . S IPT(19641.112,BIEN_",",.06)=$P(BABY(P),";",4)
"RTN","DSIO01",285,0)
 . . S IPT(19641.112,BIEN_",",.07)=$P(BABY(P),";",5)
"RTN","DSIO01",286,0)
 . . D UPDATE^DIE("E","IPT") K IPT S FCT=$G(FCT)+1
"RTN","DSIO01",287,0)
 . S PHNAR(0)="Fetus/Baby Count"
"RTN","DSIO01",288,0)
 . D:$G(FCT) OBS^DSIO10(.ORT,,DFN,$$NOW^XLFDT,.OBJECT,,,"PREGNANCY","OTHER^^FetusBabyCount","^^"_FCT,,,,.PHNAR,1)
"RTN","DSIO01",289,0)
 K @LOC
"RTN","DSIO01",290,0)
 Q
"RTN","DSIO01",291,0)
 ;
"RTN","DSIO01",292,0)
DELV(TYP) ; PUSH DELIVERY INFORMATION FOR CURRENT PREGNANCY
"RTN","DSIO01",293,0)
 N PREG,OBJECT,VALUE,RT,IPT,CT,PRT,BIEN,FCT,NAR,ORT
"RTN","DSIO01",294,0)
 S PREG=$$PG^DSIO4(DFN) Q:'PREG
"RTN","DSIO01",295,0)
 S OBJECT(0)="PG."_PREG,VALUE=@VAL@($O(@VAL@("")))
"RTN","DSIO01",296,0)
 I $G(TYP)="DLY" D  Q
"RTN","DSIO01",297,0)
 . D PREG^DSIO15(.RT,PREG,DFN,U_VALUE_U,,,,,,,,1)
"RTN","DSIO01",298,0)
 I $G(TYP)="AGE" D  Q
"RTN","DSIO01",299,0)
 . S IPT(19641.13,PREG_",",3.1)=VALUE D FILE^DIE(,"IPT")
"RTN","DSIO01",300,0)
 I $G(TYP)="BAY" D  Q
"RTN","DSIO01",301,0)
 . ; ^^NUMBER^GENDER(M,F,U)^WEIGHT(LB|OZ|G)^^DEMISE^APGAR^NICU^COMMENTS
"RTN","DSIO01",302,0)
 . S CT=$NA(@VAL) F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,2)'="SETDATA VALUE"  D
"RTN","DSIO01",303,0)
 . . K PRT D PREG^DSIO15(.PRT,PREG,DFN,,,,,,$P(@CT,U,3),,,1) Q:+PRT<1
"RTN","DSIO01",304,0)
 . . S BIEN=+$P(PRT,U,2) Q:'BIEN
"RTN","DSIO01",305,0)
 . . S OBJECT($O(OBJECT(""),-1)+1)="FB."_BIEN
"RTN","DSIO01",306,0)
 . . S IPT(19641.112,BIEN_",",.05)=$P(@CT,U,4)               ; GENDER
"RTN","DSIO01",307,0)
 . . S IPT(19641.112,BIEN_",",.06)=$$WEIGHT($P(@CT,U,5))     ; BIRTH WEIGHT
"RTN","DSIO01",308,0)
 . . D UPDATE^DIE("E","IPT") K IPT S FCT=$G(FCT)+1
"RTN","DSIO01",309,0)
 . S NAR(0)="Fetus/Baby Count"
"RTN","DSIO01",310,0)
 . D:$G(FCT) OBS^DSIO10(.ORT,,DFN,$$NOW^XLFDT,.OBJECT,,,"PREGNANCY","OTHER^^FetusBabyCount","^^"_FCT,,,,.NAR,1)
"RTN","DSIO01",311,0)
 Q
"RTN","DSIO01",312,0)
 ;
"RTN","DSIO01",313,0)
WEIGHT(STR) ; Rebuild Weight String
"RTN","DSIO01",314,0)
 N FAT
"RTN","DSIO01",315,0)
 I $P(STR,"|") S FAT=$P(STR,"|")_" lbs"
"RTN","DSIO01",316,0)
 I $P(STR,"|",2) S FAT=$S($D(FAT):FAT_" ",1:"")_$P(STR,"|",2)_" ozs"
"RTN","DSIO01",317,0)
 I $P(STR,"|",3) S FAT=$G(FAT)_" ("_$P(STR,"|",3)_" g)"
"RTN","DSIO01",318,0)
 Q $G(FAT)
"RTN","DSIO01",319,0)
 ;
"RTN","DSIO01",320,0)
CHIEF ; CHIEF COMPLAINT REASON FOR VISIT
"RTN","DSIO01",321,0)
 N VALUE,OBJECT,NAR
"RTN","DSIO01",322,0)
 S VALUE=$$TRIM^XLFSTR($P(@VAL@($O(@VAL@(""))),"-",2,99))
"RTN","DSIO01",323,0)
 S OBJECT(0)="PG."_$$PG^DSIO4(DFN)
"RTN","DSIO01",324,0)
 S NAR(0)="Chief Complaint"
"RTN","DSIO01",325,0)
 D OBS^DSIO10(.RET,,DFN,$$NOW^XLFDT,.OBJECT,,,"Chief Complaint","LNC^^10154-3","^^"_VALUE,,,,.NAR,1)
"RTN","DSIO01",326,0)
 Q
"RTN","DSIO01",327,0)
 ;
"RTN","DSIO01",328,0)
 ; ------------------------------ UTILITIES -----------------------------------
"RTN","DSIO01",329,0)
 ;
"RTN","DSIO01",330,0)
VAL(CTR) ; GET VALUE BY CONTROL NAME
"RTN","DSIO01",331,0)
 Q $$VAL^DSIO02(CTR)
"RTN","DSIO01",332,0)
 ;
"RTN","DSIO01",333,0)
CIEN(CTR) ; GET CONTROL IEN
"RTN","DSIO01",334,0)
 Q $$CIEN^DSIO02(CTR)
"RTN","DSIO01",335,0)
 ;
"RTN","DSIO01",336,0)
VALWP(CTR,FLE,FLD,XIEN) ; TRANSFER A WORD PROCESSING FIELD
"RTN","DSIO01",337,0)
 D VALWP^DSIO02(CTR,FLE,FLD,XIEN)
"RTN","DSIO01",338,0)
 Q
"RTN","DSIO02")
0^17^B30432412
"RTN","DSIO02",1,0)
DSIO02 ;DSS/TFF - DSIO OCNT PUSH UTILITIES;06/28/2013 15:19
"RTN","DSIO02",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO02",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO02",4,0)
 ;
"RTN","DSIO02",5,0)
 ; External References      DBIA#
"RTN","DSIO02",6,0)
 ; -------------------      -----
"RTN","DSIO02",7,0)
 ;
"RTN","DSIO02",8,0)
 ;
"RTN","DSIO02",9,0)
 ;
"RTN","DSIO02",10,0)
 Q
"RTN","DSIO02",11,0)
 ;
"RTN","DSIO02",12,0)
 ; ----------------------- RUN ROUTINE FOR CONFIGURATION ----------------------
"RTN","DSIO02",13,0)
 ;
"RTN","DSIO02",14,0)
VIT(VITAL) ; GET VITAL FOR CONTROL
"RTN","DSIO02",15,0)
 ; DFN, IEN = DIALOG IEN
"RTN","DSIO02",16,0)
 N OUT,CT S @RET@(0)=-1 Q:'$G(DFN)
"RTN","DSIO02",17,0)
 D FASTVIT^ORQQVI(.OUT,DFN)
"RTN","DSIO02",18,0)
 N CT S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:$G(@RET@(0))'=-1
"RTN","DSIO02",19,0)
 . I $P(@CT,U,2)=VITAL S @RET@(0)=$P(@CT,U,3) Q
"RTN","DSIO02",20,0)
 Q
"RTN","DSIO02",21,0)
 ;
"RTN","DSIO02",22,0)
GETOBS(CAT,CD) ; GET OBSERVATIONS
"RTN","DSIO02",23,0)
 D OBG^DSIO10(.RET,,DFN,,,,,,$G(CAT),,$G(CD))
"RTN","DSIO02",24,0)
 K:+$G(@RET@(0))<1 @RET
"RTN","DSIO02",25,0)
 S @RET@(0)="IEN^DATE^PATIENT^DFN^BABY^BABY IEN^PREGNANCY^PREGNANCY IEN^CATEGORY^"
"RTN","DSIO02",26,0)
 S @RET@(0)=@RET@(0)_"CODE^SYSTEM^UPDATED BY^UPDATEDBY IEN^DESCRIPTION^VALUE"
"RTN","DSIO02",27,0)
 Q
"RTN","DSIO02",28,0)
 ;
"RTN","DSIO02",29,0)
PERSON ; GET LIST OF PEOPLE ASSOCIATED WITH THE PATIENT - DSIO PERSON
"RTN","DSIO02",30,0)
 N OUT,I,CT,FLG
"RTN","DSIO02",31,0)
 D PERSON^DSIO9(.OUT,DFN,,1)
"RTN","DSIO02",32,0)
 S @RET@(0)="IEN^NAME^SEX^DOB^EDUCATION^STREET1^STREET2^STREET3^CITY^STATE^ZIP^PHONE HOME^"
"RTN","DSIO02",33,0)
 S @RET@(0)=@RET@(0)_"PHONE CELL^PHONE WORK^PATIENT^DFN^RELATIONSHIP^STATUS^DIAGNOSIS"
"RTN","DSIO02",34,0)
 S I=1,CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:$D(FLG)
"RTN","DSIO02",35,0)
 . I $$UP^XLFSTR(@CT)["NOTHING FOUND" S FLG=1 Q
"RTN","DSIO02",36,0)
 . I @CT[U S @RET@(I)=@CT D
"RTN","DSIO02",37,0)
 . . S $P(@RET@(I),U,10)=$$GET1^DIQ(19641.11,+@RET@(I)_",",1.5),I=I+1
"RTN","DSIO02",38,0)
 Q
"RTN","DSIO02",39,0)
 ;
"RTN","DSIO02",40,0)
PREG ; GET LIST OF HISTORICAL PREGNANCIES
"RTN","DSIO02",41,0)
 N OUT,I,CT,FLG,J,FLD,STR,T,STR1
"RTN","DSIO02",42,0)
 D PREGG^DSIO15(.OUT,,DFN)
"RTN","DSIO02",43,0)
 S @RET@(0)="IEN^STRT^PATIENT^DFN^TYP^FOF^FOF IEN^EDD^END^OBP^OBP IEN^PFAC^PFAC IEN^"
"RTN","DSIO02",44,0)
 S @RET@(0)=@RET@(0)_"UPDATE BY^UPDATE BY IEN^BABY;IEN;GENDER;WEIGTH;STILLBORN|^"
"RTN","DSIO02",45,0)
 S @RET@(0)=@RET@(0)_"GESTATIONAL AGE AT DELIVERY^LENGTH OF LABOR^TYPE OF DELIVERY^"
"RTN","DSIO02",46,0)
 S @RET@(0)=@RET@(0)_"ANESTHESIA^PLACE OF DELIVERY^PRETERM LABOR^BIRTH TYPE^COMMENTS"
"RTN","DSIO02",47,0)
 S I=1,CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:$D(FLG)
"RTN","DSIO02",48,0)
 . I $$UP^XLFSTR(@CT)["NOTHING FOUND" S FLG=1 Q
"RTN","DSIO02",49,0)
 . Q:$P(@CT,U,5)="C"
"RTN","DSIO02",50,0)
 . S @RET@(I)=@CT
"RTN","DSIO02",51,0)
 . S FLD=3.1 F J=17:1:22 S $P(@RET@(I),U,J)=$$GET1^DIQ(19641.13,+@CT_",",FLD),FLD=FLD+.1
"RTN","DSIO02",52,0)
 . S $P(@RET@(I),U,23)=$$GET1^DIQ(19641.13,+@CT_",",999.1)
"RTN","DSIO02",53,0)
 . S $P(@RET@(I),U,24)=$$GET1^DIQ(19641.13,+@CT_",",4)
"RTN","DSIO02",54,0)
 . ; UPDATE THE BABIES (BABY;IEN;GENDER;WEIGTH;STILLBORN|)
"RTN","DSIO02",55,0)
 . S STR=$P(@RET@(I),U,16) F J=1:1:$L(STR,"|") S STR1=$P(STR,"|",J) D  S $P(STR,"|",J)=STR1
"RTN","DSIO02",56,0)
 . . S FLD=.05 F T=3:1:5 D  S FLD=FLD+.01
"RTN","DSIO02",57,0)
 . . . S $P(STR1,";",T)=$$GET1^DIQ(19641.112,$P(STR1,";",2)_",",FLD,$S(T=3:"I",1:""))
"RTN","DSIO02",58,0)
 . S $P(@RET@(I),U,16)=STR,I=I+1
"RTN","DSIO02",59,0)
 Q
"RTN","DSIO02",60,0)
 ;
"RTN","DSIO02",61,0)
BAY ; GET BABIES FOR CURENT PREGNANCY
"RTN","DSIO02",62,0)
 Q:'$$PG^DSIO4(DFN)
"RTN","DSIO02",63,0)
 N OUT,CT,I,BIEN,BW,BW1,L,BW2
"RTN","DSIO02",64,0)
 S @RET@(0)="IEN^NUMBER^GENDER^WEIGHT^STILLBORN^DEMISE^APGAR^NICU^COMMENTS"
"RTN","DSIO02",65,0)
 D LIST^DIC(19641.132,","_$$PG^DSIO4(DFN)_",","@;.01I","P",,,,,,,"OUT")
"RTN","DSIO02",66,0)
 S I=1,CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO02",67,0)
 . Q:$QS(CT,2)<1
"RTN","DSIO02",68,0)
 . S BIEN=$P(@CT,U,2)
"RTN","DSIO02",69,0)
 . S @RET@(I)=BIEN_U_$$GET1^DIQ(19641.112,BIEN_",",.01)_U_$$GET1^DIQ(19641.112,BIEN_",",.05,"I")
"RTN","DSIO02",70,0)
 . S BW=$$UP^XLFSTR($$GET1^DIQ(19641.112,BIEN_",",.06)) I BW'?.N1"|".N1"|".N D
"RTN","DSIO02",71,0)
 . . S BW1=$$TRIM^XLFSTR($P(BW,"LB"))_"|"_$$TRIM^XLFSTR($P(BW,"OZS"))_"|"_$$TRIM^XLFSTR($P(BW,"GRAMS"))
"RTN","DSIO02",72,0)
 . . F L=$L(BW1):-1:1 D
"RTN","DSIO02",73,0)
 . . . I $E(BW1,L)="|" S BW2=$E(BW1,L)_$G(BW2) K FLG Q
"RTN","DSIO02",74,0)
 . . . I '$D(FLG),$E(BW1,L)?.N S BW2=$E(BW1,L)_$G(BW2) Q
"RTN","DSIO02",75,0)
 . . . S FLG=1
"RTN","DSIO02",76,0)
 . S @RET@(I)=@RET@(I)_U_$G(BW2,BW)_U_$$GET1^DIQ(19641.112,BIEN_",",.07,"I")_"^^^^"
"RTN","DSIO02",77,0)
 . S I=I+1
"RTN","DSIO02",78,0)
 Q
"RTN","DSIO02",79,0)
 ;
"RTN","DSIO02",80,0)
PAT(FLD) ; GET PATIENT INFORMATION
"RTN","DSIO02",81,0)
 S RET=$NA(^TMP($J,"OCNT PAT")) K @RET S @RET@(0)="" Q:$G(FLD)=""
"RTN","DSIO02",82,0)
 N R D INFO^DSIO1(.R,$G(DFN)) S:+$P($G(R(FLD)),U)>0 @RET@(0)=$P(R(FLD),U,2)
"RTN","DSIO02",83,0)
 Q
"RTN","DSIO02",84,0)
 ;
"RTN","DSIO02",85,0)
MH(FLD) ; GET CURRENT MENSTRUAL HISTORY FIELD
"RTN","DSIO02",86,0)
 ;
"RTN","DSIO02",87,0)
 ; THE FOLLOWING ARE CHECKBOXES AND ONLY ONE SHOULD BE RETURNED WITH A VALUE
"RTN","DSIO02",88,0)
 ; 1.1, 1.3, 1.4 (N(ORMAL)/A(BNORMAL))
"RTN","DSIO02",89,0)
 ; 1.5(Y(ES)/N(O))
"RTN","DSIO02",90,0)
 ;
"RTN","DSIO02",91,0)
 N IEN S RET=$NA(^TMP($J,"OCNT MH")) K @RET
"RTN","DSIO02",92,0)
 S IEN=$$GET1^DIQ(19641,DFN_",",1.2,"I") Q:+IEN<1
"RTN","DSIO02",93,0)
 I $$GET1^DID(19641.01,FLD,,"TYPE")="WORD-PROCESSING" D  Q
"RTN","DSIO02",94,0)
 . K @RET D GETS^DIQ(19641.01,IEN_",",2,"E",RET)
"RTN","DSIO02",95,0)
 . K @RET@(19641.01,IEN_",",2,"E")
"RTN","DSIO02",96,0)
 I $$GET1^DID(19641.01,FLD,,"TYPE")="DATE/TIME" D  Q
"RTN","DSIO02",97,0)
 . S @RET@(0)=$$FMTE^XLFDT($$GET1^DIQ(19641.01,IEN_",",FLD,"I"),"5Z")
"RTN","DSIO02",98,0)
 S @RET@(0)=$$GET1^DIQ(19641.01,IEN_",",FLD)
"RTN","DSIO02",99,0)
 I CONTROL="CKMENSESYES",@RET@(0)="ABNORMAL" S @RET@(0)=""
"RTN","DSIO02",100,0)
 I CONTROL="CKMENSESNO",@RET@(0)="NORMAL" S @RET@(0)=""
"RTN","DSIO02",101,0)
 I CONTROL="CKAMOUNTYES",@RET@(0)="ABNORMAL" S @RET@(0)=""
"RTN","DSIO02",102,0)
 I CONTROL="CKAMOUNTNO",@RET@(0)="NORMAL" S @RET@(0)=""
"RTN","DSIO02",103,0)
 I CONTROL="CKDURATIONYES",@RET@(0)="ABNORMAL" S @RET@(0)=""
"RTN","DSIO02",104,0)
 I CONTROL="CKDURATIONNO",@RET@(0)="NORMAL" S @RET@(0)=""
"RTN","DSIO02",105,0)
 I CONTROL="CKCONTRACEPTIONYES",@RET@(0)="ABNORMAL" S @RET@(0)=""
"RTN","DSIO02",106,0)
 I CONTROL="CKCONTRACEPTIONNO",@RET@(0)="NORMAL" S @RET@(0)=""
"RTN","DSIO02",107,0)
 Q
"RTN","DSIO02",108,0)
 ;
"RTN","DSIO02",109,0)
EDU ; GET EDUCATION
"RTN","DSIO02",110,0)
 N OUT,I,CT
"RTN","DSIO02",111,0)
 D LIST^DIC(19641.8,,"@;.01","P",,,,,,,"OUT") Q:'$D(OUT)
"RTN","DSIO02",112,0)
 S I=1,CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO02",113,0)
 . Q:$QS(CT,2)<1
"RTN","DSIO02",114,0)
 . S @RET@(I)=$P(@CT,U,2),I=I+1
"RTN","DSIO02",115,0)
 Q
"RTN","DSIO02",116,0)
 ;
"RTN","DSIO02",117,0)
 ; ------------------------------ UTILITIES -----------------------------------
"RTN","DSIO02",118,0)
 ;
"RTN","DSIO02",119,0)
VAL(CTR) ; GET VALUE BY CONTROL NAME
"RTN","DSIO02",120,0)
 N CT,NVAL,ND,ND1
"RTN","DSIO02",121,0)
 S NVAL=$NA(^TMP($J,"DSIO VAL")) K @NVAL
"RTN","DSIO02",122,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO02",123,0)
 .Q:$QS(CT,1)=19641.49412
"RTN","DSIO02",124,0)
 .I $$UP^XLFSTR($$GET1^DIQ(19641.45,@CT_",",2.4))=CTR D
"RTN","DSIO02",125,0)
 ..D GETS^DIQ(19641.45,@CT_",",1,"E",NVAL)
"RTN","DSIO02",126,0)
 ..K @NVAL@(19641.45,@CT_",",1,"E")
"RTN","DSIO02",127,0)
 ..S ND=$NA(@NVAL@(19641.45,@CT_",",1)) M ND1=@ND K @NVAL M @NVAL=ND1
"RTN","DSIO02",128,0)
 Q $G(@NVAL@(+$O(@NVAL@(""))))
"RTN","DSIO02",129,0)
 ;
"RTN","DSIO02",130,0)
CIEN(CTR) ; GET CONTROL IEN
"RTN","DSIO02",131,0)
 N CT,FLG S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:$D(FLG)
"RTN","DSIO02",132,0)
 .Q:$QS(CT,1)=19641.49412
"RTN","DSIO02",133,0)
 .I $$UP^XLFSTR($$GET1^DIQ(19641.45,@CT_",",2.4))=CTR S FLG=@CT
"RTN","DSIO02",134,0)
 Q $G(FLG)
"RTN","DSIO02",135,0)
 ;
"RTN","DSIO02",136,0)
VALWP(CTR,FLE,FLD,XIEN) ; TRANSFER A WORD PROCESSING FIELD
"RTN","DSIO02",137,0)
 N CONIEN,NVAL,ND,ND1
"RTN","DSIO02",138,0)
 S CONIEN=$$CIEN(CTR),NVAL=$NA(^TMP($J,"DSIO VAL")) K @NVAL
"RTN","DSIO02",139,0)
 D GETS^DIQ(19641.45,CONIEN_",",1,"E",NVAL)
"RTN","DSIO02",140,0)
 K @NVAL@(19641.45,CONIEN_",",1,"E")
"RTN","DSIO02",141,0)
 S ND=$NA(@NVAL@(19641.45,CONIEN_",",1)) M ND1=@ND K @NVAL M @NVAL=ND1
"RTN","DSIO02",142,0)
 D WP^DIE(FLE,XIEN_",",FLD,"K",NVAL)
"RTN","DSIO02",143,0)
 Q
"RTN","DSIO0P")
0^^B4867750
"RTN","DSIO0P",1,0)
DSIO0P ;DSS/TFF - PRE INSTALL;06/28/2013 15:19
"RTN","DSIO0P",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO0P",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO0P",4,0)
 ;
"RTN","DSIO0P",5,0)
 ;
"RTN","DSIO0P",6,0)
 ;
"RTN","DSIO0P",7,0)
 ;
"RTN","DSIO0P",8,0)
 ; *** CHECK THE DD FOR DSIO0PP
"RTN","DSIO0P",9,0)
 ;     EXTERNAL ENTITIES
"RTN","DSIO0P",10,0)
 I '$$VFILE^DILFD(19641.15) S ^TMP($J,"DSIO THEO","E")=""
"RTN","DSIO0P",11,0)
 ;     OBSERVATION
"RTN","DSIO0P",12,0)
 I '$$VFILE^DILFD(19641.121),'$$VFILE^DILFD(19641.17),'$$VFILE^DILFD(19641.125),'$$VFILE^DILFD(19641.126) S ^TMP($J,"DSIO THEO","O")=""
"RTN","DSIO0P",13,0)
 ;     PERSON
"RTN","DSIO0P",14,0)
 I '$$VFILE^DILFD(19641.113) S ^TMP($J,"DSIO THEO","P")=""
"RTN","DSIO0P",15,0)
 ;
"RTN","DSIO0P",16,0)
PRE ;PRE-INSTALL ACTIONS
"RTN","DSIO0P",17,0)
 D BMES^XPDUTL("  Deleting data dictionaries:")
"RTN","DSIO0P",18,0)
 N DIU
"RTN","DSIO0P",19,0)
 S DIU=19641,DIU(0)="T"
"RTN","DSIO0P",20,0)
 D EN^DIU2
"RTN","DSIO0P",21,0)
 D MES^XPDUTL("    DSIO PATIENT (#19641)")
"RTN","DSIO0P",22,0)
 S DIU=19641.1,DIU(0)="T"
"RTN","DSIO0P",23,0)
 D EN^DIU2
"RTN","DSIO0P",24,0)
 D MES^XPDUTL("    DSIO EXTERNAL ENTITIES (#19641.1)")
"RTN","DSIO0P",25,0)
 S DIU=19641.11,DIU(0)="T"
"RTN","DSIO0P",26,0)
 D EN^DIU2
"RTN","DSIO0P",27,0)
 D MES^XPDUTL("    DSIO PERSON (#19641.11)")
"RTN","DSIO0P",28,0)
 S DIU=19641.112,DIU(0)="T"
"RTN","DSIO0P",29,0)
 D EN^DIU2
"RTN","DSIO0P",30,0)
 D MES^XPDUTL("    DSIO FETUS/BABY (#19641.112)")
"RTN","DSIO0P",31,0)
 S DIU=19641.12,DIU(0)="T"
"RTN","DSIO0P",32,0)
 D EN^DIU2
"RTN","DSIO0P",33,0)
 D MES^XPDUTL("    DSIO OBSERVATIONS (#19641.12)")
"RTN","DSIO0P",34,0)
 S DIU=19641.124,DIU(0)="T"
"RTN","DSIO0P",35,0)
 D EN^DIU2
"RTN","DSIO0P",36,0)
 D MES^XPDUTL("    DSIO PUSH HISTORY (#19641.124)")
"RTN","DSIO0P",37,0)
 S DIU=19641.13,DIU(0)="T"
"RTN","DSIO0P",38,0)
 D EN^DIU2
"RTN","DSIO0P",39,0)
 D MES^XPDUTL("    DSIO PREGNANCY HISTORY (#19641.13)")
"RTN","DSIO0P",40,0)
 S DIU=19641.2,DIU(0)="T"
"RTN","DSIO0P",41,0)
 D EN^DIU2
"RTN","DSIO0P",42,0)
 D MES^XPDUTL("    DSIO TRACKING HISTORY (#19641.2)")
"RTN","DSIO0P",43,0)
 S DIU=19641.5,DIU(0)="T"
"RTN","DSIO0P",44,0)
 D EN^DIU2
"RTN","DSIO0P",45,0)
 D MES^XPDUTL("    DSIO TITLE CONFIGURATION (#19641.5)")
"RTN","DSIO0P",46,0)
 S DIU=19641.6,DIU(0)="T"
"RTN","DSIO0P",47,0)
 D EN^DIU2
"RTN","DSIO0P",48,0)
 D MES^XPDUTL("    DSIO IHE DOCUMENT (#19641.6)")
"RTN","DSIO0P",49,0)
 S DIU=19641.83,DIU(0)="T"
"RTN","DSIO0P",50,0)
 D EN^DIU2
"RTN","DSIO0P",51,0)
 D MES^XPDUTL("    DSIO PREGNANCY-NOTE (#19641.83)")
"RTN","DSIO0P",52,0)
 S DIU=19641.99,DIU(0)="T"
"RTN","DSIO0P",53,0)
 D EN^DIU2
"RTN","DSIO0P",54,0)
 D MES^XPDUTL("    DSIO CODES (#19641.99)")
"RTN","DSIO0P",55,0)
 D MES^XPDUTL("  Finished deleting data dictionaries")
"RTN","DSIO0P",56,0)
 Q
"RTN","DSIO0PP")
0^^B17411725
"RTN","DSIO0PP",1,0)
DSIO0PP ;DSS/TFF - POST INSTALL;06/28/2013 15:19
"RTN","DSIO0PP",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO0PP",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO0PP",4,0)
 ;
"RTN","DSIO0PP",5,0)
 ;
"RTN","DSIO0PP",6,0)
 ;
"RTN","DSIO0PP",7,0)
 ;
"RTN","DSIO0PP",8,0)
 D REIX,CONVT
"RTN","DSIO0PP",9,0)
 N DIK
"RTN","DSIO0PP",10,0)
 K ^DSIO(19641.12,"B"),^DSIO(19641.12,"C"),^DSIO(19641.12,"D")
"RTN","DSIO0PP",11,0)
 K ^DSIO(19641.12,"P"),^DSIO(19641.12,"CHILD")
"RTN","DSIO0PP",12,0)
 S DIK="^DSIO(19641.12," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",13,0)
 K ^DSIO(19641.13,"P")
"RTN","DSIO0PP",14,0)
 S DIK="^DSIO(19641.13," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",15,0)
 D ^DSIO99
"RTN","DSIO0PP",16,0)
 Q
"RTN","DSIO0PP",17,0)
 ;
"RTN","DSIO0PP",18,0)
REIX ; ReIndex Files
"RTN","DSIO0PP",19,0)
 K ^DSIO(19641.2,"C")
"RTN","DSIO0PP",20,0)
 N DIK
"RTN","DSIO0PP",21,0)
 S DIK="^DSIO(19641.2," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",22,0)
 S DIK="^DSIO(19641.83," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",23,0)
 Q
"RTN","DSIO0PP",24,0)
 ;
"RTN","DSIO0PP",25,0)
CONVT ; Convert DATA from old stores
"RTN","DSIO0PP",26,0)
 N DIK
"RTN","DSIO0PP",27,0)
 I $D(^TMP($J,"DSIO THEO","E")) D
"RTN","DSIO0PP",28,0)
 . D CPHONE
"RTN","DSIO0PP",29,0)
 . S DIK="^DSIO(19641.1," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",30,0)
 I $D(^TMP($J,"DSIO THEO","O")) D
"RTN","DSIO0PP",31,0)
 . S DIK="^DSIO(19641.12," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",32,0)
 . D COBS
"RTN","DSIO0PP",33,0)
 I $D(^TMP($J,"DSIO THEO","P")) D
"RTN","DSIO0PP",34,0)
 . S DIK="^DSIO(19641.11," D IXALL2^DIK,IXALL^DIK
"RTN","DSIO0PP",35,0)
 . D PERSON
"RTN","DSIO0PP",36,0)
 K ^TMP($J,"DSIO THEO")
"RTN","DSIO0PP",37,0)
 Q
"RTN","DSIO0PP",38,0)
 ;
"RTN","DSIO0PP",39,0)
CPHONE ; Update 19641.1 Phone Multiple
"RTN","DSIO0PP",40,0)
 N NAM,IEN,STR,PHONE,RET
"RTN","DSIO0PP",41,0)
 S NAM="" F  S NAM=$O(^DSIO(19641.1,"B",NAM)) Q:NAM=""  D
"RTN","DSIO0PP",42,0)
 . K IEN,STR,PHONE,RET
"RTN","DSIO0PP",43,0)
 . S IEN=$O(^DSIO(19641.1,"B",NAM,""))
"RTN","DSIO0PP",44,0)
 . S STR=$G(^DSIO(19641.1,IEN,2)) Q:STR=""
"RTN","DSIO0PP",45,0)
 . K ^DSIO(19641.1,IEN,2)
"RTN","DSIO0PP",46,0)
 . S:$P(STR,U)'="" PHONE(0)="H^"_$P(STR,U)
"RTN","DSIO0PP",47,0)
 . S:$P(STR,U,2)'="" PHONE(1)="WP^"_$P(STR,U,2)
"RTN","DSIO0PP",48,0)
 . S:$P(STR,U,3)'="" PHONE(2)="MC^"_$P(STR,U,3)
"RTN","DSIO0PP",49,0)
 . S:$P(STR,U,4)'="" PHONE(3)="FAX^"_$P(STR,U,4)
"RTN","DSIO0PP",50,0)
 . I $D(PHONE) D SENT^DSIO1(.RET,IEN,,,,,,.PHONE,1)
"RTN","DSIO0PP",51,0)
 Q
"RTN","DSIO0PP",52,0)
 ;
"RTN","DSIO0PP",53,0)
PERSON ; *** Update 19641.11 Phone and Diagnosis Multiples
"RTN","DSIO0PP",54,0)
 N NAM,IEN,STR,PHONE,PROB,RET
"RTN","DSIO0PP",55,0)
 S NAM="" F  S NAM=$O(^DSIO(19641.11,"B",NAM)) Q:NAM=""  D
"RTN","DSIO0PP",56,0)
 . K IEN,STR,PHONE,RET
"RTN","DSIO0PP",57,0)
 . S IEN=$O(^DSIO(19641.11,"B",NAM,""))
"RTN","DSIO0PP",58,0)
 . S STR=$G(^DSIO(19641.11,IEN,1)) I STR'="" D
"RTN","DSIO0PP",59,0)
 . . K ^DSIO(19641.11,IEN,1)
"RTN","DSIO0PP",60,0)
 . . S:$P(STR,U,7)'="" PHONE(0)="H^"_$P(STR,U,7)
"RTN","DSIO0PP",61,0)
 . . S:$P(STR,U,9)'="" PHONE(1)="WP^"_$P(STR,U,9)
"RTN","DSIO0PP",62,0)
 . . S:$P(STR,U,8)'="" PHONE(2)="MC^"_$P(STR,U,8)
"RTN","DSIO0PP",63,0)
 . . S ^DSIO(19641.11,IEN,1)=$P(STR,U,1,6)
"RTN","DSIO0PP",64,0)
 . I $D(^DSIO(19641.11,IEN,2)) D DG(IEN)
"RTN","DSIO0PP",65,0)
 . Q:'$D(PHONE)&('$D(PROB))
"RTN","DSIO0PP",66,0)
 . D SAVE^DSIO9(.RET,IEN,,,,,.PHONE,,,,,.PROB,1)
"RTN","DSIO0PP",67,0)
 Q
"RTN","DSIO0PP",68,0)
 ;
"RTN","DSIO0PP",69,0)
DG(IEN) ; Add DIAGNOSIS to DSIO PERSON return
"RTN","DSIO0PP",70,0)
 N CT,I
"RTN","DSIO0PP",71,0)
 S CT="" F I=0:1 S CT=$O(^DSIO(19641.11,IEN,2,"B",CT)) Q:CT=""  D
"RTN","DSIO0PP",72,0)
 . S PROB(I)=CT
"RTN","DSIO0PP",73,0)
 K ^DSIO(19641.11,IEN,2)
"RTN","DSIO0PP",74,0)
 Q
"RTN","DSIO0PP",75,0)
 ;
"RTN","DSIO0PP",76,0)
COBS ; *** Update 19641.12 Whole File
"RTN","DSIO0PP",77,0)
 N DATE,IEN,STR,DFN,OBJ,CAT,CODE,USER,PUSH,IPT
"RTN","DSIO0PP",78,0)
 S DATE="" F  S DATE=$O(^DSIO(19641.12,"B",DATE)) Q:DATE=""  D
"RTN","DSIO0PP",79,0)
 . S IEN=0 F  S IEN=$O(^DSIO(19641.12,"B",DATE,IEN)) Q:'IEN  D
"RTN","DSIO0PP",80,0)
 . . K STR,DFN,OBJ,CAT,CODE,USER,PUSH,IPT
"RTN","DSIO0PP",81,0)
 . . S STR=$G(^DSIO(19641.12,IEN,0)) Q:STR=""
"RTN","DSIO0PP",82,0)
 . . S DFN=$P(STR,U,2)
"RTN","DSIO0PP",83,0)
 . . I $P(STR,U,3),$D(^DSIO(19641.112,$P(STR,U,3))) S OBJ(0)="FB."_$P(STR,U,3)
"RTN","DSIO0PP",84,0)
 . . I $P(STR,U,4),$D(^DSIO(19641.13,$P(STR,U,4))) S OBJ(1)="PG."_$P(STR,U,4)
"RTN","DSIO0PP",85,0)
 . . S CAT=$P(STR,U,5) S:CAT CAT=$$GET1^DIQ(19641.122,$P(STR,U,5)_",",.01)
"RTN","DSIO0PP",86,0)
 . . ; CODE = SYS NAME^SYS VALUE^CODE^DISPLAY NAME
"RTN","DSIO0PP",87,0)
 . . S:$P(STR,U,6)'="" $P(CODE,U,3)=$$DCODE^DSIO2($P(STR,U,6))
"RTN","DSIO0PP",88,0)
 . . S:$P(STR,U,7)'="" $P(CODE,U)=$$GET1^DIQ(757.03,$O(^LEX(757.03,"B",$P(STR,U,7),""))_",",1)
"RTN","DSIO0PP",89,0)
 . . S:$P($G(^DSIO(19641.12,IEN,1)),U)'="" $P(CODE,U,4)=^DSIO(19641.12,IEN,1)
"RTN","DSIO0PP",90,0)
 . . S USER=$P(STR,U,8)
"RTN","DSIO0PP",91,0)
 . . S VAL=$P(^DSIO(19641.12,IEN,2),U)
"RTN","DSIO0PP",92,0)
 . . S PUSH=$$GET1^DIQ(19641.124,$P($G(^DSIO(19641.12,IEN,4)),U)_",",.01,"I")
"RTN","DSIO0PP",93,0)
 . . K ^DSIO(19641.12,IEN)
"RTN","DSIO0PP",94,0)
 . . S ^DSIO(19641.12,IEN,0)=DATE_U_DFN_U_CAT_"^^^^"_USER_U_$$NOW^XLFDT_U_PUSH
"RTN","DSIO0PP",95,0)
 . . D TOBJ^DSIO10(IEN,DFN,.OBJ)
"RTN","DSIO0PP",96,0)
 . . ; *** SAVE CODE AND VALUE CODE
"RTN","DSIO0PP",97,0)
 . . I $D(CODE) D
"RTN","DSIO0PP",98,0)
 . . . S IPT(19641.17,"?+1,"_IEN_",",.01)="C"                    ; CODE TYPE
"RTN","DSIO0PP",99,0)
 . . . S IPT(19641.17,"?+1,"_IEN_",",1)=$P(CODE,U,3)             ; CODE
"RTN","DSIO0PP",100,0)
 . . . S IPT(19641.17,"?+1,"_IEN_",",2)=$P(CODE,U,4)             ; DISPLAY NAME
"RTN","DSIO0PP",101,0)
 . . . S IPT(19641.17,"?+1,"_IEN_",",3)=$P(CODE,U)               ; SYSTEM NAME
"RTN","DSIO0PP",102,0)
 . . S:VAL'="" IPT(19641.12,IEN_",",4.2)=VAL                     ; VALUE
"RTN","DSIO0PP",103,0)
 . . D UPDATE^DIE(,"IPT")
"RTN","DSIO0PP",104,0)
 Q
"RTN","DSIO1")
0^1^B234772474
"RTN","DSIO1",1,0)
DSIO1 ;DSS/TFF - DSIO GENERAL RPCS;06/28/2013 15:19
"RTN","DSIO1",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO1",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO1",4,0)
 ;
"RTN","DSIO1",5,0)
 ; External References      DBIA#
"RTN","DSIO1",6,0)
 ; -------------------      -----
"RTN","DSIO1",7,0)
 ; $$DOB^DPTLK1
"RTN","DSIO1",8,0)
 ; $$SCREEN^DPTLK1
"RTN","DSIO1",9,0)
 ; $$SSN^DPTLK1
"RTN","DSIO1",10,0)
 ;
"RTN","DSIO1",11,0)
 Q
"RTN","DSIO1",12,0)
 ;
"RTN","DSIO1",13,0)
 ; ------------------------------ PATIENT SEARCH ------------------------------
"RTN","DSIO1",14,0)
 ;
"RTN","DSIO1",15,0)
PATIENT(RET,KEY,SORT) ; RPC: DSIO PATIENT LIST
"RTN","DSIO1",16,0)
 ;
"RTN","DSIO1",17,0)
 ;  IX : KEY
"RTN","DSIO1",18,0)
 ; ----------------------------------------------
"RTN","DSIO1",19,0)
 ;  SSN: SSN
"RTN","DSIO1",20,0)
 ;   BS: LAST 4
"RTN","DSIO1",21,0)
 ;  BS5: FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",22,0)
 ;    B: PARTIAL NAME - TO - FULL NAME
"RTN","DSIO1",23,0)
 ;
"RTN","DSIO1",24,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",25,0)
 ;
"RTN","DSIO1",26,0)
 ; RETURN FORMAT
"RTN","DSIO1",27,0)
 ; -------------
"RTN","DSIO1",28,0)
 ; DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"RTN","DSIO1",29,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING^
"RTN","DSIO1",30,0)
 ; SSN^CITY^STATE^ZIP^SENSITIVE STATUS (1,0)
"RTN","DSIO1",31,0)
 ;
"RTN","DSIO1",32,0)
 ;  CURRENTLY TRACKING: 0:NO,1:YES,2:FLAG
"RTN","DSIO1",33,0)
 ; IF NOTHING IS FOUND: RET(0)="0^Patient(s) not found."
"RTN","DSIO1",34,0)
 ;
"RTN","DSIO1",35,0)
 S RET=$NA(^TMP($J,"DSIO PATIENT")) K @RET S @RET@(0)="0^Patient(s) not found."
"RTN","DSIO1",36,0)
 S KEY=$G(KEY) D PAR
"RTN","DSIO1",37,0)
 ; *** LIST BY FULL SSN
"RTN","DSIO1",38,0)
 I KEY?9N!(KEY?3N1"-"2N1"-"4N) D LIST($TR(KEY,"-",""),"SSN") Q
"RTN","DSIO1",39,0)
 ; *** LIST BY LAST 4
"RTN","DSIO1",40,0)
 I KEY?4N D LIST(KEY,"BS") Q
"RTN","DSIO1",41,0)
 ; *** LIST BY FIRST LETTER OF LAST NAME + LAST 4 OF SSN
"RTN","DSIO1",42,0)
 I KEY?1A4N D LIST(KEY,"BS5") Q
"RTN","DSIO1",43,0)
 ; *** ALL PATIENTS, ASSUME NAME OR PARTIAL NAME
"RTN","DSIO1",44,0)
 D LIST(KEY,"B")
"RTN","DSIO1",45,0)
 Q
"RTN","DSIO1",46,0)
 ;
"RTN","DSIO1",47,0)
LIST(KEY,IX) ; Get Patient List
"RTN","DSIO1",48,0)
 N RCT,TS,KCT,CT,DFN,STRT,END D SORT($G(SORT))
"RTN","DSIO1",49,0)
 S (RCT,TS)=0
"RTN","DSIO1",50,0)
 S (KCT,CT)=$E(KEY,1,($L(KEY)-1))_$$M($E(KEY,$L(KEY)))
"RTN","DSIO1",51,0)
 F  S CT=$O(^DPT(IX,CT)) Q:CT=""  Q:$L(KCT)>1&($$KEY(CT,KEY))  D
"RTN","DSIO1",52,0)
 . Q:$$KEY(CT,KEY)
"RTN","DSIO1",53,0)
 . S DFN=0 F  S DFN=$O(^DPT(IX,CT,DFN)) Q:'DFN  D
"RTN","DSIO1",54,0)
 . . Q:$$GET1^DIQ(2,DFN_",",.02,"I")'="F"
"RTN","DSIO1",55,0)
 . . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO1",56,0)
 . . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO1",57,0)
 . . S @RET@(RCT)=$$FLDS(DFN)
"RTN","DSIO1",58,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO1",59,0)
 Q
"RTN","DSIO1",60,0)
 ;
"RTN","DSIO1",61,0)
FLDS(DFN) ; Return Transformed Fields
"RTN","DSIO1",62,0)
 ;
"RTN","DSIO1",63,0)
 ; DFN^LASTNAME,FIRSTNAME^SSN(LAST 4)^DATE OF BIRTH^VETERAN STATUS^
"RTN","DSIO1",64,0)
 ; LOCATION(WARD)^ROOM/BED^SERVICE CONNECTED^CURRENTLY TRACKING^
"RTN","DSIO1",65,0)
 ; SSN^CITY^STATE^ZIP^SENSITIVE STATUS (1,0)
"RTN","DSIO1",66,0)
 ;
"RTN","DSIO1",67,0)
 N OUT,LINE,FLD,SSN,STR
"RTN","DSIO1",68,0)
 D GETS^DIQ(2,DFN_",",".01;1901;.1;.101;.301;.09;.114;.115;.116","IE","OUT")
"RTN","DSIO1",69,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO1",70,0)
 S SSN=$$SSN^DPTLK1(DFN)
"RTN","DSIO1",71,0)
 S STR=DFN_U
"RTN","DSIO1",72,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"E"))_U                ; NAME
"RTN","DSIO1",73,0)
 S STR=STR_$S(SSN?.N:$E(SSN,6,9),1:SSN)_U              ; LAST FOUR
"RTN","DSIO1",74,0)
 S STR=STR_$$FMTE^XLFDT($$DT^DSIO2($$DOB^DPTLK1(DFN,0)),"5Z")_U   ; DATE OF BIRTH
"RTN","DSIO1",75,0)
 S STR=STR_FLD(1901,"E")_U                             ; VETERAN STATUS
"RTN","DSIO1",76,0)
 S STR=STR_FLD(.1,"I")_U                               ; WARD LOCATOIN
"RTN","DSIO1",77,0)
 S STR=STR_FLD(.101,"I")_U                             ; ROOM-BED
"RTN","DSIO1",78,0)
 S STR=STR_FLD(.301,"E")_U                             ; SERVICE CONNECTED?
"RTN","DSIO1",79,0)
 S STR=STR_$$TRACK^DSIO4(DFN,1)_U                      ; TRACKING STATUS
"RTN","DSIO1",80,0)
 S STR=STR_FLD(.09,"I")_U                              ; SOCIAL SECURITY NUMBER
"RTN","DSIO1",81,0)
 S STR=STR_FLD(.114,"I")_U                             ; CITY
"RTN","DSIO1",82,0)
 S STR=STR_$$GET1^DIQ(5,FLD(.115,"I")_",",1)_U         ; STATE
"RTN","DSIO1",83,0)
 S STR=STR_FLD(.116,"I")_U                             ; ZIP CODE
"RTN","DSIO1",84,0)
 S STR=STR_$$SCREEN^DPTLK1(DFN)                        ; SENSITIVE STATUS
"RTN","DSIO1",85,0)
 Q STR
"RTN","DSIO1",86,0)
 ;
"RTN","DSIO1",87,0)
 ; ------------------------------ PATIENT FIELDS ------------------------------
"RTN","DSIO1",88,0)
 ;
"RTN","DSIO1",89,0)
INFO(RET,DFN,LIST) ; RPC: DSIO GET PATIENT INFORMATION
"RTN","DSIO1",90,0)
 ;
"RTN","DSIO1",91,0)
 ; RETURN:
"RTN","DSIO1",92,0)
 ;   FIELD NUMBER^VALUE
"RTN","DSIO1",93,0)
 ;   0^MESSAGE
"RTN","DSIO1",94,0)
 ;
"RTN","DSIO1",95,0)
 N OUT,LINE
"RTN","DSIO1",96,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET(0)="0^Patient entry not found." Q
"RTN","DSIO1",97,0)
 D GETS^DIQ(19641,DFN_",",".01:999999","E","OUT")
"RTN","DSIO1",98,0)
 I '$D(OUT) S RET(0)="0^Nothing found." Q
"RTN","DSIO1",99,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  D
"RTN","DSIO1",100,0)
 . S RET($QS(LINE,3))=$QS(LINE,3)_U_@LINE
"RTN","DSIO1",101,0)
 S RET(3)="3^"_$$FMTE^XLFDT($P($G(^DSIO(19641,DFN,3,+$$LACE^DSIO4(DFN),0)),U),"5ZS")
"RTN","DSIO1",102,0)
 Q
"RTN","DSIO1",103,0)
 ;
"RTN","DSIO1",104,0)
PATSET(RET,DFN,FLD,VAL) ; RPC: DSIO SET PATIENT INFORMATION
"RTN","DSIO1",105,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO1",106,0)
 N TRVAL,OUT,IPT,ERR
"RTN","DSIO1",107,0)
 I $G(FLD)=.01 S RET="-1^You cannot change the PATIENT NAME." Q
"RTN","DSIO1",108,0)
 I '$$VFIELD^DILFD(19641,$G(FLD)) S RET="-1^Not a valid field." Q
"RTN","DSIO1",109,0)
 I $$GET1^DID(19641,FLD,,"TYPE")="COMPUTED" S RET="-1^You cannot set a computed field." Q
"RTN","DSIO1",110,0)
 I "^.04^1.2^"[(U_FLD_U) S RET="-1^This field cannot be set directly." Q
"RTN","DSIO1",111,0)
 S TRVAL=$S($$GET1^DID(19641,FLD,,"TYPE")="DATE/TIME":$$DT^DSIO2($G(VAL)),1:$G(VAL))
"RTN","DSIO1",112,0)
 D VAL^DIE(19641,DFN,FLD,,TRVAL,.OUT) I TRVAL'=OUT S RET="-1^The value is not valid." Q
"RTN","DSIO1",113,0)
 S IPT(19641,DFN_",",FLD)=TRVAL
"RTN","DSIO1",114,0)
 D FILE^DIE("E","IPT","ERR") I '$D(ERR) S RET=1
"RTN","DSIO1",115,0)
 Q
"RTN","DSIO1",116,0)
 ;
"RTN","DSIO1",117,0)
 ; ----------------------------- PATIENT TRACKING -----------------------------
"RTN","DSIO1",118,0)
 ;
"RTN","DSIO1",119,0)
TRCLIST(RET,TYP,SORT) ; RPC: DSIO GET TRACKING
"RTN","DSIO1",120,0)
 ;
"RTN","DSIO1",121,0)
 ; RETURN MATERNITY TRACKING LISTS
"RTN","DSIO1",122,0)
 ;
"RTN","DSIO1",123,0)
 ; INPUT PARAMETERS:
"RTN","DSIO1",124,0)
 ; -----------------
"RTN","DSIO1",125,0)
 ;  "": ALL LOGS
"RTN","DSIO1",126,0)
 ;   T: ALL CURRENTLY TRACKED PATIENTS
"RTN","DSIO1",127,0)
 ;   F: ALL CURRENTLY FLAGGED PATIENTS
"RTN","DSIO1",128,0)
 ; DFN: ALL LOGS FOR A PATIENT
"RTN","DSIO1",129,0)
 ;  F#: ALL CURRENTLY FLAGGED LOGS FOR A PATIENT
"RTN","DSIO1",130,0)
 ;
"RTN","DSIO1",131,0)
 ; SORT: PAGE#,CT
"RTN","DSIO1",132,0)
 ;
"RTN","DSIO1",133,0)
 S RET=$NA(^TMP($J,"DSIO TRCLIST")) K @RET S @RET@(0)="0^No entries found."
"RTN","DSIO1",134,0)
 D PAR S TYP=$G(TYP)
"RTN","DSIO1",135,0)
 ;
"RTN","DSIO1",136,0)
 ; *** GET ALL CURRENTLY TRACKED PATIENTS
"RTN","DSIO1",137,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD^OB^PLANNED DELV LOC^
"RTN","DSIO1",138,0)
 ;     CURRENTLY PREGNANT^CURRENTLY LACATING^LAST CONTACT DATE^
"RTN","DSIO1",139,0)
 ;     NEXT CONTACT DATE^NEXT CHECKLIST DATE
"RTN","DSIO1",140,0)
 ;     ^DSIO(19641.2,"TRACKING",PATIENT NAME,DFN,DA)=""
"RTN","DSIO1",141,0)
 I TYP="T" D T1("TRACKING",4) Q
"RTN","DSIO1",142,0)
 ;
"RTN","DSIO1",143,0)
 ; *** GET ALL CURRENTLY FLAGGED PATIENTS
"RTN","DSIO1",144,0)
 ;     P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"RTN","DSIO1",145,0)
 ;     ^DSIO(19641.2,"FLAGGED",PATIENT NAME,DFN,DA)=""
"RTN","DSIO1",146,0)
 I TYP="F" D T1("FLAGGED",5) Q
"RTN","DSIO1",147,0)
 ;
"RTN","DSIO1",148,0)
 ; *** GET ALL LOGS FOR A PATIENT
"RTN","DSIO1",149,0)
 ;     L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",150,0)
 ;     C^IEN^COMMENT
"RTN","DSIO1",151,0)
 ;     ^DSIO(19641.2,DFN,1,"B",LOG DATE,DA)=""
"RTN","DSIO1",152,0)
 I TYP D T1("B",2,+TYP) Q
"RTN","DSIO1",153,0)
 ;
"RTN","DSIO1",154,0)
 ; *** GET CURRENTLY FLAGGED ENTRIES FOR A PATIENT
"RTN","DSIO1",155,0)
 ;     ^DSIO(19641.2,DFN,1,"FLAG",LOG DATE,DA)
"RTN","DSIO1",156,0)
 I TYP?1"F".N D T1("FLAG",3,$E(TYP,2,$L(TYP))) Q
"RTN","DSIO1",157,0)
 ;
"RTN","DSIO1",158,0)
 ; *** GET ALL LOGS
"RTN","DSIO1",159,0)
 ;     ^DSIO(19641.2,"C",LOG DATE,DFN,DA)=""
"RTN","DSIO1",160,0)
 I TYP="" D T1("C",1)
"RTN","DSIO1",161,0)
 Q
"RTN","DSIO1",162,0)
 ;
"RTN","DSIO1",163,0)
T1(IX,FLG,KEY) ; Get Tracking List
"RTN","DSIO1",164,0)
 N RCT,TS,NAME,DATE,DFN,IEN,STRT,END D SORT($G(SORT))
"RTN","DSIO1",165,0)
 S (RCT,TS)=0
"RTN","DSIO1",166,0)
 I FLG=1 D
"RTN","DSIO1",167,0)
 . ; IX: C                   ^DSIO(19641.2,"C",DATE,DFN,DA)=""
"RTN","DSIO1",168,0)
 . S DATE="" F  S DATE=$O(^DSIO(19641.2,"C",DATE),-1) Q:DATE=""  D
"RTN","DSIO1",169,0)
 . . S DFN=0 F  S DFN=$O(^DSIO(19641.2,"C",DATE,DFN)) Q:'DFN  D
"RTN","DSIO1",170,0)
 . . . S IEN="" F  S IEN=$O(^DSIO(19641.2,"C",DATE,DFN,IEN),-1) Q:IEN=""  D T2
"RTN","DSIO1",171,0)
 I FLG=2!(FLG=3) S DFN=$$M(KEY) D
"RTN","DSIO1",172,0)
 . ; IX: B, FLAG             ^DSIO(19641.2,DFN,1,IX,DATE,DA)=""
"RTN","DSIO1",173,0)
 . F  S DFN=$O(^DSIO(19641.2,DFN)) Q:DFN'=KEY  D
"RTN","DSIO1",174,0)
 . . S DATE="" F  S DATE=$O(^DSIO(19641.2,DFN,1,IX,DATE),-1) Q:DATE=""  D
"RTN","DSIO1",175,0)
 . . . S IEN="" F  S IEN=$O(^DSIO(19641.2,DFN,1,IX,DATE,IEN),-1) Q:IEN=""  D T2
"RTN","DSIO1",176,0)
 I FLG=4!(FLG=5) D
"RTN","DSIO1",177,0)
 . ; IX: TRACKING, FLAGGED   ^DSIO(19641.2,IX,PATIENT-NAME,DFN,DA)=""
"RTN","DSIO1",178,0)
 . S NAME="" F  S NAME=$O(^DSIO(19641.2,IX,NAME)) Q:NAME=""  D
"RTN","DSIO1",179,0)
 . . S DFN=0 F  S DFN=$O(^DSIO(19641.2,IX,NAME,DFN)) Q:'DFN  D
"RTN","DSIO1",180,0)
 . . . S IEN="" F  S IEN=$O(^DSIO(19641.2,IX,NAME,DFN,IEN),-1) Q:IEN=""  D T2
"RTN","DSIO1",181,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO1",182,0)
 Q
"RTN","DSIO1",183,0)
 ;
"RTN","DSIO1",184,0)
T2 ; Continue
"RTN","DSIO1",185,0)
 S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO1",186,0)
 S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO1",187,0)
 D TGET(FLG)
"RTN","DSIO1",188,0)
 Q
"RTN","DSIO1",189,0)
 ;
"RTN","DSIO1",190,0)
TGET(F) ; Return Unique String of Data
"RTN","DSIO1",191,0)
 N OUT,LINE,FLD
"RTN","DSIO1",192,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",",".01;.02;.03;.04","IE","OUT")
"RTN","DSIO1",193,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO1",194,0)
 ;
"RTN","DSIO1",195,0)
 ; L^IEN^TRACKING DT(E)^DFN^LASTNAME,FIRSTNAME^USER^ACTION^SOURCE^REASON|REASON
"RTN","DSIO1",196,0)
 ; C^IEN^COMMENT
"RTN","DSIO1",197,0)
 I F=1 D TG0    ; ALL
"RTN","DSIO1",198,0)
 I F=2 D TG0    ; ALL LOGS FOR A PATIENT
"RTN","DSIO1",199,0)
 I F=3 D TG0    ; ALL FLAGGED LOGS FOR A PATIENT
"RTN","DSIO1",200,0)
 ;
"RTN","DSIO1",201,0)
 ; P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^EDD^OB^PLANNED DELV LOC^
"RTN","DSIO1",202,0)
 ; CURRENTLY PREGNANT^CURRENTLY LACATING^LAST CONTACT DATE^
"RTN","DSIO1",203,0)
 ; NEXT CONTACT DATE^NEXT CHECKLIST DATE
"RTN","DSIO1",204,0)
 I F=4 D TG4    ; TRACKING
"RTN","DSIO1",205,0)
 ;
"RTN","DSIO1",206,0)
 ; P^DFN^LASTNAME,FIRSTNAME^LAST 4^DOB^PHONE^REASON
"RTN","DSIO1",207,0)
 I F=5 D TG5    ; FLAGGED
"RTN","DSIO1",208,0)
 Q
"RTN","DSIO1",209,0)
 ;
"RTN","DSIO1",210,0)
TG0 ; 1,2,3
"RTN","DSIO1",211,0)
 N STR
"RTN","DSIO1",212,0)
 S STR="L^"_IEN_U
"RTN","DSIO1",213,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.01,"I"),"5ZS")_U          ; TRACKING DATE
"RTN","DSIO1",214,0)
 S STR=STR_DFN_U                                       ; DFN
"RTN","DSIO1",215,0)
 S STR=STR_$$NAME^DSIO2($$GET1^DIQ(2,DFN,.01))_U       ; PATIENT
"RTN","DSIO1",216,0)
 S STR=STR_$$NAME^DSIO2(FLD(.03,"E"))_U                ; USER
"RTN","DSIO1",217,0)
 S STR=STR_FLD(.02,"I")_U                              ; ACTION
"RTN","DSIO1",218,0)
 S STR=STR_FLD(.04,"I")_U                              ; SOURCE
"RTN","DSIO1",219,0)
 S STR=STR_$$RES                                       ; REASON
"RTN","DSIO1",220,0)
 S @RET@(RCT,0)=STR D COM                              ; COMMENTS
"RTN","DSIO1",221,0)
 Q
"RTN","DSIO1",222,0)
TG4 ; 4
"RTN","DSIO1",223,0)
 N SSN,DOB,PHONE,EDD,OB,LOC,PREG,LAC,STR
"RTN","DSIO1",224,0)
 D TGV
"RTN","DSIO1",225,0)
 S STR="P^"_DFN_U
"RTN","DSIO1",226,0)
 S STR=STR_$$NAME^DSIO2($$GET1^DIQ(2,DFN,.01))_U       ; PATIENT
"RTN","DSIO1",227,0)
 S STR=STR_SSN_U                                       ; LAST FOUR
"RTN","DSIO1",228,0)
 S STR=STR_DOB_U                                       ; BIRTH DATE
"RTN","DSIO1",229,0)
 S STR=STR_PHONE_U                                     ; PHONE
"RTN","DSIO1",230,0)
 S STR=STR_EDD_U                                       ; ESTIMATED DATE OF DELIVERY
"RTN","DSIO1",231,0)
 S STR=STR_OB_U                                        ; OB
"RTN","DSIO1",232,0)
 S STR=STR_LOC_U                                       ; PLANNED DELIVERY LOCATION
"RTN","DSIO1",233,0)
 S STR=STR_PREG_U                                      ; CURRENTLY PREGNANT
"RTN","DSIO1",234,0)
 S STR=STR_LAC_U                                       ; CURRENTLY LACTATING
"RTN","DSIO1",235,0)
 S STR=STR_$$FMTE^XLFDT($$GET1^DIQ(19641,DFN_",",.05,"I"),"5ZS")_U    ; LAST CONTACT DATE
"RTN","DSIO1",236,0)
 S STR=STR_$$FMTE^XLFDT($$GET1^DIQ(19641,DFN_",",.03,"I"),"5ZS")_U    ; NEXT CONTACT DATE
"RTN","DSIO1",237,0)
 S STR=STR_$$FMTE^XLFDT($$GET1^DIQ(19641,DFN_",",.06,"I"),"5ZS")      ; NEXT CHECKLIST DATE
"RTN","DSIO1",238,0)
 S @RET@(RCT)=STR
"RTN","DSIO1",239,0)
 Q
"RTN","DSIO1",240,0)
TG5 ; 5
"RTN","DSIO1",241,0)
 N SSN,DOB,PHONE,EDD,OB,LOC,PREG,LAC,STR
"RTN","DSIO1",242,0)
 D TGV
"RTN","DSIO1",243,0)
 S STR="P^"_DFN_U
"RTN","DSIO1",244,0)
 S STR=STR_$$NAME^DSIO2($$GET1^DIQ(2,DFN,.01))_U       ; PATIENT
"RTN","DSIO1",245,0)
 S STR=STR_SSN_U                                       ; LAST FOUR
"RTN","DSIO1",246,0)
 S STR=STR_DOB_U                                       ; BIRTH DATE
"RTN","DSIO1",247,0)
 S STR=STR_PHONE_U                                     ; PHONE
"RTN","DSIO1",248,0)
 S STR=STR_$$RES                                       ; REASON
"RTN","DSIO1",249,0)
 S @RET@(RCT)=STR
"RTN","DSIO1",250,0)
 Q
"RTN","DSIO1",251,0)
 ;
"RTN","DSIO1",252,0)
TGV ; Get Common Variables
"RTN","DSIO1",253,0)
 S SSN=$$SSN^DPTLK1(DFN) I SSN?.N S SSN=$E(SSN,6,9)
"RTN","DSIO1",254,0)
 S DOB=$$FMTE^XLFDT($$DT^DSIO2($$DOB^DPTLK1(DFN,0)),"5Z")
"RTN","DSIO1",255,0)
 S PHONE=$$GET1^DIQ(2,DFN,.131)
"RTN","DSIO1",256,0)
 S EDD=$$FMTE^XLFDT($$GET1^DIQ(19641.03,$$GET1^DIQ(19641.13,$$PG^DSIO4(DFN)_",",.06,"I")_",",.01,"I"),"5Z")
"RTN","DSIO1",257,0)
 S OB=$$TITLE^XLFSTR($$GET1^DIQ(19641.13,$$PG^DSIO4(DFN)_",",.08))
"RTN","DSIO1",258,0)
 S LOC=$$TITLE^XLFSTR($$GET1^DIQ(19641.13,$$PG^DSIO4(DFN)_",",.09))
"RTN","DSIO1",259,0)
 S PREG=$$PSTAT^DSIO4(DFN),LAC=$$LACT^DSIO4(DFN)
"RTN","DSIO1",260,0)
 Q
"RTN","DSIO1",261,0)
 ;
"RTN","DSIO1",262,0)
RES() ; Reason Multiple
"RTN","DSIO1",263,0)
 N RES,R,STR
"RTN","DSIO1",264,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",","1*","I","RES")
"RTN","DSIO1",265,0)
 S R=$NA(RES) F  S R=$Q(@R) Q:R=""  D
"RTN","DSIO1",266,0)
 . S STR=$G(STR)_$$TITLE^XLFSTR(@R)_"|"
"RTN","DSIO1",267,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO1",268,0)
 ;
"RTN","DSIO1",269,0)
COM ; Comment Multiple
"RTN","DSIO1",270,0)
 N COM,C,CT
"RTN","DSIO1",271,0)
 D GETS^DIQ(19641.24,IEN_","_DFN_",",2,,"COM")
"RTN","DSIO1",272,0)
 S CT=1,C=$NA(COM) F  S C=$Q(@C) Q:C=""  D
"RTN","DSIO1",273,0)
 . Q:$QL(C)<4
"RTN","DSIO1",274,0)
 . S @RET@(RCT,CT)="C^"_IEN_U_@C,CT=CT+1
"RTN","DSIO1",275,0)
 Q
"RTN","DSIO1",276,0)
 ;
"RTN","DSIO1",277,0)
REC(RET,DFN,ACT,RES,COM,SOR) ; RPC: DSIO CREATE TRACKING LOG
"RTN","DSIO1",278,0)
 ;
"RTN","DSIO1",279,0)
 ; MCC DASHBOARD PURPOSE -  TO CHANGE THE TRACKING STATUS OF A PATIENT
"RTN","DSIO1",280,0)
 ;
"RTN","DSIO1",281,0)
 ; ACT: ACTION    INPUT PARAMETER:
"RTN","DSIO1",282,0)
 ;   0: STOP           DFN : PATIENT NUMBER
"RTN","DSIO1",283,0)
 ;   1: START          ACT : ACTION (0:STOP,1:START,2:FLAG,3:REJECT,4:ACCEPT)
"RTN","DSIO1",284,0)
 ;   2: FLAG           RES : REASON  - #^#^#
"RTN","DSIO1",285,0)
 ;   3: REJECT         COM : COMMENT - ARRAY
"RTN","DSIO1",286,0)
 ;   4: ACCEPT         SOR : SOURCE  - DEFAULT IS DASHBOARD
"RTN","DSIO1",287,0)
 ;
"RTN","DSIO1",288,0)
 ; RETURN: -1^ERROR OR IEN
"RTN","DSIO1",289,0)
 ;
"RTN","DSIO1",290,0)
 N DSIOSILENT,DIC,DA,X,Y,DLAYGO,IPT,IEN,I,%X,%Y
"RTN","DSIO1",291,0)
 S DSIOSILENT=1,RET=-1
"RTN","DSIO1",292,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO1",293,0)
 S DLAYGO=19641.2,DIC="^DSIO(19641.2,",DIC(0)="XL",X="`"_DFN
"RTN","DSIO1",294,0)
 D ^DIC I +Y<1 S RET="-1^Failed to create log." Q
"RTN","DSIO1",295,0)
 ; *** TRACKING STATUS/EVENT
"RTN","DSIO1",296,0)
 S ACT=$E($G(ACT),1) S ACT=$S(ACT?1N:ACT,1:"")
"RTN","DSIO1",297,0)
 I ACT="" S RET="-1^EVENT TYPE could not be identified." Q
"RTN","DSIO1",298,0)
 I ACT<0!(ACT>4) S RET="-1^EVENT TYPE reference number is invalid." Q
"RTN","DSIO1",299,0)
 S SOR=$$UP^XLFSTR($G(SOR,"DASHBOARD"))
"RTN","DSIO1",300,0)
 S IPT(19641.22,"?+1,",.01)=SOR
"RTN","DSIO1",301,0)
 S:SOR="DASHBOARD"!(SOR="FILEMAN") IPT(19641.22,"?+1,",.02)=1
"RTN","DSIO1",302,0)
 S DLAYGO=19641.22 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",303,0)
 S IPT(19641.24,"+1,"_DFN_",",.01)=$$NOW^XLFDT
"RTN","DSIO1",304,0)
 S IPT(19641.24,"+1,"_DFN_",",.02)=ACT
"RTN","DSIO1",305,0)
 S IPT(19641.24,"+1,"_DFN_",",.03)=DUZ
"RTN","DSIO1",306,0)
 S IPT(19641.24,"+1,"_DFN_",",.04)=SOR
"RTN","DSIO1",307,0)
 S DLAYGO=19641.24 D UPDATE^DIE(,"IPT","IEN") K IPT
"RTN","DSIO1",308,0)
 I '$G(IEN(1)) S RET="-1^Failed to create log." Q
"RTN","DSIO1",309,0)
 ; *** UPDATE THE DSIO PATIENT FILE
"RTN","DSIO1",310,0)
 S IPT(19641,DFN_",",.02)=$S(ACT=3:0,ACT=4:1,1:ACT)
"RTN","DSIO1",311,0)
 D FILE^DIE(,"IPT") K IPT
"RTN","DSIO1",312,0)
 ; *** BUILD THE REASON MULTIPLE
"RTN","DSIO1",313,0)
 S RES=$G(RES) F I=1:1:$L(RES,U) D
"RTN","DSIO1",314,0)
 . S IPT(19641.241,"?+1,"_IEN(1)_","_DFN_",",.01)=$P(RES,U,I)
"RTN","DSIO1",315,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",316,0)
 ; *** SET THE COMMENT WORD PROCESSING FIELD
"RTN","DSIO1",317,0)
 ;     WE CAN'T PROCESS THE ZERO NODE WITH WP^DIE SO INSTEAD OF MERGING
"RTN","DSIO1",318,0)
 ;     WE CAN USE %XY^%RCR TO CONCATENATE A SUBSCRIPT
"RTN","DSIO1",319,0)
 I $D(COM)>9 K ^TMP($J,"DSIO REC") D
"RTN","DSIO1",320,0)
 . S %X="COM(",%Y="^TMP($J,""DSIO REC"",1" D %XY^%RCR
"RTN","DSIO1",321,0)
 . D WP^DIE(19641.24,IEN(1)_","_DFN_",",2,"K","^TMP($J,""DSIO REC"")")
"RTN","DSIO1",322,0)
 . K ^TMP($J,"DSIO REC")
"RTN","DSIO1",323,0)
 S RET=$S(SOR="DASHBOARD":1,1:IEN(1))
"RTN","DSIO1",324,0)
 Q
"RTN","DSIO1",325,0)
 ;
"RTN","DSIO1",326,0)
 ; -------------------------------- SELECTION ---------------------------------
"RTN","DSIO1",327,0)
 ;
"RTN","DSIO1",328,0)
SELECT(RET,TYP) ; RPC: DSIO SELECT LIST
"RTN","DSIO1",329,0)
 ;
"RTN","DSIO1",330,0)
 ; RETURN DROP DOWN LIST
"RTN","DSIO1",331,0)
 ;
"RTN","DSIO1",332,0)
 ; INPUT PARAMETER:
"RTN","DSIO1",333,0)
 ;  TYP : 'S' FOR FILE 19641.22
"RTN","DSIO1",334,0)
 ;  TYP : 'R' FOR FILE 19641.23
"RTN","DSIO1",335,0)
 ;
"RTN","DSIO1",336,0)
 ;  LETTER^ENTRY^A : ADD AN ENTRY TO ONE OF THE ABOVE FILES
"RTN","DSIO1",337,0)
 ;  LETTER^ENTRY^D : DELETE AN ENTRY FROM ONE OF THE ABOVE FILES
"RTN","DSIO1",338,0)
 ;
"RTN","DSIO1",339,0)
 ;  RETURN LIST FOR SUCCESS OR RET(0)="-1^MESSAGE" FOR FAILURE
"RTN","DSIO1",340,0)
 ;
"RTN","DSIO1",341,0)
 N FILE,FLD,DIK,DA,X,Y,IPT,I,CT
"RTN","DSIO1",342,0)
 S RET(0)="0^No entries found.",TYP=$$UP^XLFSTR($G(TYP)) Q:TYP=""
"RTN","DSIO1",343,0)
 S FILE=$S($P(TYP,U)="S":19641.22,$P(TYP,U)="R":19641.23,1:"") Q:FILE=""
"RTN","DSIO1",344,0)
 S FLD=$S(FILE=19641.22:"@;.01;.02I",1:"@;.01")
"RTN","DSIO1",345,0)
 I $P(TYP,U,3)="D" D
"RTN","DSIO1",346,0)
 . S DIK="^DSIO("_FILE_","
"RTN","DSIO1",347,0)
 . S DA=$$FIND1^DIC(FILE,,"X",$$UP^XLFSTR($P(TYP,U,2))) D:DA ^DIK
"RTN","DSIO1",348,0)
 I $P(TYP,U,3)="A" D
"RTN","DSIO1",349,0)
 . S IPT(FILE,"?+1,",.01)=$$UP^XLFSTR($P(TYP,U,2))
"RTN","DSIO1",350,0)
 . D UPDATE^DIE(,"IPT")
"RTN","DSIO1",351,0)
 S I=0,CT="" F  S CT=$O(^DSIO(FILE,"B",CT)) Q:CT=""  D
"RTN","DSIO1",352,0)
 . Q:$$GET1^DIQ(FILE,$O(^DSIO(FILE,"B",CT,""))_",",.02,"I")
"RTN","DSIO1",353,0)
 . S RET(I)=$$TITLE^XLFSTR(CT),I=I+1
"RTN","DSIO1",354,0)
 Q
"RTN","DSIO1",355,0)
 ;
"RTN","DSIO1",356,0)
 ; ----------------------------- EXTERNAL ENTITY ------------------------------
"RTN","DSIO1",357,0)
 ;
"RTN","DSIO1",358,0)
SENT(RET,IEN,NAME,TYP,ACT,PCON,ADDR,PHONE,AB) ; RPC: DSIO SAVE EXTERNAL ENTITY
"RTN","DSIO1",359,0)
 ;
"RTN","DSIO1",360,0)
 ;  ADDR = ARRAY OF LABELS: 1,2,3,CITY,STATE,ZIP
"RTN","DSIO1",361,0)
 ; PHONE = ARRAY OF LABLES: H,MC,WP,FAX
"RTN","DSIO1",362,0)
 ;
"RTN","DSIO1",363,0)
 ; RETURN:
"RTN","DSIO1",364,0)
 ; IEN OR -1^MESSAGE
"RTN","DSIO1",365,0)
 ;
"RTN","DSIO1",366,0)
 D:'$G(AB) AB^DSIO2("NAME,TYP,ACT,PCON,ADDR,PHONE")
"RTN","DSIO1",367,0)
 N IPT,CT,LOC,VAL,ZFLG,DIK,DA,X,Y,PFLG,FLG
"RTN","DSIO1",368,0)
 S RET=-1,IEN=$S($G(IEN):IEN,1:"?+1")
"RTN","DSIO1",369,0)
 S NAME=$$UP^XLFSTR($G(NAME))
"RTN","DSIO1",370,0)
 I IEN,NAME'="",NAME'="@" D  Q:$P(RET,U,2)'=""
"RTN","DSIO1",371,0)
 . Q:'$D(^DSIO(19641.1,"B",NAME))
"RTN","DSIO1",372,0)
 . Q:$O(^DSIO(19641.1,"B",NAME,""))=IEN
"RTN","DSIO1",373,0)
 . S RET="-1^Duplicate name not allowed."
"RTN","DSIO1",374,0)
 I IEN,NAME="@" D  Q
"RTN","DSIO1",375,0)
 . S DA=IEN,DIK="^DSIO(19641.1," D ^DIK I '$D(^DSIO(19641.1,IEN)) S RET=0
"RTN","DSIO1",376,0)
 S:NAME'=""&(NAME'="@") IPT(19641.1,IEN_",",.01)=NAME         ; NAME
"RTN","DSIO1",377,0)
 S:$G(TYP)'=""&($G(TYP)'="@") IPT(19641.1,IEN_",",.02)=TYP    ; TYPE
"RTN","DSIO1",378,0)
 S:$G(ACT)'="" IPT(19641.1,IEN_",",.03)=ACT                   ; INACTIVE
"RTN","DSIO1",379,0)
 S:$G(PCON)'="" IPT(19641.1,IEN_",",.04)=PCON                 ; PRIMARY CONTACT
"RTN","DSIO1",380,0)
 I $D(ADDR) D                                           ; ADDRESS
"RTN","DSIO1",381,0)
 . S CT=$NA(ADDR) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO1",382,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)),VAL=$P(@CT,U,2)
"RTN","DSIO1",383,0)
 . . I LOC[1 S IPT(19641.1,IEN_",",1.1)=VAL Q                 ; STREET ADDRESS 1
"RTN","DSIO1",384,0)
 . . I LOC[2 S IPT(19641.1,IEN_",",1.2)=VAL Q                 ; STREET ADDRESS 2
"RTN","DSIO1",385,0)
 . . I LOC[3 S IPT(19641.1,IEN_",",1.3)=VAL Q                 ; STREET ADDRESS 3
"RTN","DSIO1",386,0)
 . . I LOC="CITY" S IPT(19641.1,IEN_",",1.4)=VAL Q            ; CITY
"RTN","DSIO1",387,0)
 . . I LOC="STATE",$$FIND1^DIC(5,,"XM",VAL) D
"RTN","DSIO1",388,0)
 . . . S IPT(19641.1,IEN_",",1.5)=$$FIND1^DIC(5,,"XM",VAL) Q  ; STATE
"RTN","DSIO1",389,0)
 . . I LOC="ZIP" S ZFLG=0 D                                   ; ZIP CODE
"RTN","DSIO1",390,0)
 . . . S VAL=$TR(VAL,"-") Q:VAL'?.N
"RTN","DSIO1",391,0)
 . . . S ZFLG=1,IPT(19641.1,IEN_",",1.6)=VAL
"RTN","DSIO1",392,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO1",393,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO1",394,0)
 I $D(PHONE) D                                          ; PHONE
"RTN","DSIO1",395,0)
 . S CT=$NA(PHONE) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO1",396,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)) Q:"^H^MC^WP^FAX^O^"'[(U_LOC_U)
"RTN","DSIO1",397,0)
 . . S PFLG=0
"RTN","DSIO1",398,0)
 . . S VAL=$TR($P(@CT,U,2),"()- ") Q:VAL=""!(VAL'?.N)
"RTN","DSIO1",399,0)
 . . S IPT(19641.15,"?+1,"_IEN_",",.01)=LOC                   ; PHONE TYPE
"RTN","DSIO1",400,0)
 . . S IPT(19641.15,"?+1,"_IEN_",",.02)=VAL                   ; NUMBER
"RTN","DSIO1",401,0)
 . . S PFLG=1 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO1",402,0)
 I $D(PFLG),'PFLG S FLG=1
"RTN","DSIO1",403,0)
 I $D(ZFLG),'ZFLG S FLG=$G(FLG)_2
"RTN","DSIO1",404,0)
 Q:'$D(FLG)
"RTN","DSIO1",405,0)
 S RET=RET_"^Record saved but "_$S(FLG=1:"phone number(s)",FLG=2:"ZIP code",1:"phone number(s) and ZIP code")_" not updated."
"RTN","DSIO1",406,0)
 Q
"RTN","DSIO1",407,0)
 ;
"RTN","DSIO1",408,0)
RENT(RET,TYP,SORT) ; RPC: DSIO GET EXTERNAL ENTITY
"RTN","DSIO1",409,0)
 ;
"RTN","DSIO1",410,0)
 ; TYP - F        (FACILITIES)
"RTN","DSIO1",411,0)
 ;       P        (PROVIDERS)
"RTN","DSIO1",412,0)
 ;       NULL     (ALL ENTITIES)
"RTN","DSIO1",413,0)
 ;       IEN/NAME (SINGLE ENTITY)
"RTN","DSIO1",414,0)
 ;
"RTN","DSIO1",415,0)
 ; IEN^NAME^TYPE^INACTIVE^PRIMARY PROVIDER NAME^STREET ADDRESS 1
"RTN","DSIO1",416,0)
 ; ^STREET ADDRESS 2^STREET ADDRESS 3^CITY^STATE^ZIP CODE
"RTN","DSIO1",417,0)
 ; ^PHONE NUMBER (HOME)^PHONE NUMBER (OFFICE)^PHONE NUMBER (CELL)^FAX NUMBER
"RTN","DSIO1",418,0)
 ;
"RTN","DSIO1",419,0)
 S RET=$NA(^TMP($J,"DSIO RENT")) K @RET S @RET@(0)="0^No entries found."
"RTN","DSIO1",420,0)
 S TYP=$$UP^XLFSTR($G(TYP))
"RTN","DSIO1",421,0)
 ; *** SINGLE (IEN)
"RTN","DSIO1",422,0)
 I TYP,$D(^DSIO(19641.1,TYP)) D R1("B",TYP) Q
"RTN","DSIO1",423,0)
 ; *** FACILITIES/PROVIDERS
"RTN","DSIO1",424,0)
 I "^F^P^"[(U_TYP_U) D R1(TYP) Q
"RTN","DSIO1",425,0)
 ; *** SINGLE (NAME)
"RTN","DSIO1",426,0)
 I TYP'="",$D(^DSIO(19641.1,"B",TYP)) D R1("B",$O(^DSIO(19641.1,"B",TYP,""))) Q
"RTN","DSIO1",427,0)
 ; *** ALL
"RTN","DSIO1",428,0)
 I TYP="" D R1("B")
"RTN","DSIO1",429,0)
 Q
"RTN","DSIO1",430,0)
 ;
"RTN","DSIO1",431,0)
R1(IX,KEY) ; Get Entity List
"RTN","DSIO1",432,0)
 N RCT,TS,CT,IEN,STRT,END D SORT($G(SORT))
"RTN","DSIO1",433,0)
 S KEY=$$GET1^DIQ(19641.1,$G(KEY)_",",.01)
"RTN","DSIO1",434,0)
 S (RCT,TS)=0,CT=$E(KEY,1,($L(KEY)-1))_$$M($E(KEY,$L(KEY)))
"RTN","DSIO1",435,0)
 F  S CT=$O(^DSIO(19641.1,IX,CT)) Q:CT=""  Q:$$KEY(CT,KEY)  D
"RTN","DSIO1",436,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO1",437,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO1",438,0)
 . S IEN=$O(^DSIO(19641.1,IX,CT,""))
"RTN","DSIO1",439,0)
 . S @RET@(RCT)=$$RFLDS(IEN)
"RTN","DSIO1",440,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO1",441,0)
 Q
"RTN","DSIO1",442,0)
 ;
"RTN","DSIO1",443,0)
RFLDS(IEN) ; Return Transformed Fields
"RTN","DSIO1",444,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO1",445,0)
 D GETS^DIQ(19641.1,IEN_",","*","IE","OUT")
"RTN","DSIO1",446,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO1",447,0)
 S STR=IEN_U
"RTN","DSIO1",448,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"E"))_U          ; NAME
"RTN","DSIO1",449,0)
 S STR=STR_FLD(.02,"I")_U                        ; TYPE
"RTN","DSIO1",450,0)
 S STR=STR_+FLD(.03,"I")_U                       ; INACTIVE
"RTN","DSIO1",451,0)
 S STR=STR_$$NAME^DSIO2(FLD(.04,"E"))_U          ; PRIMARY CONTACT
"RTN","DSIO1",452,0)
 S STR=STR_FLD(1.1,"I")_U                        ; STREET 1
"RTN","DSIO1",453,0)
 S STR=STR_FLD(1.2,"I")_U                        ; STREET 2
"RTN","DSIO1",454,0)
 S STR=STR_FLD(1.3,"I")_U                        ; STREET 3
"RTN","DSIO1",455,0)
 S STR=STR_FLD(1.4,"I")_U                        ; CITY
"RTN","DSIO1",456,0)
 S STR=STR_$$GET1^DIQ(5,FLD(1.5,"I")_",",1)_U    ; STATE
"RTN","DSIO1",457,0)
 S STR=STR_FLD(1.6,"I")_U                        ; ZIP CODE
"RTN","DSIO1",458,0)
 S STR=STR_$$PHONE(19641.1,IEN)                  ; PHONE NUMBERS
"RTN","DSIO1",459,0)
 Q STR
"RTN","DSIO1",460,0)
 ;
"RTN","DSIO1",461,0)
PHONE(FLE,IEN) ; Return Phone List
"RTN","DSIO1",462,0)
 ;           H ^ WP ^ MC ^ FAX
"RTN","DSIO1",463,0)
 N STR,OUT,CT,F,P
"RTN","DSIO1",464,0)
 S STR="^^^" D GETS^DIQ(FLE,IEN_",","2*","I","OUT")
"RTN","DSIO1",465,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO1",466,0)
 . I $QS(CT,3)=.01 S F=@CT Q
"RTN","DSIO1",467,0)
 . I $D(F) D
"RTN","DSIO1",468,0)
 . . S P=$S(F="H":1,F="WP":2,F="MC":3,F="FAX":4,1:"") K F
"RTN","DSIO1",469,0)
 . . S:P $P(STR,U,P)=$$FORMAT^DSIO2($TR(@CT,"()- "))
"RTN","DSIO1",470,0)
 Q STR
"RTN","DSIO1",471,0)
 ;
"RTN","DSIO1",472,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO1",473,0)
 ;
"RTN","DSIO1",474,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO1",475,0)
 D S^DSIO2(SORT)
"RTN","DSIO1",476,0)
 Q
"RTN","DSIO1",477,0)
 ;
"RTN","DSIO1",478,0)
M(VAL) ; Minus One
"RTN","DSIO1",479,0)
 I VAL?.N S VAL=VAL-1 Q VAL
"RTN","DSIO1",480,0)
 I VAL?.A Q $$ALPHA(VAL)
"RTN","DSIO1",481,0)
 Q VAL
"RTN","DSIO1",482,0)
 ;
"RTN","DSIO1",483,0)
ALPHA(AL) ; Return the Prior Alpha
"RTN","DSIO1",484,0)
 N VAL,I,X
"RTN","DSIO1",485,0)
 S VAL="ABCDEFGHIJKLMNOPQRSTUVWXYZ"
"RTN","DSIO1",486,0)
 F I=1:1:26 I $E(VAL,I)=AL S X=I-1 Q
"RTN","DSIO1",487,0)
 Q $E(VAL,$G(X))
"RTN","DSIO1",488,0)
 ;
"RTN","DSIO1",489,0)
KEY(VAL,KEY) ; Value to Key
"RTN","DSIO1",490,0)
 I KEY="" Q 0
"RTN","DSIO1",491,0)
 I $E(VAL,1,$L(KEY))'=KEY Q 1
"RTN","DSIO1",492,0)
 Q 0
"RTN","DSIO1",493,0)
 ;
"RTN","DSIO1",494,0)
PAR ; Check Parameters
"RTN","DSIO1",495,0)
 I $$GET^XPAR("SYS","DSIO EVAL LABS NOW") D LAB^DSIO5
"RTN","DSIO1",496,0)
 I $$GET^XPAR("SYS","DSIO EVAL PROBLEMS NOW") D PROBLEM^DSIO5
"RTN","DSIO1",497,0)
 I $$GET^XPAR("SYS","DSIO EVAL CONSULTS NOW") D CONSULT^DSIO5
"RTN","DSIO1",498,0)
 Q
"RTN","DSIO10")
0^6^B106816534
"RTN","DSIO10",1,0)
DSIO10 ;DSS/TFF - DSIO OBSERVATION;06/28/2013 15:19
"RTN","DSIO10",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO10",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO10",4,0)
 ;
"RTN","DSIO10",5,0)
 ; External References      DBIA#
"RTN","DSIO10",6,0)
 ; -------------------      -----
"RTN","DSIO10",7,0)
 ;
"RTN","DSIO10",8,0)
 ;
"RTN","DSIO10",9,0)
 ;
"RTN","DSIO10",10,0)
 Q
"RTN","DSIO10",11,0)
 ;
"RTN","DSIO10",12,0)
OBS(RET,IEN,DFN,DATES,OBJECT,REF,REL,CAT,CODE,VAL,VALCD,NEG,QUAL,NAR,AB) ; RPC: DSIO SAVE OBSERVATION
"RTN","DSIO10",13,0)
 ;
"RTN","DSIO10",14,0)
 ;    IEN = IF NOT NULL THEN EDIT
"RTN","DSIO10",15,0)
 ;    DFN = PATIENT
"RTN","DSIO10",16,0)
 ;  DATES = OBSERVATION^START^END
"RTN","DSIO10",17,0)
 ; OBJECT = OBJECTS OF OBSERVATION (ARRAY)
"RTN","DSIO10",18,0)
 ;          FB.IEN (FETUS/BABY)
"RTN","DSIO10",19,0)
 ;          PG.IEN (PREGNANCY)
"RTN","DSIO10",20,0)
 ;    REF = OBJECTS OF REFERENCE (ARRAY)
"RTN","DSIO10",21,0)
 ;         TIU.IEN (NOTE)
"RTN","DSIO10",22,0)
 ;         IHE.IEN (IHE DOCUMENT)
"RTN","DSIO10",23,0)
 ;    REL = RELATIONSHIP
"RTN","DSIO10",24,0)
 ;    CAT = CATEGORY
"RTN","DSIO10",25,0)
 ;   CODE = SYS NAME^SYS VALUE^CODE^DISPLAY NAME
"RTN","DSIO10",26,0)
 ;    VAL = TYPE^UNIT^VALUE
"RTN","DSIO10",27,0)
 ;  VALCD = SYS NAME^SYS VALUE^CODE^DISPLAY NAME
"RTN","DSIO10",28,0)
 ;    NEG = NEGATION (T/F)
"RTN","DSIO10",29,0)
 ;   QUAL = QUALIFIERS (ARRAY OF QUALIFIER^VALUE)
"RTN","DSIO10",30,0)
 ;    NAR = NARRATIVE (ARRAY OF TEXT)
"RTN","DSIO10",31,0)
 ;  **SYS = $S(SYS="LNC":"LOINC",SYS="SCT":"SNOMED-CT",1:SYS)
"RTN","DSIO10",32,0)
 ;
"RTN","DSIO10",33,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO10",34,0)
 ;
"RTN","DSIO10",35,0)
 N OBSD,STRT,END,VTYP,VUNT,SYS,CDSV,CDIS,VALCDS,VALCDSV,VALCDIS,IENS,DIK
"RTN","DSIO10",36,0)
 N DA,X,Y,IPT,CT,%X,%Y
"RTN","DSIO10",37,0)
 I '$G(IEN),'$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO10",38,0)
 S DATES=$G(DATES),OBSD=$P(DATES,U),STRT=$P(DATES,U,2),END=$P(DATES,U,3)
"RTN","DSIO10",39,0)
 S VAL=$G(VAL)
"RTN","DSIO10",40,0)
 S VTYP=$P(VAL,U)                                ; VALUE TYPE
"RTN","DSIO10",41,0)
 S VUNT=$P(VAL,U,2)                              ; VALUE UNIT
"RTN","DSIO10",42,0)
 S VAL=$P(VAL,U,3)                               ; VALUE
"RTN","DSIO10",43,0)
 S NEG=$$UP^XLFSTR($E($G(NEG),1)),NEG=$S(NEG="Y"!(NEG="T")!(NEG=1):1,1:0)  ; NEGATION
"RTN","DSIO10",44,0)
 D:'$G(AB) AB^DSIO2("OBSD,STRT,END,REL,CAT,VAL,VTYP,VUNT")
"RTN","DSIO10",45,0)
 S:$G(OBSD)'="@" OBSD=$$DT^DSIO2($G(OBSD))       ; OBSERVATION DATE
"RTN","DSIO10",46,0)
 S:$G(STRT)'="@" STRT=$$DT^DSIO2($G(STRT))       ; START
"RTN","DSIO10",47,0)
 S:$G(END)'="@" END=$$DT^DSIO2($G(END))          ; END
"RTN","DSIO10",48,0)
 ; *** CODE (SYS^SYSVAL^CODE^DISPLAY NAME)
"RTN","DSIO10",49,0)
 S CODE=$G(CODE)
"RTN","DSIO10",50,0)
 S SYS=$$UP^XLFSTR($P(CODE,U))                   ; SYSTEM NAME
"RTN","DSIO10",51,0)
 S SYS=$S(SYS="LNC":"LOINC",SYS="SCT":"SNOMED-CT",1:SYS)
"RTN","DSIO10",52,0)
 S CDSV=$P(CODE,U,2)                             ; SYSTEM VALUE
"RTN","DSIO10",53,0)
 S CDIS=$P(CODE,U,4)                             ; DISPLAY NAME
"RTN","DSIO10",54,0)
 S CODE=$P(CODE,U,3)                             ; CODE
"RTN","DSIO10",55,0)
 I CODE="@"!($G(AB)&('$G(IEN))&(CODE="")) S RET="-1^Code is required" Q
"RTN","DSIO10",56,0)
 ; *** VALUE CODE (SYS^SYSVAL^CODE^DISPLAY NAME)
"RTN","DSIO10",57,0)
 S VALCD=$G(VALCD)
"RTN","DSIO10",58,0)
 S VALCDS=$$UP^XLFSTR($P(VALCD,U))               ; CODING SYSTEM
"RTN","DSIO10",59,0)
 S VALCDS=$S(VALCDS="LNC":"LOINC",VALCDS="SCT":"SNOMED-CT",1:VALCDS)
"RTN","DSIO10",60,0)
 S VALCDSV=$P(VALCD,U,2)                         ; SYSTEM VALUE
"RTN","DSIO10",61,0)
 S VALCDIS=$P(VALCD,U,4)                         ; DISPLAY NAME
"RTN","DSIO10",62,0)
 S VALCD=$P(VALCD,U,3)                           ; CODE
"RTN","DSIO10",63,0)
 I $G(IEN) S IENS=IEN_"," D  Q:$D(RET)
"RTN","DSIO10",64,0)
 . I $$GET1^DIQ(19641.12,IEN_",",.09,"I") D  Q
"RTN","DSIO10",65,0)
 . . S RET="-1^This observation was already pushed and cannot be changed."
"RTN","DSIO10",66,0)
 . I OBSD="@" S DIK="^DSIO(19641.12,",DA=IEN D ^DIK S RET=1
"RTN","DSIO10",67,0)
 I '$D(IENS) S IENS="+1," D
"RTN","DSIO10",68,0)
 . S:OBSD=""!(OBSD="@") OBSD=$$NOW^XLFDT
"RTN","DSIO10",69,0)
 . S IPT(19641.12,IENS,.01)=OBSD                           ; DATE OF OBSERVATION
"RTN","DSIO10",70,0)
 S:$G(DFN) IPT(19641.12,IENS,.02)=DFN                      ; PATIENT
"RTN","DSIO10",71,0)
 S:$G(CAT)'="" IPT(19641.12,IENS,.03)=CAT                  ; CATEGORY
"RTN","DSIO10",72,0)
 S:$G(REL)'="" IPT(19641.12,IENS,.04)=REL                  ; RELATIONSHIP
"RTN","DSIO10",73,0)
 S:STRT'="" IPT(19641.12,IENS,.05)=STRT                    ; START
"RTN","DSIO10",74,0)
 S:END'="" IPT(19641.12,IENS,.06)=END                      ; END
"RTN","DSIO10",75,0)
 S IPT(19641.12,IENS,.07)=DUZ                              ; UPDATED BY
"RTN","DSIO10",76,0)
 S IPT(19641.12,IENS,.08)=$$NOW^XLFDT                      ; MODIFIED
"RTN","DSIO10",77,0)
 S:VTYP'="" IPT(19641.12,IENS,4.1)=VTYP                    ; VALUE TYPE
"RTN","DSIO10",78,0)
 S:VAL'="" IPT(19641.12,IENS,4.2)=VAL                      ; VALUE
"RTN","DSIO10",79,0)
 S:VUNT'="" IPT(19641.12,IENS,4.3)=VUNT                    ; VALUE UNIT
"RTN","DSIO10",80,0)
 S IPT(19641.12,IENS,4.4)=NEG                              ; NEGATION
"RTN","DSIO10",81,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO10",82,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO10",83,0)
 I SYS'="LOINC",SYS'="SNOMED-CT" D LCODE^DSIO2(CODE,SYS,IEN_";DSIO(19641.12,")
"RTN","DSIO10",84,0)
 ; *** OBJECTS OF OBSERVATION/OBJECTS OF REFERENCE
"RTN","DSIO10",85,0)
 S:'$G(DFN) DFN=$$GET1^DIQ(19641.12,IEN_",",.02,"I")
"RTN","DSIO10",86,0)
 D TOBJ(IEN,DFN,.OBJECT,.REF)
"RTN","DSIO10",87,0)
 ; *** SAVE CODE AND VALUE CODE
"RTN","DSIO10",88,0)
 S IPT(19641.17,"?+1,"_IEN_",",.01)="C"                    ; CODE TYPE
"RTN","DSIO10",89,0)
 S IPT(19641.17,"?+1,"_IEN_",",1)=CODE                     ; CODE
"RTN","DSIO10",90,0)
 S IPT(19641.17,"?+1,"_IEN_",",2)=CDIS                     ; DISPLAY NAME
"RTN","DSIO10",91,0)
 S IPT(19641.17,"?+1,"_IEN_",",3)=SYS                      ; SYSTEM NAME
"RTN","DSIO10",92,0)
 S IPT(19641.17,"?+1,"_IEN_",",4)=CDSV                     ; SYSTEM VALUE
"RTN","DSIO10",93,0)
 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",94,0)
 S IPT(19641.17,"?+1,"_IEN_",",.01)="V"                    ; CODE TYPE
"RTN","DSIO10",95,0)
 S IPT(19641.17,"?+1,"_IEN_",",1)=VALCD                    ; CODE
"RTN","DSIO10",96,0)
 S IPT(19641.17,"?+1,"_IEN_",",2)=VALCDIS                  ; DISPLAY NAME
"RTN","DSIO10",97,0)
 S IPT(19641.17,"?+1,"_IEN_",",3)=VALCDS                   ; SYSTEM NAME
"RTN","DSIO10",98,0)
 S IPT(19641.17,"?+1,"_IEN_",",4)=VALCDSV                  ; SYSTEM VALUE
"RTN","DSIO10",99,0)
 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",100,0)
 ; *** QUALIFIERS
"RTN","DSIO10",101,0)
 S CT=$NA(QUAL) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO10",102,0)
 . S IPT(19641.125,"?+1,"_IEN_",",.01)=$P(@CT,U)
"RTN","DSIO10",103,0)
 . S IPT(19641.125,"?+1,"_IEN_",",.02)=$P(@CT,U,2)
"RTN","DSIO10",104,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",105,0)
 ; *** NARRATIVE
"RTN","DSIO10",106,0)
 I $D(NAR)>9 K ^TMP($J,"DSIO OBS") D
"RTN","DSIO10",107,0)
 . S %X="NAR(",%Y="^TMP($J,""DSIO OBS"",1" D %XY^%RCR
"RTN","DSIO10",108,0)
 . D WP^DIE(19641.12,IEN_",",6,"K","^TMP($J,""DSIO OBS"")")
"RTN","DSIO10",109,0)
 . K ^TMP($J,"DSIO OBS")
"RTN","DSIO10",110,0)
 D OPUSH(DFN,IEN)
"RTN","DSIO10",111,0)
 Q
"RTN","DSIO10",112,0)
 ;
"RTN","DSIO10",113,0)
TOBJ(IEN,DFN,OBJECT,REF) ; Transform Objects of Observation and Reference and Save
"RTN","DSIO10",114,0)
 ;
"RTN","DSIO10",115,0)
 ; OBJECT = OBJECTS OF OBSERVATION (ARRAY)
"RTN","DSIO10",116,0)
 ;          FB.IEN (FETUS/BABY)
"RTN","DSIO10",117,0)
 ;          PG.IEN (PREGNANCY)
"RTN","DSIO10",118,0)
 ;    REF = OBJECTS OF REFERENCE (ARRAY)
"RTN","DSIO10",119,0)
 ;         TIU.IEN (NOTE)
"RTN","DSIO10",120,0)
 ;         IHE.IEN (IHE DOCUMENT)
"RTN","DSIO10",121,0)
 ;
"RTN","DSIO10",122,0)
 N CT,IPT
"RTN","DSIO10",123,0)
 ; *** SET UP OBJECTS OF OBSERVATION
"RTN","DSIO10",124,0)
 S CT=$NA(OBJECT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO10",125,0)
 . S IPT(19641.121,"?+1,"_IEN_",",.01)=$$OBJECT(@CT)
"RTN","DSIO10",126,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",127,0)
 ; *** SAVE OBJECTS OF REFERENCE
"RTN","DSIO10",128,0)
 S CT=$NA(REF) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO10",129,0)
 . S IPT(19641.16,"?+1,"_IEN_",",.01)=$$OBJECT(@CT)
"RTN","DSIO10",130,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",131,0)
 Q
"RTN","DSIO10",132,0)
 ;
"RTN","DSIO10",133,0)
OBJECT(OBJECT) ; Transform External Object to Internal
"RTN","DSIO10",134,0)
 N OBJ,GL
"RTN","DSIO10",135,0)
 S OBJ=$P($G(OBJECT),".")
"RTN","DSIO10",136,0)
 S OBJ=$S(OBJ="FB":"DSIO(19641.112,",OBJ="PG":"DSIO(19641.13,",OBJ="TIU":"TIU(8925,",OBJ="IHE":"DSIO(19641.6,",1:"")
"RTN","DSIO10",137,0)
 I OBJ'="",$P($G(OBJECT),".",2) S GL=U_OBJ_$P($G(OBJECT),".",2)_")" Q:$D(@GL) $P($G(OBJECT),".",2)_";"_OBJ
"RTN","DSIO10",138,0)
 Q ""
"RTN","DSIO10",139,0)
 ;
"RTN","DSIO10",140,0)
OPUSH(DFN,OIEN) ; Push Observation
"RTN","DSIO10",141,0)
 N CODE,X,VAL,IEN,FLE,FLD,INPUT,ROU,TMP,RET,IPT
"RTN","DSIO10",142,0)
 S CODE=$$GETCODE(OIEN,"C",1) Q:CODE=""
"RTN","DSIO10",143,0)
 S (X,VAL)=$$UP^XLFSTR($$GET1^DIQ(19641.12,OIEN_",",4.2)) Q:X=""
"RTN","DSIO10",144,0)
 Q:$$GET1^DIQ(19641.12,OIEN_",",.09,"I")'=""      ; *** ALREADY PUSHED
"RTN","DSIO10",145,0)
 S IEN=$O(^DSIO(19641.123,"C",CODE,"")) Q:IEN=""
"RTN","DSIO10",146,0)
 S FLE=$$GET1^DIQ(19641.123,IEN_",",.04,"I")
"RTN","DSIO10",147,0)
 S FLD=$$GET1^DIQ(19641.123,IEN_",",.05,"I")
"RTN","DSIO10",148,0)
 S INPUT=$$GET1^DIQ(19641.123,IEN_",",1) X:INPUT'="" INPUT
"RTN","DSIO10",149,0)
 I FLE="",FLD="" D
"RTN","DSIO10",150,0)
 . S ROU=$$GET1^DIQ(19641.123,IEN_",",2)
"RTN","DSIO10",151,0)
 . I ROU'="" X ROU D OPDEL(OIEN)
"RTN","DSIO10",152,0)
 S TMP=$NA(^TMP($J,"SETDATA VALUE")) K @TMP S @TMP@(1)=$G(X)
"RTN","DSIO10",153,0)
 D HISTORY^DSIO98(.RET,DFN_";DPT(",FLE,FLD,IEN_";DSIO(19641.123,",TMP,$G(ROU))
"RTN","DSIO10",154,0)
 K @TMP I RET D
"RTN","DSIO10",155,0)
 . S IPT(19641.12,OIEN_",",.09)=$$GET1^DIQ(19641.124,RET_",",.01,"I")
"RTN","DSIO10",156,0)
 . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO10",157,0)
 D OPDEL(IEN,OIEN,RET)
"RTN","DSIO10",158,0)
 Q
"RTN","DSIO10",159,0)
 ;
"RTN","DSIO10",160,0)
GETCODE(IEN,IX,PC) ; Get Observation Code from Codes Multiple
"RTN","DSIO10",161,0)
 N IENS
"RTN","DSIO10",162,0)
 S PC=+$G(PC)
"RTN","DSIO10",163,0)
 S IENS=$O(^DSIO(19641.12,IEN,3,"B",IX,"")) Q:IENS="" ""
"RTN","DSIO10",164,0)
 Q $G(^DSIO(19641.12,IEN,3,IENS,PC))
"RTN","DSIO10",165,0)
 ;
"RTN","DSIO10",166,0)
OPDEL(PUSH,OIEN,HIS) ; Delete Actions
"RTN","DSIO10",167,0)
 ;
"RTN","DSIO10",168,0)
 ; Some observations may be non-clinical in nature and be set to be deleted
"RTN","DSIO10",169,0)
 ; after the data is pushed.
"RTN","DSIO10",170,0)
 ;   1 TRUE = DELETE THE OBSERVATION
"RTN","DSIO10",171,0)
 ;   2 BOTH = DELETE THE OBSERVATION AND HISTORY
"RTN","DSIO10",172,0)
 ;
"RTN","DSIO10",173,0)
 N DEL,DIK,DA,X,Y
"RTN","DSIO10",174,0)
 S DEL=$$GET1^DIQ(19641.123,PUSH_",",.06,"I") Q:'DEL
"RTN","DSIO10",175,0)
 S DIK="^DSIO(19641.12,",DA=OIEN D ^DIK
"RTN","DSIO10",176,0)
 I DEL=2 K DIK,DA,X,Y S DIK="^DSIO(19641.124,",DA=HIS D ^DIK
"RTN","DSIO10",177,0)
 Q
"RTN","DSIO10",178,0)
 ;
"RTN","DSIO10",179,0)
OBG(RET,IEN,DFN,OBJECT,REF,FDT,TDT,REL,CAT,SYS,CODE,SORT) ; RPC: DSIO GET OBSERVATIONS
"RTN","DSIO10",180,0)
 ;
"RTN","DSIO10",181,0)
 ;    IEN = IF NOT NULL THEN RETURN ONLY
"RTN","DSIO10",182,0)
 ; OBJECT = OBJECTS OF OBSERVATION (ARRAY)
"RTN","DSIO10",183,0)
 ;          FB.IEN (FETUS/BABY)
"RTN","DSIO10",184,0)
 ;          PG.IEN (PREGNANCY)
"RTN","DSIO10",185,0)
 ;    REF = OBJECTS OF REFERENCE (ARRAY)
"RTN","DSIO10",186,0)
 ;         TIU.IEN (NOTE)
"RTN","DSIO10",187,0)
 ;         IHE.IEN (IHE DOCUMENT)
"RTN","DSIO10",188,0)
 ; *** OBJECT AND REF - The entry must have at least the provided values
"RTN","DSIO10",189,0)
 ;    FDT = FROM DATE
"RTN","DSIO10",190,0)
 ;    TDT = TO DATE
"RTN","DSIO10",191,0)
 ;    REL = RELATIONSHIP
"RTN","DSIO10",192,0)
 ;    CAT = CATEGORY
"RTN","DSIO10",193,0)
 ;    SYS = CODING SYSTEM
"RTN","DSIO10",194,0)
 ; **SYS = $S(SYS="LNC":"LOINC",SYS="SCT":"SNOMED-CT",1:SYS)
"RTN","DSIO10",195,0)
 ;
"RTN","DSIO10",196,0)
 ; RETURN:
"RTN","DSIO10",197,0)
 ;  L^IEN^DFN^DATE^OBJ OF OBS;EXTERNAL VALUE|...^OBJ OF REF;EXTERNAL VALUE|...^
"RTN","DSIO10",198,0)
 ;    REL^CAT^START^END^PUSHED^CODE^SYS^SYS VALUE^DISPLAY NAME^VALUE CODE^
"RTN","DSIO10",199,0)
 ;    VALUE SYS^VALUE SYS VALUE^VALUE DISPLAY NAME^VALUE TYPE^VALUE^VALUE UNIT^
"RTN","DSIO10",200,0)
 ;    NEGATION^UPDATED BY^MODIFIED DATE^QUALIFIERS(NAME;VALUE)|...
"RTN","DSIO10",201,0)
 ;  C^IEN^NARRATIVE
"RTN","DSIO10",202,0)
 ;
"RTN","DSIO10",203,0)
 N RCT,TS,DATE,STRT,END
"RTN","DSIO10",204,0)
 S RET=$NA(^TMP($J,"DSIO OBG")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO10",205,0)
 I $G(IEN) D FLDS(IEN,1) S:$D(@RET@(1)) @RET@(0)=1 Q
"RTN","DSIO10",206,0)
 I '$$CHECK^DSIO2($G(DFN)) S @RET@(0)="-1^Patient entry not found." Q
"RTN","DSIO10",207,0)
 D OBJL(.OBJECT),OBJL(.REF),SORT($G(SORT))
"RTN","DSIO10",208,0)
 ; *** RANGE
"RTN","DSIO10",209,0)
 S FDT=$S($G(FDT)'="":$$FMADD^XLFDT($$DT^DSIO2(FDT),,,,-1),1:"")
"RTN","DSIO10",210,0)
 S TDT=$$DT^DSIO2($G(TDT)) S:TDT="" TDT=$$NOW^XLFDT
"RTN","DSIO10",211,0)
 ; *** FILTERS
"RTN","DSIO10",212,0)
 S REL=$$UP^XLFSTR($G(REL)),CAT=$$UP^XLFSTR($G(CAT))
"RTN","DSIO10",213,0)
 S SYS=$$UP^XLFSTR($E($G(SYS))),CODE=$G(CODE)
"RTN","DSIO10",214,0)
 S SYS=$S(SYS="LNC":"LOINC",SYS="SCT":"SNOMED-CT",1:SYS)
"RTN","DSIO10",215,0)
 S (RCT,TS)=0,DATE=FDT
"RTN","DSIO10",216,0)
 F  S DATE=$O(^DSIO(19641.12,"P",DFN,DATE),-1) Q:DATE=""  Q:DATE>TDT  D
"RTN","DSIO10",217,0)
 . S IEN="" F  S IEN=$O(^DSIO(19641.12,"P",DFN,DATE,IEN),-1) Q:IEN=""  D
"RTN","DSIO10",218,0)
 . . ; *** OBJECT AND REF - The entry must have at least the provided values
"RTN","DSIO10",219,0)
 . . I $D(OBJECT) Q:$$CONTAIN(IEN,.OBJECT,1)
"RTN","DSIO10",220,0)
 . . I $D(REF) Q:$$CONTAIN(IEN,.REF,2)
"RTN","DSIO10",221,0)
 . . I CODE'="",$$GETCODE(IEN,"C",1)'=CODE Q
"RTN","DSIO10",222,0)
 . . I SYS'="",$$GETCODE(IEN,"C",3)'=SYS Q
"RTN","DSIO10",223,0)
 . . I REL'="",$$UP^XLFSTR($$GET1^DIQ(19641.12,IEN_",",.04))'=REL Q
"RTN","DSIO10",224,0)
 . . I CAT'="",$$UP^XLFSTR($$GET1^DIQ(19641.12,IEN_",",.03))'=CAT Q
"RTN","DSIO10",225,0)
 . . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO10",226,0)
 . . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO10",227,0)
 . . D FLDS(IEN,RCT)
"RTN","DSIO10",228,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO10",229,0)
 Q
"RTN","DSIO10",230,0)
 ;
"RTN","DSIO10",231,0)
CONTAIN(IEN,VALS,ND) ; Does the entry contain all objects?
"RTN","DSIO10",232,0)
 N CT,FLG
"RTN","DSIO10",233,0)
 S CT="" F  S CT=$O(VALS(CT)) Q:CT=""  D  Q:$D(FLG)
"RTN","DSIO10",234,0)
 . I '$D(^DSIO(19641.12,IEN,ND,"B",CT)) S FLG=1
"RTN","DSIO10",235,0)
 Q $D(FLG)
"RTN","DSIO10",236,0)
 ;
"RTN","DSIO10",237,0)
OBJL(ARY) ; Prep Object List
"RTN","DSIO10",238,0)
 N CT,OUT,NEW
"RTN","DSIO10",239,0)
 S CT=$NA(ARY) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO10",240,0)
 . S OUT=$$OBJECT(@CT) I OUT'="" S NEW(OUT)=""
"RTN","DSIO10",241,0)
 K ARY I $D(NEW) M ARY=NEW
"RTN","DSIO10",242,0)
 Q
"RTN","DSIO10",243,0)
 ;
"RTN","DSIO10",244,0)
FLDS(IEN,ND) ; Continue
"RTN","DSIO10",245,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO10",246,0)
 D GETS^DIQ(19641.12,IEN_",","*","IE","OUT") Q:'$D(OUT)
"RTN","DSIO10",247,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO10",248,0)
 S STR="L^"_IEN_U
"RTN","DSIO10",249,0)
 S STR=STR_FLD(.02,"I")_U                               ; DFN
"RTN","DSIO10",250,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.01,"I"),"5Z")_U            ; DATE OF OBSERVATION
"RTN","DSIO10",251,0)
 S STR=STR_$$OBJ(IEN,1)_U                               ; OBJECTS OF OBSERVATION
"RTN","DSIO10",252,0)
 S STR=STR_$$OBJ(IEN,2)_U                               ; OBJECTS OF REFERENCE
"RTN","DSIO10",253,0)
 S STR=STR_FLD(.04,"I")_U                               ; RELATIONSHIP
"RTN","DSIO10",254,0)
 S STR=STR_FLD(.03,"I")_U                               ; CATEGORY
"RTN","DSIO10",255,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.05,"I"),"5Z")_U            ; START
"RTN","DSIO10",256,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.06,"I"),"5Z")_U            ; END
"RTN","DSIO10",257,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.09,"I"),"5Z")_U            ; PUSHED
"RTN","DSIO10",258,0)
 S STR=STR_$$GETCODE(IEN,"C",1)_U                       ; CODE
"RTN","DSIO10",259,0)
 S STR=STR_$$GETCODE(IEN,"C",3)_U                       ; CODE SYSTEM NAME
"RTN","DSIO10",260,0)
 S STR=STR_$$GETCODE(IEN,"C",4)_U                       ; CODE SYSTEM VALUE
"RTN","DSIO10",261,0)
 S STR=STR_$$GETCODE(IEN,"C",2)_U                       ; CODE DISPLAY NAME
"RTN","DSIO10",262,0)
 S STR=STR_$$GETCODE(IEN,"V",1)_U                       ; VALUE CODE
"RTN","DSIO10",263,0)
 S STR=STR_$$GETCODE(IEN,"V",3)_U                       ; VALUE SYSTEM NAME
"RTN","DSIO10",264,0)
 S STR=STR_$$GETCODE(IEN,"V",4)_U                       ; VALUE SYSTEM VALUE
"RTN","DSIO10",265,0)
 S STR=STR_$$GETCODE(IEN,"V",2)_U                       ; VALUE DISPLAY NAME
"RTN","DSIO10",266,0)
 S STR=STR_FLD(4.1,"I")_U                               ; VALUE TYPE
"RTN","DSIO10",267,0)
 S STR=STR_FLD(4.2,"I")_U                               ; VALUE
"RTN","DSIO10",268,0)
 S STR=STR_FLD(4.3,"I")_U                               ; VALUE UNIT
"RTN","DSIO10",269,0)
 S STR=STR_FLD(4.4,"E")_U                               ; NEGATION
"RTN","DSIO10",270,0)
 S STR=STR_$$NAME^DSIO2(FLD(.07,"E"))_U                 ; UPDATED BY
"RTN","DSIO10",271,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.08,"I"),"5Z")_U            ; MODIFIED DATE
"RTN","DSIO10",272,0)
 S STR=STR_$$QUAL(IEN)                                  ; QUALIFIERS
"RTN","DSIO10",273,0)
 S @RET@(ND,0)=STR
"RTN","DSIO10",274,0)
 S LINE=0 F  S LINE=$O(FLD(6,LINE)) Q:'LINE  S @RET@(ND,LINE)="C^"_IEN_U_FLD(6,LINE)
"RTN","DSIO10",275,0)
 Q
"RTN","DSIO10",276,0)
 ;
"RTN","DSIO10",277,0)
OBJ(IEN,ND) ; OBJECTS
"RTN","DSIO10",278,0)
 N OBJ,Q,STR
"RTN","DSIO10",279,0)
 D GETS^DIQ(19641.12,IEN_",",ND_"*","I","OBJ")
"RTN","DSIO10",280,0)
 S Q=$NA(OBJ) F  S Q=$Q(@Q) Q:Q=""  D
"RTN","DSIO10",281,0)
 . S STR=$G(STR)_$$EOBJ(@Q)_"|"
"RTN","DSIO10",282,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO10",283,0)
 ;
"RTN","DSIO10",284,0)
EOBJ(OBJ) ; Transform to External Form
"RTN","DSIO10",285,0)
 N STR
"RTN","DSIO10",286,0)
 S STR=$S(OBJ[8925:"TIU."_+OBJ,OBJ[19641.6:"IHE."_+OBJ,OBJ[19641.13:"PG."_+OBJ,OBJ[19641.112:"FB."_+OBJ,1:"")
"RTN","DSIO10",287,0)
 S:STR'="" STR=STR_";"_$$GET1^DIQ($TR($P(OBJ,"(",2),","),+OBJ_",",.01)
"RTN","DSIO10",288,0)
 Q STR
"RTN","DSIO10",289,0)
 ;
"RTN","DSIO10",290,0)
QUAL(IEN) ; QUALIFIERS
"RTN","DSIO10",291,0)
 N QUAL,Q,STR
"RTN","DSIO10",292,0)
 D GETS^DIQ(19641.12,IEN_",","5*","I","QUAL")
"RTN","DSIO10",293,0)
 S Q=$NA(QUAL) F  S Q=$Q(@Q) Q:Q=""  D
"RTN","DSIO10",294,0)
 . S STR=$G(STR)_$$TITLE^XLFSTR(@Q)
"RTN","DSIO10",295,0)
 . I $QS(Q,3)=".01" S STR=STR_";"
"RTN","DSIO10",296,0)
 . I $QS(Q,3)=".02" S STR=STR_"|"
"RTN","DSIO10",297,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO10",298,0)
 ;
"RTN","DSIO10",299,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO10",300,0)
 ;
"RTN","DSIO10",301,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO10",302,0)
 D S^DSIO2(SORT)
"RTN","DSIO10",303,0)
 Q
"RTN","DSIO11")
0^19^B126247531
"RTN","DSIO11",1,0)
DSIO11 ;DSS/CMW - DSIO MCC CHECKLIST;07/28/2013 15:19
"RTN","DSIO11",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO11",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO11",4,0)
 ;
"RTN","DSIO11",5,0)
 ; External References      DBIA#
"RTN","DSIO11",6,0)
 ; -------------------      -----
"RTN","DSIO11",7,0)
 ;
"RTN","DSIO11",8,0)
 ;
"RTN","DSIO11",9,0)
 ;
"RTN","DSIO11",10,0)
 Q
"RTN","DSIO11",11,0)
 ;
"RTN","DSIO11",12,0)
CHKGET(RET,IEN,SORT) ; RPC: DSIO GET MCC CHECKLIST
"RTN","DSIO11",13,0)
 ; IEN - IEN FOR EXISTING MCC CHECK LIST ENTRY
"RTN","DSIO11",14,0)
 ; RET(0)=# (TOT ENTRIES)
"RTN","DSIO11",15,0)
 ; RET(#)=IEN:DESC^#:TYPE^#:DCT^DCV^#:CAT^LNK
"RTN","DSIO11",16,0)
 ;
"RTN","DSIO11",17,0)
 N I,TOTFLG,ERR S TOT=0
"RTN","DSIO11",18,0)
 I $G(SORT)'?.N1",".N S SORT=""
"RTN","DSIO11",19,0)
 S IEN=+$G(IEN),RET=""
"RTN","DSIO11",20,0)
 S RET=$NA(^TMP("DSIO MCCHK",$J)) K @RET S @RET@(0)="-1^No entries found."
"RTN","DSIO11",21,0)
 I IEN>0,$$GET1^DIQ(19641.7,IEN_",",.01,"I")="" S @RET@(0)="-1^Checklist IEN not found." Q
"RTN","DSIO11",22,0)
 K LST S LST(1)=IEN,TOT=1
"RTN","DSIO11",23,0)
 I IEN<1 D
"RTN","DSIO11",24,0)
 . K LST S (IEN,TOT)=0 F  S IEN=$O(^DSIO(19641.7,IEN)) Q:'IEN  S TOT=TOT+1,LST(TOT)=IEN
"RTN","DSIO11",25,0)
 ; SORT
"RTN","DSIO11",26,0)
 I $G(SORT) D  ;RUN SORT LOGIC
"RTN","DSIO11",27,0)
 . D SORTA^DSIO2(.LST,.RETLST)
"RTN","DSIO11",28,0)
 I '$G(SORT) M RETLST=LST
"RTN","DSIO11",29,0)
 S CNT="" F  S CNT=$O(RETLST(CNT)) Q:'CNT  D
"RTN","DSIO11",30,0)
 . S IEN=+RETLST(CNT)
"RTN","DSIO11",31,0)
 . S FLD=".01;.02;.03;.04;.05;.06;.1;"
"RTN","DSIO11",32,0)
 . K OUT D GETS^DIQ(19641.7,IEN_",",FLD,"E","OUT")
"RTN","DSIO11",33,0)
 . S I=0,@RET@(CNT)=IEN,CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO11",34,0)
 . . S I=I+1
"RTN","DSIO11",35,0)
 . . I $QS(CT,3)=".01" S @(CT)=IEN_":"_@(CT)
"RTN","DSIO11",36,0)
 . . I $QS(CT,3)=".02" S NIEN=$$FIND1^DIC(19641.71,,"X",@(CT)) S @(CT)=NIEN_":"_@(CT)
"RTN","DSIO11",37,0)
 . . I $QS(CT,3)=".03" S NIEN=$$FIND1^DIC(19641.72,,"X",@(CT)) S @(CT)=NIEN_":"_@(CT)
"RTN","DSIO11",38,0)
 . . I $QS(CT,3)=".05" S NIEN=$$FIND1^DIC(19641.73,,"X",@(CT)) S @(CT)=NIEN_":"_@(CT)
"RTN","DSIO11",39,0)
 . . ;KAR 11-26-14
"RTN","DSIO11",40,0)
 . . I $QS(CT,3)=".06" S NIEN=$$FIND1^DIC(19641.8,,"X",@(CT)) S @(CT)=NIEN_":"_@(CT)
"RTN","DSIO11",41,0)
 . . S $P(@RET@(CNT),U,I)=@CT
"RTN","DSIO11",42,0)
 S @RET@(0)=TOT
"RTN","DSIO11",43,0)
 K LST
"RTN","DSIO11",44,0)
 Q
"RTN","DSIO11",45,0)
 ;
"RTN","DSIO11",46,0)
PATGET(RET,DFN,CIEN,HIEN,CSI,SORT) ; RPC: DSIO GET MCC PATIENT CHECKLIST
"RTN","DSIO11",47,0)
 ;
"RTN","DSIO11",48,0)
 ; CIEN - IEN FOR EXISTING MCC CHECK LIST ENTRY (not req)
"RTN","DSIO11",49,0)
 ;  DFN - Unique DFN identifier for a patient (req)
"RTN","DSIO11",50,0)
 ; HIEN - Pregnancy ID pointing to a pregnancy history entry (not req)
"RTN","DSIO11",51,0)
 ;  CSI - Completion Status IEN (not req)
"RTN","DSIO11",52,0)
 ; SORT - Sort field (ex: 1,10) (not req)
"RTN","DSIO11",53,0)
 ;
"RTN","DSIO11",54,0)
 ; RET(0)=# (TOT ENTRIES)
"RTN","DSIO11",55,0)
 ;              1            2       3      4     5   6    7      8     9      10
"RTN","DSIO11",56,0)
 ; RET(CHK)=PIEN:PATIENT^CIEN:DESC^#:HIEN^#:TYPE^#:DCT^DCV^#:CAT^ILNK^UPDTBY^UPDTDT
"RTN","DSIO11",57,0)
 ;           11     12       13    14     15    16    17   18
"RTN","DSIO11",58,0)
 ; RET(PAT)=SDDT^#:INPROG^#:COMST^COMBY^COMDT^COMLNK^NOTE^EDUC
"RTN","DSIO11",59,0)
 ;
"RTN","DSIO11",60,0)
 N DIEN,RCT,TS,STRT,END D S^DSIO2($G(SORT))
"RTN","DSIO11",61,0)
 S DFN=+$G(DFN),CIEN=+$G(CIEN),HIEN=$G(HIEN),CSI=$G(CSI)
"RTN","DSIO11",62,0)
 S RET=$NA(^TMP("DSIO MCCPAT",$J)) K @RET S @RET@(0)="-1^No entries found."
"RTN","DSIO11",63,0)
 I CSI S @RET@(0)="-1^No entries found for this Completion Status."
"RTN","DSIO11",64,0)
 I DFN,'HIEN D
"RTN","DSIO11",65,0)
 . I 'CIEN D
"RTN","DSIO11",66,0)
 . . I '$$CHECK^DSIO2(DFN) S RET(0)="-1^DSIO PATIENT entry not found." Q
"RTN","DSIO11",67,0)
 . . I '$D(^DSIO(19641.76,"B",DFN)) S @RET@(0)="-1^Patient Checklist IEN not found." Q
"RTN","DSIO11",68,0)
 . . S DIEN=$O(^DSIO(19641.76,"B",DFN,""))
"RTN","DSIO11",69,0)
 . . I $$GET1^DIQ(19641.76,DIEN_",",.01,"I")="" S RET(0)="-1^Patient Checklist - No entry found for this DFN." Q
"RTN","DSIO11",70,0)
 . . D PIEN
"RTN","DSIO11",71,0)
 . I CIEN D
"RTN","DSIO11",72,0)
 . . I '$$CHECK^DSIO2(DFN) S RET(0)="-1^DSIO PATIENT entry not found." Q
"RTN","DSIO11",73,0)
 . . I '$D(^DSIO(19641.76,"B",DFN)) S QUIT=1,@RET@(0)="-1^Patient Checklist IEN not found." Q
"RTN","DSIO11",74,0)
 . . S DIEN=$O(^DSIO(19641.76,"B",DFN,""))
"RTN","DSIO11",75,0)
 . . I $$GET1^DIQ(19641.76,DIEN_",",.01,"I")="" S RET(0)="-1^Patient Checklist - No entry found for this DFN." Q
"RTN","DSIO11",76,0)
 . . I $$GET1^DIQ(19641.761,CIEN_","_DIEN_",",.01,"I")="" S @RET@(0)="-1^MCC Checklist IEN not found." Q
"RTN","DSIO11",77,0)
 . . S @RET@(1)=$$CIEN(CIEN_","_DIEN_","),@RET@(0)=1
"RTN","DSIO11",78,0)
 I HIEN D
"RTN","DSIO11",79,0)
 . I '$D(^DSIO(19641.76,"C",HIEN)) S @RET@(0)="-1^Pregnancy History IEN not found." Q
"RTN","DSIO11",80,0)
 . S DIEN=$O(^DSIO(19641.76,"C",HIEN,""))
"RTN","DSIO11",81,0)
 . D HIEN
"RTN","DSIO11",82,0)
 Q
"RTN","DSIO11",83,0)
 ;
"RTN","DSIO11",84,0)
PIEN ; Get all checklist items for a patient
"RTN","DSIO11",85,0)
 S (RCT,TS,CIEN)=0
"RTN","DSIO11",86,0)
 F  S CIEN=$O(^DSIO(19641.76,DIEN,1,CIEN)) Q:'CIEN  D
"RTN","DSIO11",87,0)
 . Q:'$$STATUS(CIEN_","_DIEN_",")
"RTN","DSIO11",88,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO11",89,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO11",90,0)
 . S @RET@(RCT)=$$CIEN(CIEN_","_DIEN_",")
"RTN","DSIO11",91,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO11",92,0)
 Q
"RTN","DSIO11",93,0)
 ;
"RTN","DSIO11",94,0)
HIEN ; Get all checklist items for a patient
"RTN","DSIO11",95,0)
 S (RCT,TS,CIEN)=0
"RTN","DSIO11",96,0)
 F  S CIEN=$O(^DSIO(19641.76,"C",HIEN,DIEN,CIEN)) Q:'CIEN  D
"RTN","DSIO11",97,0)
 . Q:'$$STATUS(CIEN_","_DIEN_",")
"RTN","DSIO11",98,0)
 . S PIEN=$$GET1^DIQ(19641.76,DIEN_",",.01,"I")
"RTN","DSIO11",99,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO11",100,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO11",101,0)
 . S @RET@(RCT)=$$CIEN(CIEN_","_DIEN_",")
"RTN","DSIO11",102,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO11",103,0)
 Q
"RTN","DSIO11",104,0)
 ;
"RTN","DSIO11",105,0)
STATUS(IENS) ; Check completion status
"RTN","DSIO11",106,0)
 Q:'$G(CSI) 1
"RTN","DSIO11",107,0)
 N DSI S DSI=$$GET1^DIQ(19641.761,IENS,.12,"I")
"RTN","DSIO11",108,0)
 I $$GET1^DIQ(19641.74,CSI_",",.01,"I")="" S @RET@(0)="-1^MCC CompletionStatus IEN not found." Q 0
"RTN","DSIO11",109,0)
 I CSI'=DSI S @RET@(0)="-1^CompletionStatus no entries found." Q 0
"RTN","DSIO11",110,0)
 Q 1
"RTN","DSIO11",111,0)
 ;
"RTN","DSIO11",112,0)
CIEN(IENS) ; Get single checklist entry
"RTN","DSIO11",113,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO11",114,0)
 D GETS^DIQ(19641.761,IENS,"*","IE","OUT") Q:'$D(OUT) ""
"RTN","DSIO11",115,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO11",116,0)
 S STR=DFN_":"_$$NAME^DSIO2($$GET1^DIQ(2,DFN_",",.01))_U                 ; DFN : PATIENT
"RTN","DSIO11",117,0)
 S STR=STR_CIEN_":"_FLD(.01,"I")_U                                       ; IEN : Description
"RTN","DSIO11",118,0)
 S STR=STR_FLD(.02,"I")_":"_$$FMTE^XLFDT($$GET1^DIQ(19641.13,FLD(.02,"I")_",",.01),"5Z")_U   ; PregnancyHistoryLink
"RTN","DSIO11",119,0)
 S STR=STR_FLD(.03,"I")_":"_FLD(.03,"E")_U                               ; IEN : CheckListType
"RTN","DSIO11",120,0)
 S STR=STR_FLD(.04,"I")_":"_FLD(.04,"E")_U                               ; IEN : DueCalculationType
"RTN","DSIO11",121,0)
 S STR=STR_FLD(.05,"I")_U                                                ; DueCalculationValue
"RTN","DSIO11",122,0)
 S STR=STR_FLD(.06,"I")_U                                                ; Category
"RTN","DSIO11",123,0)
 S STR=STR_FLD(.07,"I")_U                                                ; ItemLink
"RTN","DSIO11",124,0)
 S STR=STR_FLD(.08,"I")_":"_$$NAME^DSIO2(FLD(.08,"E"))_U                 ; IEN : LastUpdatedBy
"RTN","DSIO11",125,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.09,"I"),"5Z")_U                             ; LastUpdatedDate
"RTN","DSIO11",126,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.1,"I"),"5Z")_U                              ; SpecificDueDate
"RTN","DSIO11",127,0)
 S STR=STR_FLD(.11,"I")_":"_FLD(.11,"E")_U                               ; In Progress
"RTN","DSIO11",128,0)
 S STR=STR_FLD(.12,"I")_":"_FLD(.12,"E")_U                               ; CompletionStatus
"RTN","DSIO11",129,0)
 S STR=STR_FLD(.13,"I")_":"_$$NAME^DSIO2(FLD(.13,"E"))_U                 ; CompletedBy
"RTN","DSIO11",130,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.14,"I"),"5Z")_U                             ; CompleteDate
"RTN","DSIO11",131,0)
 S STR=STR_FLD(.15,"I")_U                                                ; CompletionLink
"RTN","DSIO11",132,0)
 S STR=STR_FLD(.16,"I")_U                                                ; Note
"RTN","DSIO11",133,0)
 S STR=STR_FLD(.17,"I")_":"_FLD(.17,"E")                                 ; EducationItemLink
"RTN","DSIO11",134,0)
 Q STR
"RTN","DSIO11",135,0)
 ;           1      2     3     4     5     6     7     8
"RTN","DSIO11",136,0)
MCCHK(RET,DSCIEN,DSDESC,DSTYP,DSDCT,DSDCV,DSCAT,DSLNK,DSEDU) ; RPC: DSIO SAVE MCC CHECKLIST
"RTN","DSIO11",137,0)
 ; KAR - 11-24-14 ADDED PARAMETER 8: DSEDU POINTER TO 19641.8
"RTN","DSIO11",138,0)
 ; input parameters
"RTN","DSIO11",139,0)
 ; MCCHK(.RET,CIEN,DESC,TYP,DCT,DCV,CAT,LNK,EDUC)
"RTN","DSIO11",140,0)
 ;
"RTN","DSIO11",141,0)
 N DSFLG,DSIPT
"RTN","DSIO11",142,0)
 S DSCIEN=+$G(DSCIEN) K DSIPT,RET
"RTN","DSIO11",143,0)
 I DSCIEN>0 S DSFLG=DSCIEN_","
"RTN","DSIO11",144,0)
 I DSCIEN<1 D  Q:$G(RET(0))
"RTN","DSIO11",145,0)
 . I $G(DSDESC)=""!($G(DSTYP)="")!($G(DSDCT)="")!($G(DSDCV)="") S RET(0)="-1^Required Checklist parameter not found." Q
"RTN","DSIO11",146,0)
 . S DSCIEN=$O(^DSIO(19641.7,"B",DSDESC,""))
"RTN","DSIO11",147,0)
 . I $G(DSCIEN) S DSFLG=DSCIEN_"," Q 
"RTN","DSIO11",148,0)
 . S DSFLG="+1,"
"RTN","DSIO11",149,0)
 ;
"RTN","DSIO11",150,0)
 ;Description
"RTN","DSIO11",151,0)
 S DSIPT(19641.7,DSFLG,.01)=DSDESC ;
"RTN","DSIO11",152,0)
 ;CheckListType
"RTN","DSIO11",153,0)
 I $$GET1^DIQ(19641.71,DSTYP_",",.01,"I")="" S RET(0)="-1^ChecklistType - ien not found." Q
"RTN","DSIO11",154,0)
 S DSIPT(19641.7,DSFLG,.02)=+DSTYP
"RTN","DSIO11",155,0)
 ;DueCalculationType
"RTN","DSIO11",156,0)
 I $$GET1^DIQ(19641.72,DSDCT_",",.01,"I")="" S RET(0)="-1^DueCalculationType - ien not found." Q
"RTN","DSIO11",157,0)
 S DSIPT(19641.7,DSFLG,.03)=+DSDCT
"RTN","DSIO11",158,0)
 ;DueCalculationValue
"RTN","DSIO11",159,0)
 S DSIPT(19641.7,DSFLG,.04)=+DSDCV
"RTN","DSIO11",160,0)
 ;Category
"RTN","DSIO11",161,0)
 ;I DSCAT>0,$$GET1^DIQ(19641.74,DSCAT_",",.01,"I")="" S RET(0)="-1^Category - ien not found." Q
"RTN","DSIO11",162,0)
 S DSIPT(19641.7,DSFLG,.05)=DSCAT
"RTN","DSIO11",163,0)
 ;EducationItemLink
"RTN","DSIO11",164,0)
 I $G(DSEDU)'="" S DSIPT(19641.7,DSFLG,.06)=DSEDU
"RTN","DSIO11",165,0)
 S DSIPT(19641.7,DSFLG,.1)=DSLNK ;ItemLink
"RTN","DSIO11",166,0)
 S DSIPT(19641.7,DSFLG,.2)=DUZ ;LastUpdatedBy
"RTN","DSIO11",167,0)
 S DSIPT(19641.7,DSFLG,.21)=DT ;LastUpdatedDate
"RTN","DSIO11",168,0)
 ;
"RTN","DSIO11",169,0)
 ; CREATE (OR EDIT) THE ENTRY
"RTN","DSIO11",170,0)
 K ERR
"RTN","DSIO11",171,0)
 D UPDATE^DIE("","DSIPT",$S(+$G(DSCIEN)>0:"",1:"DSCIEN"),"ERR")
"RTN","DSIO11",172,0)
 I $D(ERR("DIERR","1","TEXT",1)) S RET(1)="-1^"_$G(ERR("DIERR",1,"TEXT",1)) Q
"RTN","DSIO11",173,0)
 S (DSCIEN,RET(0))=$S(+$G(DSCIEN)>0:DSCIEN,+$G(DSCIEN(1))>0:DSCIEN(1),1:-1)
"RTN","DSIO11",174,0)
 ;
"RTN","DSIO11",175,0)
 K DSCIEN,DSDESC,DSFLG,DSIPT,DSPIEN,DSHIEN,DSTYP,DSDCT,DSDCV,DSCAT,DSLNK,DSEDU
"RTN","DSIO11",176,0)
 Q
"RTN","DSIO11",177,0)
 ;
"RTN","DSIO11",178,0)
 ;           *1     2    *3     *4      *5    *6    *7    8     9    10    *11    12     13    14     15   ; (*=req parameter)
"RTN","DSIO11",179,0)
PATCHK(RET,DSPIEN,DSCIEN,DSDESC,DSHIEN,DSTYP,DSDCT,DSDCV,DSCAT,DSLNK,DSSDT,DSCST,DSCLK,DSNOTE,DSINP,DSEDU) ; DSIO SAVE MCC PATIENT CHECKLIST
"RTN","DSIO11",180,0)
 ; KAR 11-24-14 ADDED PARAMETER 15
"RTN","DSIO11",181,0)
 ; input parameters
"RTN","DSIO11",182,0)
 ;
"RTN","DSIO11",183,0)
 N DSFLG,DSIPT,DSDT S DSIEN=""
"RTN","DSIO11",184,0)
 I $G(DSPIEN),$G(DSDESC)=""!($G(DSHIEN)="")!($G(DSTYP)="") S RET(0)="-1^Required Patient Checklist parameter not found." Q
"RTN","DSIO11",185,0)
 I $G(DSDCT)=""!($G(DSDCV)="")!($G(DSCST)="") S RET(0)="-1^Required Patient Checklist parameter not found." Q
"RTN","DSIO11",186,0)
 ;
"RTN","DSIO11",187,0)
 S DSDT=$$NOW^XLFDT
"RTN","DSIO11",188,0)
 ;CHECK PATIENT PIEN
"RTN","DSIO11",189,0)
 S DSPIEN=+$G(DSPIEN) S DSIEN=0 K DSIPT,RET
"RTN","DSIO11",190,0)
 I DSPIEN>0 D  Q:$G(RET(0))
"RTN","DSIO11",191,0)
 . I '$$CHECK^DSIO2($G(DSPIEN)) S RET(0)="-1^DSIO PATIENT entry not found." Q
"RTN","DSIO11",192,0)
 . S DSIEN=$O(^DSIO(19641.76,"B",DSPIEN,""))
"RTN","DSIO11",193,0)
 . ;I $$GET1^DIQ(19641.76,DSIEN_",",.01,"I")="" S RET(0)="-1^Patient Checklist - No entry found for this PIEN." Q
"RTN","DSIO11",194,0)
 . ;I DSIEN>0 S DSFLG01=DSIEN
"RTN","DSIO11",195,0)
 ;NEW PIEN ENTRY
"RTN","DSIO11",196,0)
 I DSIEN<1 D  Q:$G(RET(1))
"RTN","DSIO11",197,0)
 . S DSFLG="+1,"
"RTN","DSIO11",198,0)
 . S DSIPT(19641.76,DSFLG,.01)=DSPIEN
"RTN","DSIO11",199,0)
 . K ERR,DSIEN D UPDATE^DIE("","DSIPT",$S(+$G(DSIEN)>0:"",1:"DSIEN"),"ERR")
"RTN","DSIO11",200,0)
 . S (DSIEN,RET)=$S(+$G(DSIEN)>0:DSIEN,+$G(DSIEN(1))>0:DSIEN(1),1:-1)
"RTN","DSIO11",201,0)
 . I $G(DSIEN(1))<1 S RET(0)="-1^Patient Checklist - No entry created." Q
"RTN","DSIO11",202,0)
 ;
"RTN","DSIO11",203,0)
 S DSCIEN=+$G(DSCIEN)
"RTN","DSIO11",204,0)
 I DSCIEN>0 D  Q:$G(RET(0))
"RTN","DSIO11",205,0)
 . S DSFLG=DSCIEN_","_DSIEN_","
"RTN","DSIO11",206,0)
 . I $$GET1^DIQ(19641.761,DSFLG_",",.01,"I")="" S RET(0)="-1^Patient Checklist - CIEN not found." Q
"RTN","DSIO11",207,0)
 I DSCIEN<1 D  Q:$G(RET(0))
"RTN","DSIO11",208,0)
 . ;I DSIEN>0 S DSCIEN=$O(^DSIO(19641.76,DSIEN,1,"B",DSDESC,""))
"RTN","DSIO11",209,0)
 . ;I $G(DSCIEN) S DSFLG=DSCIEN_","_DSIEN_"," Q
"RTN","DSIO11",210,0)
 . S DSFLG="+1,"_DSIEN_","
"RTN","DSIO11",211,0)
 ;Description
"RTN","DSIO11",212,0)
 S DSIPT(19641.761,DSFLG,.01)=DSDESC
"RTN","DSIO11",213,0)
 ; ERROR
"RTN","DSIO11",214,0)
 ;PregnancyHistoryLink
"RTN","DSIO11",215,0)
 S DSPIENH=$$GET1^DIQ(19641.13,DSHIEN_",",.03,"I") I $G(DSPIENH)="" S RET(0)="-1^Pregnancy History  - ien not found." Q
"RTN","DSIO11",216,0)
 I DSPIEN'=DSPIENH S RET(0)="-1^Pregnancy History PIEN does not match Patient PIEN." Q
"RTN","DSIO11",217,0)
 S DSIPT(19641.761,DSFLG,.02)=DSHIEN
"RTN","DSIO11",218,0)
 ; ERROR
"RTN","DSIO11",219,0)
 ;CheckListType
"RTN","DSIO11",220,0)
 I $$GET1^DIQ(19641.71,DSTYP_",",.01,"I")="" S RET(0)="-1^ChecklistType - ien not found." Q
"RTN","DSIO11",221,0)
 S DSIPT(19641.761,DSFLG,.03)=+DSTYP
"RTN","DSIO11",222,0)
 ;DueCalculationType
"RTN","DSIO11",223,0)
 I $$GET1^DIQ(19641.72,DSDCT_",",.01,"I")="" S RET(0)="-1^DueCalculationType - ien not found." Q
"RTN","DSIO11",224,0)
 S DSIPT(19641.761,DSFLG,.04)=+DSDCT
"RTN","DSIO11",225,0)
 ;DueCalculationValue
"RTN","DSIO11",226,0)
 S DSIPT(19641.761,DSFLG,.05)=+DSDCV
"RTN","DSIO11",227,0)
 ;Category
"RTN","DSIO11",228,0)
 ;I DSCAT>0,$$GET1^DIQ(19641.73,DSCAT_",",.01,"I")="" S RET(0)="-1^Category - ien not found." Q
"RTN","DSIO11",229,0)
 S DSIPT(19641.761,DSFLG,.06)=DSCAT
"RTN","DSIO11",230,0)
 ; 
"RTN","DSIO11",231,0)
 S DSIPT(19641.761,DSFLG,.07)=DSLNK ;ItemLink
"RTN","DSIO11",232,0)
 S DSIPT(19641.761,DSFLG,.08)=DUZ ;LastUpdatedBy
"RTN","DSIO11",233,0)
 S DSIPT(19641.761,DSFLG,.09)=DSDT ;LastUpdatedDate
"RTN","DSIO11",234,0)
 ;
"RTN","DSIO11",235,0)
 S DSIPT(19641.761,DSFLG,.1)=DSSDT ;SpecificDueDate
"RTN","DSIO11",236,0)
 S DSIP=$S(+$G(DSIP)>0:1,1:0)
"RTN","DSIO11",237,0)
 S DSIPT(19641.761,DSFLG,.11)=DSINP ;Inprogress
"RTN","DSIO11",238,0)
 ;
"RTN","DSIO11",239,0)
 ;CompletionStatus
"RTN","DSIO11",240,0)
 I DSCST>0,$$GET1^DIQ(19641.74,DSCST_",",.01,"I")="" S RET(0)="-1^CompletionStatus - ien not found." Q
"RTN","DSIO11",241,0)
 S DSIPT(19641.761,DSFLG,.12)=DSCST ;CompletionStatus
"RTN","DSIO11",242,0)
 ;
"RTN","DSIO11",243,0)
 I DSCST>1 D
"RTN","DSIO11",244,0)
 . S DSIPT(19641.761,DSFLG,.13)=DUZ ;CompletedBy
"RTN","DSIO11",245,0)
 . S DSIPT(19641.761,DSFLG,.14)=DSDT ;CompleteDate
"RTN","DSIO11",246,0)
 S DSIPT(19641.761,DSFLG,.15)=DSCLK ;CompletionLink
"RTN","DSIO11",247,0)
 S DSIPT(19641.761,DSFLG,.16)=DSNOTE ;Note
"RTN","DSIO11",248,0)
 ;EducationItemLink
"RTN","DSIO11",249,0)
 I $G(DSEDU)'="" S DSIPT(19641.761,DSFLG,.17)=DSEDU ;EducationItemLink
"RTN","DSIO11",250,0)
 ;
"RTN","DSIO11",251,0)
 ; CREATE (OR EDIT) THE ENTRY
"RTN","DSIO11",252,0)
 K ERR D UPDATE^DIE("","DSIPT",$S(+$G(DSCIEN)>0:"",1:"DSCIEN"),"ERR")
"RTN","DSIO11",253,0)
 I $D(ERR("DIERR","1","TEXT",1)) S RET(1)="-1^"_$G(ERR("DIERR",1,"TEXT",1)) Q
"RTN","DSIO11",254,0)
 S (DSCIEN)=$S(+$G(DSCIEN)>0:DSCIEN,+$G(DSCIEN(1))>0:DSCIEN(1),1:-1)
"RTN","DSIO11",255,0)
 S RET(0)=DSPIEN_"^"_DSCIEN
"RTN","DSIO11",256,0)
 ;
"RTN","DSIO11",257,0)
 K DSCIEN,DSDESC,DSFLG,DSIPT,DSPIEN,DSHIEN,DSTYP,DSDCT,DSDCV,DSCAT,DSLNK
"RTN","DSIO11",258,0)
 Q
"RTN","DSIO11",259,0)
 ;
"RTN","DSIO11",260,0)
MCCDEL(RET,DSCIEN) ; RPC: DSIO DELETE MCC CHECKLIST
"RTN","DSIO11",261,0)
 ;
"RTN","DSIO11",262,0)
 ; input parameters
"RTN","DSIO11",263,0)
 ; MCCHK(.RET,CIEN) - CIEN FOR CHECKLIST TO DELETE
"RTN","DSIO11",264,0)
 ;
"RTN","DSIO11",265,0)
 N DSFLG,DSIPT
"RTN","DSIO11",266,0)
 S DSCIEN=+$G(DSCIEN) K DSIPT,RET
"RTN","DSIO11",267,0)
 I $G(DSCIEN)<1 S RET(0)="-1^Required Checklist Delete parameter CIEN missing." Q
"RTN","DSIO11",268,0)
 I $$GET1^DIQ(19641.7,DSCIEN_",",.01,"I")="" S RET(0)="-1^Checklist Delete CIEN not found." Q
"RTN","DSIO11",269,0)
 S DIK="^DSIO(19641.7,",DA=DSCIEN
"RTN","DSIO11",270,0)
 D ^DIK
"RTN","DSIO11",271,0)
 S RET(0)="-1^MCC CHECKLIST CIEN: "_DSCIEN_" DELETED"
"RTN","DSIO11",272,0)
 Q
"RTN","DSIO11",273,0)
 ;
"RTN","DSIO11",274,0)
 ;           *1     *2    ; (*=req parameter)
"RTN","DSIO11",275,0)
PATDEL(RET,DSPIEN,DSCIEN) ; RPC: DSIO DELETE MCC PAT CHKLST 
"RTN","DSIO11",276,0)
 ;
"RTN","DSIO11",277,0)
 ; input parameters
"RTN","DSIO11",278,0)
 ;
"RTN","DSIO11",279,0)
 N DSIEN
"RTN","DSIO11",280,0)
 ;CHECK PATIENT PIEN
"RTN","DSIO11",281,0)
 I $G(DSPIEN)=""!($G(DSCIEN)="") S RET(0)="-1^Required Patient Checklist Delete parameter missing." Q 
"RTN","DSIO11",282,0)
 S DSPIEN=+$G(DSPIEN) S DSIEN=0 K DSIPT,RET
"RTN","DSIO11",283,0)
 I DSPIEN>0 D  Q:$G(RET(0))
"RTN","DSIO11",284,0)
 . I '$$CHECK^DSIO2($G(DSPIEN)) S RET(0)="-1^DSIO PATIENT entry not found." Q
"RTN","DSIO11",285,0)
 . S DSIEN=$O(^DSIO(19641.76,"B",DSPIEN,""))
"RTN","DSIO11",286,0)
 . I $$GET1^DIQ(19641.76,DSIEN_",",.01,"I")="" S RET(0)="-1^Patient Checklist - No entry found for this PIEN." Q
"RTN","DSIO11",287,0)
 ;
"RTN","DSIO11",288,0)
 S DSCIEN=+$G(DSCIEN)
"RTN","DSIO11",289,0)
 I DSCIEN>0 D  Q:$G(RET(0))
"RTN","DSIO11",290,0)
 . S DSFLG=DSCIEN_","_DSIEN_","
"RTN","DSIO11",291,0)
 . I $$GET1^DIQ(19641.761,DSFLG_",",.01,"I")="" S RET(0)="-1^Patient Checklist - CIEN not found." Q
"RTN","DSIO11",292,0)
 S DSFLG=DSCIEN_","_DSIEN_","
"RTN","DSIO11",293,0)
 S DA(1)=DSIEN,DIK="^DSIO(19641.76,"_DA(1)_",1,",DA=DSCIEN
"RTN","DSIO11",294,0)
 ;S DA(1)=DSIEN,DIK="^DSIO(19641.76,"_DA(1)_",""SB","",",DA=DSCIEN
"RTN","DSIO11",295,0)
 D ^DIK
"RTN","DSIO11",296,0)
 S RET(0)="-1^MCC PATIENT CHECKLIST CIEN: "_DSCIEN_" DELETED FROM PATIENT PIEN: "_DSPIEN
"RTN","DSIO11",297,0)
 Q
"RTN","DSIO12")
0^10^B38836318
"RTN","DSIO12",1,0)
DSIO12 ;DSS/CMW - DSIO CLINICAL RPCS;06/06/2014 15:19
"RTN","DSIO12",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO12",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO12",4,0)
 ;
"RTN","DSIO12",5,0)
 ; External References      DBIA#
"RTN","DSIO12",6,0)
 ; -------------------      -----
"RTN","DSIO12",7,0)
 ; REMLIST^ORQORB
"RTN","DSIO12",8,0)
 ; REMNONOR^ORQORB
"RTN","DSIO12",9,0)
 ; URGLIST^ORQORB
"RTN","DSIO12",10,0)
 ; REMIND^ORQQPX
"RTN","DSIO12",11,0)
 ; REMDET^PXRMRPCA
"RTN","DSIO12",12,0)
 ; GETUSER1^XQALDATA
"RTN","DSIO12",13,0)
 ;
"RTN","DSIO12",14,0)
 Q
"RTN","DSIO12",15,0)
 ;
"RTN","DSIO12",16,0)
PROV(RET,LIST) ; RPC: DSIO GET PROVIDER
"RTN","DSIO12",17,0)
 ;
"RTN","DSIO12",18,0)
 ; LIST - LIST(#)= PIEN (Provider IEN List)
"RTN","DSIO12",19,0)
 ;
"RTN","DSIO12",20,0)
 ; RETURN:
"RTN","DSIO12",21,0)
 ;  IEN^NAME^ADDRESS1^ADDRESS2^ADDRESS3^CITY^STATE^ZIP^PH OFFICE^
"RTN","DSIO12",22,0)
 ;  TITLE^SERVICE^NPI
"RTN","DSIO12",23,0)
 ;
"RTN","DSIO12",24,0)
 N CT,I
"RTN","DSIO12",25,0)
 S RET=$NA(^TMP($J,"DSIO PROV")) K @RET S @RET@(0)="-1^Entrie(s) not found."
"RTN","DSIO12",26,0)
 S I=0,CT="" F  S CT=$O(LIST(CT)) Q:CT=""  S @RET@(I)=$$PF(+LIST(CT)),I=I+1
"RTN","DSIO12",27,0)
 Q
"RTN","DSIO12",28,0)
 ;
"RTN","DSIO12",29,0)
PF(IEN) ; Provider Fields
"RTN","DSIO12",30,0)
 N FLD,OUT,LINE,FLD,STR
"RTN","DSIO12",31,0)
 S FLD=".01;.111;.112;.113;.114;.115;.116;.132;8;29;41.99"
"RTN","DSIO12",32,0)
 D GETS^DIQ(200,IEN_",",FLD,"IE","OUT") Q:'$D(OUT) IEN_"^Provider Not Found."
"RTN","DSIO12",33,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO12",34,0)
 S STR=IEN_U
"RTN","DSIO12",35,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U              ; NAME
"RTN","DSIO12",36,0)
 S STR=STR_FLD(.111,"I")_U                           ; STREET ADDRESS 1
"RTN","DSIO12",37,0)
 S STR=STR_FLD(.112,"I")_U                           ; STREET ADDRESS 2
"RTN","DSIO12",38,0)
 S STR=STR_FLD(.113,"I")_U                           ; STREET ADDRESS 3
"RTN","DSIO12",39,0)
 S STR=STR_FLD(.114,"I")_U                           ; CITY
"RTN","DSIO12",40,0)
 S STR=STR_$$GET1^DIQ(5,FLD(.115,"I")_",",1)_U       ; STATE
"RTN","DSIO12",41,0)
 S STR=STR_FLD(.116,"I")_U                           ; ZIP
"RTN","DSIO12",42,0)
 S STR=STR_FLD(.132,"I")_U                           ; OFFICE PHONE
"RTN","DSIO12",43,0)
 S STR=STR_FLD(8,"E")_U                              ; TITLE
"RTN","DSIO12",44,0)
 S STR=STR_FLD(29,"E")_U                             ; SERVICE
"RTN","DSIO12",45,0)
 S STR=STR_FLD(41.99,"I")                            ; NPI
"RTN","DSIO12",46,0)
 Q STR
"RTN","DSIO12",47,0)
 ;
"RTN","DSIO12",48,0)
REM(RET,DFN,SORT) ; RPC: DSIO GET REMINDER LIST
"RTN","DSIO12",49,0)
 ;                       ORQQPX REMINDERS LIST
"RTN","DSIO12",50,0)
 ;
"RTN","DSIO12",51,0)
 ; Return patient's currently due PCE clinical reminders.
"RTN","DSIO12",52,0)
 ;
"RTN","DSIO12",53,0)
 ; RETURN:
"RTN","DSIO12",54,0)
 ; -----------------------------
"RTN","DSIO12",55,0)
 ; ^TMP("DSIO REMIND",$J,0)=COUNT
"RTN","DSIO12",56,0)
 ; ^TMP("DSIO REMIND",$J,1)=IEN^REMINDER PRINT NAME^DATE DUE
"RTN","DSIO12",57,0)
 ;
"RTN","DSIO12",58,0)
 N LST,RCT,TS,CT,STRT,END D SORT($G(SORT))
"RTN","DSIO12",59,0)
 S RET=$NA(^TMP($J,"DSIO12 REM")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO12",60,0)
 I '$G(DFN) S @RET@(0)="-1^Patient entry not found." Q
"RTN","DSIO12",61,0)
 D REMIND^ORQQPX(.LST,DFN)
"RTN","DSIO12",62,0)
 S (RCT,TS,CT)=0
"RTN","DSIO12",63,0)
 F  S CT=$O(LST(CT)) Q:'CT  D
"RTN","DSIO12",64,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO12",65,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO12",66,0)
 . S @RET@(RCT)=$P(LST(CT),"^",1,3)
"RTN","DSIO12",67,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO12",68,0)
 Q
"RTN","DSIO12",69,0)
 ;
"RTN","DSIO12",70,0)
DETAIL(RET,DFN,RIEN) ; RPC: DSIO GET REMINDER DETAIL
"RTN","DSIO12",71,0)
 ; DBIA 3078                PXRM REMINDER DETAIL
"RTN","DSIO12",72,0)
 ;
"RTN","DSIO12",73,0)
 ;   RIEN - clinical reminder (811.9 IEN)
"RTN","DSIO12",74,0)
 ;
"RTN","DSIO12",75,0)
 ; RETURN:
"RTN","DSIO12",76,0)
 ;  RET(1)="The reminder ZZ Breast Exam was inactivated 04/13/2005@21:55:15"
"RTN","DSIO12",77,0)
 ;
"RTN","DSIO12",78,0)
 I $G(DFN),$G(RIEN) D REMDET^PXRMRPCA(.RET,DFN,RIEN)
"RTN","DSIO12",79,0)
 S:'$D(RET) RET(0)="0^Entry not found."
"RTN","DSIO12",80,0)
 Q
"RTN","DSIO12",81,0)
 ;
"RTN","DSIO12",82,0)
ALERT(RET,SORT) ; RPC: DSIO GET NOTIFICATIONS/ALERTS
"RTN","DSIO12",83,0)
 ;
"RTN","DSIO12",84,0)
 ; Return current user's notifications across all patients
"RTN","DSIO12",85,0)
 ;N STRTDATE,STOPDATE,ORTOT,I,ORURG,URG,ORN,SORT,ORN0
"RTN","DSIO12",86,0)
 ;N ALRT,ALRTDT,ALRTPT,ALRTMSG,ALRTI,ALRTLOC,ALRTXQA,J,FWDBY,PRE,ALRTDFN
"RTN","DSIO12",87,0)
 N URGLIST,REMLIST,REM,NONORLST,NONOR
"RTN","DSIO12",88,0)
 K ^TMP("ORBG",$J)
"RTN","DSIO12",89,0)
 I $G(SORT)'?.N1",".N S SORT=""
"RTN","DSIO12",90,0)
 S STRTDATE="",STOPDATE="",FWDBY="Forwarded by: "
"RTN","DSIO12",91,0)
 D GETUSER1^XQALDATA("^TMP(""ORB"",$J)",DUZ,STRTDATE,STOPDATE)
"RTN","DSIO12",92,0)
 S ORTOT=^TMP("ORB",$J)
"RTN","DSIO12",93,0)
 D URGLIST^ORQORB(.URGLIST)
"RTN","DSIO12",94,0)
 D REMLIST^ORQORB(.REMLIST)
"RTN","DSIO12",95,0)
 D REMNONOR^ORQORB(.NONORLST)
"RTN","DSIO12",96,0)
 S J=0
"RTN","DSIO12",97,0)
 F I=1:1:ORTOT D
"RTN","DSIO12",98,0)
 .S ALRTDFN=""
"RTN","DSIO12",99,0)
 .S ALRT=^TMP("ORB",$J,I)
"RTN","DSIO12",100,0)
 .S PRE=$E(ALRT,1,1)
"RTN","DSIO12",101,0)
 .S ALRTXQA=$P(ALRT,U,2)  ;XQAID
"RTN","DSIO12",102,0)
 .S NONOR="" F  S NONOR=$O(NONORLST(NONOR)) Q:NONOR=""  D
"RTN","DSIO12",103,0)
 ..I ALRTXQA[NONOR S REM=1  ;allow this type of alert to be Removed
"RTN","DSIO12",104,0)
 .S ALRTMSG=$P($P(ALRT,U),PRE_"  ",2)
"RTN","DSIO12",105,0)
 .I $E(ALRT,4,8)'="-----" D  ;not forwarded alert info/comment
"RTN","DSIO12",106,0)
 ..S ORURG="n/a"
"RTN","DSIO12",107,0)
 ..S ALRTI=$P(ALRT,"  ")
"RTN","DSIO12",108,0)
 ..S ALRTPT=""
"RTN","DSIO12",109,0)
 ..S ALRTLOC=""
"RTN","DSIO12",110,0)
 ..I $E($P(ALRTXQA,";"),1,3)="TIU" S ORURG="Moderate"
"RTN","DSIO12",111,0)
 ..I $P(ALRTXQA,",")="OR" D
"RTN","DSIO12",112,0)
 ...S ORN=$P($P(ALRTXQA,";"),",",3)
"RTN","DSIO12",113,0)
 ...S URG=$G(URGLIST(ORN))
"RTN","DSIO12",114,0)
 ...S ORURG=$S(URG=1:"HIGH",URG=2:"Moderate",1:"low")
"RTN","DSIO12",115,0)
 ...S REM=$G(REMLIST(ORN))
"RTN","DSIO12",116,0)
 ...S ORN0=^ORD(100.9,ORN,0)
"RTN","DSIO12",117,0)
 ...S ALRTI=$S($P(ORN0,U,6)="INFODEL":"I",1:"")
"RTN","DSIO12",118,0)
 ...S ALRTDFN=$P(ALRTXQA,",",2)
"RTN","DSIO12",119,0)
 ...S ALRTLOC=$G(^DPT(+$G(ALRTDFN),.1))
"RTN","DSIO12",120,0)
 ..S ALRTI=$S(ALRTI="I":"I",1:"")
"RTN","DSIO12",121,0)
 ..I (ALRT["): ")!($G(ORN)=27&(ALRT[") CV")) D  ;WAT
"RTN","DSIO12",122,0)
 ...S ALRTPT=$P(ALRT,": ")
"RTN","DSIO12",123,0)
 ...S ALRTPT=$E(ALRTPT,4,$L(ALRTPT))
"RTN","DSIO12",124,0)
 ...I $G(ORN)=27&(ALRT[") CV") S ALRTMSG=$P($P(ALRT,U),": ",2) ;WAT
"RTN","DSIO12",125,0)
 ...E  S ALRTMSG=$P($P(ALRT,U),"): ",2) ;WAT
"RTN","DSIO12",126,0)
 ...I $E(ALRTMSG,1,1)="[" D
"RTN","DSIO12",127,0)
 ....S:'$L(ALRTLOC) ALRTLOC=$P($P(ALRTMSG,"]"),"[",2)
"RTN","DSIO12",128,0)
 ....S ALRTMSG=$P(ALRTMSG,"] ",2)
"RTN","DSIO12",129,0)
 ..I '$L($G(ALRTPT)) S ALRTPT="no patient"
"RTN","DSIO12",130,0)
 ..S ALRTDT=$P(ALRTXQA,";",3)
"RTN","DSIO12",131,0)
 ..S ALRTDT=$P(ALRTDT,".")_"."_$E($P(ALRTDT,".",2)_"0000",1,4)
"RTN","DSIO12",132,0)
 ..S ALRTDT=$E(ALRTDT,4,5)_"/"_$E(ALRTDT,6,7)_"/"_($E(ALRTDT,1,3)+1700)_"@"_$E($P(ALRTDT,".",2),1,2)_":"_$E($P(ALRTDT,".",2),3,4)
"RTN","DSIO12",133,0)
 ..;S ALRTDT=($E(ALRTDT,1,3)+1700)_"/"_$E(ALRTDT,4,5)_"/"_$E(ALRTDT,6,7)_"@"_$E($P(ALRTDT,".",2),1,2)_":"_$E($P(ALRTDT,".",2),3,4)
"RTN","DSIO12",134,0)
 ..S J=J+1,^TMP("ORBG",$J,J)=ALRTI_U_ALRTPT_U_ALRTLOC_U_ORURG_U_ALRTDT_U
"RTN","DSIO12",135,0)
 ..S ^TMP("ORBG",$J,J)=^TMP("ORBG",$J,J)_ALRTMSG_U_U_ALRTXQA_U_$G(REM)_U
"RTN","DSIO12",136,0)
 .;
"RTN","DSIO12",137,0)
 .;if alert forward info/comment:
"RTN","DSIO12",138,0)
 .I $E(ALRTMSG,1,5)="-----" D
"RTN","DSIO12",139,0)
 ..S ALRTMSG=$P(ALRTMSG,"-----",2)
"RTN","DSIO12",140,0)
 ..I $E(ALRTMSG,1,14)=FWDBY D
"RTN","DSIO12",141,0)
 ...S J=J+1,^TMP("ORBG",$J,J)=FWDBY_U_$P($P(ALRTMSG,FWDBY,2),"Generated: ")_$P($P(ALRTMSG,FWDBY,2),"Generated: ",2)
"RTN","DSIO12",142,0)
 ..E  S ^TMP("ORBG",$J,J)=^TMP("ORBG",$J,J)_U_""""_ALRTMSG_""""
"RTN","DSIO12",143,0)
 S ^TMP("ORBG",$J)=""
"RTN","DSIO12",144,0)
 ; DSIO SORT
"RTN","DSIO12",145,0)
 S REF=$NA(^TMP("ORBG",$J))
"RTN","DSIO12",146,0)
 M LST=@REF
"RTN","DSIO12",147,0)
 S RET=$NA(^TMP("DSIO ALERT",$J)) K @RET
"RTN","DSIO12",148,0)
 I $G(ORTOT)=0 S @RET@(0)="-1^No entries found." Q
"RTN","DSIO12",149,0)
 I $G(SORT) D
"RTN","DSIO12",150,0)
 . D SORTA^DSIO2(.LST,.RETLST)
"RTN","DSIO12",151,0)
 . K @RET M @RET=RETLST
"RTN","DSIO12",152,0)
 I '$G(SORT) M @RET=LST
"RTN","DSIO12",153,0)
 S @RET@(0)=ORTOT
"RTN","DSIO12",154,0)
 K LST,RETLST,REF
"RTN","DSIO12",155,0)
 K ^TMP("ORB",$J),^TMP("ORBG",$J)
"RTN","DSIO12",156,0)
 Q
"RTN","DSIO12",157,0)
 ;
"RTN","DSIO12",158,0)
ALERT2(RET,SORT,EXP) ; RPC: DSIO GET NOTIFICATIONS/ALERTS
"RTN","DSIO12",159,0)
 ;                          ORWORB FASTUSER
"RTN","DSIO12",160,0)
 ;
"RTN","DSIO12",161,0)
 ; Get user alerts for patients that are being tracked. Current this only works for
"RTN","DSIO12",162,0)
 ; TIU related alerts to determine patient.
"RTN","DSIO12",163,0)
 ;
"RTN","DSIO12",164,0)
 N ND,RCT,TS,CT,STRT,END D SORT($G(SORT))
"RTN","DSIO12",165,0)
 S RET=$NA(^TMP($J,"DSIO12 ALERT")),ND=$NA(^TMP($J,"DSIO ALERT")) K @RET,@ND
"RTN","DSIO12",166,0)
 K @RET S @RET@(0)="0^No tracked patient alerts."
"RTN","DSIO12",167,0)
 D GETUSER1^XQALDATA(ND,DUZ)
"RTN","DSIO12",168,0)
 S (RCT,TS,CT)=0 F  S CT=$O(@ND@(CT)) Q:'CT  D
"RTN","DSIO12",169,0)
 . S TST=$P($P(@ND@(CT),U,2),";") I '$G(EXP) Q:$E(TST,1,3)'="TIU"
"RTN","DSIO12",170,0)
 . I '$G(EXP) Q:'$$TRACK($$GET1^DIQ(8925,$E(TST,4,($L(TST)))_",",.02,"I"))
"RTN","DSIO12",171,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO12",172,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO12",173,0)
 . S @RET@(RCT)=@ND@(CT)
"RTN","DSIO12",174,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO12",175,0)
 Q
"RTN","DSIO12",176,0)
 ;
"RTN","DSIO12",177,0)
TRACK(DFN) ; Tracked Yes or No
"RTN","DSIO12",178,0)
 Q $S($$TRACK^DSIO4(DFN,1)=1:1,1:0)
"RTN","DSIO12",179,0)
 ;
"RTN","DSIO12",180,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO12",181,0)
 ;
"RTN","DSIO12",182,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO12",183,0)
 D S^DSIO2(SORT)
"RTN","DSIO12",184,0)
 Q
"RTN","DSIO13")
0^16^B6558447
"RTN","DSIO13",1,0)
DSIO13 ;DSS/CMW/TFF - DSIO ORDER RPCS;06/06/2014 15:19
"RTN","DSIO13",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO13",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO13",4,0)
 ;
"RTN","DSIO13",5,0)
 ; External References      DBIA#
"RTN","DSIO13",6,0)
 ; -------------------      -----
"RTN","DSIO13",7,0)
 ; DETAIL^ORQ2
"RTN","DSIO13",8,0)
 ; AGET^ORWORR
"RTN","DSIO13",9,0)
 ; GET4LST^ORWORR
"RTN","DSIO13",10,0)
 ;
"RTN","DSIO13",11,0)
 Q
"RTN","DSIO13",12,0)
 ;
"RTN","DSIO13",13,0)
AGET(RET,DFN,FILTER,GROUPS,DTFROM,DTTHRU,SORT) ; RPC: DSIO GET ORDER LIST
"RTN","DSIO13",14,0)
 ;                                               ORRC ORDERS BY PATIENT
"RTN","DSIO13",15,0)
 ;
"RTN","DSIO13",16,0)
 ; INPUT
"RTN","DSIO13",17,0)
 ; ----------------------------------------------------------------
"RTN","DSIO13",18,0)
 ;     DFN = Patient ID
"RTN","DSIO13",19,0)
 ;  FILTER = # indicates which orders to return, default=2 (current)
"RTN","DSIO13",20,0)
 ;  GROUPS = Display grp of orders to show (default=ALL)
"RTN","DSIO13",21,0)
 ; DETAILS = Get Order detail
"RTN","DSIO13",22,0)
 ;
"RTN","DSIO13",23,0)
 ; RETURN:
"RTN","DSIO13",24,0)
 ;   ~IFN^Grp^ActTm^StrtTm^StopTm^Sts^Sig^Nrs^Clk^PrvID^PrvNam^ActDA^Flag^DCType^ChrtRev^DEA#^^Schedule
"RTN","DSIO13",25,0)
 ;   tOrder Text (repeating as necessary)
"RTN","DSIO13",26,0)
 ;
"RTN","DSIO13",27,0)
 N OUT,TXT,ORYD,IFNLST,CT,DETLS,RCT,TS,NCT,STRT,FLGS,END,FLGE D SORT($G(SORT))
"RTN","DSIO13",28,0)
 S RET=$NA(^TMP($J,"DSIO AGET")) K @RET S @RET@(0)="0^No orders found."
"RTN","DSIO13",29,0)
 I '$G(DFN) S @RET@(0)="-1^Patient DFN is required." Q
"RTN","DSIO13",30,0)
 S DTFROM=$$DT1^DSIO2($G(DTFROM)) S:'$L($G(DTFROM)) DTFROM=0
"RTN","DSIO13",31,0)
 S DTTHRU=$$DT1^DSIO2($G(DTTHRU)) S:'$L($G(DTTHRU)) DTTHRU=0
"RTN","DSIO13",32,0)
 D AGET^ORWORR(.OUT,$G(DFN),.FILTER,.GROUPS,DTFROM,DTTHRU) K @OUT@(.1)
"RTN","DSIO13",33,0)
 S TXT=2,ORYD=$H M IFNLST=@OUT K @OUT
"RTN","DSIO13",34,0)
 S CT=0 F  S CT=$O(IFNLST(CT)) Q:'CT  S IFNLST(CT)=$P(IFNLST(CT),"^")
"RTN","DSIO13",35,0)
 D GET4LST^ORWORR(.DETLS,.IFNLST) Q:'$G(DETLS)
"RTN","DSIO13",36,0)
 S (RCT,TS,CT)=0,NCT=1
"RTN","DSIO13",37,0)
 F  S CT=$O(DETLS(CT)) Q:CT=""  Q:'CT  D
"RTN","DSIO13",38,0)
 . I $E(DETLS(CT),1)="~" S TS=TS+1 I STRT'="" Q:TS'>STRT  S FLGS=1
"RTN","DSIO13",39,0)
 . I $E(DETLS(CT),1)="~" S RCT=RCT+1 I END'="",RCT>END S FLGE=1 Q
"RTN","DSIO13",40,0)
 . I STRT'="",END'="" Q:'$D(FLGS)!($D(FLGE))
"RTN","DSIO13",41,0)
 . S @RET@(NCT)=$$FORMAT(DETLS(CT)),NCT=NCT+1
"RTN","DSIO13",42,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO13",43,0)
 Q
"RTN","DSIO13",44,0)
 ;
"RTN","DSIO13",45,0)
FORMAT(VAL) ; Format the order information
"RTN","DSIO13",46,0)
 S $P(VAL,U,2)=$P(VAL,U,2)_":"_$$GET1^DIQ(100.98,$P(VAL,U,2)_",",.01)
"RTN","DSIO13",47,0)
 S $P(VAL,U,3)=$$FMTE^XLFDT($P(VAL,U,3),"5Z")
"RTN","DSIO13",48,0)
 S $P(VAL,U,6)=$P(VAL,U,6)_":"_$$GET1^DIQ(100,$P(VAL,U)_",",5)
"RTN","DSIO13",49,0)
 S $P(VAL,U,11)=$$NAME^DSIO2($P(VAL,U,11))
"RTN","DSIO13",50,0)
 S $P(VAL,U,19)=$P($P(VAL,U,19),":",2)_":"_$$NAME^DSIO2($P($P(VAL,U,19),":"))
"RTN","DSIO13",51,0)
 Q VAL
"RTN","DSIO13",52,0)
 ;
"RTN","DSIO13",53,0)
DETAIL(RET,ORID,DFN) ; RPC: DSIO GET ORDER DETAIL
"RTN","DSIO13",54,0)
 ;                          ORQQPXRM REMINDER DETAIL
"RTN","DSIO13",55,0)
 ;
"RTN","DSIO13",56,0)
 N ORVP
"RTN","DSIO13",57,0)
 S RET=$NA(^TMP($J,"DSIO ORD")) K @RET S @RET@(0)="-1^No entries found."
"RTN","DSIO13",58,0)
 I '$G(ORID) S @RET@(0)="-1^Order IEN required." Q
"RTN","DSIO13",59,0)
 I '$G(DFN) S @RET@(0)="-1^Patient DFN required." Q
"RTN","DSIO13",60,0)
 S ORVP=DFN_";DPT(" D DETAIL^ORQ2(.RET,ORID)
"RTN","DSIO13",61,0)
 Q
"RTN","DSIO13",62,0)
 ;
"RTN","DSIO13",63,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO13",64,0)
 ;
"RTN","DSIO13",65,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO13",66,0)
 D S^DSIO2(SORT)
"RTN","DSIO13",67,0)
 Q
"RTN","DSIO14")
0^7^B23728438
"RTN","DSIO14",1,0)
DSIO14 ;DSS/TFF - DSIO IHE;06/28/2013 15:19
"RTN","DSIO14",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO14",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO14",4,0)
 ;
"RTN","DSIO14",5,0)
 ; External References      DBIA#
"RTN","DSIO14",6,0)
 ; -------------------      -----
"RTN","DSIO14",7,0)
 ;
"RTN","DSIO14",8,0)
 ;
"RTN","DSIO14",9,0)
 ;
"RTN","DSIO14",10,0)
 Q
"RTN","DSIO14",11,0)
 ;
"RTN","DSIO14",12,0)
SAVE(RET,IEN,DFN,DATES,TYP,DIRECT,GUID,TITLE,FAC,REC,DOC,AB) ; RPC: DSIO SAVE IHE DOC
"RTN","DSIO14",13,0)
 ;
"RTN","DSIO14",14,0)
 ;    IEN = IF NULL THEN NEW
"RTN","DSIO14",15,0)
 ;    DFN = PATIENT IEN
"RTN","DSIO14",16,0)
 ;  DATES = DT CREATION^DT IMPORT/EXPORT
"RTN","DSIO14",17,0)
 ;    TYP = DOCUMENT TYPE
"RTN","DSIO14",18,0)
 ; DIRECT = DIRECTION
"RTN","DSIO14",19,0)
 ;   GUID = GUID
"RTN","DSIO14",20,0)
 ;  TITLE = DOCUMENT TITLE
"RTN","DSIO14",21,0)
 ;    FAC = SENDING FACILITY/PROVIDER
"RTN","DSIO14",22,0)
 ;    REC = INTENDED RECIPIENT
"RTN","DSIO14",23,0)
 ;    DOC = ARRAY OF TEXT
"RTN","DSIO14",24,0)
 ;
"RTN","DSIO14",25,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO14",26,0)
 ; 
"RTN","DSIO14",27,0)
 N DTC,DTI,IPT
"RTN","DSIO14",28,0)
 I '$G(IEN),'$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO14",29,0)
 S DTC=$P(DATES,U),DTI=$P(DATES,U,2)
"RTN","DSIO14",30,0)
 S DIRECT=$$UP^XLFSTR($E($G(DIRECT),1)) S:"^I^O^"'[(U_DIRECT_U) DIRECT=""
"RTN","DSIO14",31,0)
 D:'$G(AB) AB^DSIO2("DFN,DTC,DTI,TYP,DIRECT,GUID,TITLE,FAC,REC")
"RTN","DSIO14",32,0)
 S:$G(DTC)'="@" DTC=$$DT^DSIO2($G(DTC))
"RTN","DSIO14",33,0)
 S:$G(DTI)'="@" DTI=$$DT^DSIO2($G(DTI))
"RTN","DSIO14",34,0)
 S IEN=$S($G(IEN):IEN,GUID'="":$O(^DSIO(19641.6,"GUID",GUID,"")),1:"")
"RTN","DSIO14",35,0)
 S:IEN="" IEN="?+1"
"RTN","DSIO14",36,0)
 S:IEN["+" IPT(19641.6,IEN_",",.01)=$$NOW^XLFDT            ; DT OF ENTRY
"RTN","DSIO14",37,0)
 S IPT(19641.6,IEN_",",.02)=DFN                            ; PATIENT
"RTN","DSIO14",38,0)
 S:$G(DTC)'="" IPT(19641.6,IEN_",",.03)=DTC                ; DT CREATION
"RTN","DSIO14",39,0)
 S:$G(DTI)'="" IPT(19641.6,IEN_",",.04)=DTI                ; DT IMPORT/EXPORT
"RTN","DSIO14",40,0)
 S:$G(TYP)'="" IPT(19641.6,IEN_",",.05)=$$TYP(TYP)         ; DOCUMENT TYPE
"RTN","DSIO14",41,0)
 S:$G(DIRECT)'="" IPT(19641.6,IEN_",",.06)=DIRECT          ; DIRECTION
"RTN","DSIO14",42,0)
 ;S IPT(19641.6,IEN_",",.07)=$$GUID($S(IEN["+":"",1:IEN),$G(GUID))
"RTN","DSIO14",43,0)
 S:$G(GUID)'="" IPT(19641.6,IEN_",",.07)=GUID              ; GUID/ID
"RTN","DSIO14",44,0)
 S:$G(TITLE)'="" IPT(19641.6,IEN_",",1.1)=TITLE            ; DOCUMENT TITLE
"RTN","DSIO14",45,0)
 S:$G(FAC)'="" IPT(19641.6,IEN_",",1.2)=FAC                ; SENDING FACILITY/PROVIDER
"RTN","DSIO14",46,0)
 S:$G(REC)'="" IPT(19641.6,IEN_",",1.3)=REC                ; INTENDED RECIPIENT
"RTN","DSIO14",47,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO14",48,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO14",49,0)
 ; *** DOCUMENT CONTENT
"RTN","DSIO14",50,0)
 I $D(DOC)>9 K ^TMP($J,"DSIO14 SAVE") D
"RTN","DSIO14",51,0)
 . S %X="DOC(",%Y="^TMP($J,""DSIO14 SAVE"",1" D %XY^%RCR
"RTN","DSIO14",52,0)
 . D WP^DIE(19641.6,IEN_",",2,"K","^TMP($J,""DSIO14 SAVE"")")
"RTN","DSIO14",53,0)
 . K ^TMP($J,"DSIO14 SAVE")
"RTN","DSIO14",54,0)
 Q
"RTN","DSIO14",55,0)
 ;
"RTN","DSIO14",56,0)
TYP(TYP) ; Create the Document Type and return the IEN
"RTN","DSIO14",57,0)
 Q:$G(TYP)="" ""
"RTN","DSIO14",58,0)
 N DLAYGO,DIC,DA,X,Y
"RTN","DSIO14",59,0)
 S DLAYGO=19641.61,DIC="^DSIO(19641.61,",DIC(0)="XL",X=TYP D ^DIC
"RTN","DSIO14",60,0)
 Q $S(Y:+Y,1:"")
"RTN","DSIO14",61,0)
 ;
"RTN","DSIO14",62,0)
GUID(IEN,GUID) ; Find or Generate a GUID
"RTN","DSIO14",63,0)
 I IEN,GUID'="",$O(^DSIO(19641.6,"GUID",GUID,""))=IEN Q GUID
"RTN","DSIO14",64,0)
 I 'IEN,GUID'="",'$O(^DSIO(19641.6,"GUID",GUID,"")),GUID?8E1"-"4E1"-"4E1"-"4E1"-"12E Q GUID
"RTN","DSIO14",65,0)
 F  Q:$$GEN(.GUID)
"RTN","DSIO14",66,0)
 Q GUID
"RTN","DSIO14",67,0)
 ;
"RTN","DSIO14",68,0)
GEN(GUID) ; Generate and Determine that GUID is unique
"RTN","DSIO14",69,0)
 N TST S TST=$$G I '$O(^DSIO(19641.6,"GUID",TST,"")) S GUID=TST Q 1
"RTN","DSIO14",70,0)
 Q 0
"RTN","DSIO14",71,0)
 ;
"RTN","DSIO14",72,0)
G() ; Generate GUID
"RTN","DSIO14",73,0)
 ; 21EC2020-3AEA-4069-A2DD-08002B30309D
"RTN","DSIO14",74,0)
 N G1,G2,G3,G4,G5 S (G1,G2,G3,G4,G5)=""
"RTN","DSIO14",75,0)
 F V="8^G1","4^G2","4^G3","4^G4","12^G5" S @$P(V,U,2)=$$GP(+V,@$P(V,U,2))
"RTN","DSIO14",76,0)
 Q G1_"-"_G2_"-"_G3_"-"_G4_"-"_G5
"RTN","DSIO14",77,0)
 ;
"RTN","DSIO14",78,0)
GP(NUM,VAR) ; Generate GUID Segment
"RTN","DSIO14",79,0)
 N I F I=1:1:NUM S VAR=VAR_$R($S($R(9)<5:26,1:9))_U
"RTN","DSIO14",80,0)
 S VAR=$E(VAR,1,($L(VAR)-1))
"RTN","DSIO14",81,0)
 F I=1:1:NUM S:$L($P(VAR,U,I))=2 $P(VAR,U,I)=$$A($P(VAR,U,I))
"RTN","DSIO14",82,0)
 Q $TR(VAR,U)
"RTN","DSIO14",83,0)
 ;
"RTN","DSIO14",84,0)
A(NUM) ; Return Alpha
"RTN","DSIO14",85,0)
 Q $E("ABCDEFGHIJKLMNOPQRSTUVWXYZ",NUM)
"RTN","DSIO14",86,0)
 ;
"RTN","DSIO14",87,0)
 ; ----------------------------------------------------------------------------
"RTN","DSIO14",88,0)
 ;
"RTN","DSIO14",89,0)
GD(RET,IEN) ; RPC: DSIO GET IHE CONTENT
"RTN","DSIO14",90,0)
 D GET(.RET,$G(IEN),,,1)
"RTN","DSIO14",91,0)
 Q
"RTN","DSIO14",92,0)
 ;
"RTN","DSIO14",93,0)
GET(RET,IEN,DFN,SORT,DOC) ; RPC: DSIO GET IHE DOCS
"RTN","DSIO14",94,0)
 ;
"RTN","DSIO14",95,0)
 ; IEN^DATE OF ENTRY^DFN^DATE OF CREATION^DATE OF IMPORT/EXPORT^DOCUMENT TYPE^
"RTN","DSIO14",96,0)
 ; DIRECTION^GUID/ID^DOCUMENT TITLE^SENDING FACILITY/PROVIDER^INTENDED RECIPIENT
"RTN","DSIO14",97,0)
 ;
"RTN","DSIO14",98,0)
 N RCT,TS,STRT,END D SORT($G(SORT))
"RTN","DSIO14",99,0)
 S RET=$NA(^TMP($J,"DSIO14 GET")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO14",100,0)
 I $G(DOC) D  Q
"RTN","DSIO14",101,0)
 . Q:'$G(IEN)
"RTN","DSIO14",102,0)
 . K @RET D GETS^DIQ(19641.6,IEN_",",2,"E",RET)
"RTN","DSIO14",103,0)
 . K @RET@(19641.6,IEN_",",2,"E") S:'$D(@RET) @RET@(0)=""
"RTN","DSIO14",104,0)
 I $G(IEN) D  Q
"RTN","DSIO14",105,0)
 . Q:'$D(^DSIO(19641.6,IEN))
"RTN","DSIO14",106,0)
 . S @RET@(1)=$$FLDS(IEN),@RET@(0)=1
"RTN","DSIO14",107,0)
 I '$$CHECK^DSIO2($G(DFN)) S @RET@(0)="0^Patient entry not found." Q
"RTN","DSIO14",108,0)
 S (RCT,TS,IEN)=0
"RTN","DSIO14",109,0)
 F  S IEN=$O(^DSIO(19641.6,"P",DFN,IEN)) Q:'IEN  D
"RTN","DSIO14",110,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO14",111,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO14",112,0)
 . S @RET@(RCT)=$$FLDS(IEN)
"RTN","DSIO14",113,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO14",114,0)
 Q
"RTN","DSIO14",115,0)
 ;
"RTN","DSIO14",116,0)
FLDS(IEN) ; Return Transformed Fields
"RTN","DSIO14",117,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO14",118,0)
 D GETS^DIQ(19641.6,IEN_",","*","IE","OUT")
"RTN","DSIO14",119,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO14",120,0)
 S STR=IEN_U
"RTN","DSIO14",121,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.01,"I"),"5Z")_U            ; DT OF ENTRY
"RTN","DSIO14",122,0)
 S STR=STR_FLD(.02,"I")_U                               ; DFN
"RTN","DSIO14",123,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U            ; DT CREATION
"RTN","DSIO14",124,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.04,"I"),"5Z")_U            ; DT IMPORT/EXPORT
"RTN","DSIO14",125,0)
 S STR=STR_$$GET1^DIQ(19641.61,FLD(.05,"I")_",",.01)_U  ; DOCUMENT TYPE
"RTN","DSIO14",126,0)
 S STR=STR_FLD(.06,"E")_U                               ; DIRECTION
"RTN","DSIO14",127,0)
 S STR=STR_FLD(.07,"I")_U                               ; GUID/ID
"RTN","DSIO14",128,0)
 S STR=STR_FLD(1.1,"I")_U                               ; DOCUMENT TITLE
"RTN","DSIO14",129,0)
 S STR=STR_FLD(1.2,"I")_U                               ; SENDING FACILITY/PROVIDER
"RTN","DSIO14",130,0)
 S STR=STR_FLD(1.3,"I")                                 ; INTENDED RECIPIENT
"RTN","DSIO14",131,0)
 Q STR
"RTN","DSIO14",132,0)
 ;
"RTN","DSIO14",133,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO14",134,0)
 D S^DSIO2(SORT)
"RTN","DSIO14",135,0)
 Q
"RTN","DSIO15")
0^9^B56112468
"RTN","DSIO15",1,0)
DSIO15 ;DSS/TFF - DSIO PREGNANCY;06/28/2013 15:19
"RTN","DSIO15",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO15",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO15",4,0)
 ;
"RTN","DSIO15",5,0)
 ; External References      DBIA#
"RTN","DSIO15",6,0)
 ; -------------------      -----
"RTN","DSIO15",7,0)
 ;
"RTN","DSIO15",8,0)
 ;
"RTN","DSIO15",9,0)
 ;
"RTN","DSIO15",10,0)
 Q
"RTN","DSIO15",11,0)
 ;
"RTN","DSIO15",12,0)
PREG(RET,IEN,DFN,DATES,TYP,FOF,OBP,FAP,BAB,POST,COM,AB) ; RPC: DSIO SAVE PREG DETAILS
"RTN","DSIO15",13,0)
 ;
"RTN","DSIO15",14,0)
 ; CREATE, UPDATE, or DELETE a PREGNANCY HISTORY record
"RTN","DSIO15",15,0)
 ;
"RTN","DSIO15",16,0)
 ;    DFN = PATIENT IEN
"RTN","DSIO15",17,0)
 ;    IEN = IF NOT NULL THEN EDIT
"RTN","DSIO15",18,0)
 ;  DATES = EDC^END^EDD
"RTN","DSIO15",19,0)
 ;    TYP = C(urrent),H(istorical)
"RTN","DSIO15",20,0)
 ;    FOF = IEN, U(nspecified), S(pouse)
"RTN","DSIO15",21,0)
 ;    OBP = OB (VARIABLE POINTER)
"RTN","DSIO15",22,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"RTN","DSIO15",23,0)
 ;           VA.IEN (VA) (200)
"RTN","DSIO15",24,0)
 ;    FAP = FACILITY (VARIABLE POINTER)
"RTN","DSIO15",25,0)
 ;          NVA.IEN (NON-VA) (19641.1)
"RTN","DSIO15",26,0)
 ;           VA.IEN (VA) (4)
"RTN","DSIO15",27,0)
 ;    BAB = NUMBER
"RTN","DSIO15",28,0)
 ;            IF 1,2,3 THEN THREE BABIES WILL BE ADDED
"RTN","DSIO15",29,0)
 ;            IF 1,2@,3 THEN BABY 2 WILL BE DELETED
"RTN","DSIO15",30,0)
 ;            *** + is the next number.
"RTN","DSIO15",31,0)
 ;   POST = ADDITIONAL DETAILS (CARET DELIMITED STRING)
"RTN","DSIO15",32,0)
 ;            1: GESTATIONAL AGE AT DELIVERY (NUMBER 0 - 99)
"RTN","DSIO15",33,0)
 ;            2: LENGTH OF LABOR (NUMBER (IN HOURS))
"RTN","DSIO15",34,0)
 ;            3: TYPE OF DELIVERY (TEXT 1-20 CHARACTERS)
"RTN","DSIO15",35,0)
 ;            4: EPIDURAL/SPINAL (0 (NO), 1 (YES))
"RTN","DSIO15",36,0)
 ;            5: PRETERM LABOR (0 (NO), 1 (YES))
"RTN","DSIO15",37,0)
 ;    COM = COMMENTS (ARRAY OF TEXT)
"RTN","DSIO15",38,0)
 ;
"RTN","DSIO15",39,0)
 ; X-REFS on EDD and STATUS
"RTN","DSIO15",40,0)
 ; If EDD>DT then update WV PATIENT - CURRENTLY PREGNANT (#.13) to 'YES'
"RTN","DSIO15",41,0)
 ; and EDC (#.14) with the EDD value
"RTN","DSIO15",42,0)
 ;
"RTN","DSIO15",43,0)
 ; RETURN: IEN^IEN;BABY|...
"RTN","DSIO15",44,0)
 ;      OR -1^MESSAGE
"RTN","DSIO15",45,0)
 ;
"RTN","DSIO15",46,0)
 N EDC,END,EDD,CT,FLD,IENS,IPT,STR S RET=-1
"RTN","DSIO15",47,0)
 S DATES=$G(DATES)
"RTN","DSIO15",48,0)
 S EDC=$P(DATES,U),END=$P(DATES,U,2),EDD=$P(DATES,U,3)
"RTN","DSIO15",49,0)
 ; *** POST PREGNANCY DATA
"RTN","DSIO15",50,0)
 I $G(POST)'="" F CT=1:1:5 S FLD("3."_CT)=$P(POST,U,CT)
"RTN","DSIO15",51,0)
 D:'$G(AB) AB^DSIO2("EDC,END,EDD,FOF,OBP,FAP,BAB,FLD")
"RTN","DSIO15",52,0)
 S:$G(EDC)'="@" EDC=$$DT^DSIO2($G(EDC))
"RTN","DSIO15",53,0)
 S:$G(END)'="@" END=$$DT^DSIO2($G(END))
"RTN","DSIO15",54,0)
 S:$G(EDD)'="@" EDD=$$DT^DSIO2($G(EDD))
"RTN","DSIO15",55,0)
 S TYP=$$UP^XLFSTR($E($G(TYP)))
"RTN","DSIO15",56,0)
 S TYP=$S(EDD>DT:"C",EDD&(EDD<DT):"H",1:"")
"RTN","DSIO15",57,0)
 I '$G(IEN) D  Q:$P(RET,U,2)'=""
"RTN","DSIO15",58,0)
 . I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO15",59,0)
 . S IENS="+1,",IPT(19641.13,IENS,.01)=$$NOW^XLFDT         ; DATE RECORDED
"RTN","DSIO15",60,0)
 . S:TYP="" TYP="C"
"RTN","DSIO15",61,0)
 S:$G(IEN) IENS=+IEN_","
"RTN","DSIO15",62,0)
 S:EDC'="" IPT(19641.13,IENS,.02)=EDC                      ; EDC
"RTN","DSIO15",63,0)
 I $G(DFN),$D(^DPT(DFN)) S IPT(19641.13,IENS,.03)=DFN      ; PATIENT
"RTN","DSIO15",64,0)
 S:TYP'="" IPT(19641.13,IENS,.04)=TYP                      ; STATUS
"RTN","DSIO15",65,0)
 S:END'="" IPT(19641.13,IENS,.07)=END                      ; PREGNANCY END
"RTN","DSIO15",66,0)
 I $G(OBP)'="",$$VPG(.OBP,0) S IPT(19641.13,IENS,.08)=OBP  ; OB
"RTN","DSIO15",67,0)
 I $G(FAP)'="",$$VPG(.FAP,1) S IPT(19641.13,IENS,.09)=FAP  ; FACILITY
"RTN","DSIO15",68,0)
 S IPT(19641.13,IENS,1.1)=DUZ                              ; UPDATED BY
"RTN","DSIO15",69,0)
 S:$G(FLD(3.1))'="" IPT(19641.13,IENS,3.1)=FLD(3.1)        ; GESTATIONAL AGE AT DELIVERY
"RTN","DSIO15",70,0)
 S:$G(FLD(3.2))'="" IPT(19641.13,IENS,3.2)=FLD(3.2)        ; LENGTH OF LABOR
"RTN","DSIO15",71,0)
 S:$G(FLD(3.3))'="" IPT(19641.13,IENS,3.3)=FLD(3.3)        ; TYPE OF DELIVERY
"RTN","DSIO15",72,0)
 S:$G(FLD(3.4))'="" IPT(19641.13,IENS,3.4)=FLD(3.4)        ; EPIDERAL/SPINAL
"RTN","DSIO15",73,0)
 S:$G(FLD(3.5))'="" IPT(19641.13,IENS,3.5)=FLD(3.5)        ; PRETERM LABOR
"RTN","DSIO15",74,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO15",75,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO15",76,0)
 S DFN=$$GET1^DIQ(19641.13,IEN_",",.03,"I")
"RTN","DSIO15",77,0)
 I $G(FOF)'="" D
"RTN","DSIO15",78,0)
 . S FOF=$$FOF^DSIO9(DFN,FOF)
"RTN","DSIO15",79,0)
 . S IPT(19641.13,IEN_",",.05)=FOF                         ; FATHER OF FETUS/BABY
"RTN","DSIO15",80,0)
 S:EDD'="" IPT(19641.13,IEN_",",.06)=$S(EDD="@":"@",1:$$EDD(EDD,IEN))  ; EDD
"RTN","DSIO15",81,0)
 D:$D(IPT) UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO15",82,0)
 ; *** BABIES
"RTN","DSIO15",83,0)
 I $G(BAB)'="" D
"RTN","DSIO15",84,0)
 . I BAB="+" S RET=IEN_U_$$BAB("+",IEN) Q
"RTN","DSIO15",85,0)
 . F CT=1:1:$L(BAB,",") D
"RTN","DSIO15",86,0)
 . . I $P(BAB,",",CT) S STR=$G(STR)_$$BAB($P(BAB,",",CT),IEN)_"|"
"RTN","DSIO15",87,0)
 . Q:'$D(STR)
"RTN","DSIO15",88,0)
 . I $E(STR,$L(STR))="|" S STR=$E(STR,1,($L(STR)-1))
"RTN","DSIO15",89,0)
 . S RET=IEN_U_STR
"RTN","DSIO15",90,0)
 ; *** COMMENTS
"RTN","DSIO15",91,0)
 I $D(COM)>9 K ^TMP($J,"DSIO PREG") D
"RTN","DSIO15",92,0)
 . S %X="COM(",%Y="^TMP($J,""DSIO PREG"",1" D %XY^%RCR
"RTN","DSIO15",93,0)
 . D WP^DIE(19641.13,IEN_",",4,"K","^TMP($J,""DSIO PREG"")")
"RTN","DSIO15",94,0)
 . K ^TMP($J,"DSIO PREG")
"RTN","DSIO15",95,0)
 Q
"RTN","DSIO15",96,0)
 ;
"RTN","DSIO15",97,0)
VPG(VAL,TYP) ; Validate variable pointer for Pregnancy File
"RTN","DSIO15",98,0)
 Q:VAL="@" 1
"RTN","DSIO15",99,0)
 N LOC,IEN,FLG
"RTN","DSIO15",100,0)
 S LOC=$P(VAL,"."),IEN=+$P(VAL,".",2)
"RTN","DSIO15",101,0)
 Q:"^NVA^VA^"'[(U_LOC_U) 0
"RTN","DSIO15",102,0)
 I 'TYP D  Q:$D(FLG) 0
"RTN","DSIO15",103,0)
 . I (LOC="NVA"&('$D(^DSIO(19641.1,IEN))))!(LOC="VA"&('$D(^VA(200,IEN)))) S FLG=1
"RTN","DSIO15",104,0)
 . S VAL=IEN_";VA(200,"
"RTN","DSIO15",105,0)
 I TYP D  Q:$D(FLG) 0
"RTN","DSIO15",106,0)
 . I (LOC="NVA"&('$D(^DSIO(19641.1,IEN))))!(LOC="VA"&('$D(^DIC(4,IEN)))) S FLG=1
"RTN","DSIO15",107,0)
 . S VAL=IEN_";DIC(4,"
"RTN","DSIO15",108,0)
 I LOC="NVA" S VAL=IEN_";DSIO(19641.1,"
"RTN","DSIO15",109,0)
 Q 1
"RTN","DSIO15",110,0)
 ;
"RTN","DSIO15",111,0)
EDD(DATE,PIEN) ; Create an EDD record and return the IEN
"RTN","DSIO15",112,0)
 Q:'$G(PIEN) ""
"RTN","DSIO15",113,0)
 N DFN,FLG,IPT,IEN
"RTN","DSIO15",114,0)
 S DFN=$$GET1^DIQ(19641.13,PIEN_",",.03,"I") Q:'DFN ""
"RTN","DSIO15",115,0)
 S FLG=$O(^DSIO(19641.03,"C",DFN,DATE,"")) Q:FLG FLG
"RTN","DSIO15",116,0)
 S IPT(19641.03,"+1,",.01)=DATE            ; ESTIMATED DELIVERY DATE
"RTN","DSIO15",117,0)
 S IPT(19641.03,"+1,",.02)=DFN             ; PATIENT
"RTN","DSIO15",118,0)
 S IPT(19641.03,"+1,",.03)=DUZ             ; ENTERED BY
"RTN","DSIO15",119,0)
 S IPT(19641.03,"+1,",.04)=$$NOW^XLFDT     ; DATE ENTERED
"RTN","DSIO15",120,0)
 S IPT(19641.03,"+1,",2.1)=PIEN
"RTN","DSIO15",121,0)
 D UPDATE^DIE(,"IPT","IEN")
"RTN","DSIO15",122,0)
 Q $G(IEN(1))
"RTN","DSIO15",123,0)
 ;
"RTN","DSIO15",124,0)
BAB(VAL,PIEN) ; Record baby to pregnancy
"RTN","DSIO15",125,0)
 N DIK,DA,X,Y,IPT,IEN,NUM
"RTN","DSIO15",126,0)
 I '$D(DFN) N DFN S DFN=$$GET1^DIQ(19641.13,PIEN_",",.03,"I")
"RTN","DSIO15",127,0)
 Q:'DFN ""
"RTN","DSIO15",128,0)
 S IEN=$O(^DSIO(19641.112,"C",DFN,PIEN,+VAL,""))
"RTN","DSIO15",129,0)
 I VAL["@" D  Q ""
"RTN","DSIO15",130,0)
 . Q:'IEN
"RTN","DSIO15",131,0)
 . S DA=IEN,DIK="^DSIO(19641.112," D ^DIK
"RTN","DSIO15",132,0)
 . ; *** Delete from Pregnancy
"RTN","DSIO15",133,0)
 . S DA=$O(^DSIO(19641.13,PIEN,2,"B",IEN,""))
"RTN","DSIO15",134,0)
 . S DA(1)=PIEN,DIK="^DSIO(19641.13,"_DA(1)_",2," D ^DIK
"RTN","DSIO15",135,0)
 S:'IEN IEN="+1"
"RTN","DSIO15",136,0)
 S (NUM,IPT(19641.112,IEN_",",.01))=$$NUM    ; NUMBER
"RTN","DSIO15",137,0)
 S IPT(19641.112,IEN_",",.02)=DFN            ; PATIENT
"RTN","DSIO15",138,0)
 S IPT(19641.112,IEN_",",.03)=PIEN           ; PREGNANCY
"RTN","DSIO15",139,0)
 K IEN D UPDATE^DIE(,"IPT","IEN") Q:'$G(IEN(1)) ""
"RTN","DSIO15",140,0)
 S IPT(19641.132,"+1,"_PIEN_",",.01)=IEN(1)
"RTN","DSIO15",141,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO15",142,0)
 Q IEN(1)_";"_NUM
"RTN","DSIO15",143,0)
 ;
"RTN","DSIO15",144,0)
NUM() ; Set Baby Number for new entries
"RTN","DSIO15",145,0)
 Q $O(^DSIO(19641.112,"C",DFN,PIEN,""),-1)+1
"RTN","DSIO15",146,0)
 ;
"RTN","DSIO15",147,0)
PREGG(RET,IEN,DFN,SORT) ; RPC: DSIO GET PREG DETAILS
"RTN","DSIO15",148,0)
 ;
"RTN","DSIO15",149,0)
 ; If IEN = "C" get only the CURRENT pregnancy
"RTN","DSIO15",150,0)
 ;
"RTN","DSIO15",151,0)
 ; RETURN:
"RTN","DSIO15",152,0)
 ;  L^IEN^DATE RECORDED^EDC^DFN|PATIENT^STATUS^FOF|(IEN OR IDENTIFIER)^
"RTN","DSIO15",153,0)
 ;    EDD^PREGNANCY END^OB IEN|OB^FACILITY IEN|FACILITY^
"RTN","DSIO15",154,0)
 ;    UPDATED BY IEN|UPDATED BY^GESTATIONAL AGE AT DELIVERY^LENGTH OF DELIVERY^
"RTN","DSIO15",155,0)
 ;    EPIDERAL/SPINAL^PRETERM LABOR^BIRTH TYPE^IEN;BABY |IEN;BABY
"RTN","DSIO15",156,0)
 ;  C^IEN^COMMENT
"RTN","DSIO15",157,0)
 ;
"RTN","DSIO15",158,0)
 N RCT,TS,DATE,STRT,END D SORT($G(SORT))
"RTN","DSIO15",159,0)
 S RET=$NA(^TMP($J,"DSIO PREG")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO15",160,0)
 I $G(IEN) D P1(IEN,1) S:$D(@RET@(1)) @RET@(0)=1 Q
"RTN","DSIO15",161,0)
 I $G(IEN)="C" Q:'$G(DFN)  D  Q
"RTN","DSIO15",162,0)
 . S IEN=$$PG^DSIO4(DFN) Q:'IEN
"RTN","DSIO15",163,0)
 . D P1(IEN,1) S @RET@(0)=1
"RTN","DSIO15",164,0)
 Q:'$G(DFN)
"RTN","DSIO15",165,0)
 I '$$CHECK^DSIO2($G(DFN)) S @RET@(0)="0^Patient entry not found." Q
"RTN","DSIO15",166,0)
 S (RCT,TS)=0,DATE=""
"RTN","DSIO15",167,0)
 F  S DATE=$O(^DSIO(19641.13,"P",DFN,DATE),-1) Q:DATE=""  D
"RTN","DSIO15",168,0)
 . S IEN="" F  S IEN=$O(^DSIO(19641.13,"P",DFN,DATE,IEN),-1) Q:IEN=""  D
"RTN","DSIO15",169,0)
 . . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO15",170,0)
 . . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO15",171,0)
 . . D P1(IEN,RCT)
"RTN","DSIO15",172,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO15",173,0)
 Q
"RTN","DSIO15",174,0)
 ;
"RTN","DSIO15",175,0)
P1(IEN,ND) ; Continue
"RTN","DSIO15",176,0)
 N OUT,CT,FLD,STR
"RTN","DSIO15",177,0)
 D GETS^DIQ(19641.13,IEN_",","*","IE","OUT") Q:'$D(OUT)
"RTN","DSIO15",178,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S FLD($QS(CT,3),$QS(CT,4))=@CT
"RTN","DSIO15",179,0)
 S STR="L^"_IEN_U_$$FMTE^XLFDT(FLD(.01,"I"),"5Z")_U         ; DATE RECORDED
"RTN","DSIO15",180,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.02,"I"),"5Z")_U                ; EDC
"RTN","DSIO15",181,0)
 S STR=STR_FLD(.03,"I")_"|"_$$NAME^DSIO2(FLD(.03,"E"))_U    ; PATIENT
"RTN","DSIO15",182,0)
 S STR=STR_FLD(.04,"E")_U                                   ; STATUS
"RTN","DSIO15",183,0)
 S STR=STR_$$NAME^DSIO2(FLD(.05,"I"))_U                     ; FATHER OF FETUS/BABY
"RTN","DSIO15",184,0)
 S STR=STR_$$FMTE^XLFDT($$GET1^DIQ(19641.03,FLD(.06,"I")_",",.01,"I"),"5Z")_U    ; EDD
"RTN","DSIO15",185,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.07,"I"),"5Z")_U                ; PREGNANCY END
"RTN","DSIO15",186,0)
 S STR=STR_$S(FLD(.08,"I"):+FLD(.08,"I"),1:"")_"|"_$$NAME^DSIO2(FLD(.08,"E"))_U  ; OB
"RTN","DSIO15",187,0)
 S STR=STR_$S(FLD(.09,"I"):+FLD(.09,"I"),1:"")_"|"_$$NAME^DSIO2(FLD(.09,"E"))_U  ; FACILITY
"RTN","DSIO15",188,0)
 S STR=STR_FLD(1.1,"I")_"|"_$$NAME^DSIO2(FLD(1.1,"E"))_U    ; UPDATED BY
"RTN","DSIO15",189,0)
 S STR=STR_FLD(3.1,"E")_U                                   ; GESTATIONAL AGE AT DELIVERY
"RTN","DSIO15",190,0)
 S STR=STR_FLD(3.2,"E")_U                                   ; LENGTH OF LABOR
"RTN","DSIO15",191,0)
 S STR=STR_FLD(3.3,"E")_U                                   ; TYPE OF DELIVERY
"RTN","DSIO15",192,0)
 S STR=STR_FLD(3.4,"E")_U                                   ; EPIDERAL/SPINAL
"RTN","DSIO15",193,0)
 S STR=STR_FLD(3.5,"E")_U                                   ; PRETERM LABOR
"RTN","DSIO15",194,0)
 S STR=STR_FLD(999.1,"E")_U                                 ; BIRTH TYPE (C)
"RTN","DSIO15",195,0)
 S @RET@(ND)=$G(STR)_$$FETUS(IEN)
"RTN","DSIO15",196,0)
 ; *** COMMENTS
"RTN","DSIO15",197,0)
 S CT=0 F  S CT=$O(FLD(4,CT)) Q:'CT  S @RET@(ND,CT)="C^"_IEN_U_FLD(4,CT)
"RTN","DSIO15",198,0)
 Q
"RTN","DSIO15",199,0)
 ;
"RTN","DSIO15",200,0)
FETUS(IEN) ; Return Baby String as IEN;Number|...
"RTN","DSIO15",201,0)
 N OUT,CT,STR
"RTN","DSIO15",202,0)
 D GETS^DIQ(19641.13,IEN_",","2*","IE","OUT") Q:'$D(OUT) ""
"RTN","DSIO15",203,0)
 S CT="" F  S CT=$O(OUT(19641.132,CT)) Q:CT=""  D
"RTN","DSIO15",204,0)
 . S STR=$G(STR)_OUT(19641.132,CT,.01,"I")_";"_OUT(19641.132,CT,.01,"E")_"|"
"RTN","DSIO15",205,0)
 I $E(STR,$L(STR))="|" S STR=$E(STR,1,($L(STR)-1))
"RTN","DSIO15",206,0)
 Q $G(STR)
"RTN","DSIO15",207,0)
 ;
"RTN","DSIO15",208,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO15",209,0)
 ;
"RTN","DSIO15",210,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO15",211,0)
 D S^DSIO2(SORT)
"RTN","DSIO15",212,0)
 Q
"RTN","DSIO2")
0^2^B41277423
"RTN","DSIO2",1,0)
DSIO2 ;DSS/TFF - DSIO X-REFERENCES AND UTILITIES;06/28/2013 15:19
"RTN","DSIO2",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO2",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO2",4,0)
 ;
"RTN","DSIO2",5,0)
 ; External References      DBIA#
"RTN","DSIO2",6,0)
 ; -------------------      -----
"RTN","DSIO2",7,0)
 ;
"RTN","DSIO2",8,0)
 ;
"RTN","DSIO2",9,0)
 ;
"RTN","DSIO2",10,0)
 Q
"RTN","DSIO2",11,0)
 ;
"RTN","DSIO2",12,0)
 ; --------------------------------- CODING -----------------------------------
"RTN","DSIO2",13,0)
 ;
"RTN","DSIO2",14,0)
ICODE(SYS,CD) ; Transform and lookup code (internal)
"RTN","DSIO2",15,0)
 Q:CD="@" CD
"RTN","DSIO2",16,0)
 N IEN,CODE,CK
"RTN","DSIO2",17,0)
 I SYS="LNC" D
"RTN","DSIO2",18,0)
 . S IEN=+CD,CK=$P(CD,"-",2)
"RTN","DSIO2",19,0)
 . I $$FIND1^DIC(95.3,,"A",IEN)&($$GET1^DIQ(95.3,IEN_",",15)=CK) D
"RTN","DSIO2",20,0)
 . . S CODE=IEN_";LAB(95.3,"
"RTN","DSIO2",21,0)
 I SYS="SCT" D
"RTN","DSIO2",22,0)
 . S IEN=$$FIND1^DIC(757.02,,"O",CD,"CODE") Q:'IEN
"RTN","DSIO2",23,0)
 . I $$GET1^DIQ(757.02,IEN_",",1)=CD D
"RTN","DSIO2",24,0)
 . . S CODE=IEN_";LEX(757.02,"
"RTN","DSIO2",25,0)
 Q $G(CODE)
"RTN","DSIO2",26,0)
 ;
"RTN","DSIO2",27,0)
DCODE(Y) ; Display Code
"RTN","DSIO2",28,0)
 N FLE S FLE=$TR($P(Y,"(",2),",","")
"RTN","DSIO2",29,0)
 I $P(Y,";",2)="LAB(95.3," S Y=$$GET1^DIQ(FLE,+Y_",",.01)
"RTN","DSIO2",30,0)
 E  I $P(Y,";",2)="LEX(757.02," S Y=$$GET1^DIQ(FLE,+Y_",",1)
"RTN","DSIO2",31,0)
 Q Y
"RTN","DSIO2",32,0)
 ;
"RTN","DSIO2",33,0)
SCODE(VP,IEN,FLE) ; Set the Code Type
"RTN","DSIO2",34,0)
 N TYP,IPT
"RTN","DSIO2",35,0)
 S TYP=$S($P(VP,";",2)="LAB(95.3,":"LNC",$P(VP,";",2)="LEX(757.02,":"SCT",1:"OTHER")
"RTN","DSIO2",36,0)
 S IPT(FLE,IEN_",",$S(FLE=19641.123:.03,FLE=19641.12:.07,1:""))=TYP
"RTN","DSIO2",37,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO2",38,0)
 Q
"RTN","DSIO2",39,0)
 ;
"RTN","DSIO2",40,0)
LCODE(CODE,TYP,SOR) ; Log codes that are not found in DSIO CODES (19641.99)
"RTN","DSIO2",41,0)
 ; *** USED BY DSIO OBSERVATION
"RTN","DSIO2",42,0)
 N IPT,REASON,DLAYGO
"RTN","DSIO2",43,0)
 S DLAYGO=19641.99
"RTN","DSIO2",44,0)
 S IPT(19641.99,"+1,",.01)=$$NOW^XLFDT
"RTN","DSIO2",45,0)
 S IPT(19641.99,"+1,",.02)=CODE
"RTN","DSIO2",46,0)
 S IPT(19641.99,"+1,",.03)=TYP
"RTN","DSIO2",47,0)
 S IPT(19641.99,"+1,",.04)=DUZ
"RTN","DSIO2",48,0)
 S IPT(19641.99,"+1,",.05)=SOR
"RTN","DSIO2",49,0)
 S REASON=$S(TYP'="LNC"&(TYP'="SCT"):"Type is not LOINC or SNOMED CT.",1:"Unable to find code as "_TYP_".")
"RTN","DSIO2",50,0)
 S IPT(19641.99,"+1,",.06)=REASON
"RTN","DSIO2",51,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO2",52,0)
 Q
"RTN","DSIO2",53,0)
 ;
"RTN","DSIO2",54,0)
 ; --------------------------------- UTILITIES --------------------------------
"RTN","DSIO2",55,0)
 ;
"RTN","DSIO2",56,0)
WITHIN(SUB,WOLE,DL) ; Is a string within another
"RTN","DSIO2",57,0)
 ; WOLE IS DELIMITED BY CARET
"RTN","DSIO2",58,0)
 N CT,FLG S:'$D(DL) DL=U
"RTN","DSIO2",59,0)
 F CT=1:1:$L(WOLE,DL) I $P(WOLE,DL,CT)=SUB S FLG=1
"RTN","DSIO2",60,0)
 Q +$G(FLG)
"RTN","DSIO2",61,0)
 ;
"RTN","DSIO2",62,0)
FORMAT(X) ; -- enforce (xxx)xxx-xxxx phone format
"RTN","DSIO2",63,0)
 S X=$G(X) I X?1"("3N1")"3N1"-"4N.E Q X
"RTN","DSIO2",64,0)
 N P,N,I,Y S P=""
"RTN","DSIO2",65,0)
 F I=1:1:$L(X) S N=$E(X,I) I N=+N S P=P_N
"RTN","DSIO2",66,0)
 S:$L(P)<10 P=$E("0000000000",1,10-$L(P))_P
"RTN","DSIO2",67,0)
 S Y=$S(P:"("_$E(P,1,3)_")"_$E(P,4,6)_"-"_$E(P,7,10),1:"")
"RTN","DSIO2",68,0)
 Q Y
"RTN","DSIO2",69,0)
 ;
"RTN","DSIO2",70,0)
AB(LIST) ; Change null to @ for null means delete
"RTN","DSIO2",71,0)
 ;
"RTN","DSIO2",72,0)
 ; This API turns non-existing or existing but equal to null variables
"RTN","DSIO2",73,0)
 ; into the @. Originally, most DSIO RPCS were set up to ignore null
"RTN","DSIO2",74,0)
 ; and use @ as the user's confirmation that they wish to delete data
"RTN","DSIO2",75,0)
 ; before using FileMan API's.
"RTN","DSIO2",76,0)
 ;
"RTN","DSIO2",77,0)
 ; The implementation of this API means that before calling any DSIO
"RTN","DSIO2",78,0)
 ; add or update action all values expressing the current state of the
"RTN","DSIO2",79,0)
 ; record must be passed - thus a get function may need to be called first
"RTN","DSIO2",80,0)
 ; Some methods will include the AB input variable and if set to 1 will
"RTN","DSIO2",81,0)
 ; bypass the use of this method.
"RTN","DSIO2",82,0)
 ;
"RTN","DSIO2",83,0)
 ; THE MCCDASHBOARD expects that by sending a null the user wishes to
"RTN","DSIO2",84,0)
 ; delete that associated data element.
"RTN","DSIO2",85,0)
 ;
"RTN","DSIO2",86,0)
 ; Array inputs are expected to be IDENTIFIER^VALUE PAIRS
"RTN","DSIO2",87,0)
 ; EXAMPLE: ARRAY(<SUBSCRIPT>)="ZIP<^ - THE LAST PIECE IS THE VALUE>66666"
"RTN","DSIO2",88,0)
 ;
"RTN","DSIO2",89,0)
 N I,VAR,CT
"RTN","DSIO2",90,0)
 F I=1:1:$L(LIST,",") S VAR=$P(LIST,",",I) D
"RTN","DSIO2",91,0)
 . I '$D(@VAR) S @VAR="@"
"RTN","DSIO2",92,0)
 . E  I $D(@VAR)=10 S CT=$NA(@VAR) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO2",93,0)
 . . I $P(@CT,U,$L(@CT,U))="" S $P(@CT,U,$L(@CT,U))="@"
"RTN","DSIO2",94,0)
 . E  I $D(@VAR)=1&(@VAR="") S @VAR="@"
"RTN","DSIO2",95,0)
 Q
"RTN","DSIO2",96,0)
 ;
"RTN","DSIO2",97,0)
STORE ; Save FileMan variables for restoration
"RTN","DSIO2",98,0)
 M:$D(DO) VFDDO=DO
"RTN","DSIO2",99,0)
 M:$D(DI) VFDDI=DI
"RTN","DSIO2",100,0)
 M:$D(DQ) VFDDQ=DQ
"RTN","DSIO2",101,0)
 M:$D(DC) VFDDC=DC
"RTN","DSIO2",102,0)
 M:$D(DM) VFDDM=DM
"RTN","DSIO2",103,0)
 M:$D(DK) VFDDK=DK
"RTN","DSIO2",104,0)
 M:$D(DP) VFDDP=DP
"RTN","DSIO2",105,0)
 M:$D(DL) VFDDL=DL
"RTN","DSIO2",106,0)
 M:$D(DV) VFDDV=DV
"RTN","DSIO2",107,0)
 M:$D(DIU) VFDDIU=DIU
"RTN","DSIO2",108,0)
 Q
"RTN","DSIO2",109,0)
 ;
"RTN","DSIO2",110,0)
GETVAR ; Restore FileMan variables
"RTN","DSIO2",111,0)
 M:$D(VFDDO) DO=VFDDO
"RTN","DSIO2",112,0)
 M:$D(VFDDI) DI=VFDDI
"RTN","DSIO2",113,0)
 M:$D(VFDDQ) DQ=VFDDQ
"RTN","DSIO2",114,0)
 M:$D(VFDDC) DC=VFDDC
"RTN","DSIO2",115,0)
 M:$D(VFDDM) DM=VFDDM
"RTN","DSIO2",116,0)
 M:$D(VFDDK) DK=VFDDK
"RTN","DSIO2",117,0)
 M:$D(VFDDP) DP=VFDDP
"RTN","DSIO2",118,0)
 M:$D(VFDDL) DL=VFDDL
"RTN","DSIO2",119,0)
 M:$D(VFDDV) DV=VFDDV
"RTN","DSIO2",120,0)
 M:$D(VFDDIU) DIU=VFDDIU
"RTN","DSIO2",121,0)
 Q
"RTN","DSIO2",122,0)
 ;
"RTN","DSIO2",123,0)
CHECK(DFN) ; Check for patient in DSIO PATIENT
"RTN","DSIO2",124,0)
 N VFDDO,VFDDI,VFDDQ,VFDDC,VFDDM,VFDDK,VFDDP,VFDDL,VFDDV,VFDDIU
"RTN","DSIO2",125,0)
 D STORE
"RTN","DSIO2",126,0)
 N DIC,DA,X,Y,DLAYGO S DLAYGO=19641
"RTN","DSIO2",127,0)
 S DIC="^DSIO(19641,",DIC(0)="XL",X="`"_DFN D ^DIC I +Y<1 D GETVAR Q 0
"RTN","DSIO2",128,0)
 ; *** ADD PATIENT TO WV PATIENT (790)
"RTN","DSIO2",129,0)
 N DIC,DA,X,Y,DLAYGO S DLAYGO=790
"RTN","DSIO2",130,0)
 S DIC="^WV(790,",DIC(0)="XL",X="`"_DFN D ^DIC I +Y<1 D GETVAR Q 0
"RTN","DSIO2",131,0)
 D GETVAR
"RTN","DSIO2",132,0)
 Q 1
"RTN","DSIO2",133,0)
 ;
"RTN","DSIO2",134,0)
NAME(NAM) ; Transform NAME,NAME to title case thats Name,Name
"RTN","DSIO2",135,0)
 I NAM["," S NAM=$$TITLE^XLFSTR($P(NAM,","))_","_$$TITLE^XLFSTR($P(NAM,",",2))
"RTN","DSIO2",136,0)
 E  S NAM=$$TITLE^XLFSTR(NAM)
"RTN","DSIO2",137,0)
 Q NAM
"RTN","DSIO2",138,0)
 ;
"RTN","DSIO2",139,0)
VALID(FLE,FLD,IENS,VAL) ; Check if a value is valid
"RTN","DSIO2",140,0)
 N VALID,ERR
"RTN","DSIO2",141,0)
 D VAL^DIE($G(FLE),$G(IENS),$G(FLD),,$G(VAL),.VALID,,"ERR")
"RTN","DSIO2",142,0)
 I VALID["^"!($D(ERR)) Q 0
"RTN","DSIO2",143,0)
 Q 1
"RTN","DSIO2",144,0)
 ;
"RTN","DSIO2",145,0)
DT(X) ; Validate and attempt to return a valid date
"RTN","DSIO2",146,0)
 N %DT S %DT="ST" D ^%DT
"RTN","DSIO2",147,0)
 I +Y<1 S X=$$DT1(X) I +X<1 S X=$P(X,U,2) S %DT="STX" D ^%DT
"RTN","DSIO2",148,0)
 Q $S(Y'<1:Y,1:"")
"RTN","DSIO2",149,0)
 ;
"RTN","DSIO2",150,0)
DT1(VAL) ; Translate external date time to FM date time
"RTN","DSIO2",151,0)
 ;
"RTN","DSIO2",152,0)
 ; Converts these 9/23/2004 10:53:25 AM
"RTN","DSIO2",153,0)
 ;                09/03/2014 21:00:00
"RTN","DSIO2",154,0)
 ;                2009-10-22 05:00:00.0
"RTN","DSIO2",155,0)
 ;                10-22-2009 05:00:00.0
"RTN","DSIO2",156,0)
 ;                OCT 12,(, )2012 12:10 AM
"RTN","DSIO2",157,0)
 ;                OCT 12,(, )2012 13:00
"RTN","DSIO2",158,0)
 ;                July 26, 2014 @ 10
"RTN","DSIO2",159,0)
 ;                02-OCT-2014 13.29.28
"RTN","DSIO2",160,0)
 ;
"RTN","DSIO2",161,0)
 ; The FM call below does not work with the time portions
"RTN","DSIO2",162,0)
 ; of the above format
"RTN","DSIO2",163,0)
 ; ------------------------------------------------------
"RTN","DSIO2",164,0)
 ; D DT^DILF("E","DEC 12,2014",.RESULT)
"RTN","DSIO2",165,0)
 ; RESULT=3141212
"RTN","DSIO2",166,0)
 ; RESULT(0)="DEC 12, 2014"
"RTN","DSIO2",167,0)
 ;
"RTN","DSIO2",168,0)
 Q:VAL="" ""
"RTN","DSIO2",169,0)
 I $$FMTH^XLFDT(VAL)'=-1 Q VAL
"RTN","DSIO2",170,0)
 N DATE,FLG,TIME S DATE=-1,FLG=0
"RTN","DSIO2",171,0)
 I $P(VAL," ",2)?.2N.1":".2N.1":".2N S FLG=1
"RTN","DSIO2",172,0)
 I $P(VAL," ",2)?.2N.1":".2N.1":".2N.1" ".2A S FLG=1
"RTN","DSIO2",173,0)
 I $P(VAL," ",2)?.2N.1":".2N.1":".2N.1".".2N S FLG=1
"RTN","DSIO2",174,0)
 I VAL?3A1" "1.2N1","4N.1" ".2N.1":".2N.1":".2N.1" ".2A S FLG=2
"RTN","DSIO2",175,0)
 I VAL?3A1" "1.2N1","1" "4N.1" ".2N.1":".2N.1":".2N.1" ".2A S FLG=3
"RTN","DSIO2",176,0)
 I VAL?1.A1" "1.2N1","1" "4N.1" ".1"@".1" ".2N.1":".2N S FLG=4
"RTN","DSIO2",177,0)
 I VAL?2N1"-"3A1"-"4N.1" ".2N.1".".2N.1".".2N S FLG=5
"RTN","DSIO2",178,0)
 I FLG=0 D DT^DILF("E",VAL,.DATE)
"RTN","DSIO2",179,0)
 I FLG=1 D DT^DILF("E",$P(VAL," "),.DATE) S TIME=$$DT2($P(VAL," ",2,99))
"RTN","DSIO2",180,0)
 I FLG=2 D DT^DILF("E",$P(VAL," ",1,2),.DATE) S TIME=$$DT2($P(VAL," ",3,99))
"RTN","DSIO2",181,0)
 I FLG=3 D DT^DILF("E",$P(VAL," ",1,3),.DATE) S TIME=$$DT2($P(VAL," ",4,99))
"RTN","DSIO2",182,0)
 I FLG=4 D DT^DILF("E",$$TRIM^XLFSTR($P(VAL,"@")),.DATE) D
"RTN","DSIO2",183,0)
 . S TIME=$$DT2($$TRIM^XLFSTR($P(VAL,"@",2)))
"RTN","DSIO2",184,0)
 I FLG=5 D DT^DILF("E",$P(VAL," "),.DATE) S TIME=$$DT2($TR($P(VAL," ",2,99),".",":"))
"RTN","DSIO2",185,0)
 I DATE=-1 Q -1_U_VAL
"RTN","DSIO2",186,0)
 Q DATE_$S($G(TIME)'="":"."_TIME,1:"")
"RTN","DSIO2",187,0)
 ;
"RTN","DSIO2",188,0)
DT2(TM) ; Convert Time
"RTN","DSIO2",189,0)
 N SEC,MIN,HR S TM=$$TRIM^XLFSTR($$UP^XLFSTR(TM))
"RTN","DSIO2",190,0)
 I TM'[":",TM?.N D  Q $G(TM)
"RTN","DSIO2",191,0)
 . F I=$L(TM):-1:1 Q:$E(TM,I)'=0  I $E(TM,I)=0 S TM=$E(TM,1,I-1)
"RTN","DSIO2",192,0)
 Q:TM'[":" ""
"RTN","DSIO2",193,0)
 S SEC=$S(TM[" ":$P($P(TM,":",3)," "),TM[".":$P($P(TM,":",3),"."),1:$P(TM,":",3))
"RTN","DSIO2",194,0)
 S SEC=$$DT3(SEC) S:$L(SEC)=1 SEC=0_SEC
"RTN","DSIO2",195,0)
 S MIN=$P($P(TM,":",2)," "),MIN=$$DT3(MIN) S:$L(MIN)=1 MIN=0_MIN
"RTN","DSIO2",196,0)
 S HR=$P($P(TM,":")," "),HR=$$DT3(HR) S:$L(HR)=1 HR=0_HR
"RTN","DSIO2",197,0)
 I HR=12&((TM["AM")!($E(TM,$L(TM)-1,$L(TM))="AM")) S HR="00"
"RTN","DSIO2",198,0)
 I HR<12&((TM["PM")!($E(TM,$L(TM)-1,$L(TM))="PM")) S HR=HR+12
"RTN","DSIO2",199,0)
 S TM=HR_MIN_SEC
"RTN","DSIO2",200,0)
 F I=$L(TM):-1:1 Q:$E(TM,I)'=0  I $E(TM,I)=0 S TM=$E(TM,1,I-1)
"RTN","DSIO2",201,0)
 Q $S($G(TM)'="":TM,1:"")
"RTN","DSIO2",202,0)
 ;
"RTN","DSIO2",203,0)
DT3(SEG) ; Only Numbers
"RTN","DSIO2",204,0)
 Q $$TRIM^XLFSTR($TR($$UP^XLFSTR(SEG),"ABCDEFGHIJKLMNOPQRSTUVWXYZ",""))
"RTN","DSIO2",205,0)
 ;
"RTN","DSIO2",206,0)
 ; --------------------------------- SORTING ----------------------------------
"RTN","DSIO2",207,0)
 ;
"RTN","DSIO2",208,0)
FN(P,C) ; Get the next record by dashboard page and count forward
"RTN","DSIO2",209,0)
 Q:P<2 0
"RTN","DSIO2",210,0)
 Q C*(P-1)
"RTN","DSIO2",211,0)
 ;
"RTN","DSIO2",212,0)
S(SORT) ; Set Start and End
"RTN","DSIO2",213,0)
 S:$G(SORT)="" STRT="",END=""
"RTN","DSIO2",214,0)
 I SORT?.N1",".N D
"RTN","DSIO2",215,0)
 . S STRT=$$FN($P(SORT,","),$P(SORT,",",2)),END=$P(SORT,",",2)
"RTN","DSIO2",216,0)
 Q
"RTN","DSIO2",217,0)
 ;
"RTN","DSIO2",218,0)
 ; ------- PHASING OUT BELOW
"RTN","DSIO2",219,0)
SORTA(IN,OUT) ; CREATE PAGING (ARRAY)
"RTN","DSIO2",220,0)
 N PG,CNT,PGX,PGS K OUT
"RTN","DSIO2",221,0)
 S PG=+SORT,CNT=$P(SORT,",",2),PGS=0
"RTN","DSIO2",222,0)
 I '$G(PG)!'$G(CNT) Q
"RTN","DSIO2",223,0)
 S PGX=PG*CNT
"RTN","DSIO2",224,0)
 I PG>1 S PGS=PGX-CNT
"RTN","DSIO2",225,0)
 F  S PGS=$O(IN(PGS)) Q:PGS=""!(PGS>PGX)  D
"RTN","DSIO2",226,0)
 .S OUT(PGS)=IN(PGS)
"RTN","DSIO2",227,0)
 Q
"RTN","DSIO3")
0^3^B84942036
"RTN","DSIO3",1,0)
DSIO3 ;DSS/TFF - DSIO TIU SUPPORT;06/28/2013 15:19
"RTN","DSIO3",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO3",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO3",4,0)
 ;
"RTN","DSIO3",5,0)
 ; External References      DBIA#
"RTN","DSIO3",6,0)
 ; -------------------      -----
"RTN","DSIO3",7,0)
 ; $$CLASS^TIUCP
"RTN","DSIO3",8,0)
 ; $$ISA^TIULX
"RTN","DSIO3",9,0)
 ; CANDO^TIUSRVA
"RTN","DSIO3",10,0)
 ; GETTITLE^TIUSRVA
"RTN","DSIO3",11,0)
 ; NEEDJUST^TIUSRVA
"RTN","DSIO3",12,0)
 ; WHATACT^TIUSRVA
"RTN","DSIO3",13,0)
 ; BLRSHELL^TIUSRVD
"RTN","DSIO3",14,0)
 ; $$HASKIDS^TIUSRVLI
"RTN","DSIO3",15,0)
 ; DELETE^TIUSRVP
"RTN","DSIO3",16,0)
 ; LOCK^TIUSRVP
"RTN","DSIO3",17,0)
 ; MAKE^TIUSRVP
"RTN","DSIO3",18,0)
 ; MAKEADD^TIUSRVP
"RTN","DSIO3",19,0)
 ; SIGN^TIUSRVP
"RTN","DSIO3",20,0)
 ; UNLOCK^TIUSRVP
"RTN","DSIO3",21,0)
 ; UPDATE^TIUSRVP
"RTN","DSIO3",22,0)
 ; SAVED^TIUSRVP1
"RTN","DSIO3",23,0)
 ; SETTEXT^TIUSRVPT
"RTN","DSIO3",24,0)
 ; GET4EDIT^TIUSRVR
"RTN","DSIO3",25,0)
 ; $$SETGDATA^TIUSRVR1
"RTN","DSIO3",26,0)
 ; LOADTOP^TIUSRVR1
"RTN","DSIO3",27,0)
 ; TGET^TIUSRVR1
"RTN","DSIO3",28,0)
 ; INQUIRE^TIUSRVR2
"RTN","DSIO3",29,0)
 ;
"RTN","DSIO3",30,0)
 Q
"RTN","DSIO3",31,0)
 ;
"RTN","DSIO3",32,0)
CREATE(RET,DFN,TITLE,NOTE,DATA,SUBJ,PREG) ; RPC: DSIO CREATE A NOTE
"RTN","DSIO3",33,0)
 ;
"RTN","DSIO3",34,0)
 ; Visit information will come out of a configuration file
"RTN","DSIO3",35,0)
 ;
"RTN","DSIO3",36,0)
 ; ADDITIONAL PARAMETER TO SAVE DISCREET INFORMATION
"RTN","DSIO3",37,0)
 ; ARRAY(#)=(S,M,WP)^CONTROL^LABEL 1^INDEX(OPTIONAL ONLY FOR M)^VALUE
"RTN","DSIO3",38,0)
 ;
"RTN","DSIO3",39,0)
 ;  TIUX(.02)=PATIENT                       -UPDATE,ADDENDA
"RTN","DSIO3",40,0)
 ; TIUX(1202)=AUTHOR/DICTATOR
"RTN","DSIO3",41,0)
 ; TIUX(1205)=HOSPITAL LOCATION
"RTN","DSIO3",42,0)
 ; TIUX(1208)=EXPECTED COSIGNER
"RTN","DSIO3",43,0)
 ; TIUX(1301)=REFERENCE DATE/DT OF ENTRY    -UPDATE,ADDENDA
"RTN","DSIO3",44,0)
 ; TIUX(1302)=ENTERED BY                    -UPDATE,ADDENDA
"RTN","DSIO3",45,0)
 ; TIUX(1405)=PKGREF
"RTN","DSIO3",46,0)
 ; TIUX(1701)=SUBJECT
"RTN","DSIO3",47,0)
 ; TIUX(2101)=IDPARENT
"RTN","DSIO3",48,0)
 ;
"RTN","DSIO3",49,0)
 ; ORDER:
"RTN","DSIO3",50,0)
 ; CREATE - BOILER - LOCK - UPDATE - SET - UNLOCK
"RTN","DSIO3",51,0)
 ;
"RTN","DSIO3",52,0)
 N TIEN,VSTR,DTIUX,IEN,TMP,BLR S RET=-1
"RTN","DSIO3",53,0)
 ; *** Requirements
"RTN","DSIO3",54,0)
 I '$$TM^%ZTLOAD S RET="-1^TASKMAN must be running." Q
"RTN","DSIO3",55,0)
 I '$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO3",56,0)
 S TIEN=$$TITLE($G(TITLE)) I 'TIEN S RET="-1^Title not found." Q
"RTN","DSIO3",57,0)
 S VSTR=$$VISIT(TIEN)
"RTN","DSIO3",58,0)
 I 'VSTR S RET="-1^DSIO TITLE CONFIGURATION not setup for this TITLE." Q
"RTN","DSIO3",59,0)
 S DTIUX(1202)=DUZ                  ; AUTHOR/DICTATOR
"RTN","DSIO3",60,0)
 S DTIUX(1205)=$P(VSTR,";")         ; HOSPITAL LOCATION
"RTN","DSIO3",61,0)
 S DTIUX(1301)=$P(VSTR,";",2)       ; REFERENCE DATE
"RTN","DSIO3",62,0)
 S DTIUX(1701)=$G(SUBJ)             ; SUBJECT
"RTN","DSIO3",63,0)
 ; MAKE^TIUSRVP(.IEN,DFN,TITLE,VDT,VLOC,VSIT,TIUX,VSTR,SUPPRESS,NOASF)
"RTN","DSIO3",64,0)
 D MAKE^TIUSRVP(.IEN,DFN,TIEN,,,,.DTIUX,VSTR,1)
"RTN","DSIO3",65,0)
 I 'IEN S RET="-1^"_$P(IEN,U,2) Q
"RTN","DSIO3",66,0)
 D BLRSHELL^TIUSRVD(.TMP,TIEN,DFN,VSTR) I $D(TMP),$D(@TMP) M BLR("TEXT")=@TMP
"RTN","DSIO3",67,0)
 D UPDATE1
"RTN","DSIO3",68,0)
 Q
"RTN","DSIO3",69,0)
 ;
"RTN","DSIO3",70,0)
VISIT(TIEN) ; Get visit information from a TITLE
"RTN","DSIO3",71,0)
 ;
"RTN","DSIO3",72,0)
 ; [VDT]   = Date(/Time) of Visit
"RTN","DSIO3",73,0)
 ; [VLOC]  = Visit Location (HOSPITAL LOCATION)
"RTN","DSIO3",74,0)
 ; [VSIT]  = Visit file ien (#9000010)
"RTN","DSIO3",75,0)
 ; [VSTR]  = Visit string (i.e., VLOC;VDT;VTYPE)
"RTN","DSIO3",76,0)
 ;
"RTN","DSIO3",77,0)
 ; VTYPE = Service Category (SET OF CODES - 9000010(VISIT FILE) - .07)
"RTN","DSIO3",78,0)
 ;
"RTN","DSIO3",79,0)
 N VLOC,VTYPE
"RTN","DSIO3",80,0)
 S VLOC=$$GET1^DIQ(19641.5,TIEN_",",.02,"I") Q:'VLOC 0
"RTN","DSIO3",81,0)
 S VTYPE=$$GET1^DIQ(19641.5,TIEN_",",.03,"I") Q:$L(VTYPE)'=1 0
"RTN","DSIO3",82,0)
 Q VLOC_";"_$$NOW^XLFDT_";"_VTYPE
"RTN","DSIO3",83,0)
 ;
"RTN","DSIO3",84,0)
SET(RET,IEN,NOTE,DATA,SUBJ,PREG) ; RPC: DSIO UPDATE A NOTE
"RTN","DSIO3",85,0)
 ; 
"RTN","DSIO3",86,0)
 ; REQUIRED INPUT:
"RTN","DSIO3",87,0)
 ; ---------------
"RTN","DSIO3",88,0)
 ; IEN,NOTE
"RTN","DSIO3",89,0)
 ;
"RTN","DSIO3",90,0)
 ; THIS RETURN ALSO APPLIES TO CREATE AND ADDENDUM
"RTN","DSIO3",91,0)
 ; -----------------------------------------------
"RTN","DSIO3",92,0)
 ; If successful:
"RTN","DSIO3",93,0)
 ;   <IEN in TIU DOCUMENT FILE>^<LAST_PAGE_RECEIVED>^<TOTAL_PAGES_EXPECTED>
"RTN","DSIO3",94,0)
 ; 
"RTN","DSIO3",95,0)
 ; If unsuccessful:
"RTN","DSIO3",96,0)
 ;   0^0^0^Explanatory text
"RTN","DSIO3",97,0)
 ;
"RTN","DSIO3",98,0)
 N DFN,DTIUX S RET="0^Not found."
"RTN","DSIO3",99,0)
 I '$$TM^%ZTLOAD S RET="-1^TASKMAN must be running." Q
"RTN","DSIO3",100,0)
 Q:'$$AUTH(IEN,"EDIT RECORD")
"RTN","DSIO3",101,0)
 S DFN=$$GET1^DIQ(8925,$G(IEN),.02,"I") Q:'DFN
"RTN","DSIO3",102,0)
 S DTIUX(1301)=$$NOW^XLFDT
"RTN","DSIO3",103,0)
UPDATE1 ; Continue for Create, Set, and Addendum
"RTN","DSIO3",104,0)
 N PFLG,TASK,NOTIN,CT,I,X N:'$D(DTIUX) DTIUX
"RTN","DSIO3",105,0)
 S DTIUX(1202)=DUZ                  ; AUTHOR/DICTATOR
"RTN","DSIO3",106,0)
 S:$G(SUBJ)'="" DTIUX(1701)=SUBJ    ; SUBJECT
"RTN","DSIO3",107,0)
 ; *** If LCK is TRUE then FAILED to lock
"RTN","DSIO3",108,0)
 S RET=$$LCK(IEN) I RET S $P(RET,U)=-1 Q
"RTN","DSIO3",109,0)
 D UPDATE^TIUSRVP(.RET,IEN,.DTIUX,0)
"RTN","DSIO3",110,0)
 I RET<1 S $P(RET,U)=-1 D UNLCK(IEN) Q
"RTN","DSIO3",111,0)
 ; *** DDCS
"RTN","DSIO3",112,0)
 I $D(DATA) N TASK D STORED^DSIO6(.TASK,IEN,.DATA,"O")
"RTN","DSIO3",113,0)
 I $D(BLR) M NOTIN=BLR S CT=$O(NOTIN("TEXT",""),-1)+1
"RTN","DSIO3",114,0)
 S:'$D(CT) CT=1 S X="" F I=CT:1 S X=$O(NOTE(X)) Q:X=""  S NOTIN("TEXT",I,0)=NOTE(X)
"RTN","DSIO3",115,0)
 ; <# of Current Page>^<Total # of Pages>
"RTN","DSIO3",116,0)
 S NOTIN("HDR")="1^1"
"RTN","DSIO3",117,0)
 D SETTEXT^TIUSRVPT(.RET,IEN,.NOTIN),UNLCK(IEN)
"RTN","DSIO3",118,0)
 I RET<1 S RET="-1^"_$P(RET,U,4) Q
"RTN","DSIO3",119,0)
 I $G(PREG),'$$SPG(DFN,IEN,PREG) S RET=+RET_"^Unable to associate pregnancy."
"RTN","DSIO3",120,0)
 Q
"RTN","DSIO3",121,0)
 ;
"RTN","DSIO3",122,0)
SPG(DFN,TIEN,PREG) ; Associate TIU note to a Pregnancy
"RTN","DSIO3",123,0)
 Q:'$G(PREG) 0
"RTN","DSIO3",124,0)
 Q:'$D(^DSIO(19641.13,PREG)) 0
"RTN","DSIO3",125,0)
 Q:$$GET1^DIQ(19641.13,PREG_",",.03,"I")'=DFN 0
"RTN","DSIO3",126,0)
 N DLAYGO,DIC,DA,X,Y,FDA,ERR
"RTN","DSIO3",127,0)
 S DLAYGO=19641.83
"RTN","DSIO3",128,0)
 S DIC="^DSIO(19641.83,",DIC(0)="XL",X="`"_DFN D ^DIC Q:+Y<1 0
"RTN","DSIO3",129,0)
 S FDA(19641.831,"?+1,"_DFN_",",.01)=TIEN
"RTN","DSIO3",130,0)
 S FDA(19641.831,"?+1,"_DFN_",",.02)=PREG
"RTN","DSIO3",131,0)
 D UPDATE^DIE(,"FDA",,"ERR") Q:$D(ERR) 0
"RTN","DSIO3",132,0)
 Q 1
"RTN","DSIO3",133,0)
 ;
"RTN","DSIO3",134,0)
ADDEN(RET,IEN,NOTE,DATA,SUBJ) ; RPC: DSIO MAKE ADDENDUM
"RTN","DSIO3",135,0)
 N DTIUX S RET="-1^Not authorized to make addenda."
"RTN","DSIO3",136,0)
 Q:'$$AUTH(IEN,"MAKE ADDENDUM")
"RTN","DSIO3",137,0)
 S DTIUX(1202)=DUZ                  ; AUTHOR/DICTATOR
"RTN","DSIO3",138,0)
 S DTIUX(1301)=$$NOW^XLFDT          ; REFERENCE DATE
"RTN","DSIO3",139,0)
 S:$G(SUBJ)'="" DTIUX(1701)=SUBJ    ; SUBJECT
"RTN","DSIO3",140,0)
 D MAKEADD^TIUSRVP(.RET,IEN,.DTIUX) I RET<1 S $P(RET,U)="-1" Q
"RTN","DSIO3",141,0)
 S IEN=RET D UPDATE1
"RTN","DSIO3",142,0)
 Q
"RTN","DSIO3",143,0)
 ;
"RTN","DSIO3",144,0)
 ; -------------------------------- VIEW TEXT ---------------------------------
"RTN","DSIO3",145,0)
 ;
"RTN","DSIO3",146,0)
GET(RET,IEN,TYP) ; RPC: DSIO GET RECORD TEXT
"RTN","DSIO3",147,0)
 ;
"RTN","DSIO3",148,0)
 ; - TYP 
"RTN","DSIO3",149,0)
 ;   = NULL - Whole note with addenda - FOR VIEW
"RTN","DSIO3",150,0)
 ;   = H    - ONLY the HEADER         - FOR VIEW
"RTN","DSIO3",151,0)
 ;   = B    - ONLY the BODY           - FOR EDIT
"RTN","DSIO3",152,0)
 ; 
"RTN","DSIO3",153,0)
 N FLD,OUT,I,LN,FLG,TIUARR,DATA,NCLSS,REC
"RTN","DSIO3",154,0)
 S RET=$NA(^TMP("TIUVIEW",$J)) K @RET S @RET@(0)="0^Nothing found." Q:'$G(IEN)
"RTN","DSIO3",155,0)
 I $G(TYP)="B" D  Q
"RTN","DSIO3",156,0)
 . S FLD=".01;.06;.07;1204;1205;1208;1301;1405;1701;2101;70201;70202"
"RTN","DSIO3",157,0)
 . D GET4EDIT^TIUSRVR(.OUT,IEN,FLD)
"RTN","DSIO3",158,0)
 . I $G(@OUT@(0))["~" S $P(@RET@(0),U,2)=$$TRIM^XLFSTR($P(@OUT@(0),"~",2),"L") Q
"RTN","DSIO3",159,0)
 . S I=0,LN=$NA(@OUT) F  S LN=$Q(@LN) Q:LN=""  Q:$QS(LN,1)'="TIUEDIT"!($QS(LN,2)'=$J)  D
"RTN","DSIO3",160,0)
 . . I @LN="$TXT" S FLG=1 Q
"RTN","DSIO3",161,0)
 . . Q:'$D(FLG)
"RTN","DSIO3",162,0)
 . . S @RET@(I)=@LN,I=I+1
"RTN","DSIO3",163,0)
 Q:'$$AUTH(IEN,"VIEW")
"RTN","DSIO3",164,0)
 I $G(TYP)="H" D  Q
"RTN","DSIO3",165,0)
 . S TIUARR=RET,DATA=$$SETGDATA^TIUSRVR1(IEN)
"RTN","DSIO3",166,0)
 . ; Set a flag to indicate whether or not a Title is a memer of the
"RTN","DSIO3",167,0)
 . ; Clinical Procedures Class (1=Yes and 0=No)
"RTN","DSIO3",168,0)
 . S NCLSS=+$$ISA^TIULX(+$G(^TIU(8925,IEN,0)),+$$CLASS^TIUCP)
"RTN","DSIO3",169,0)
 . ; Call INQUIRE to get record
"RTN","DSIO3",170,0)
 . D INQUIRE^TIUSRVR2(IEN,.REC,NCLSS)
"RTN","DSIO3",171,0)
 . D LOADTOP^TIUSRVR1(.REC,IEN,0,DATA,NCLSS)
"RTN","DSIO3",172,0)
 . K:$O(@RET@(""),-1) @RET@(0)
"RTN","DSIO3",173,0)
 D TGET^TIUSRVR1(.RET,IEN)
"RTN","DSIO3",174,0)
 Q
"RTN","DSIO3",175,0)
 ;
"RTN","DSIO3",176,0)
 ; ----------------------------------------------------------------------------
"RTN","DSIO3",177,0)
 ;
"RTN","DSIO3",178,0)
DELETE(RET,IEN,JUST) ; RPC: DSIO DELETE A NOTE
"RTN","DSIO3",179,0)
 S RET="-1^Not authorized to delete."
"RTN","DSIO3",180,0)
 Q:'$$AUTH(IEN,"DELETE RECORD")
"RTN","DSIO3",181,0)
 D NEEDJUST^TIUSRVA(.RET,IEN) I RET D  Q
"RTN","DSIO3",182,0)
 . S:$G(JUST)="" RET="-1^Justification for deletion is required."
"RTN","DSIO3",183,0)
 ; *** If LCK is TRUE then FAILED to lock
"RTN","DSIO3",184,0)
 S RET=$$LCK(IEN) I RET S $P(RET,U)=-1 Q
"RTN","DSIO3",185,0)
 D DELETE^TIUSRVP(.RET,IEN,$G(JUST))
"RTN","DSIO3",186,0)
 I RET<1 S RET=1
"RTN","DSIO3",187,0)
 E  S $P(RET,U)=-1
"RTN","DSIO3",188,0)
 ; *** UNLOCK is always TRUE
"RTN","DSIO3",189,0)
 D UNLCK(IEN)
"RTN","DSIO3",190,0)
 Q
"RTN","DSIO3",191,0)
 ;
"RTN","DSIO3",192,0)
SIGN(RET,IEN,SIG) ; RPC: DSIO SIGN A NOTE
"RTN","DSIO3",193,0)
 ;
"RTN","DSIO3",194,0)
 ; $$ENCRYP^XUSRB1 - DEBUG
"RTN","DSIO3",195,0)
 ;
"RTN","DSIO3",196,0)
 N ACT
"RTN","DSIO3",197,0)
 D SAVED^TIUSRVP1(.RET,IEN) I RET<1 S $P(RET,U)=-1 Q
"RTN","DSIO3",198,0)
 ; *** If LCK is TRUE then FAILED to lock
"RTN","DSIO3",199,0)
 S RET=$$LCK(IEN) I RET S $P(RET,U)=-1 Q
"RTN","DSIO3",200,0)
 D WHATACT^TIUSRVA(.ACT,IEN)
"RTN","DSIO3",201,0)
 I '$$AUTH(IEN,ACT) S RET="-1^Not authorized to sign." Q
"RTN","DSIO3",202,0)
 D SIGN^TIUSRVP(.RET,IEN,SIG)
"RTN","DSIO3",203,0)
 I RET<1 S RET=1
"RTN","DSIO3",204,0)
 E  S $P(RET,U)=-1
"RTN","DSIO3",205,0)
 ; *** UNLOCK is always TRUE
"RTN","DSIO3",206,0)
 D UNLCK(IEN)
"RTN","DSIO3",207,0)
 Q
"RTN","DSIO3",208,0)
 ;
"RTN","DSIO3",209,0)
 ; ------------------------------ TIU LIST ------------------------------------
"RTN","DSIO3",210,0)
 ;
"RTN","DSIO3",211,0)
LIST(RET,IEN,DFN,TITLES,FDT,TDT,DIRECT,PREG,SORT) ; RPC: DSIO GET TIU NOTES
"RTN","DSIO3",212,0)
 ;
"RTN","DSIO3",213,0)
 ;     IEN: NOTE IEN
"RTN","DSIO3",214,0)
 ;     DFN: PATIENT IEN
"RTN","DSIO3",215,0)
 ;  TITLES: ARRY OF TITLES TITLE(#)=TITLE
"RTN","DSIO3",216,0)
 ;     FDT: FROM DATE
"RTN","DSIO3",217,0)
 ;     TDT: TO DATE
"RTN","DSIO3",218,0)
 ;  DIRECT: DIRECTION OF SORT (1,-1) (defaults to 1)
"RTN","DSIO3",219,0)
 ;    PREG: IEN OF PREGNANCY HISTORY FILE (19641.13)
"RTN","DSIO3",220,0)
 ;    SORT: PAGE#,CT
"RTN","DSIO3",221,0)
 ;
"RTN","DSIO3",222,0)
 ; C    REGULAR
"RTN","DSIO3",223,0)
 ;           Field:  PATIENT  (8925,.02)
"RTN","DSIO3",224,0)
 ;     Description:  This REGULAR FileMan type cross-reference is used for
"RTN","DSIO3",225,0)
 ;                   look-up by patient.  
"RTN","DSIO3",226,0)
 ;                   1)= S ^TIU(8925,"C",$E(X,1,30),DA)=""
"RTN","DSIO3",227,0)
 ;                   2)= K ^TIU(8925,"C",$E(X,1,30),DA)
"RTN","DSIO3",228,0)
 ;
"RTN","DSIO3",229,0)
 ; **if NOTE IEN is not associated with PREG - DON'T INCLUDE
"RTN","DSIO3",230,0)
 ;
"RTN","DSIO3",231,0)
 ; RETURN: GLOBAL ARRAY
"RTN","DSIO3",232,0)
 ; ====================
"RTN","DSIO3",233,0)
 ;  IEN^TITLE(.01)^SUBJECT(1701)^STATUS(.05)^REFERENCE DATE(1301)^DUZ(1202I)^
"RTN","DSIO3",234,0)
 ;  AUTHOR/DICTATOR(1202E)^PARENT(.06)^ADDENDA("DAD" X-REF)(| DELIMITED)^PREG
"RTN","DSIO3",235,0)
 ;
"RTN","DSIO3",236,0)
 N CT,TL,RCT,TS,DATE,STRT,END D SORT($G(SORT))
"RTN","DSIO3",237,0)
 S RET=$NA(^TMP($J,"DSIO LIST")) K @RET S @RET@(0)="0^Nothing found."
"RTN","DSIO3",238,0)
 I $G(IEN) Q:'$D(^TIU(8925,IEN))  S @RET@(1)=$$L1(IEN),@RET@(0)=1 Q
"RTN","DSIO3",239,0)
 ; *** Requirements
"RTN","DSIO3",240,0)
 I '$G(DFN) S @RET@(0)="-1^Patient not provided." Q
"RTN","DSIO3",241,0)
 S CT=$NA(TITLES) F  S CT=$Q(@CT) Q:CT=""  S:@CT'="" TL($$UP^XLFSTR(@CT))=""
"RTN","DSIO3",242,0)
 I '$D(TL) S @RET@(0)="-1^Titles required." Q 
"RTN","DSIO3",243,0)
 I $G(PREG),'$D(^DSIO(19641.13,PREG)) S @RET@(0)="-1^Pregnacy not found." Q
"RTN","DSIO3",244,0)
 I $G(FDT)'="" D  Q:$P(@RET@(0),U)=-1
"RTN","DSIO3",245,0)
 . S FDT=$$DT^DSIO2(FDT)
"RTN","DSIO3",246,0)
 . I FDT="" S @RET@(0)="-1^Invalid from date time format."
"RTN","DSIO3",247,0)
 I $G(TDT)'="" D  Q:$P(@RET@(0),U)=-1
"RTN","DSIO3",248,0)
 . S TDT=$$DT^DSIO2(TDT)
"RTN","DSIO3",249,0)
 . I TDT="" S @RET@(0)="-1^Invalid to date time format."
"RTN","DSIO3",250,0)
 ; *** Search Start
"RTN","DSIO3",251,0)
 S (RCT,TS)=0,IEN="",DIRECT=+$G(DIRECT),DIRECT=$S(DIRECT=-1:-1,1:1)
"RTN","DSIO3",252,0)
 F  S IEN=$O(^TIU(8925,"C",DFN,IEN),DIRECT) Q:IEN=""  D
"RTN","DSIO3",253,0)
 . S DATE=$$GET1^DIQ(8925,IEN_",",1201,"I")
"RTN","DSIO3",254,0)
 . I $G(FDT)'="" Q:DATE=""!(DATE<FDT)
"RTN","DSIO3",255,0)
 . I $G(TDT)'="" Q:DATE=""!(DATE>TDT)
"RTN","DSIO3",256,0)
 . Q:'$D(TL($$UP^XLFSTR($$GET1^DIQ(8925,IEN_",",.01))))
"RTN","DSIO3",257,0)
 . Q:'$$STATUS(IEN)
"RTN","DSIO3",258,0)
 . I $G(PREG),'$$PG(IEN,PREG) Q
"RTN","DSIO3",259,0)
 . S TS=TS+1 I STRT'="",TS'>STRT Q
"RTN","DSIO3",260,0)
 . S RCT=RCT+1 I END'="",RCT>END Q
"RTN","DSIO3",261,0)
 . S @RET@(RCT)=$$L1(IEN)
"RTN","DSIO3",262,0)
 S:$G(TS) @RET@(0)=TS
"RTN","DSIO3",263,0)
 Q
"RTN","DSIO3",264,0)
 ;
"RTN","DSIO3",265,0)
L1(IEN) ; Continue
"RTN","DSIO3",266,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO3",267,0)
 D GETS^DIQ(8925,IEN_",",".01;.05;.06;1202;1301;1701;","IE","OUT")
"RTN","DSIO3",268,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO3",269,0)
 S STR=IEN_U
"RTN","DSIO3",270,0)
 S STR=STR_FLD(.01,"E")_U                       ; TITLE
"RTN","DSIO3",271,0)
 S STR=STR_FLD(1701,"E")_U                      ; SUBJECT
"RTN","DSIO3",272,0)
 S STR=STR_FLD(.05,"E")_U                       ; STATUS
"RTN","DSIO3",273,0)
 S STR=STR_$$FMTE^XLFDT(FLD(1301,"I"),"5Z")_U   ; REFERENCE DATE
"RTN","DSIO3",274,0)
 S STR=STR_FLD(1202,"I")_U                      ; DUZ
"RTN","DSIO3",275,0)
 S STR=STR_FLD(1202,"E")_U                      ; AUTHOR/DICTATOR
"RTN","DSIO3",276,0)
 S STR=STR_FLD(.06,"E")_U                       ; PARENT
"RTN","DSIO3",277,0)
 S STR=STR_$$DAD(IEN)_U                         ; ADDENDUM
"RTN","DSIO3",278,0)
 S STR=STR_$$PREG(IEN)                          ; PREGNANCY IEN
"RTN","DSIO3",279,0)
 Q STR
"RTN","DSIO3",280,0)
 ;
"RTN","DSIO3",281,0)
DAD(IEN) ; Create Addendum List
"RTN","DSIO3",282,0)
 N CT,RT
"RTN","DSIO3",283,0)
 S CT=0 F  S CT=$O(^TIU(8925,"DAD",IEN,CT)) Q:'CT  S RT=$G(RT)_$S($D(RT):"|",1:"")_CT
"RTN","DSIO3",284,0)
 Q $G(RT)
"RTN","DSIO3",285,0)
 ;
"RTN","DSIO3",286,0)
PG(IEN,PREG) ; Is the Note and PREGNACY associated?
"RTN","DSIO3",287,0)
 Q:'$G(IEN) 0
"RTN","DSIO3",288,0)
 I $$PREG(IEN)'=$G(PREG) Q 0
"RTN","DSIO3",289,0)
 Q 1
"RTN","DSIO3",290,0)
 ;
"RTN","DSIO3",291,0)
PREG(IEN) ; Get associated PREGNANCY
"RTN","DSIO3",292,0)
 Q:'$G(IEN) ""
"RTN","DSIO3",293,0)
 I '$G(DFN) N DFN S DFN=$$GET1^DIQ(8925,IEN_",",.02,"I") Q:'DFN ""
"RTN","DSIO3",294,0)
 N IENS
"RTN","DSIO3",295,0)
 S IENS=$O(^DSIO(19641.83,"N",IEN,DFN,"")) Q:'IENS ""
"RTN","DSIO3",296,0)
 Q $$GET1^DIQ(19641.831,IENS_","_DFN_",",.02,"I")
"RTN","DSIO3",297,0)
 ;
"RTN","DSIO3",298,0)
STATUS(IEN) ; Check the status of the note, can this user view it
"RTN","DSIO3",299,0)
 Q:'$$AUTH(IEN,"VIEW") 0
"RTN","DSIO3",300,0)
 Q 1
"RTN","DSIO3",301,0)
 ;
"RTN","DSIO3",302,0)
 ; ---------------------------------- COMMON ----------------------------------
"RTN","DSIO3",303,0)
 ;
"RTN","DSIO3",304,0)
SORT(SORT) ; Set Start and End
"RTN","DSIO3",305,0)
 D S^DSIO2(SORT)
"RTN","DSIO3",306,0)
 Q
"RTN","DSIO3",307,0)
 ;
"RTN","DSIO3",308,0)
TITLE(TITLE) ; Find Title IEN from TITLE as Alpha or 8925 IEN
"RTN","DSIO3",309,0)
 S TITLE=$$UP^XLFSTR($G(TITLE)) Q:TITLE="" ""
"RTN","DSIO3",310,0)
 Q:TITLE?.N $$GET1^DIQ(8925,TITLE_",",.01,"I")
"RTN","DSIO3",311,0)
 Q $O(^TIU(8925.1,"B",TITLE,""))
"RTN","DSIO3",312,0)
 ;
"RTN","DSIO3",313,0)
AUTH(IEN,ACT) ; TIU Authorization
"RTN","DSIO3",314,0)
 N RET
"RTN","DSIO3",315,0)
 D CANDO^TIUSRVA(.RET,IEN,ACT)
"RTN","DSIO3",316,0)
 Q +$G(RET)
"RTN","DSIO3",317,0)
 ;
"RTN","DSIO3",318,0)
LCK(IEN) ; TIU Lock Record
"RTN","DSIO3",319,0)
 ;
"RTN","DSIO3",320,0)
 ; 0 if the LOCK was GRANTED
"RTN","DSIO3",321,0)
 ; 1^<Explanatory Message> if LOCK was DENIED
"RTN","DSIO3",322,0)
 ;
"RTN","DSIO3",323,0)
 D LOCK^TIUSRVP(.OUT,IEN)
"RTN","DSIO3",324,0)
 Q $G(OUT)
"RTN","DSIO3",325,0)
 ;
"RTN","DSIO3",326,0)
UNLCK(IEN) ; TIU Unlock Record
"RTN","DSIO3",327,0)
 N OUT D UNLOCK^TIUSRVP(.OUT,IEN)
"RTN","DSIO3",328,0)
 Q
"RTN","DSIO4")
0^4^B53155979
"RTN","DSIO4",1,0)
DSIO4 ;DSS/TFF - DSIO PREGNANCY X-REF AND FILE SUPPORT;06/28/2013 15:19
"RTN","DSIO4",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO4",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO4",4,0)
 ;
"RTN","DSIO4",5,0)
 ; External References      DBIA#
"RTN","DSIO4",6,0)
 ; -------------------      -----
"RTN","DSIO4",7,0)
 ;
"RTN","DSIO4",8,0)
 ;
"RTN","DSIO4",9,0)
 ;
"RTN","DSIO4",10,0)
 Q
"RTN","DSIO4",11,0)
 ;
"RTN","DSIO4",12,0)
 ; ------------------------------- UTILITIES ----------------------------------
"RTN","DSIO4",13,0)
 ;
"RTN","DSIO4",14,0)
PG(DFN) ; Get Current Pregnancy
"RTN","DSIO4",15,0)
 N DATE,IEN,FLG
"RTN","DSIO4",16,0)
 S DATE="" F  S DATE=$O(^DSIO(19641.13,"P",DFN,DATE),-1) Q:DATE=""  D  Q:$D(FLG)
"RTN","DSIO4",17,0)
 . S IEN="" F  S IEN=$O(^DSIO(19641.13,"P",DFN,DATE,IEN),-1) Q:IEN=""  D  Q:$D(FLG)
"RTN","DSIO4",18,0)
 . . I $P($G(^DSIO(19641.13,IEN,0)),U,4)="C" S FLG=IEN
"RTN","DSIO4",19,0)
 Q $G(FLG)
"RTN","DSIO4",20,0)
 ;
"RTN","DSIO4",21,0)
PSTAT(DFN) ; CURRENTLY PREGNANT
"RTN","DSIO4",22,0)
 I $$PG(DFN) Q "YES"
"RTN","DSIO4",23,0)
 Q "NO"
"RTN","DSIO4",24,0)
 ;
"RTN","DSIO4",25,0)
PGL(DFN) ; Get last PREGNANCY HISTORY record
"RTN","DSIO4",26,0)
 N DATE
"RTN","DSIO4",27,0)
 S DATE=$O(^DSIO(19641.13,"P",DFN,""),-1) Q:DATE="" ""
"RTN","DSIO4",28,0)
 Q $O(^DSIO(19641.13,"P",DFN,DATE,""),-1)
"RTN","DSIO4",29,0)
 ;
"RTN","DSIO4",30,0)
PGE(DFN) ; Get last PREGNANCY HISTORY record with an end
"RTN","DSIO4",31,0)
 N DATE,IEN,FLG
"RTN","DSIO4",32,0)
 S DATE="" F  S DATE=$O(^DSIO(19641.13,"P",DFN,DATE),-1) Q:DATE=""  D  Q:$D(FLG)
"RTN","DSIO4",33,0)
 . S IEN="" F  S IEN=$O(^DSIO(19641.13,"P",DFN,DATE,IEN),-1) Q:IEN=""  D  Q:$D(FLG)
"RTN","DSIO4",34,0)
 . . I $P($G(^DSIO(19641.13,IEN,0)),U,7)'="" S FLG=IEN
"RTN","DSIO4",35,0)
 Q $G(FLG)
"RTN","DSIO4",36,0)
 ;
"RTN","DSIO4",37,0)
PGEL(DFN) ; Get last PREGNANCY HISTORY record with a live birth
"RTN","DSIO4",38,0)
 ; ***PREGNANCY MUST HAVE AN OBSERVATION USING LOINC 75092-7
"RTN","DSIO4",39,0)
 ;
"RTN","DSIO4",40,0)
 N DATE,IEN,OBS,FLG
"RTN","DSIO4",41,0)
 S DATE="" F  S DATE=$O(^DSIO(19641.13,"P",DFN,DATE),-1) Q:DATE=""  D  Q:$D(FLG)
"RTN","DSIO4",42,0)
 . S IEN="" F  S IEN=$O(^DSIO(19641.13,"P",DFN,DATE,IEN),-1) Q:IEN=""  D  Q:$D(FLG)
"RTN","DSIO4",43,0)
 . . Q:$P($G(^DSIO(19641.13,IEN,0)),U,7)=""
"RTN","DSIO4",44,0)
 . . S OBS="" F  S OBS=$O(^DSIO(19641.12,"OBJ",IEN_";DSIO(19641.13,",OBS),-1) Q:OBS=""  D  Q:$D(FLG)
"RTN","DSIO4",45,0)
 . . . Q:$$GETCODE^DSIO10(OBS,"C",1)'="75092-7"
"RTN","DSIO4",46,0)
 . . . Q:$$GETCODE^DSIO10(OBS,"C",3)'="LOINC"
"RTN","DSIO4",47,0)
 . . . S FLG=IEN
"RTN","DSIO4",48,0)
 Q $G(FLG)
"RTN","DSIO4",49,0)
 ;
"RTN","DSIO4",50,0)
FC(DFN,PREG) ; Get fetus count for a pregnancy
"RTN","DSIO4",51,0)
 N IEN,VAL
"RTN","DSIO4",52,0)
 S IEN="" F  S IEN=$O(^DSIO(19641.12,"OBJ",PREG_";DSIO(19641.13,",IEN),-1) Q:IEN=""  D  Q:$D(VAL)
"RTN","DSIO4",53,0)
 . Q:$$GETCODE^DSIO10(OBS,"C",1)'="FetusBabyCount"
"RTN","DSIO4",54,0)
 . S VAL=$P($G(^DSIO(19641.12,IEN,4)),U,2)
"RTN","DSIO4",55,0)
 Q $G(VAL)
"RTN","DSIO4",56,0)
 ;
"RTN","DSIO4",57,0)
EDDC(DFN) ; Get EDD for computed fields
"RTN","DSIO4",58,0)
 N PG,EDD
"RTN","DSIO4",59,0)
 S PG=$$PG^DSIO4(DFN) Q:'PG ""
"RTN","DSIO4",60,0)
 S EDD=$P(^DSIO(19641.13,PG,0),U,6) Q:'EDD ""
"RTN","DSIO4",61,0)
 Q $$FMTE^XLFDT($P(^DSIO(19641.03,EDD,0),U),"5Z")
"RTN","DSIO4",62,0)
 ;
"RTN","DSIO4",63,0)
LACT(DFN) ; CURRENTLY LACTATING
"RTN","DSIO4",64,0)
 N DATE,IEN
"RTN","DSIO4",65,0)
 S DATE=$O(^DSIO(19641,DFN,3,"B",""),-1) Q:DATE="" "NO"
"RTN","DSIO4",66,0)
 S IEN=$O(^DSIO(19641,DFN,3,"B",DATE,""),-1)
"RTN","DSIO4",67,0)
 Q $S($P(^DSIO(19641,DFN,3,IEN,0),U,2)="":"YES",1:"NO")
"RTN","DSIO4",68,0)
 ;
"RTN","DSIO4",69,0)
LACE(DFN) ; CURRENTLY LACTATING record
"RTN","DSIO4",70,0)
 N DATE
"RTN","DSIO4",71,0)
 S DATE=$O(^DSIO(19641,DFN,3,"B",""),-1) Q:DATE="" ""
"RTN","DSIO4",72,0)
 Q $O(^DSIO(19641,DFN,3,"B",DATE,""),-1)
"RTN","DSIO4",73,0)
 ;
"RTN","DSIO4",74,0)
TRACK(DFN,FL) ; Get TRACKING STATUS of a patient
"RTN","DSIO4",75,0)
 N TR S TR=$O(^DSIO(19641.2,"S",DFN,""))
"RTN","DSIO4",76,0)
 Q:$D(FL) $S(TR="T":1,TR="F":2,1:0)
"RTN","DSIO4",77,0)
 Q $S(TR="T":"YES",TR="F":"FLAGGED",1:"NO")
"RTN","DSIO4",78,0)
 ;
"RTN","DSIO4",79,0)
 ; ----------------------------------------------------------------------------
"RTN","DSIO4",80,0)
 ;
"RTN","DSIO4",81,0)
WVPG(DFN) ; Get WV PATIENT Current Pregnancy
"RTN","DSIO4",82,0)
 I '$$VFILE^DILFD(790.16) Q 0
"RTN","DSIO4",83,0)
 N SCR,OUT,ERR,CT,WV
"RTN","DSIO4",84,0)
 S SCR="I $P(^(0),U,2)=1,'$P(^(0),U,4)"
"RTN","DSIO4",85,0)
 D LIST^DIC(790.16,","_DFN_",","@;3I","P",,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",86,0)
 Q:+$G(OUT("DILIST",0))=1 $G(OUT("DILIST",1,0))
"RTN","DSIO4",87,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO4",88,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",89,0)
 .S:$P(@CT,U,2) WV($P(@CT,U,2))=+@CT
"RTN","DSIO4",90,0)
 Q WV($O(WV(""),-1))
"RTN","DSIO4",91,0)
 ;
"RTN","DSIO4",92,0)
WVLMP(DFN) ; GET WV LAST MENSTRUAL PERIOD
"RTN","DSIO4",93,0)
 I '$$VFILE^DILFD(790.15) Q 0
"RTN","DSIO4",94,0)
 N SCR,OUT,ERR,CT,WV
"RTN","DSIO4",95,0)
 S SCR="I $P(^(0),U,2)"
"RTN","DSIO4",96,0)
 D LIST^DIC(790.15,","_DFN_",","@;2I","P",,,,,SCR,,"OUT","ERR")
"RTN","DSIO4",97,0)
 Q:+$G(OUT("DILIST",0))=1 $G(OUT("DILIST",1,0))
"RTN","DSIO4",98,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO4",99,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",100,0)
 .S:$P(@CT,U,2) WV($P(@CT,U,2))=+@CT
"RTN","DSIO4",101,0)
 Q WV($O(WV(""),-1))
"RTN","DSIO4",102,0)
 ;
"RTN","DSIO4",103,0)
 ;=============================================================================
"RTN","DSIO4",104,0)
 ;                         X - R E F  S U P P O R T
"RTN","DSIO4",105,0)
 ;=============================================================================
"RTN","DSIO4",106,0)
 ;
"RTN","DSIO4",107,0)
 ; DSIO PREGNANCY HISTORY
"RTN","DSIO4",108,0)
 ;  - IF C ALL OTHER ENTRIES WILL BE HISTORICAL (ONLY ONE C)
"RTN","DSIO4",109,0)
 ;    EXCEPT - IF ANOTHER ENTRY HAS A FUTURE EDD AND NO PREGNANCY END THEN
"RTN","DSIO4",110,0)
 ;    THE ENTRY WILL NOT BE CREATED.
"RTN","DSIO4",111,0)
 ;  - IF EDD IS FUTURE AND THE ENTRY IS CURRENT THEN WV PATIENT .13 IS
"RTN","DSIO4",112,0)
 ;    CHANGED TO YES AND .14 IS SET WITH EDD
"RTN","DSIO4",113,0)
 ;  - IF PREGNANCY END (NO FUTURE DATES) AND NOT A HISTORICAL ENTRY THEN THE
"RTN","DSIO4",114,0)
 ;    STATUS IS CHANGED TO H AND WV PATIENT .13 IS NO AND .14 IS DELETED
"RTN","DSIO4",115,0)
 ;
"RTN","DSIO4",116,0)
CURRENT(IEN) ; SHOULD THIS RECORD BE CURRENT?
"RTN","DSIO4",117,0)
 ; IS THERE AN ENTRY WITH A FUTURE EDD AND NO PREGNANCY END?
"RTN","DSIO4",118,0)
 ; INPUT TRANSFORM FOR .04 STATUS
"RTN","DSIO4",119,0)
 N DFN,FROM,SCR,OUT,ERR,CT,FLG S FLG=1
"RTN","DSIO4",120,0)
 S DFN=$$GET1^DIQ(19641.13,IEN_",",.03,"I")
"RTN","DSIO4",121,0)
 S FROM(1)=DFN,SCR="I $P(^(0),U,3)=DFN"
"RTN","DSIO4",122,0)
 D LIST^DIC(19641.13,,"@;.06I;.07I","P",,".FROM",,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",123,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:FLG=0
"RTN","DSIO4",124,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",125,0)
 .I $$GET1^DIQ(19641.03,$P(@CT,U,2)_",",.01,"I")>=DT&($P(@CT,U,3)="") S FLG=0
"RTN","DSIO4",126,0)
 Q FLG
"RTN","DSIO4",127,0)
 ;
"RTN","DSIO4",128,0)
HIS(DFN,IEN) ; KILL HISTORICAL EDD X-REF
"RTN","DSIO4",129,0)
 ; NEW 'ASTATUS'
"RTN","DSIO4",130,0)
 I $D(^DSIO(19641.13,"EDD",DFN,+$O(^DSIO(19641.13,"EDD",DFN,"")),IEN)) D
"RTN","DSIO4",131,0)
 .K ^DSIO(19641.13,"EDD",DFN)
"RTN","DSIO4",132,0)
 Q
"RTN","DSIO4",133,0)
 ;
"RTN","DSIO4",134,0)
STATUS(DFN,IEN) ; UPDATE PREGNANCY HISTORY STATUSES TO H IF CURRENT IS C
"RTN","DSIO4",135,0)
 ; NEW 'ASTATUS'
"RTN","DSIO4",136,0)
 ;Q:$D(DSIOSILENT)  N DSIOSILENT,DLAYGO S DSIOSILENT=1
"RTN","DSIO4",137,0)
 Q:$$GET1^DIQ(19641.13,$G(IEN)_",",.04,"I")'="C"
"RTN","DSIO4",138,0)
 N FROM,SCR,OUT,ERR,CT,IPT,WVIEN,EDD,RET
"RTN","DSIO4",139,0)
 S FROM(1)=DFN,SCR="I $P(^(0),U,3)=DFN,$P(^(0),U,4)=""C"""
"RTN","DSIO4",140,0)
 D LIST^DIC(19641.13,,"@","P",,".FROM",,"P",SCR,,"OUT","ERR")
"RTN","DSIO4",141,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  K IPT D
"RTN","DSIO4",142,0)
 .Q:$QS(CT,2)<1
"RTN","DSIO4",143,0)
 .I @CT'=IEN D
"RTN","DSIO4",144,0)
 ..S DLAYGO=19641.13
"RTN","DSIO4",145,0)
 ..S IPT(19641.13,@CT_",",.04)="H" D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",146,0)
 ..D HIS(DFN,@CT)
"RTN","DSIO4",147,0)
 ..S WVIEN=$$GET1^DIQ(19641.13,@CT_",",99.1,"I")
"RTN","DSIO4",148,0)
 ..S DLAYGO=790
"RTN","DSIO4",149,0)
 ..S IPT(790.16,WVIEN_","_DFN_",",2)=0 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",150,0)
 Q
"RTN","DSIO4",151,0)
 ;
"RTN","DSIO4",152,0)
EDD(EDD,IEN) ; UPDATE WV,DSIO PATIENT FILES WHEN EDD IS FUTURE
"RTN","DSIO4",153,0)
 ; NEW 'EDD' (NOT ON HISTORICAL ENTRIES)
"RTN","DSIO4",154,0)
 ; CREATE AN "EDD" X-REF - ONLY ONE PER PATIENT
"RTN","DSIO4",155,0)
 I '$G(DFN) S DFN=$$GET1^DIQ(19641.13,IEN_",",.03,"I") Q:'DFN
"RTN","DSIO4",156,0)
 K ^DSIO(19641.13,"EDD",DFN)
"RTN","DSIO4",157,0)
 I EDD'="@" D
"RTN","DSIO4",158,0)
 .S ^DSIO(19641.13,"EDD",DFN,EDD,DA)="",EDD=$$GET1^DIQ(19641.03,EDD_",",.01,"I")
"RTN","DSIO4",159,0)
 Q:$D(DSIOSILENT)  N DSIOSILENT,DLAYGO S DSIOSILENT=1
"RTN","DSIO4",160,0)
 Q:$$GET1^DIQ(19641.13,IEN_",",.04,"I")="H"
"RTN","DSIO4",161,0)
 N WVIEN,IPT,DLAYGO
"RTN","DSIO4",162,0)
 S WVIEN=$$GET1^DIQ(19641.13,IEN_",",99.1,"I")
"RTN","DSIO4",163,0)
 S DLAYGO=790
"RTN","DSIO4",164,0)
 S IPT(790.16,WVIEN_","_DFN_",",2)=1,IPT(790.16,WVIEN_","_DFN_",",3)=EDD
"RTN","DSIO4",165,0)
 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",166,0)
 D STATUS(DFN,IEN)
"RTN","DSIO4",167,0)
 Q
"RTN","DSIO4",168,0)
 ;
"RTN","DSIO4",169,0)
DELV(DATE,DFN,IEN) ; UPDATE WV,DSIO PATIENT FILES WHEN PREGNANCY END IS SET
"RTN","DSIO4",170,0)
 Q:$D(DSIOSILENT)  N DSIOSILENT S DSIOSILENT=1
"RTN","DSIO4",171,0)
 Q:+$G(DATE)=0!($$GET1^DIQ(19641.13,IEN_",",.04,"I")="H")
"RTN","DSIO4",172,0)
 I DATE'>$$NOW^XLFDT D
"RTN","DSIO4",173,0)
 .N DLAYGO,IPT,WVIEN
"RTN","DSIO4",174,0)
 .S DLAYGO=19641.13,IPT(19641.13,IEN_",",.04)="H" D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",175,0)
 .K ^DSIO(19641.13,"EDD",DFN)
"RTN","DSIO4",176,0)
 .S DLAYGO=790,WVIEN=$$GET1^DIQ(19641.13,IEN_",",99.1,"I")
"RTN","DSIO4",177,0)
 .S IPT(790.16,WVIEN_","_DFN_",",2)=0,IPT(790.16,WVIEN_","_DFN_",",3)=""
"RTN","DSIO4",178,0)
 .S IPT(790.16,WVIEN_","_DFN_",",4)=DATE
"RTN","DSIO4",179,0)
 .D UPDATE^DIE(,"IPT") K IPT D PTRK(DFN,0)
"RTN","DSIO4",180,0)
 Q
"RTN","DSIO4",181,0)
 ;
"RTN","DSIO4",182,0)
 ; -------------------------- WV PATIENT - (NEW) ------------------------------
"RTN","DSIO4",183,0)
 ;
"RTN","DSIO4",184,0)
WV(DFN,WVIEN) ; WOMEN'S HEALTH ENTRY POINT
"RTN","DSIO4",185,0)
 ; UPDATE THE CURRENT PREGNANCY WITH THE NEW EDD FROM WV PREGNANCY LOG
"RTN","DSIO4",186,0)
 ; OR IF THERE IS NO CURRENT PREGNANCY CREATE A NEW ONE
"RTN","DSIO4",187,0)
 ;
"RTN","DSIO4",188,0)
 ; PREGNANCY LOG IS TRIGGERED ON FIELD AND THIS NEW STYLE IS SET
"RTN","DSIO4",189,0)
 ; TO TRIGGER ON RECORD AND THE CREATION OF THE LOG
"RTN","DSIO4",190,0)
 ;
"RTN","DSIO4",191,0)
 ; PREG(RET,DFN,IEN,STRT,TYP,FOF,EDD,END,OBP,PFAC)
"RTN","DSIO4",192,0)
 ;
"RTN","DSIO4",193,0)
 Q:'$G(WVIEN)!('$G(DFN))
"RTN","DSIO4",194,0)
 N DLAYGO,PREG,EDD,END
"RTN","DSIO4",195,0)
 S DLAYGO=19641.13,CIEN=$$PG(DFN)
"RTN","DSIO4",196,0)
 S PREG=$$GET1^DIQ(790.16,WVIEN_","_DFN_",",2,"I")
"RTN","DSIO4",197,0)
 S EDD=$$GET1^DIQ(790.16,WVIEN_","_DFN_",",3,"I")
"RTN","DSIO4",198,0)
 S END=$$GET1^DIQ(790.16,WVIEN_","_DFN_",",4,"I") K:'END END
"RTN","DSIO4",199,0)
 I PREG=1,'CIEN D PREG^DSIO15(.RET,DFN,,,"C",,EDD),PTRK(DFN,PREG)
"RTN","DSIO4",200,0)
 E  I PREG=1,CIEN,EDD D PREG^DSIO15(.RET,DFN,CIEN,,,,EDD)
"RTN","DSIO4",201,0)
 E  I PREG=0,CIEN D PREG^DSIO15(.RET,DFN,CIEN,,"H",,,$G(END,DT)),PTRK(DFN,PREG)
"RTN","DSIO4",202,0)
 I $G(RET) K IPT S IPT(19641.13,RET_",",99.1)=WVIEN D UPDATE^DIE(,"IPT")
"RTN","DSIO4",203,0)
 Q
"RTN","DSIO4",204,0)
 ;
"RTN","DSIO4",205,0)
PTRK(DFN,PREG) ; TRACK PREGNANCY
"RTN","DSIO4",206,0)
 N RES,RET
"RTN","DSIO4",207,0)
 S RES="WV PATIENT FILE(790) PREGNANCY STATUS = "_$S(PREG:"YES",1:"NO")
"RTN","DSIO4",208,0)
 D REC^DSIO1(.RET,DFN,2,RES,,"TRIGGER")
"RTN","DSIO4",209,0)
 Q
"RTN","DSIO4",210,0)
 ;
"RTN","DSIO4",211,0)
 ; -------- WV PATIENT TO DSIO MENSTRUAL HISTORY AND DSIO PATIENT -------------
"RTN","DSIO4",212,0)
 ;
"RTN","DSIO4",213,0)
MH(DFN,WVIEN) ; UPDATE DSIO WITH LMP
"RTN","DSIO4",214,0)
 ;
"RTN","DSIO4",215,0)
 ; STARTING LOCATION = 790.15,2
"RTN","DSIO4",216,0)
 ; DSIO MENSTRUAL HISTORY (LINK BACK AT FIELD 99.1)
"RTN","DSIO4",217,0)
 ; DSIO PATIENT : 1.2
"RTN","DSIO4",218,0)
 ;
"RTN","DSIO4",219,0)
 Q:$D(DSIOSILENT)!('$G(WVIEN))!('$G(DFN))
"RTN","DSIO4",220,0)
 N DATE,FLG,IPT,IEN,DLAYGO,DSIOSILENT
"RTN","DSIO4",221,0)
 S DSIOSILENT=1,DLAYGO=19641.01
"RTN","DSIO4",222,0)
 S DATE=$$GET1^DIQ(790.15,WVIEN_","_DFN_",",2,"I") Q:'DATE
"RTN","DSIO4",223,0)
 Q:$D(^DSIO(19641.01,"C",DFN,DATE))
"RTN","DSIO4",224,0)
 S IPT(19641.01,"+1,",.01)=DATE,IPT(19641.01,"+1,",.02)=DFN
"RTN","DSIO4",225,0)
 D UPDATE^DIE("U","IPT","IEN") K IPT S DLAYGO=19641
"RTN","DSIO4",226,0)
 I $D(IEN(1)) S IPT(19641,DFN_",",1.2)=IEN(1) D FILE^DIE(,"IPT")
"RTN","DSIO4",227,0)
 Q
"RTN","DSIO4",228,0)
 ;
"RTN","DSIO4",229,0)
MH1(DFN,DATE) ; FROM DSIO PATIENT TO WV PATIENT
"RTN","DSIO4",230,0)
 Q:$D(DSIOSILENT)!('$G(DATE))
"RTN","DSIO4",231,0)
 N DSIOSILENT,DLAYGO,IPT,WVIEN S DSIOSILENT=1
"RTN","DSIO4",232,0)
 S DLAYGO=790
"RTN","DSIO4",233,0)
 S IPT(790.15,"?+1,"_DFN_",",.01)=$$NOW^XLFDT
"RTN","DSIO4",234,0)
 S IPT(790.15,"?+1,"_DFN_",",2)=$$GET1^DIQ(19641.01,DATE_",",.01,"I")
"RTN","DSIO4",235,0)
 S IPT(790.15,"?+1,"_DFN_",",3)=DUZ
"RTN","DSIO4",236,0)
 D UPDATE^DIE(,"IPT","WVIEN") Q:'$G(WVIEN(1))
"RTN","DSIO4",237,0)
 S DLAYGO=19641.01
"RTN","DSIO4",238,0)
 S IPT(19641.01,DATE_",",99.1)=WVIEN(1) D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO4",239,0)
 Q
"RTN","DSIO5")
0^15^B21596236
"RTN","DSIO5",1,0)
DSIO5 ;DSS/TFF - DSIO TRIGGERS;06/28/2013 15:19
"RTN","DSIO5",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO5",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO5",4,0)
 ;
"RTN","DSIO5",5,0)
 ; External References      DBIA#
"RTN","DSIO5",6,0)
 ; -------------------      -----
"RTN","DSIO5",7,0)
 ;
"RTN","DSIO5",8,0)
 ;
"RTN","DSIO5",9,0)
 ;
"RTN","DSIO5",10,0)
 Q
"RTN","DSIO5",11,0)
 ;
"RTN","DSIO5",12,0)
TRIGGER(FLE,NUM) ; Flag patients off of ^PXRMINDX
"RTN","DSIO5",13,0)
 N OUT,CT,ND,LIEN,DSIO,SPEC,CON,ST,IX,X,DFN,IEN,RDT
"RTN","DSIO5",14,0)
 Q:'$G(FLE)!('$G(NUM))
"RTN","DSIO5",15,0)
 D LIST^DIC(FLE,,"@;.01I;.02I","P",,,,,,,"OUT") Q:'$D(OUT)
"RTN","DSIO5",16,0)
 F CT=1:1:+$G(OUT("DILIST",0)) S ND=$NA(OUT("DILIST",CT,0)) D
"RTN","DSIO5",17,0)
 . Q:'$P(@ND,U,2)!($P(@ND,U,3))   ; IF NO CONTROL (BROKEN POINTER) OR IS INACTIVE
"RTN","DSIO5",18,0)
 . S LIEN=$P(@ND,U,2),DSIO(LIEN)=+@ND
"RTN","DSIO5",19,0)
 . I FLE=19641.31 D      ; *** PROBLEM
"RTN","DSIO5",20,0)
 . . ; PXRMINDX IS BY ICD SO UPDATE DSIO TO CON
"RTN","DSIO5",21,0)
 . . K SPEC I $$GET1^DIQ(80,LIEN_",",1.1)["ICD" D
"RTN","DSIO5",22,0)
 . . . S SPEC=$$GET1^DIQ(80,LIEN_",",.01)
"RTN","DSIO5",23,0)
 . . . I SPEC'="" S CON(LIEN)=SPEC
"RTN","DSIO5",24,0)
 . . . ; CON(LIEN)=ICD CODE
"RTN","DSIO5",25,0)
 . I FLE=19641.33 D      ; *** LAB
"RTN","DSIO5",26,0)
 . . ; ADD THE SPECIMEN AND RESULT VALUES MULTIPLE
"RTN","DSIO5",27,0)
 . . K SPEC D GETS^DIQ(19641.33,+@ND_",","1*","I","SPEC") Q:'$D(SPEC)
"RTN","DSIO5",28,0)
 . . S ST=$NA(SPEC) F  S ST=$Q(@ST) Q:ST=""  S CON(LIEN)=$G(CON(LIEN))_@ST_U
"RTN","DSIO5",29,0)
 . . ; CON(LIEN)=LAST RESULT DT^SPECIMEN^VALUE^SPECIMEN^VALUE...
"RTN","DSIO5",30,0)
 . . ; EVERY EVEN PIECE IS SPECIMEN WITH THE NEXT PIECE BEING ITS VALUE | DELIMITED
"RTN","DSIO5",31,0)
 S X=$S(NUM=63:"IP",NUM=9000011:"ICD",1:"") Q:X=""
"RTN","DSIO5",32,0)
 S IX=$NA(^PXRMINDX(NUM,X))
"RTN","DSIO5",33,0)
 S LIEN="" F  S LIEN=$O(CON(LIEN)) Q:LIEN=""  D
"RTN","DSIO5",34,0)
 . I X="ICD" D  Q
"RTN","DSIO5",35,0)
 . . S DFN=0 F  S DFN=$O(@IX@("ISPP",CON(LIEN),"A","U",DFN)) Q:'DFN  D
"RTN","DSIO5",36,0)
 . . . Q:'$$SEX(DFN)
"RTN","DSIO5",37,0)
 . . . ; (U:UNKNOWN, A:ACUTE: C:CRONIC)
"RTN","DSIO5",38,0)
 . . . F ST="U","A","C" D
"RTN","DSIO5",39,0)
 . . . . S RDT=$O(@IX@("ISPP",CON(LIEN),"A",ST,DFN,""),-1) I RDT'="" D
"RTN","DSIO5",40,0)
 . . . . . S IEN=$O(@IX@("ISPP",CON(LIEN),"A",ST,DFN,RDT,""),-1)
"RTN","DSIO5",41,0)
 . . . . . I $$RDT(FLE,DSIO(LIEN),DFN,RDT,IEN) D PROV2(DFN,CON(LIEN))
"RTN","DSIO5",42,0)
 . I X="IP" D
"RTN","DSIO5",43,0)
 . . S DFN=0 F  S DFN=$O(@IX@(LIEN,DFN)) Q:'DFN  D
"RTN","DSIO5",44,0)
 . . . Q:'$$SEX(DFN)
"RTN","DSIO5",45,0)
 . . . S RDT=$O(@IX@(LIEN,DFN,""),-1)
"RTN","DSIO5",46,0)
 . . . Q:'$$RDT(FLE,DSIO(LIEN),DFN,RDT)
"RTN","DSIO5",47,0)
 . . . D LABV1($O(@IX@(LIEN,DFN,RDT,"")),CON(LIEN))
"RTN","DSIO5",48,0)
 Q
"RTN","DSIO5",49,0)
 ;
"RTN","DSIO5",50,0)
SEX(DFN) ; Female Patient?
"RTN","DSIO5",51,0)
 Q $S($$GET1^DIQ(2,$G(DFN)_",",.02,"I")="F":1,1:0)
"RTN","DSIO5",52,0)
 ;
"RTN","DSIO5",53,0)
RDT(FLE,IEN,DFN,RDT,PXIEN) ; TRUE if RDT is greater than recorded RDT
"RTN","DSIO5",54,0)
 ;                           If TRUE then record it
"RTN","DSIO5",55,0)
 N IPT,FLG
"RTN","DSIO5",56,0)
 I '$G(PXIEN) D  Q:$D(FLG) 0
"RTN","DSIO5",57,0)
 . I $D(^DSIO(FLE,IEN,2,"C",DFN,RDT)) S FLG=1 Q
"RTN","DSIO5",58,0)
 . I $O(^DSIO(FLE,IEN,2,"C",DFN,RDT)) S FLG=1
"RTN","DSIO5",59,0)
 E  I $D(^DSIO(FLE,IEN,2,"C",DFN,RDT,PXIEN)) Q 0
"RTN","DSIO5",60,0)
 S IPT(FLE_2,"+1,"_IEN_",",.01)=DFN
"RTN","DSIO5",61,0)
 S IPT(FLE_2,"+1,"_IEN_",",.02)=RDT
"RTN","DSIO5",62,0)
 S:$G(PXIEN) IPT(FLE_2,"+1,"_IEN_",",.03)=PXIEN
"RTN","DSIO5",63,0)
 D UPDATE^DIE(,"IPT")
"RTN","DSIO5",64,0)
 Q 1
"RTN","DSIO5",65,0)
 ;
"RTN","DSIO5",66,0)
 ; -------------------------------- PROBLEMS ----------------------------------
"RTN","DSIO5",67,0)
 ;
"RTN","DSIO5",68,0)
PROBLEM(RET) ; RPC: DSIO CHECK CONTROLLED PROBLEMS
"RTN","DSIO5",69,0)
 S RET=1 D TRIGGER(19641.31,9000011)
"RTN","DSIO5",70,0)
 Q
"RTN","DSIO5",71,0)
 ;
"RTN","DSIO5",72,0)
PROV2(DFN,CODE) ; 
"RTN","DSIO5",73,0)
 N RES,RET
"RTN","DSIO5",74,0)
 S RES="Controlled PROBLEM ("_CODE_")"
"RTN","DSIO5",75,0)
 D REC^DSIO1(.RET,DFN,2,RES,,"TRIGGER")
"RTN","DSIO5",76,0)
 Q
"RTN","DSIO5",77,0)
 ;
"RTN","DSIO5",78,0)
 ; ---------------------------------- LABS ------------------------------------
"RTN","DSIO5",79,0)
 ;
"RTN","DSIO5",80,0)
LAB(RET) ; RPC: DSIO CHECK CONTROLLED LABS
"RTN","DSIO5",81,0)
 ;
"RTN","DSIO5",82,0)
 ; Process:
"RTN","DSIO5",83,0)
 ;  1) Loop through the ^PXRMINDX(63,"IP" OR "PI" for female patients for
"RTN","DSIO5",84,0)
 ;     controlled labs. "IP" is item/patient for subscripted by test then
"RTN","DSIO5",85,0)
 ;     by patient and is the direction on this RPC.
"RTN","DSIO5",86,0)
 ;     - ^PXRMINDX(63,"PI",1,3,2980224.1,"19;CH;7019774.9;386")=""
"RTN","DSIO5",87,0)
 ;  2) If the .05 of the LRIDT of 63.04 equals the specimen in the control
"RTN","DSIO5",88,0)
 ;     then check the first piece of the test node.
"RTN","DSIO5",89,0)
 ;     - $$GET1^DIQ(63.04,7019774.9_","_19_",",.05,"I")
"RTN","DSIO5",90,0)
 ;     - ^LR(19,"CH",7019774.9,386)="11.1^L^^755"
"RTN","DSIO5",91,0)
 ;  3) If the result is a number and is => the control result then create
"RTN","DSIO5",92,0)
 ;     a tracking log.
"RTN","DSIO5",93,0)
 ;  4) If the result is not a number then check if the result is equal to
"RTN","DSIO5",94,0)
 ;     any special value listed in the control file.
"RTN","DSIO5",95,0)
 ;
"RTN","DSIO5",96,0)
 S RET=1 D TRIGGER(19641.33,63)
"RTN","DSIO5",97,0)
 Q
"RTN","DSIO5",98,0)
 ;
"RTN","DSIO5",99,0)
LABV1(CH,CON) ; Validate the lab with the control
"RTN","DSIO5",100,0)
 ;              CH="19;CH;7049475.846546;453"
"RTN","DSIO5",101,0)
 N SPM,PT,SP,FLG
"RTN","DSIO5",102,0)
 S SPM=$$GET1^DIQ(63.04,$P(CH,";",3)_","_+CH_",",.05,"I")
"RTN","DSIO5",103,0)
 F PT=1:1:$L(CON,U) D  Q:$D(FLG)
"RTN","DSIO5",104,0)
 . I PT#2,$P(CON,U,PT)=SPM S SP=SPM       ; SPECIMEN
"RTN","DSIO5",105,0)
 . Q:'$G(SP)
"RTN","DSIO5",106,0)
 . I PT#2=0 K SP I $$LABV2($P(^LR(+CH,"CH",$P(CH,";",3),$P(CH,";",4)),U),$P(CON,U,PT)) S FLG=1  ; VALUE
"RTN","DSIO5",107,0)
 Q
"RTN","DSIO5",108,0)
 ;
"RTN","DSIO5",109,0)
LABV2(VAL,CON) ; Continue
"RTN","DSIO5",110,0)
 N PT,FLG,RES,RET
"RTN","DSIO5",111,0)
 S RES="Controlled LAB ("_$$GET1^DIQ(60,LIEN_",",.01)_") Result ("
"RTN","DSIO5",112,0)
 F PT=1:1:$L(CON,"|") D  Q:$D(FLG)
"RTN","DSIO5",113,0)
 . I VAL>$P(CON,"|",PT) D  Q
"RTN","DSIO5",114,0)
 . . S FLG=1,RES=RES_VAL_") > Controlled Value ("_$P(CON,"|",PT)_")"
"RTN","DSIO5",115,0)
 . I VAL=$P(CON,"|",PT) D
"RTN","DSIO5",116,0)
 . . S FLG=1,RES=RES_VAL_") = Controlled Value ("_$P(CON,"|",PT)_")"
"RTN","DSIO5",117,0)
 I $D(FLG) D REC^DSIO1(.RET,DFN,2,RES,,"TRIGGER") S FLG=+RET
"RTN","DSIO5",118,0)
 Q +$G(FLG)
"RTN","DSIO5",119,0)
 ;
"RTN","DSIO5",120,0)
 ; -------------------------------- CONSULTS ----------------------------------
"RTN","DSIO5",121,0)
 ;
"RTN","DSIO5",122,0)
CONSULT(RET) ; RPC: DSIO CHECK CONTROLLED CONSULTS
"RTN","DSIO5",123,0)
 N OUT,CT,ND,CON,STAT,LAST,FLG,RDT,IEN,DFN,RES,RE,IPT S RET=1
"RTN","DSIO5",124,0)
 D LIST^DIC(19641.35,,"@;.01I;.02I;.03I;.04","P",,,,,,,"OUT") Q:'$D(OUT)
"RTN","DSIO5",125,0)
 F CT=1:1:+$G(OUT("DILIST",0)) S ND=$NA(OUT("DILIST",CT,0)) D
"RTN","DSIO5",126,0)
 . Q:'$P(@ND,U,2)!($P(@ND,U,3))   ; IF NO CONTROL (BROKEN POINTER) OR IS INACTIVE
"RTN","DSIO5",127,0)
 . S CON=$P(@ND,U,2),STAT=$P(@ND,U,4),LAST=$P(@ND,U,5) K FLG
"RTN","DSIO5",128,0)
 . Q:STAT=""
"RTN","DSIO5",129,0)
 . S RDT=LAST F  S RDT=$O(^GMR(123,"AE",CON,STAT,RDT),-1) Q:RDT=""  D
"RTN","DSIO5",130,0)
 . . S IEN=$O(^GMR(123,"AE",CON,STAT,RDT,""),-1)
"RTN","DSIO5",131,0)
 . . I '$D(FLG) S IPT(19641.35,+@ND_",",.04)=RDT D FILE^DIE(,"IPT") S FLG=1
"RTN","DSIO5",132,0)
 . . S DFN=$$GET1^DIQ(123,IEN_",",.02,"I") Q:'$$SEX(DFN)
"RTN","DSIO5",133,0)
 . . S RES="Controlled CONSULT ("_$$GET1^DIQ(123,IEN_",",1)_") on "_$$GET1^DIQ(123,IEN_",",.01)
"RTN","DSIO5",134,0)
 . . D REC^DSIO1(.RE,DFN,2,RES,,"TRIGGER")
"RTN","DSIO5",135,0)
 Q
"RTN","DSIO6")
0^13^B157316776
"RTN","DSIO6",1,0)
DSIO6 ;DSS/TFF - DSIO DISCREET DATA - DDCS;06/28/2013 15:19
"RTN","DSIO6",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO6",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO6",4,0)
 ;
"RTN","DSIO6",5,0)
 ; External References      DBIA#
"RTN","DSIO6",6,0)
 ; -------------------      -----
"RTN","DSIO6",7,0)
 ;
"RTN","DSIO6",8,0)
 ;
"RTN","DSIO6",9,0)
 ;
"RTN","DSIO6",10,0)
 Q
"RTN","DSIO6",11,0)
 ;
"RTN","DSIO6",12,0)
 ;=============================================================================
"RTN","DSIO6",13,0)
 ;                          D I S C R E E T  D A T A
"RTN","DSIO6",14,0)
 ;=============================================================================
"RTN","DSIO6",15,0)
 ;
"RTN","DSIO6",16,0)
 ; DSIO TIU DISCREET CONTROL (FILE TO PUSH DISCREET DATA ELEMENTS
"RTN","DSIO6",17,0)
 ; ELSEWHERE) (19641.4)
"RTN","DSIO6",18,0)
 ;
"RTN","DSIO6",19,0)
 ; - FIRST BY TIU DOCUMENT DEFINITION (8925.1) THEN BY DATA ELEMENT
"RTN","DSIO6",20,0)
 ;   - A DOCUMENT DEFINITION CAN CONTROL MANY DATA ELEMENTS
"RTN","DSIO6",21,0)
 ;
"RTN","DSIO6",22,0)
 ; - DSIO TIU DISCREET DATA (FILE THAT STORES THE DISCREET DATA) (19641.41)
"RTN","DSIO6",23,0)
 ;   - FIRST BY PATIENT - THEN BY NOTE (8925)
"RTN","DSIO6",24,0)
 ;
"RTN","DSIO6",25,0)
 ; DIALOGS CAN SAVE DISCREET DATA UNDER THE TIU NOTE IEN
"RTN","DSIO6",26,0)
 ; WITHIN THE DSIO NOTE DATA FILE
"RTN","DSIO6",27,0)
 ; 
"RTN","DSIO6",28,0)
 ; DIALOG = SOURCE
"RTN","DSIO6",29,0)
 ;  R - REMINDER DIALOG
"RTN","DSIO6",30,0)
 ;  C - OCNT
"RTN","DSIO6",31,0)
 ;  O - OTHER (RPC)
"RTN","DSIO6",32,0)
 ;  D - DIALOG (OCNT DIALOG)
"RTN","DSIO6",33,0)
 ;
"RTN","DSIO6",34,0)
 ; FROM : R### = REMINDER DIALOG AND ITS IEN
"RTN","DSIO6",35,0)
 ;      : Cxxx = OCNT AND ITS NAME
"RTN","DSIO6",36,0)
 ;      : Oxxx = OTHER AND THE NOTE TITLE - THIS RESTRICTS TO ONE NOTE
"RTN","DSIO6",37,0)
 ;      : D### = IEN OF AN OCNT DIALOG
"RTN","DSIO6",38,0)
 ;
"RTN","DSIO6",39,0)
STORED(RET,NIEN,DATA,FROM) ; RPC: DSIO DDCS STORE (DIRECT)
"RTN","DSIO6",40,0)
 N DIEN S RET=-1
"RTN","DSIO6",41,0)
 I $E($G(FROM),1)="R" S DIEN=$E(FROM,2,99),FROM="R"
"RTN","DSIO6",42,0)
 E  I $E($G(FROM),1)="C" S DIEN=$E(FROM,2,99),FROM="C"
"RTN","DSIO6",43,0)
 E  I $E($G(FROM),1)="O" S DIEN="",FROM="O"
"RTN","DSIO6",44,0)
 E  I $E($G(FROM),1)="D" S DIEN=$E(FROM,2,99),FROM="D"
"RTN","DSIO6",45,0)
 I $D(DIEN) D SETDATA S:$P(RET,U,2)="" RET=1
"RTN","DSIO6",46,0)
 Q
"RTN","DSIO6",47,0)
 ;
"RTN","DSIO6",48,0)
STORET(RET,NIEN,DATA,FROM) ; RPC: DSIO DDCS STORE (TASK)
"RTN","DSIO6",49,0)
 ; SET AS A TASK AND RETURN THE TASK ID
"RTN","DSIO6",50,0)
 ;
"RTN","DSIO6",51,0)
 N DIEN,ZTRTN,ZTDESC,ZTDTH,ZTIO,ZTUCI,ZTCPU,ZTPRI,ZTSAVE,ZTKIL,ZTSYNC,ZTSK
"RTN","DSIO6",52,0)
 S ZTRTN="SETDATA^DSIO6",ZTDESC="DSIO DISCREET DATA STORAGE"
"RTN","DSIO6",53,0)
 S ZTDTH=$$FMTH^XLFDT($$NOW^XLFDT),ZTIO="DSIO DDCS",ZTPRI=10
"RTN","DSIO6",54,0)
 S ZTSAVE("NIEN")="",ZTSAVE("DATA(")=""
"RTN","DSIO6",55,0)
 I $E($G(FROM),1)="R" S ZTSAVE("DIEN")=$E(FROM,2,99),ZTSAVE("FROM")="R"
"RTN","DSIO6",56,0)
 E  I $E($G(FROM),1)="C" S ZTSAVE("DIEN")=$E(FROM,2,99),ZTSAVE("FROM")="C"
"RTN","DSIO6",57,0)
 E  I $E($G(FROM),1)="O" S ZTSAVE("DIEN")="",ZTSAVE("FROM")="O"
"RTN","DSIO6",58,0)
 E  I $E($G(FROM),1)="D" S ZTSAVE("DIEN")=$E(FROM,2,99),ZTSAVE("FROM")="D"
"RTN","DSIO6",59,0)
 E  S RET=-1 Q
"RTN","DSIO6",60,0)
 D ^%ZTLOAD S RET=$G(ZTSK,-1)
"RTN","DSIO6",61,0)
 Q
"RTN","DSIO6",62,0)
 ;
"RTN","DSIO6",63,0)
SETDATA ; SAVE DATA AS DISCREET ELEMENTS FOR A TIU NOTE
"RTN","DSIO6",64,0)
 ; INPUT VARIABLES REQUIRED (NIEN,DATA,FROM,DIEN)
"RTN","DSIO6",65,0)
 ;
"RTN","DSIO6",66,0)
 ; EXAMPLE ARRAY:
"RTN","DSIO6",67,0)
 ; --------------
"RTN","DSIO6",68,0)
 ; (S,M,WP)^CONTROL^LABEL 1^INDEX(OPTIONAL ONLY FOR M)^VALUE
"RTN","DSIO6",69,0)
 ;  - M AND WP, AND HAVE REPEATED ENTRIES THAT WILL BE APPLIED TO ONE ENTRY
"RTN","DSIO6",70,0)
 ;
"RTN","DSIO6",71,0)
 ; IN THE CASE OF A "WP" OR A "M" THE NOTE TEXT ONLY HAS TO BE APPLIED TO ONE
"RTN","DSIO6",72,0)
 ; ENTRY PER CONTROL ENTRIES - THEY WILL BE PROCESSED AND CREATED AS A SINGLE
"RTN","DSIO6",73,0)
 ; ENTRY TO DSIO NOTE DATA.
"RTN","DSIO6",74,0)
 ;
"RTN","DSIO6",75,0)
 ; REMINDER DIALOG - FROM = R
"RTN","DSIO6",76,0)
 ; --------------------------
"RTN","DSIO6",77,0)
 ; (S,M,WP)^CLASS|IENS^CAPTION^INDEX(OPTIONAL ONLY FOR M)^VALUE
"RTN","DSIO6",78,0)
 ;
"RTN","DSIO6",79,0)
 N DFN,IEN,TITLE,TIEN,DLAYGO,DIC,DA,X,Y,SUB,CT,VP,FLG,INFAC,NM,CTR,IPT,TYP,DONE
"RTN","DSIO6",80,0)
 N FLE,IEN1,SHAR,RIEN,RIENS,CK,LINK,TMP,ID,CI,I,DONE,ERR
"RTN","DSIO6",81,0)
 N DSIOSILENT S DSIOSILENT=1 ; DON'T RUN OUR X-REFS
"RTN","DSIO6",82,0)
 ; R = REMINDER           THE IEN IS PASSED
"RTN","DSIO6",83,0)
 ; C = OCNT               THE NAME OF THE FILE(DLL) IS PASSED
"RTN","DSIO6",84,0)
 ; O = OTHER              THE TITLE WILL BE USED
"RTN","DSIO6",85,0)
 ; D = DIALOG             THE DIEN IS PASSED
"RTN","DSIO6",86,0)
 ; GET THE DSIO NOTE CONTROL IEN - IS IT TO BE CONTROLLED?
"RTN","DSIO6",87,0)
 S DFN=$$GET1^DIQ(8925,NIEN_",",.02,"I") I +DFN<1 S RET="-1^Invalid patient." Q
"RTN","DSIO6",88,0)
 S TIEN=$$TITLE^DSIO3(NIEN),TITLE=$$GET1^DIQ(8925.1,TIEN_",",.01)
"RTN","DSIO6",89,0)
 I FROM="R" D
"RTN","DSIO6",90,0)
 .S IEN=$$FIND1^DIC(19641.4,,,$$GET1^DIQ(801.41,DIEN_",",.01))
"RTN","DSIO6",91,0)
 .S FLE=19641.411,IEN1="?+1,",DIEN=TITLE,INFAC="O.`"_TIEN
"RTN","DSIO6",92,0)
 E  S IEN=$$FIND1^DIC(19641.4,,,TITLE)
"RTN","DSIO6",93,0)
 I FROM="C"!(FROM="O")!(FROM="E") D
"RTN","DSIO6",94,0)
 .S FLE=19641.411,IEN1="?+1,"
"RTN","DSIO6",95,0)
 .S:DIEN="" DIEN=TITLE,INFAC="O.`"_TIEN
"RTN","DSIO6",96,0)
 I FROM="D" Q:'$$ACTION(DIEN,NIEN,"SAVE")  S INFAC="D.`"_DIEN D
"RTN","DSIO6",97,0)
 .S FLE=19641.412,IEN1=DIEN_",",SHAR=$$GET1^DIQ(19641.49,DIEN_",",.04,"I")
"RTN","DSIO6",98,0)
 S:'$D(INFAC) INFAC=FROM_"."_DIEN
"RTN","DSIO6",99,0)
 I IEN=0 S RET="-1^Title or Reminder not controlled." Q
"RTN","DSIO6",100,0)
 ; CREATE OR FIND THE DSIO NOTE DATA ENTRY
"RTN","DSIO6",101,0)
 S DLAYGO=19641.41,DIC="^DSIO(19641.41,",DIC(0)="XL",X="`"_NIEN D ^DIC
"RTN","DSIO6",102,0)
 I +Y<1 S RET="-1^Entry does not exist." Q
"RTN","DSIO6",103,0)
 I FROM="D" K DIC,DA,X,Y D
"RTN","DSIO6",104,0)
 .S DA(1)=NIEN,DIC="^DSIO(19641.41,"_DA(1)_",2,"
"RTN","DSIO6",105,0)
 .S DIC(0)="XL",X="`"_DIEN,DINUM=DIEN D ^DIC S:+Y>0 SUB(1)=+Y
"RTN","DSIO6",106,0)
 .I SHAR K DIC,DA,X,Y D
"RTN","DSIO6",107,0)
 ..S IPT(FLE,IEN1_NIEN_",",.02)=1 D FILE^DIE(,"IPT")
"RTN","DSIO6",108,0)
 ..S DLAYGO=19641.4941,DIC="^DSIO(19641.4941,",DIC(0)="XL",X="`"_DFN D ^DIC
"RTN","DSIO6",109,0)
 ..K DIC,DA,X,Y S DA(1)=DFN,DIC="^DSIO(19641.4941,"_DA(1)_",2,"
"RTN","DSIO6",110,0)
 ..S DIC(0)="XL",X="`"_DIEN,DINUM=DIEN D ^DIC S:+Y>0 SUB(1)=+Y
"RTN","DSIO6",111,0)
 E  I FROM'="D" S IPT(FLE,IEN1_NIEN_",",.01)=DIEN D
"RTN","DSIO6",112,0)
 .D UPDATE^DIE("E","IPT",$S(IEN1'?.N:"SUB",1:"")) K IPT
"RTN","DSIO6",113,0)
 .I '$D(SUB),IEN1'["+" S SUB(1)=$P(IEN1,",")
"RTN","DSIO6",114,0)
 I $G(SUB(1))="" S RET="-1^Interface failed to create multiple." Q
"RTN","DSIO6",115,0)
 S IPT(19641.41,NIEN_",",.02)=IEN D FILE^DIE(,"IPT")
"RTN","DSIO6",116,0)
 S CT="" F  S CT=$O(DATA(CT)) Q:CT=""  D
"RTN","DSIO6",117,0)
 .Q:$D(DONE(CT))
"RTN","DSIO6",118,0)
 .; FIND EXISTING ENTRY TO ADD OR EDIT
"RTN","DSIO6",119,0)
 .; UNIQUENESS KEY = "C" - NOTE(NIEN),INTERFACE(INFAC),CONTROL(CTR),FIELD(NM)
"RTN","DSIO6",120,0)
 .S NM=$$UP^XLFSTR($$TRIM^XLFSTR($P(DATA(CT),U,3))) Q:NM=""
"RTN","DSIO6",121,0)
 .S CTR=$$UP^XLFSTR($P($P(DATA(CT),U,2),"|")) Q:CTR=""
"RTN","DSIO6",122,0)
 .Q:FROM="D"&($$GET1^DIQ(19641.491,$$FIND1^DIC(19641.491,","_DIEN_",","X",CTR)_","_DIEN_",",.04,"I"))  ; DO NOT SAVE CONTROL
"RTN","DSIO6",123,0)
 .S VP="S VP=$S(INFAC[""D"":DIEN_"";DSIO(""_19641.49,INFAC[""C"":"
"RTN","DSIO6",124,0)
 .S VP=VP_"$$FIND1^DIC(19641.48,,,DIEN)_"";DSIO(""_19641.48,1:"
"RTN","DSIO6",125,0)
 .S VP=VP_"TIEN_"";TIU(""_8925.1)" X VP
"RTN","DSIO6",126,0)
 .S FLG=$O(^DSIO(19641.45,"C",NIEN,VP_",",CTR,NM,""))
"RTN","DSIO6",127,0)
 .I $G(FLG)="" S FLG="+1"
"RTN","DSIO6",128,0)
 .S IPT(19641.45,FLG_",",.01)=NM
"RTN","DSIO6",129,0)
 .S:$P(DATA(CT),U,4)'="" IPT(19641.45,FLG_",",.02)=1
"RTN","DSIO6",130,0)
 .S IPT(19641.45,FLG_",",2.1)="`"_NIEN
"RTN","DSIO6",131,0)
 .S IPT(19641.45,FLG_",",2.2)=FROM
"RTN","DSIO6",132,0)
 .S IPT(19641.45,FLG_",",2.3)=$$NOW^XLFDT
"RTN","DSIO6",133,0)
 .S IPT(19641.45,FLG_",",2.4)=CTR
"RTN","DSIO6",134,0)
 .S (TYP,IPT(19641.45,FLG_",",2.5))=$P(DATA(CT),U)
"RTN","DSIO6",135,0)
 .S IPT(19641.45,FLG_",",2.6)=INFAC
"RTN","DSIO6",136,0)
 .I FROM="R" D
"RTN","DSIO6",137,0)
 ..S RIEN=$P($P($P(DATA(CT),U,2),"|",2),",")
"RTN","DSIO6",138,0)
 ..S RIENS=$$RIENS(RIEN,$P($P($P(DATA(CT),U,2),"|",2),",",2))
"RTN","DSIO6",139,0)
 ..I +$G(RIENS)>0 S IPT(19641.45,FLG_",",3.1)="`"_RIENS
"RTN","DSIO6",140,0)
 ..I +$G(RIEN)>0 S IPT(19641.45,FLG_",",3.2)="`"_RIEN
"RTN","DSIO6",141,0)
 .S DLAYGO=19641.45 K CK D UPDATE^DIE("EK","IPT",$S(FLG["+":"CK",1:"")) K IPT
"RTN","DSIO6",142,0)
 .I '$D(CK),FLG'["+" S CK(1)=FLG
"RTN","DSIO6",143,0)
 .I $G(CK(1))'="" S LINK(CK(1))="" D
"RTN","DSIO6",144,0)
 ..S TMP=$NA(^TMP($J,"SETDATA VALUE")) K @TMP
"RTN","DSIO6",145,0)
 ..; SET UP THE VALUE GLOBAL (PIECE 5 AND BEYOND = VALUE)
"RTN","DSIO6",146,0)
 ..I TYP="S" S @TMP@(1)=$P(DATA(CT),U,5,9999)
"RTN","DSIO6",147,0)
 ..I TYP="M" D
"RTN","DSIO6",148,0)
 ...S ID=$P(DATA(CT),U,2) Q:ID=""
"RTN","DSIO6",149,0)
 ...S CI=1,I=CT-1 F  S I=$O(DATA(I)) Q:'I  D
"RTN","DSIO6",150,0)
 ....I $P(DATA(I),U,2)=ID&($P(DATA(I),U)="M") D
"RTN","DSIO6",151,0)
 .....S @TMP@(CI)=$S($P(DATA(I),U,4)="":0,1:$P(DATA(I),U,4))_U_$P(DATA(I),U,5,9999)
"RTN","DSIO6",152,0)
 .....S CI=CI+1,DONE(I)="" ; JUMPING AHEAD - SET DONE
"RTN","DSIO6",153,0)
 ..I TYP="WP" D
"RTN","DSIO6",154,0)
 ...S ID=$P(DATA(CT),U,2) Q:ID=""
"RTN","DSIO6",155,0)
 ...S CI=1,I=CT-1 F  S I=$O(DATA(I)) Q:'I  D
"RTN","DSIO6",156,0)
 ....I $P(DATA(I),U,2)=ID&($P(DATA(I),U)="WP") D
"RTN","DSIO6",157,0)
 .....S @TMP@(CI)=$P(DATA(I),U,5,9999)
"RTN","DSIO6",158,0)
 .....S CI=CI+1,DONE(I)="" ; JUMPING AHEAD - SET DONE
"RTN","DSIO6",159,0)
 ..; SAVE THE VALUE GLOBAL
"RTN","DSIO6",160,0)
 ..I $D(@TMP) D WP^DIE(19641.45,CK(1)_",",1,"K",TMP) K @TMP
"RTN","DSIO6",161,0)
 ; ADD DSIO NOTE ELEMENTS TO THE DSIO NOTE DATA MULTIPLE
"RTN","DSIO6",162,0)
 I $D(LINK) S CT="" F  S CT=$O(LINK(CT)) Q:CT=""  D
"RTN","DSIO6",163,0)
 .I FROM="D",SHAR D  Q
"RTN","DSIO6",164,0)
 ..S DLAYGO=19641.4941
"RTN","DSIO6",165,0)
 ..S IPT(19641.494121,"?+1,"_SUB(1)_","_DFN_",",.01)=CT D
"RTN","DSIO6",166,0)
 ...D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO6",167,0)
 .S DLAYGO=FLE,IPT(FLE_1,"?+1,"_SUB(1)_","_NIEN_",",.01)=CT
"RTN","DSIO6",168,0)
 .D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO6",169,0)
 ; PUSH SHARED DIALOGS NOW OR IF 
"RTN","DSIO6",170,0)
 I FROM="D",$$ACTION(DIEN,NIEN,"SUBMIT") D DPUSH(DFN,DIEN)
"RTN","DSIO6",171,0)
 Q
"RTN","DSIO6",172,0)
 ;
"RTN","DSIO6",173,0)
RIENS(IEN,SEQ) ; GET REMINDER DIALOG BASED OFF OF ITS SEQUENCE TO A
"RTN","DSIO6",174,0)
 ;               REMINDER DIALOG
"RTN","DSIO6",175,0)
 N IENS
"RTN","DSIO6",176,0)
 S IENS=$$FIND1^DIC(801.412,","_IEN_",","X",SEQ) Q:IENS="" ""
"RTN","DSIO6",177,0)
 Q $$GET1^DIQ(801.412,IENS_","_IEN_",",2,"I")
"RTN","DSIO6",178,0)
 ;
"RTN","DSIO6",179,0)
 ; ---------------------------- DDCS - PUSH AND HISTORY -----------------------
"RTN","DSIO6",180,0)
 ;
"RTN","DSIO6",181,0)
TRIG ; CHECK NOTE DATA FOR STATUS UPDATE AND ACT
"RTN","DSIO6",182,0)
 N IEN,IPT
"RTN","DSIO6",183,0)
 S IEN=0 F  S IEN=$O(^DSIO(19641.41,"PUSH",IEN)) Q:'IEN  D
"RTN","DSIO6",184,0)
 . I '$D(^TIU(8925,IEN))!($$GET1^DIQ(8925,IEN_",",.05)="DELETED") D  Q
"RTN","DSIO6",185,0)
 . . D DELETE^DSIO0(IEN)
"RTN","DSIO6",186,0)
 . I $$GET1^DIQ(8925,IEN_",",.05)="COMPLETED" D
"RTN","DSIO6",187,0)
 . . D PUSH(IEN)
"RTN","DSIO6",188,0)
 . . S IPT(19641.41,IEN_",",.03)=$$NOW^XLFDT D FILE^DIE(,"IPT")
"RTN","DSIO6",189,0)
 Q
"RTN","DSIO6",190,0)
 ;
"RTN","DSIO6",191,0)
PUSH(NIEN) ; PUSH DATA OUT TO VISTA
"RTN","DSIO6",192,0)
 ;
"RTN","DSIO6",193,0)
 ; THIS SHOULD BE CALLED BY AN X-REF WHEN A NOTE IS SIGNED NOT WHEN IT IS
"RTN","DSIO6",194,0)
 ; CREATED OR EDITED.
"RTN","DSIO6",195,0)
 ;
"RTN","DSIO6",196,0)
 ;  NIEN - DSIO NOTE DATA ENTRY
"RTN","DSIO6",197,0)
 ;  IENS - THE SUBENTRY OF THE CONTROL IN DSIO NOTE CONTROL
"RTN","DSIO6",198,0)
 ;  RIEN - THE IEN;FILE (VARIABLE POINTER) OF THE CONTROL
"RTN","DSIO6",199,0)
 ; RIENS - THE SUB REMINDER DIALOG IF ONE
"RTN","DSIO6",200,0)
 ;
"RTN","DSIO6",201,0)
 ; START - CHECK DSIO NOTE CONTROL (19641.4) FOR THE EXISTENCE OF THE
"RTN","DSIO6",202,0)
 ;         CONTROL AND THAT IS IT NOT INACTIVE
"RTN","DSIO6",203,0)
 ;       - GO TO DSIO REPORT ITEMS (OCNT OR OCNT DIALOGS) (19641.401)
"RTN","DSIO6",204,0)
 ;         OR DSIO REMINDER ELEMENTS (REMINDER DIALOGS) (19641.402)
"RTN","DSIO6",205,0)
 ;         AND CONFIRM THAT IT IS NOT INACTIVE
"RTN","DSIO6",206,0)
 ;       * REPORT ITEMS ARE LIKE A FUNCTION WITH THEIR COMPONENT THAT
"RTN","DSIO6",207,0)
 ;         PREFORMS THIS FUNCTION SET IN DSIO NOTE CONTROL WHILE
"RTN","DSIO6",208,0)
 ;         A REMINDER ELEMENT IS SET WITHIN ITS OWN FILE
"RTN","DSIO6",209,0)
 ;   END - IF A FILE AND FIELD IS SET THEN PUSH THE DATA THERE
"RTN","DSIO6",210,0)
 ;
"RTN","DSIO6",211,0)
 N DFN,IEN,OUT,CT,CTR,FNAME,FIEN,CIEN,PUSH,FPLE,PFLD,VAL,DIEN
"RTN","DSIO6",212,0)
 N IENS,RIEN,RIENS,DONE,ROUT,RCT,VAL,FLG,INPUT,ROU,RET,IPT,ELE
"RTN","DSIO6",213,0)
 S DFN=$$GET1^DIQ(8925,NIEN_",",.02,"I") Q:+DFN<1
"RTN","DSIO6",214,0)
 Q:'$$FIND1^DIC(19641.41,,"A",NIEN)
"RTN","DSIO6",215,0)
 S IEN=$$GET1^DIQ(19641.41,NIEN_",",.02,"I")
"RTN","DSIO6",216,0)
 D GETS^DIQ(19641.41,NIEN_",","**","I","OUT") Q:'$D(OUT)
"RTN","DSIO6",217,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO6",218,0)
 .; PUSH SHARED DIALOGS
"RTN","DSIO6",219,0)
 .I $QS(CT,1)=19641.412,$QS(CT,3)=.02,@CT D DPUSH(DFN,+$QS(CT,2))
"RTN","DSIO6",220,0)
 .Q:$L($QS(CT,1))<10
"RTN","DSIO6",221,0)
 .;Q:$$GET1^DIQ(19641.45,@CT_",",4.1,"I")'=""  ; ALREADY PUSHED
"RTN","DSIO6",222,0)
 .K ELE,CTR,FNAME,FIEN,CIEN,PUSH,PFLE,PFLD,INPUT,ROU
"RTN","DSIO6",223,0)
 .S ELE=@CT,CTR=$$UP^XLFSTR($$GET1^DIQ(19641.45,ELE_",",2.4))
"RTN","DSIO6",224,0)
 .; REPORT ITEM
"RTN","DSIO6",225,0)
 .I $QS(CT,1)=19641.4111,'$$GET1^DIQ(19641.45,ELE_",",3.1,"I") D  Q
"RTN","DSIO6",226,0)
 ..S FNAME=$$GET1^DIQ(19641.411,$P($QS(CT,2),",",2)_","_NIEN_",",.01)
"RTN","DSIO6",227,0)
 ..S FIEN=$$FIND1^DIC(19641.48,,"X",FNAME)
"RTN","DSIO6",228,0)
 ..S CIEN=$$FIND1^DIC(19641.481,","_FIEN_",","X",CTR) Q:CIEN<1
"RTN","DSIO6",229,0)
 ..S PUSH=$$GET1^DIQ(19641.481,CIEN_","_FIEN_",",.03,"I") Q:PUSH<1
"RTN","DSIO6",230,0)
 ..D REPORT
"RTN","DSIO6",231,0)
 .; DIALOG
"RTN","DSIO6",232,0)
 .I $QS(CT,1)=19641.4121 D  Q
"RTN","DSIO6",233,0)
 ..S DIEN=$P($QS(CT,2),",",2)
"RTN","DSIO6",234,0)
 ..S CIEN=$$FIND1^DIC(19641.491,","_DIEN_",","X",CTR) Q:CIEN<1
"RTN","DSIO6",235,0)
 ..S PUSH=$$GET1^DIQ(19641.491,CIEN_","_DIEN_",",.03,"I") Q:PUSH<1
"RTN","DSIO6",236,0)
 ..D REPORT
"RTN","DSIO6",237,0)
 .Q:$QS(CT,1)'=19641.4111&('$$GET1^DIQ(19641.45,ELE_",",3.1,"I"))
"RTN","DSIO6",238,0)
 .; REMINDER ELEMENT
"RTN","DSIO6",239,0)
 .S RIEN=$$GET1^DIQ(19641.45,ELE_",",3.2,"I")
"RTN","DSIO6",240,0)
 .S RIENS=$$GET1^DIQ(19641.45,ELE_",",3.1,"I")
"RTN","DSIO6",241,0)
 .S IENS=+$O(^DSIO(19641.4,IEN,1,"B",RIEN,"")) Q:IENS<1
"RTN","DSIO6",242,0)
 .Q:$$GET1^DIQ(19641.42,IENS_","_IEN_",",.02,"I")  ; INACTIVE
"RTN","DSIO6",243,0)
 .; CHECK TO SEE IF THIS ELEMENT IS INACTIVATED FOR ALL USE
"RTN","DSIO6",244,0)
 .Q:$$GET1^DIQ(19641.402,RIEN_",",.02,"I")
"RTN","DSIO6",245,0)
 .; DEFINE THE PUSH FILE AND FIELD
"RTN","DSIO6",246,0)
 .Q:$D(DONE(RIEN))  S DONE(RIEN)=""
"RTN","DSIO6",247,0)
 .K ROUT D GETS^DIQ(19641.402,RIEN_",","1*","I","ROUT") Q:'$D(ROUT)
"RTN","DSIO6",248,0)
 .S RCT=$NA(ROUT) F  S RCT=$Q(@RCT) Q:RCT=""  D
"RTN","DSIO6",249,0)
 ..; WITH INFO FROM THE CONTAINER SEE IF THERE IS A DSIO NOTE ELEMENT
"RTN","DSIO6",250,0)
 ..; ENTRY FOR THE SUBCOMPONENT
"RTN","DSIO6",251,0)
 ..I $QS(RCT,3)=.01 S FLG=@RCT Q
"RTN","DSIO6",252,0)
 ..Q:'$D(FLG)
"RTN","DSIO6",253,0)
 ..I $QS(RCT,3)=.02&(@RCT) K FLG Q  ; INACTIVE
"RTN","DSIO6",254,0)
 ..Q:$QS(RCT,3)=.02
"RTN","DSIO6",255,0)
 ..I $QS(RCT,3)=.03 S PFLE=@RCT Q
"RTN","DSIO6",256,0)
 ..I $QS(RCT,3)=.04 S PFLD=@RCT Q
"RTN","DSIO6",257,0)
 ..I $QS(RCT,3)=1 S INPUT=@RCT Q
"RTN","DSIO6",258,0)
 ..I $QS(RCT,3)=2 S ROU=@RCT
"RTN","DSIO6",259,0)
 ..Q:$G(PFLE)=""&($G(PFLD)="")&($G(ROU)="")
"RTN","DSIO6",260,0)
 ..D PVAL(ELE) I ROU'="",PFLE="",PFLD="" X ROU K FLG
"RTN","DSIO6",261,0)
 ..D REC(ELE)
"RTN","DSIO6",262,0)
 .K PFLE,PFLD,INPUT,ROU,FLG
"RTN","DSIO6",263,0)
 Q
"RTN","DSIO6",264,0)
 ;
"RTN","DSIO6",265,0)
REPORT ; PUSH REPORT ITEM
"RTN","DSIO6",266,0)
 Q:$$GET1^DIQ(19641.401,PUSH_",",.02,"I")  ; INACTIVE
"RTN","DSIO6",267,0)
 S PFLE=$$GET1^DIQ(19641.401,PUSH_",",.03,"I")
"RTN","DSIO6",268,0)
 S PFLD=$$GET1^DIQ(19641.401,PUSH_",",.04,"I")
"RTN","DSIO6",269,0)
 S INPUT=$$GET1^DIQ(19641.401,PUSH_",",1)
"RTN","DSIO6",270,0)
 D PVAL(ELE)
"RTN","DSIO6",271,0)
 I PFLE="",PFLD="" D
"RTN","DSIO6",272,0)
 . S ROU=$$GET1^DIQ(19641.401,PUSH_",",2) I ROU'="" X ROU
"RTN","DSIO6",273,0)
 D REC(ELE)
"RTN","DSIO6",274,0)
 Q
"RTN","DSIO6",275,0)
 ;
"RTN","DSIO6",276,0)
REC(ELE) ; RECORD PUSH
"RTN","DSIO6",277,0)
 N IPT
"RTN","DSIO6",278,0)
 D HISTORY^DSIO98(.RET,DFN_";DPT(",$G(PFLE),$G(PFLD),NIEN_";TIU(8925,",VAL,$G(ROU))
"RTN","DSIO6",279,0)
 S IPT(19641.45,ELE_",",4.1)=RET
"RTN","DSIO6",280,0)
 D FILE^DIE(,"IPT") K IPT
"RTN","DSIO6",281,0)
 Q
"RTN","DSIO6",282,0)
 ;
"RTN","DSIO6",283,0)
PVAL(IEN) ; GET CAPTURED VALUE FROM DSIO NOTE ELEMENT (19641.45)
"RTN","DSIO6",284,0)
 N ND,ND1,X S VAL=$NA(^TMP($J,"SETDATA VALUE")) K @VAL
"RTN","DSIO6",285,0)
 D GETS^DIQ(19641.45,IEN_",",1,"E",VAL)
"RTN","DSIO6",286,0)
 K @VAL@(19641.45,IEN_",",1,"E")
"RTN","DSIO6",287,0)
 S ND=$NA(@VAL@(19641.45,IEN_",",1)) M ND1=@ND K @VAL M @VAL=ND1
"RTN","DSIO6",288,0)
 ; INPUT TRANSFORM
"RTN","DSIO6",289,0)
 I $G(INPUT)'="",$O(@VAL@(""),-1)=1 S X=@VAL@(1) X INPUT S @VAL@(1)=X
"RTN","DSIO6",290,0)
 Q
"RTN","DSIO6",291,0)
 ;
"RTN","DSIO6",292,0)
DPUSH(DFN,DIEN) ; PUSH SHARED DIALOG DATA
"RTN","DSIO6",293,0)
 N OUT,CT,ELE,CTR,CIEN,PUSH,PFLE,PFLD,NIEN,INPUT,ROU,VAL
"RTN","DSIO6",294,0)
 D GETS^DIQ(19641.49412,DIEN_","_DFN_",","**","I","OUT") Q:'$D(OUT)
"RTN","DSIO6",295,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO6",296,0)
 .Q:$QS(CT,1)=19641.49412
"RTN","DSIO6",297,0)
 .;Q:$$GET1^DIQ(19641.45,@CT_",",4.1,"I")'=""  ; ALREADY PUSHED
"RTN","DSIO6",298,0)
 .K ELE,CTR,CIEN,PUSH,NIEN,PFLE,PFLD,INPUT,ROU
"RTN","DSIO6",299,0)
 .S ELE=@CT,CTR=$$UP^XLFSTR($$GET1^DIQ(19641.45,ELE_",",2.4))
"RTN","DSIO6",300,0)
 .S CIEN=$$FIND1^DIC(19641.491,","_DIEN_",","X",CTR) Q:CIEN<1
"RTN","DSIO6",301,0)
 .S PUSH=$$GET1^DIQ(19641.491,CIEN_","_DIEN_",",.03,"I") Q:PUSH<1
"RTN","DSIO6",302,0)
 .S NIEN=19641.49_":"_DIEN D REPORT
"RTN","DSIO6",303,0)
 Q
"RTN","DSIO6",304,0)
 ;
"RTN","DSIO6",305,0)
 ; ----------------------------------------------------------------------------
"RTN","DSIO6",306,0)
 ;
"RTN","DSIO6",307,0)
GETS(ARY,IEN) ; APPEND DISCREET DATA TO A NOTE ARRAY <NOT USED 08/14/14>
"RTN","DSIO6",308,0)
 N OUT,I,FLD,PROC,APP,CT
"RTN","DSIO6",309,0)
 S I=$O(@ARY@(""),-1)+1 Q:+$G(IEN)<1!($G(ARY)="")
"RTN","DSIO6",310,0)
 S @ARY@(I)="----------------- DISCREET DATA FIELDS -----------------",I=I+1
"RTN","DSIO6",311,0)
 D GETS^DIQ(19641.41,IEN_",","1*","E","OUT")
"RTN","DSIO6",312,0)
 I $D(OUT) S FLD=$NA(OUT) F  S FLD=$Q(@FLD) Q:FLD=""  D
"RTN","DSIO6",313,0)
 .Q:$QS(FLD,3)'=.01  Q:$D(PROC($$UP^XLFSTR(@FLD)))
"RTN","DSIO6",314,0)
 .S PROC($$UP^XLFSTR(@FLD))="" K APP D GETDATA(.APP,IEN,@FLD) Q:$G(APP(0))=-1
"RTN","DSIO6",315,0)
 .S CT=$NA(APP) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO6",316,0)
 ..S @ARY@(I)="TIME: "_$P(@CT,U)_" "_@FLD_" = "_$P(@CT,U,2),I=I+1
"RTN","DSIO6",317,0)
 I @ARY@($O(@ARY@(""),-1))="----------------- DISCREET DATA FIELDS -----------------" D
"RTN","DSIO6",318,0)
 .K @ARY@($O(@ARY@(""),-1))
"RTN","DSIO6",319,0)
 Q
"RTN","DSIO6",320,0)
 ;
"RTN","DSIO6",321,0)
GETDATA(RET,IEN,FLD) ; RPC: DSIO GET NOTE ELEMENT
"RTN","DSIO6",322,0)
 ;
"RTN","DSIO6",323,0)
 ; GET DATA SAVED AS DISCREET ELEMENTS LINKED TO A TIU NOTE
"RTN","DSIO6",324,0)
 ;
"RTN","DSIO6",325,0)
 ; RETURN: COMPONENT ^ DATE ^ VALUE
"RTN","DSIO6",326,0)
 ;
"RTN","DSIO6",327,0)
 S RET(0)="0^Nothing found."
"RTN","DSIO6",328,0)
 I +$G(IEN)<1 S RET(0)="-1^TIU DOCUMENT IEN is required." Q
"RTN","DSIO6",329,0)
 I $G(FLD)="" D GETDATA1(.RET,IEN) Q
"RTN","DSIO6",330,0)
 D GETFLD(.RET,IEN,FLD)
"RTN","DSIO6",331,0)
 Q
"RTN","DSIO6",332,0)
 ;
"RTN","DSIO6",333,0)
GETDATA1(RET,IEN) ; GET ALL NOTE ELEMENTS
"RTN","DSIO6",334,0)
 N LIST,I,FLD,PROC,APP,CT S RET(0)="0^Nothing found."
"RTN","DSIO6",335,0)
 D GETS^DIQ(19641.41,IEN_",","1*","E","LIST")
"RTN","DSIO6",336,0)
 I $D(LIST) S I=0,FLD=$NA(LIST) F  S FLD=$Q(@FLD) Q:FLD=""  D
"RTN","DSIO6",337,0)
 .Q:$QS(FLD,1)=19641.411
"RTN","DSIO6",338,0)
 .Q:$QS(FLD,3)'=.01  Q:$D(PROC($$UP^XLFSTR(@FLD)))
"RTN","DSIO6",339,0)
 .S PROC($$UP^XLFSTR(@FLD))=""
"RTN","DSIO6",340,0)
 .K APP D GETFLD(.APP,IEN,@FLD) Q:$P($G(APP(0)),U)=-1
"RTN","DSIO6",341,0)
 .S CT=$NA(APP) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO6",342,0)
 ..S RET(I)=@CT,I=I+1
"RTN","DSIO6",343,0)
 Q
"RTN","DSIO6",344,0)
 ;
"RTN","DSIO6",345,0)
GETFLD(RET,IEN,FLD) ; GET A SINGLE NOTE ELEMENT
"RTN","DSIO6",346,0)
 ;
"RTN","DSIO6",347,0)
 ; 0 : <COMPONENT>^COMPONENT NAME^DATE
"RTN","DSIO6",348,0)
 ; # : VALUE
"RTN","DSIO6",349,0)
 ;
"RTN","DSIO6",350,0)
 N I,OUT,CT,EIEN,DATE,DTIV,DTE,DATA,M,MCT
"RTN","DSIO6",351,0)
 S I=1,FLD=$$UP^XLFSTR($G(FLD)),RET(0)=-1
"RTN","DSIO6",352,0)
 D GETS^DIQ(19641.41,IEN_",","1*","IE","OUT")
"RTN","DSIO6",353,0)
 I $D(OUT) S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO6",354,0)
 .I $$UP^XLFSTR(@CT)=FLD D
"RTN","DSIO6",355,0)
 ..S EIEN=$G(OUT($QS(CT,1),$QS(CT,2),$QS(CT,3),"I"))
"RTN","DSIO6",356,0)
 ..S DATE=$$GET1^DIQ(19641.45,EIEN_",",2.3,"I") Q:DATE=""
"RTN","DSIO6",357,0)
 ..S DTIV=9999999-DATE,DTE=$$FMTE^XLFDT(DATE,"5Z")
"RTN","DSIO6",358,0)
 ..D GETS^DIQ(19641.45,EIEN_",","1",,"M") I $D(M) D  K M
"RTN","DSIO6",359,0)
 ...S DATA(DTIV,0)="<COMPONENT>"_U_FLD_U_DTE
"RTN","DSIO6",360,0)
 ...S MCT=$NA(M) F  S MCT=$Q(@MCT) Q:MCT=""  D
"RTN","DSIO6",361,0)
 ....S:$QL(MCT)=4 DATA(DTIV,I)=@MCT,I=I+1
"RTN","DSIO6",362,0)
 I $D(DATA) K RET M RET=DATA
"RTN","DSIO6",363,0)
 Q
"RTN","DSIO6",364,0)
 ;
"RTN","DSIO6",365,0)
TRACK(RET,IENSTR) ; RPC: DSIO IS IT CONTROLLED?
"RTN","DSIO6",366,0)
 ;
"RTN","DSIO6",367,0)
 ; IS THIS A DISCREET DATA COLLECTING NOTE?
"RTN","DSIO6",368,0)
 ; ONLY LOOKING AT REMINDER DIALOGS
"RTN","DSIO6",369,0)
 ;
"RTN","DSIO6",370,0)
 S RET=0 I $D(^DSIO(19641.4,"B",$G(IENSTR))) D
"RTN","DSIO6",371,0)
 .I '$$GET1^DIQ(19641.4,$O(^DSIO(19641.4,"B",IENSTR,""))_",",.02,"I") S RET=1
"RTN","DSIO6",372,0)
 Q
"RTN","DSIO6",373,0)
 ;
"RTN","DSIO6",374,0)
 ; ---------------------------------- UTILITY ---------------------------------
"RTN","DSIO6",375,0)
 ;
"RTN","DSIO6",376,0)
ACTION(DIEN,NIEN,FUN,IEN) ; DETERMINE IF THE DIALOG IS ALLOWED TO PROCEED WITH
"RTN","DSIO6",377,0)
 ;                          THE RESTORE OR SAVE FUNCTIONALITY
"RTN","DSIO6",378,0)
 ;
"RTN","DSIO6",379,0)
 ; FUN = RESTORE,SAVE,SUBMIT
"RTN","DSIO6",380,0)
 ; TO BE CALLED AS Q:'$$ACTION
"RTN","DSIO6",381,0)
 ;
"RTN","DSIO6",382,0)
 N RET,TIEN,TITLE,OUT,CT,FLG,ACT
"RTN","DSIO6",383,0)
 S TIEN=$$TITLE^DSIO3(NIEN),TITLE=$$GET1^DIQ(8925.1,TIEN_",",.01)
"RTN","DSIO6",384,0)
 D GETS^DIQ(19641.49,$G(DIEN)_",","2*","E","OUT") Q:'$D(OUT) 1
"RTN","DSIO6",385,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D  Q:$D(FLG)
"RTN","DSIO6",386,0)
 .I $QS(CT,3)=.01 S ACT=@CT Q
"RTN","DSIO6",387,0)
 .I FUN="RESTORE" D
"RTN","DSIO6",388,0)
 ..I ACT="DNRT" D  Q
"RTN","DSIO6",389,0)
 ...I TITLE=@CT S FLG=0 I $G(IEN),NIEN=IEN K FLG
"RTN","DSIO6",390,0)
 ..I ACT["DNR" S FLG=0
"RTN","DSIO6",391,0)
 .I FUN="SAVE",ACT["DNS" S FLG=0 Q
"RTN","DSIO6",392,0)
 .I FUN="SUBMIT",ACT="SN" S FLG=1
"RTN","DSIO6",393,0)
 Q $S(FUN="SUBMIT":+$G(FLG),1:+$G(FLG,1))
"RTN","DSIO7")
0^14^B125690124
"RTN","DSIO7",1,0)
DSIO7 ;DSS/TFF - DSIO VPR FOR IHE;06/28/2013 15:19
"RTN","DSIO7",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO7",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO7",4,0)
 ;
"RTN","DSIO7",5,0)
 ; External References      DBIA#
"RTN","DSIO7",6,0)
 ; -------------------      -----
"RTN","DSIO7",7,0)
 ; $$GETDFN^MPIF001
"RTN","DSIO7",8,0)
 ; TFL^VAFCTFU1
"RTN","DSIO7",9,0)
 ; $$SITE^VASITE
"RTN","DSIO7",10,0)
 ; $$ALL^VPRD
"RTN","DSIO7",11,0)
 ; $$ESC^VPRD
"RTN","DSIO7",12,0)
 ; $$RTN^VPRD
"RTN","DSIO7",13,0)
 ; ADD^VPRD
"RTN","DSIO7",14,0)
 ; ERR^VPRD
"RTN","DSIO7",15,0)
 ; $$FORMAT^VPRDPT
"RTN","DSIO7",16,0)
 ; ADD^VPRDPT
"RTN","DSIO7",17,0)
 ; ADDR^VPRDPT
"RTN","DSIO7",18,0)
 ; ALIAS^VPRDPT
"RTN","DSIO7",19,0)
 ; ATC^VPRDPT
"RTN","DSIO7",20,0)
 ; DEM^VPRDPT
"RTN","DSIO7",21,0)
 ; PHONE^VPRDPT
"RTN","DSIO7",22,0)
 ; PRF^VPRDPT
"RTN","DSIO7",23,0)
 ; SUPP^VPRDPT
"RTN","DSIO7",24,0)
 ; SVC^VPRDPT
"RTN","DSIO7",25,0)
 ;
"RTN","DSIO7",26,0)
 Q
"RTN","DSIO7",27,0)
 ;
"RTN","DSIO7",28,0)
GET(VPR,DFN,TYPE,START,STOP,MAX,ID,FILTER) ; RPC: DSIO VPR GET PATIENT DATA
"RTN","DSIO7",29,0)
 N ICN,VPRI,VPRTOTL,VPRTEXT
"RTN","DSIO7",30,0)
 S VPR=$NA(^TMP("VPR",$J)) K @VPR
"RTN","DSIO7",31,0)
 S VPRTEXT=+$G(FILTER("text")) ;include report/document text?
"RTN","DSIO7",32,0)
 ;
"RTN","DSIO7",33,0)
 ; parse & validate input parameters
"RTN","DSIO7",34,0)
 S ICN=+$P($G(DFN),";",2),DFN=+$G(DFN),ID=$G(ID)
"RTN","DSIO7",35,0)
 I DFN<1,ICN S DFN=+$$GETDFN^MPIF001(ICN)
"RTN","DSIO7",36,0)
 S TYPE=$$LOW^XLFSTR($G(TYPE)) I TYPE="" D
"RTN","DSIO7",37,0)
 .S TYPE=$$ALL^VPRD_";author;participant"
"RTN","DSIO7",38,0)
 I TYPE'="new",DFN<1!'$D(^DPT(DFN)) D ERR^VPRD(1,DFN) G GTQ
"RTN","DSIO7",39,0)
 S:'$G(START) START=1410102 S:'$G(STOP) STOP=4141015 S:'$G(MAX) MAX=9999
"RTN","DSIO7",40,0)
 I START,STOP,STOP<START N X S X=START,START=STOP,STOP=X  ;switch
"RTN","DSIO7",41,0)
 I STOP,$L(STOP,".")<2 S STOP=STOP_".24"
"RTN","DSIO7",42,0)
 I ID="",$D(FILTER("id")) S ID=FILTER("id")
"RTN","DSIO7",43,0)
 ;
"RTN","DSIO7",44,0)
 ; extract data
"RTN","DSIO7",45,0)
 N VPRTYPE,VPRP,VPRHDR,VPRTAG,VPRTN
"RTN","DSIO7",46,0)
 S VPRTYPE=TYPE D ADD^VPRD("<results version='1.1' timeZone='"_$$TZ^XLFDT_"' >")
"RTN","DSIO7",47,0)
 F VPRP=1:1:$L(VPRTYPE,";") S VPRTAG=$P(VPRTYPE,";",VPRP) I $L(VPRTAG) D
"RTN","DSIO7",48,0)
 . S VPRTN=$$RTN(.VPRTAG) Q:'$L($T(@VPRTN))
"RTN","DSIO7",49,0)
 . D ADD^VPRD("<"_VPRTAG) S VPRHDR=VPRI,VPRTOTL=0
"RTN","DSIO7",50,0)
 . D @(VPRTN_"(DFN,START,STOP,MAX,ID)")
"RTN","DSIO7",51,0)
 . S @VPR@(VPRHDR)=@VPR@(VPRHDR)_" total='"_+$G(VPRTOTL)_"' >" D ADD^VPRD("</"_VPRTAG_">")
"RTN","DSIO7",52,0)
 D ADD^VPRD("</results>")
"RTN","DSIO7",53,0)
GTQ ; end
"RTN","DSIO7",54,0)
 Q
"RTN","DSIO7",55,0)
 ;
"RTN","DSIO7",56,0)
RTN(X) ; -- Return name of VPRDxxxx routine for clinical domain X
"RTN","DSIO7",57,0)
 ;  X is also enforced as expected group tag name, if passed by ref
"RTN","DSIO7",58,0)
 N Y S Y="VPRD",X=$G(X) I X="" Q Y
"RTN","DSIO7",59,0)
 I X["patient" S Y="EN^DSIO7",X="demographics"
"RTN","DSIO7",60,0)
 E  I X["demograph" S Y="EN^DSIO7",X="demographics"
"RTN","DSIO7",61,0)
 E  I X["author" S Y="AUT^DSIO7",X="author"
"RTN","DSIO7",62,0)
 E  I X["participant" S Y="PAR^DSIO7",X="participant"
"RTN","DSIO7",63,0)
 E  S Y="EN^"_$$RTN^VPRD(X)
"RTN","DSIO7",64,0)
 Q Y
"RTN","DSIO7",65,0)
 ;
"RTN","DSIO7",66,0)
 ;=============================================================================
"RTN","DSIO7",67,0)
 ;                            PATIENT/DEMOGRAPHICS
"RTN","DSIO7",68,0)
 ;=============================================================================
"RTN","DSIO7",69,0)
 ;
"RTN","DSIO7",70,0)
EN(DFN,BEG,END,MAX,ID) ; -- find current patient demographics
"RTN","DSIO7",71,0)
 ; [BEG,END,MAX,ID not currently used]
"RTN","DSIO7",72,0)
 S DFN=+$G(DFN) Q:DFN<1  ;invalid patient
"RTN","DSIO7",73,0)
 N PAT,SYS S SYS=$$SITE^VASITE
"RTN","DSIO7",74,0)
 D DEM^VPRDPT,SVC^VPRDPT,PRF^VPRDPT,ATC^VPRDPT,SUPP^VPRDPT
"RTN","DSIO7",75,0)
 D ALIAS^VPRDPT,FAC,GAR,BIR
"RTN","DSIO7",76,0)
 I $D(PAT)>9 D XMLPD(.PAT)
"RTN","DSIO7",77,0)
 Q
"RTN","DSIO7",78,0)
 ;
"RTN","DSIO7",79,0)
FAC ;-treating facilities [see FACLIST^ORWCIRN]
"RTN","DSIO7",80,0)
 N IFN S DFN=+$G(DFN) Q:DFN<1
"RTN","DSIO7",81,0)
 N VPRY,HOME,LAST,I,X,IEN
"RTN","DSIO7",82,0)
 I $L($T(TFL^VAFCTFU1)) D TFL^VAFCTFU1(.VPRY,DFN)
"RTN","DSIO7",83,0)
 S HOME=+$P($G(^DPT(DFN,"MPI")),U,3) ;home facility
"RTN","DSIO7",84,0)
 I $P($G(VPRY(1)),U)<0 D  Q  ;not setup
"RTN","DSIO7",85,0)
 . S X=$O(^AUPNVSIT("AA",DFN,0)),LAST=$S(X:9999999-$P(X,"."),1:"")
"RTN","DSIO7",86,0)
 . S X=$$SITE^VASITE
"RTN","DSIO7",87,0)
 . S PAT("facility",+X)=$P(X,U,3)_U_$P(X,U,2)_U_LAST_U_$$GET1^DIQ(4,+X_",",60)_U_$$GET1^DIQ(4,+X_",",41.99)
"RTN","DSIO7",88,0)
 . ;street1^st2^city^state^zip
"RTN","DSIO7",89,0)
 . S $P(PAT("facility",+X),U,6)=$$GET1^DIQ(4,+X_",",1.01)
"RTN","DSIO7",90,0)
 . S $P(PAT("facility",+X),U,7)=$$GET1^DIQ(4,+X_",",1.02)
"RTN","DSIO7",91,0)
 . S $P(PAT("facility",+X),U,8)=$$GET1^DIQ(4,+X_",",1.03)
"RTN","DSIO7",92,0)
 . S $P(PAT("facility",+X),U,9)=$$GET1^DIQ(4,+X_",",.02)
"RTN","DSIO7",93,0)
 . S $P(PAT("facility",+X),U,10)=$$GET1^DIQ(4,+X_",",1.04)
"RTN","DSIO7",94,0)
 S I=0 F  S I=$O(VPRY(I)) Q:I<1  D
"RTN","DSIO7",95,0)
 . S X=VPRY(I) Q:$P(X,U)=""  ;unknown
"RTN","DSIO7",96,0)
 . S IEN=+$$IEN^XUAF4($P(X,U))
"RTN","DSIO7",97,0)
 . I +X=776!(+X=200) S $P(X,U,2)="DEPT. OF DEFENSE"
"RTN","DSIO7",98,0)
 . S PAT("facility",IEN)=$P(X,U,1,3) ;stn# ^ name ^ last date ^ VistA domain ^ npi
"RTN","DSIO7",99,0)
 . S $P(PAT("facility",IEN),U,4)=$$GET1^DIQ(4,IEN_",",60)_U_$$GET1^DIQ(4,IEN_",",41.99)
"RTN","DSIO7",100,0)
 . ;street1^st2^city^state^zip
"RTN","DSIO7",101,0)
 . S $P(PAT("facility",IEN),U,6)=$$GET1^DIQ(4,IEN_",",1.01)
"RTN","DSIO7",102,0)
 . S $P(PAT("facility",IEN),U,7)=$$GET1^DIQ(4,IEN_",",1.02)
"RTN","DSIO7",103,0)
 . S $P(PAT("facility",IEN),U,8)=$$GET1^DIQ(4,IEN_",",1.03)
"RTN","DSIO7",104,0)
 . S $P(PAT("facility",IEN),U,9)=$$GET1^DIQ(4,IEN_",",.02)
"RTN","DSIO7",105,0)
 . S $P(PAT("facility",IEN),U,10)=$$GET1^DIQ(4,IEN_",",1.04)
"RTN","DSIO7",106,0)
 . I IEN=HOME S $P(PAT("facility",IEN),U,11)=1
"RTN","DSIO7",107,0)
 Q
"RTN","DSIO7",108,0)
 ;
"RTN","DSIO7",109,0)
GAR ;-guardian
"RTN","DSIO7",110,0)
 S PAT("guardian")=$$GET1^DIQ(2,DFN_",",.2912)_U_$$GET1^DIQ(2,DFN_",",.2922) ;va^civil
"RTN","DSIO7",111,0)
 Q
"RTN","DSIO7",112,0)
 ;
"RTN","DSIO7",113,0)
BIR ;-birthplace
"RTN","DSIO7",114,0)
 S PAT("birthplace")=$$GET1^DIQ(2,DFN_",",.092)_U_$$GET1^DIQ(2,DFN_",",.093) ;city^state
"RTN","DSIO7",115,0)
 Q
"RTN","DSIO7",116,0)
 ;
"RTN","DSIO7",117,0)
XMLPD(ITEM) ; -- Return patient data as XML in @VPR@(n)
"RTN","DSIO7",118,0)
 ; as <element code='123' displayName='ABC' />
"RTN","DSIO7",119,0)
 N ATT,X,Y,I,ID
"RTN","DSIO7",120,0)
 D ADD^VPRDPT("<patient>") S VPRTOTL=$G(VPRTOTL)+1
"RTN","DSIO7",121,0)
 S ATT="" F  S ATT=$O(ITEM(ATT)) Q:ATT=""  D  D:$L(Y) ADD^VPRDPT(Y)
"RTN","DSIO7",122,0)
 . I ATT="exposures" D:X["1"  S Y="" Q
"RTN","DSIO7",123,0)
 .. S I=0,Y="<exposures>" D ADD^VPRDPT(Y)
"RTN","DSIO7",124,0)
 .. F ID="AO","IR","PG","HNC","MST","CV" S I=I+1 I $P(X,U,I) S Y="<exposure value='"_ID_"' />" D ADD^VPRDPT(Y)
"RTN","DSIO7",125,0)
 .. D ADD^VPRDPT("</exposures>")
"RTN","DSIO7",126,0)
 . I $L($O(ITEM(ATT,""))) D  Q  ;multiples
"RTN","DSIO7",127,0)
 .. S ID=$S($E(ATT,$L(ATT))="s":ATT_"es",$E(ATT,$L(ATT))="y":$E(ATT,1,$L(ATT)-1)_"ies",1:ATT_"s")
"RTN","DSIO7",128,0)
 .. D ADD^VPRDPT("<"_ID_">")
"RTN","DSIO7",129,0)
 .. S I="" F  S I=$O(ITEM(ATT,I)) Q:I=""  D  D:$L(Y) ADD^VPRDPT(Y)
"RTN","DSIO7",130,0)
 ... S X=ITEM(ATT,I),Y="<"_ATT_" "
"RTN","DSIO7",131,0)
 ... I ATT="support" D  S Y="" Q
"RTN","DSIO7",132,0)
 .... S Y=Y_"contactType='"_I_"' name='"_$$ESC^VPRD($P(X,U))_$S($L($P(X,U,2)):"' relationship='"_$$ESC^VPRD($P(X,U,2)),1:"")_"' >" D ADD^VPRDPT(Y)
"RTN","DSIO7",133,0)
 .... S X=$G(ITEM(ATT,I,"address")) I $L(X) D ADDR^VPRDPT(X)
"RTN","DSIO7",134,0)
 .... S X=$G(ITEM(ATT,I,"telecom")) I $L(X) D PHONE^VPRDPT(X)
"RTN","DSIO7",135,0)
 .... D ADD^VPRDPT("</support>")
"RTN","DSIO7",136,0)
 ... I ATT="alias" S Y=Y_"fullName='"_$$ESC^VPRD(X)_$S(X[",":"' familyName='"_$$ESC^VPRD($P(X,","))_"' givenNames='"_$$ESC^VPRD($P(X,",",2,99)),1:"")_"' />" Q
"RTN","DSIO7",137,0)
 ... I ATT="flag" S Y=Y_"name='"_$$ESC^VPRD($P(X,U))_"' text='"_$$ESC^VPRD($P(X,U,2))_"' />" Q
"RTN","DSIO7",138,0)
 ... I ATT="facility" D ADDFAC(X) S Y="" Q
"RTN","DSIO7",139,0)
 ... I ATT="disability" S Y=Y_"vaCode='"_I_"' printName='"_$$ESC^VPRD($P(X,U))_$S($P(X,U,3):"' sc='"_$P(X,U,3)_"' scPercent='"_$P(X,U,2),1:"")_"' />" Q
"RTN","DSIO7",140,0)
 ... S Y=Y_"value='"_$$ESC^VPRD(ITEM(ATT,I))_"' />"
"RTN","DSIO7",141,0)
 .. D ADD^VPRDPT("</"_ID_">") S Y=""
"RTN","DSIO7",142,0)
 . S X=$G(ITEM(ATT)),Y="" Q:'$L(X)
"RTN","DSIO7",143,0)
 . I ATT="address" D ADDR^VPRDPT(X) S Y="" Q
"RTN","DSIO7",144,0)
 . I ATT="telecom" D PHONE^VPRDPT(X) S Y="" Q
"RTN","DSIO7",145,0)
 . I ATT="guardian" D ADDG(X) S Y="" Q
"RTN","DSIO7",146,0)
 . I ATT="birthplace" D ADDB(X) S Y="" Q
"RTN","DSIO7",147,0)
 . I X'["^" S Y="<"_ATT_" value='"_$$ESC^VPRD(X)_"' />" Q
"RTN","DSIO7",148,0)
 . S Y="<"_ATT_" code='"_$P(X,U)_"' name='"_$$ESC^VPRD($P(X,U,2))_"' />"
"RTN","DSIO7",149,0)
 D ADD^VPRDPT("</patient>")
"RTN","DSIO7",150,0)
 Q
"RTN","DSIO7",151,0)
 ;
"RTN","DSIO7",152,0)
ADDFAC(X) ;
"RTN","DSIO7",153,0)
 N IEN,I S IEN=+$P(X,U)
"RTN","DSIO7",154,0)
 S Y=Y_"code='"_$P(X,U)_"' name='"_$$ESC^VPRD($P(X,U,2))_"'"
"RTN","DSIO7",155,0)
 S Y=Y_$S($P(X,U,3):" latestDate='"_$P($P(X,U,3),".")_"'",1:"")
"RTN","DSIO7",156,0)
 S Y=Y_$S($L($P(X,U,4))>0:" domain='"_$P(X,U,4)_"'",1:"")
"RTN","DSIO7",157,0)
 S Y=Y_$S($L($P(X,U,5))>0:" npi='"_$P(X,U,5)_"'",1:"")
"RTN","DSIO7",158,0)
 S Y=Y_$S($P(X,U,11):" homeSite='1'",1:"")_" >"
"RTN","DSIO7",159,0)
 D ADD^VPRDPT(Y)
"RTN","DSIO7",160,0)
 S Y="<address "
"RTN","DSIO7",161,0)
 S Y=Y_$S($L($P(X,U,6))>0:" streetLine1='"_$P(X,U,6)_"'",1:"")
"RTN","DSIO7",162,0)
 S Y=Y_$S($L($P(X,U,7))>0:" streetLine2='"_$P(X,U,7)_"'",1:"")
"RTN","DSIO7",163,0)
 S Y=Y_$S($L($P(X,U,8))>0:" city='"_$P(X,U,8)_"'",1:"")
"RTN","DSIO7",164,0)
 S Y=Y_$S($L($P(X,U,9))>0:" stateProvince='"_$P(X,U,9)_"'",1:"")
"RTN","DSIO7",165,0)
 S Y=Y_$S($L($P(X,U,10))>0:" postalCode='"_$P(X,U,10)_"'",1:"")
"RTN","DSIO7",166,0)
 S Y=Y_" />" D ADD^VPRDPT(Y)
"RTN","DSIO7",167,0)
 D ADD^VPRDPT("</facility>")
"RTN","DSIO7",168,0)
 Q
"RTN","DSIO7",169,0)
 ;
"RTN","DSIO7",170,0)
ADDG(X) ; -- XML guardian node from X=va^civil
"RTN","DSIO7",171,0)
 N I,Y Q:$L(X)'>5  ;no data
"RTN","DSIO7",172,0)
 S Y="<guardian"
"RTN","DSIO7",173,0)
 I $L($P(X,U)) S Y=Y_" va='"_$$ESC^VPRD($P(X,U))_"'"
"RTN","DSIO7",174,0)
 I $L($P(X,U,2)) S Y=Y_" civil='"_$P(X,U,2)_"'"
"RTN","DSIO7",175,0)
 S Y=Y_" />" D ADD^VPRDPT(Y)
"RTN","DSIO7",176,0)
 Q
"RTN","DSIO7",177,0)
 ;
"RTN","DSIO7",178,0)
ADDB(X) ; -- XML birthplace node from X=city^state
"RTN","DSIO7",179,0)
 N I,Y Q:$L(X)'>5  ;no data
"RTN","DSIO7",180,0)
 S Y="<birthplace"
"RTN","DSIO7",181,0)
 I $L($P(X,U)) S Y=Y_" city='"_$$ESC^VPRD($P(X,U))_"'"
"RTN","DSIO7",182,0)
 I $L($P(X,U,2)) S Y=Y_" state='"_$P(X,U,2)_"'"
"RTN","DSIO7",183,0)
 S Y=Y_" />" D ADD^VPRDPT(Y)
"RTN","DSIO7",184,0)
 Q
"RTN","DSIO7",185,0)
 ;
"RTN","DSIO7",186,0)
 ;=============================================================================
"RTN","DSIO7",187,0)
 ;                                    AUTHOR
"RTN","DSIO7",188,0)
 ;=============================================================================
"RTN","DSIO7",189,0)
 ;
"RTN","DSIO7",190,0)
AUT(DFN,BEG,END,MAX,ID) ; -- find current user information (Author)
"RTN","DSIO7",191,0)
 ; [BEG,END,MAX,ID not currently used]
"RTN","DSIO7",192,0)
 ;
"RTN","DSIO7",193,0)
 ; IF PRIMARY PROVIDER OF THE PATIENT USE THE FOLLOWING
"RTN","DSIO7",194,0)
 ;S DFN=+$G(DFN) Q:DFN<1  ;invalid patient
"RTN","DSIO7",195,0)
 ;S IEN=$$GET1^DIQ(2,+DFN_",",.104,"I") Q:+IEN<1
"RTN","DSIO7",196,0)
 ;
"RTN","DSIO7",197,0)
 N PAT S PAT("name")=$$GET1^DIQ(200,DUZ_",",.01)
"RTN","DSIO7",198,0)
 S PAT("type")=$$GET1^DIQ(200,DUZ_",",53.6)
"RTN","DSIO7",199,0)
 S PAT("class")=$$GET1^DIQ(200,DUZ_",",53.5)
"RTN","DSIO7",200,0)
 ; npi^npi entry status
"RTN","DSIO7",201,0)
 S PAT("npi")=$$GET1^DIQ(200,DUZ_",",41.99)_U_$$GET1^DIQ(200,DUZ_",",41.98)
"RTN","DSIO7",202,0)
 D ATCS(200,DUZ),FAC,XMLA(.PAT)
"RTN","DSIO7",203,0)
 Q
"RTN","DSIO7",204,0)
 ;
"RTN","DSIO7",205,0)
XMLA(ITEM) ; -- Return current user information as XML in @VPR@(n)
"RTN","DSIO7",206,0)
 ; as <element code='123' displayName='ABC' />
"RTN","DSIO7",207,0)
 N ATT,X,Y,I,ID
"RTN","DSIO7",208,0)
 D ADD^VPRDPT("<current_user>") S VPRTOTL=$G(VPRTOTL)+1
"RTN","DSIO7",209,0)
 S ATT="" F  S ATT=$O(ITEM(ATT)) Q:ATT=""  D  D:$L(Y) ADD^VPRDPT(Y)
"RTN","DSIO7",210,0)
 .I $L($O(ITEM(ATT,""))) D  Q  ;multiples
"RTN","DSIO7",211,0)
 ..S ID=$S($E(ATT,$L(ATT))="s":ATT_"es",$E(ATT,$L(ATT))="y":$E(ATT,1,$L(ATT)-1)_"ies",1:ATT_"s")
"RTN","DSIO7",212,0)
 ..D ADD^VPRDPT("<"_ID_">")
"RTN","DSIO7",213,0)
 ..S I="" F  S I=$O(ITEM(ATT,I)) Q:I=""  D  D:$L(Y) ADD^VPRDPT(Y)
"RTN","DSIO7",214,0)
 ...S X=ITEM(ATT,I),Y="<"_ATT_" "
"RTN","DSIO7",215,0)
 ...I ATT="facility" D ADDFAC(X) S Y="" Q
"RTN","DSIO7",216,0)
 ...S Y=Y_"value='"_$$ESC^VPRD(ITEM(ATT,I))_"' />"
"RTN","DSIO7",217,0)
 ..D ADD^VPRDPT("</"_ID_">") S Y=""
"RTN","DSIO7",218,0)
 .S X=$G(ITEM(ATT)),Y="" Q:'$L(X)
"RTN","DSIO7",219,0)
 .I ATT="npi" S Y="<"_ATT_" value='"_$P(X,U)_"' status='"_$$ESC^VPRD($P(X,U,2))_"' />" Q
"RTN","DSIO7",220,0)
 .I ATT="address" D ADDR^VPRDPT(X) S Y="" Q
"RTN","DSIO7",221,0)
 .I ATT="telecom" D PHONE^VPRDPT(X) S Y="" Q
"RTN","DSIO7",222,0)
 .I X'["^" S Y="<"_ATT_" value='"_$$ESC^VPRD(X)_"' />" Q
"RTN","DSIO7",223,0)
 .S Y="<"_ATT_" code='"_$P(X,U)_"' name='"_$$ESC^VPRD($P(X,U,2))_"' />"
"RTN","DSIO7",224,0)
 D ADD^VPRDPT("</current_user>")
"RTN","DSIO7",225,0)
 Q
"RTN","DSIO7",226,0)
 ;
"RTN","DSIO7",227,0)
 ;=============================================================================
"RTN","DSIO7",228,0)
 ;                                  PARTICIPANT
"RTN","DSIO7",229,0)
 ;=============================================================================
"RTN","DSIO7",230,0)
 ;
"RTN","DSIO7",231,0)
PAR(DFN,BEG,END,MAX,ID) ; -- find patient family information (Participant)
"RTN","DSIO7",232,0)
 ; [BEG,END,MAX,ID not currently used]
"RTN","DSIO7",233,0)
 S DFN=+$G(DFN) Q:DFN<1  ;invalid patient
"RTN","DSIO7",234,0)
 N PAT,OUT,ERR,I,RT,FOF,FOFIEN
"RTN","DSIO7",235,0)
 D LIST^DIC(408.12,,"@;.01;.02;.03","P",,,,,"I $P(^(0),U)=DFN",,"OUT","ERR")
"RTN","DSIO7",236,0)
 I $D(OUT) S I=$NA(OUT) F  S I=$Q(@I) Q:I=""  D
"RTN","DSIO7",237,0)
 .Q:$QS(I,2)<1
"RTN","DSIO7",238,0)
 .;name^relationship
"RTN","DSIO7",239,0)
 .Q:$P(@I,U,3)="SELF"
"RTN","DSIO7",240,0)
 .S PAT("family_member",$QS(I,2))=$P(@I,U,4)_U_$P(@I,U,3)
"RTN","DSIO7",241,0)
 .; POINTER TO (2) OR (408.13)
"RTN","DSIO7",242,0)
 .S RT=$$GET1^DIQ(408.12,+@I_",",.03,"I")
"RTN","DSIO7",243,0)
 .D ATCS($TR($P($P(RT,U,";",2),"(",2),",",""),+RT,$QS(I,2))
"RTN","DSIO7",244,0)
 ;
"RTN","DSIO7",245,0)
 ; *** GET ONLY CURRENT FOF
"RTN","DSIO7",246,0)
 D PREGG^DSIO15(.OUT,"C",DFN)
"RTN","DSIO7",247,0)
 I $G(@OUT@(0))>1 D
"RTN","DSIO7",248,0)
 . S FOF=$P($P($G(@OUT@(1)),U,7),"|"),FOFIEN=$P($P($G(@OUT@(1)),U,7),"|",2)
"RTN","DSIO7",249,0)
 . I FOFIEN="" S PAT("father_of_fetus",0)=FOF Q
"RTN","DSIO7",250,0)
 . S PAT("father_of_fetus",FOFIEN)=FOF
"RTN","DSIO7",251,0)
 . K @OUT,OUT D PERSON^DSIO9(.OUT,DFN,FOFIEN) Q:$G(OUT(0))<1
"RTN","DSIO7",252,0)
 . Q:FOF='$P($G(OUT(1)),U,2)
"RTN","DSIO7",253,0)
 . S PAT("father_of_fetus",FOFIEN,"address")=$P(OUT(1),U,6,11)
"RTN","DSIO7",254,0)
 . S PAT("father_of_fetus",FOFIEN,"telecom")=$P(OUT(1),U,12,14)
"RTN","DSIO7",255,0)
 D XMLP(.PAT)
"RTN","DSIO7",256,0)
 Q
"RTN","DSIO7",257,0)
 ;
"RTN","DSIO7",258,0)
ATCS(FLE,IEN) ;-address & telecom
"RTN","DSIO7",259,0)
 ;street1^st2^st3^city^state^zip
"RTN","DSIO7",260,0)
 ;home^cell^work phones
"RTN","DSIO7",261,0)
 N FLD I FLE=2!(FLE=200) D  Q
"RTN","DSIO7",262,0)
 .S PAT("address")=$$GET1^DIQ(FLE,IEN_",",.111)
"RTN","DSIO7",263,0)
 .F FLD=.112,.113,.114,.115,.116 D
"RTN","DSIO7",264,0)
 ..S PAT("address")=PAT("address")_U_$$GET1^DIQ(FLE,IEN_",",FLD)
"RTN","DSIO7",265,0)
 .S PAT("telecom")=$$FORMAT^VPRDPT($$GET1^DIQ(FLE,IEN_",",.131))
"RTN","DSIO7",266,0)
 .F FLD=$S(FLE=2:.134,1:.133),.132 D
"RTN","DSIO7",267,0)
 ..S PAT("telecom")=PAT("telecom")_U_$$FORMAT^VPRDPT($$GET1^DIQ(FLE,IEN_",",FLD))
"RTN","DSIO7",268,0)
 I FLE=408.13 D
"RTN","DSIO7",269,0)
 .S PAT("address")=$$GET1^DIQ(FLE,IEN_",",1.2)
"RTN","DSIO7",270,0)
 .F FLD=1.3,1.4,1.5,1.6,1.7 D
"RTN","DSIO7",271,0)
 ..S PAT("address")=PAT("address")_U_$$GET1^DIQ(FLE,IEN_",",FLD)
"RTN","DSIO7",272,0)
 .S PAT("telecom")=$$FORMAT^VPRDPT($$GET1^DIQ(FLE,IEN_",",1.8))
"RTN","DSIO7",273,0)
 Q
"RTN","DSIO7",274,0)
 ;
"RTN","DSIO7",275,0)
XMLP(ITEM) ; -- Return patient family information data as XML in @VPR@(n)
"RTN","DSIO7",276,0)
 ; as <element code='123' displayName='ABC' />
"RTN","DSIO7",277,0)
 N ATT,X,Y,I,ID
"RTN","DSIO7",278,0)
 D ADD^VPRDPT("<patient_family>") S VPRTOTL=$G(VPRTOTL)+1
"RTN","DSIO7",279,0)
 S ATT="" F  S ATT=$O(ITEM(ATT)) Q:ATT=""  D  D:$L(Y) ADD^VPRDPT(Y)
"RTN","DSIO7",280,0)
 .I $L($O(ITEM(ATT,""))) D  Q  ;multiples
"RTN","DSIO7",281,0)
 ..S ID=$S($E(ATT,$L(ATT))="s":ATT_"es",$E(ATT,$L(ATT))="y":$E(ATT,1,$L(ATT)-1)_"ies",1:ATT_"s")
"RTN","DSIO7",282,0)
 ..D ADD^VPRDPT("<"_ID_">")
"RTN","DSIO7",283,0)
 ..S I="" F  S I=$O(ITEM(ATT,I)) Q:I=""  D  D:$L(Y) ADD^VPRDPT(Y)
"RTN","DSIO7",284,0)
 ...S X=ITEM(ATT,I),Y="<"_ATT_" "
"RTN","DSIO7",285,0)
 ...I ATT="family_member" D  S Y="" Q
"RTN","DSIO7",286,0)
 ....S Y=Y_"name='"_$$ESC^VPRD($P(X,U))_$S($L($P(X,U,2)):"' relationship='"_$$ESC^VPRD($P(X,U,2)),1:"")_"' >" D ADD^VPRDPT(Y)
"RTN","DSIO7",287,0)
 ....S X=$G(ITEM(ATT,I,"address")) I $L(X) D ADDR^VPRDPT(X)
"RTN","DSIO7",288,0)
 ....S X=$G(ITEM(ATT,I,"telecom")) I $L(X) D PHONE^VPRDPT(X)
"RTN","DSIO7",289,0)
 ....D ADD^VPRDPT("</family_member>")
"RTN","DSIO7",290,0)
 ...I ATT="father_of_fetus" D  S Y="" Q
"RTN","DSIO7",291,0)
 ....S Y=Y_"name='"_$$ESC^VPRD($P(X,U))_"' >" D ADD^VPRDPT(Y)
"RTN","DSIO7",292,0)
 ....S X=$G(ITEM(ATT,I,"address")) I $L(X) D ADDR^VPRDPT(X)
"RTN","DSIO7",293,0)
 ....S X=$G(ITEM(ATT,I,"telecom")) I $L(X) D PHONE^VPRDPT(X)
"RTN","DSIO7",294,0)
 ....D ADD^VPRDPT("</father_of_fetus>")
"RTN","DSIO7",295,0)
 ...S Y=Y_"value='"_$$ESC^VPRD(ITEM(ATT,I))_"' />"
"RTN","DSIO7",296,0)
 ..D ADD^VPRDPT("</"_ID_">") S Y=""
"RTN","DSIO7",297,0)
 .S X=$G(ITEM(ATT)),Y="" Q:'$L(X)
"RTN","DSIO7",298,0)
 .I X'["^" S Y="<"_ATT_" value='"_$$ESC^VPRD(X)_"' />" Q
"RTN","DSIO7",299,0)
 .S Y="<"_ATT_" code='"_$P(X,U)_"' name='"_$$ESC^VPRD($P(X,U,2))_"' />"
"RTN","DSIO7",300,0)
 D ADD^VPRDPT("</patient_family>")
"RTN","DSIO7",301,0)
 Q
"RTN","DSIO9")
0^5^B71248442
"RTN","DSIO9",1,0)
DSIO9 ;DSS/TFF - DSIO PERSON;06/28/2013 15:19
"RTN","DSIO9",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO9",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO9",4,0)
 ;
"RTN","DSIO9",5,0)
 ; External References      DBIA#
"RTN","DSIO9",6,0)
 ; -------------------      -----
"RTN","DSIO9",7,0)
 ;
"RTN","DSIO9",8,0)
 ;
"RTN","DSIO9",9,0)
 ;
"RTN","DSIO9",10,0)
 Q
"RTN","DSIO9",11,0)
 ;
"RTN","DSIO9",12,0)
SAVE(RET,IEN,DFN,NAME,DOB,ADDR,PHONE,EDU,SEX,REL,STATUS,PROB,AB) ; RPC: DSIO SAVE PERSON
"RTN","DSIO9",13,0)
 ;
"RTN","DSIO9",14,0)
 ;    IEN = IEN of 19641.11
"RTN","DSIO9",15,0)
 ;    DFN = PATIENT IEN
"RTN","DSIO9",16,0)
 ;   NAME = PERSON NAME (LAST,FIRST)
"RTN","DSIO9",17,0)
 ;    DOB = DATE OF BIRTH
"RTN","DSIO9",18,0)
 ;   ADDR = ARRAY OF LABELS: 1,2,3,CITY,STATE,ZIP
"RTN","DSIO9",19,0)
 ;  PHONE = ARRAY OF LABLES: H,MC,WP,FAX,O
"RTN","DSIO9",20,0)
 ;    EDU = NUMBER OF YEARS OF EDUCATION
"RTN","DSIO9",21,0)
 ;    SEX = M,F,U
"RTN","DSIO9",22,0)
 ;    REL = P:408.11
"RTN","DSIO9",23,0)
 ; STATUS = L,D
"RTN","DSIO9",24,0)
 ;   PROB = ARRAY OF ENTRIES (PROBLEMS)
"RTN","DSIO9",25,0)
 ;
"RTN","DSIO9",26,0)
 ; RETURN: IEN OR -1^MESSAGE
"RTN","DSIO9",27,0)
 ;
"RTN","DSIO9",28,0)
 N IPT,CT
"RTN","DSIO9",29,0)
 I '$G(IEN),'$$CHECK^DSIO2($G(DFN)) S RET="-1^Patient entry not found." Q
"RTN","DSIO9",30,0)
 S NAME=$$UP^XLFSTR($G(NAME))
"RTN","DSIO9",31,0)
 S SEX=$$UP^XLFSTR($E($G(SEX),1)) S:"^M^F^U^"'[(U_SEX_U) SEX=""
"RTN","DSIO9",32,0)
 S EDU=+$G(EDU) S:'EDU EDU=""
"RTN","DSIO9",33,0)
 S DFN=+$G(DFN) S:'$D(^DPT(DFN)) DFN=""
"RTN","DSIO9",34,0)
 S REL=$$FIND1^DIC(408.11,,"X",$$UP^XLFSTR($G(REL))) S:'REL REL=""
"RTN","DSIO9",35,0)
 S STATUS=$$UP^XLFSTR($E($G(STATUS),1)) S:"^L^D^"'[(U_STATUS_U) STATUS=""
"RTN","DSIO9",36,0)
 D:'$G(AB) AB^DSIO2("DFN,DOB,ADDR,PHONE,EDU,SEX,REL,STATUS")
"RTN","DSIO9",37,0)
 S:$G(DOB)'="@" DOB=$$DT^DSIO2($G(DOB))
"RTN","DSIO9",38,0)
 S IEN=$S($G(IEN):IEN,NAME'=""&($G(DFN)):$O(^DSIO(19641.11,"C",DFN,NAME,"")),1:"")
"RTN","DSIO9",39,0)
 S:IEN="" IEN="?+1"
"RTN","DSIO9",40,0)
 S:$G(NAME)'="" IPT(19641.11,IEN_",",.01)=NAME             ; NAME
"RTN","DSIO9",41,0)
 S:$G(SEX)'="" IPT(19641.11,IEN_",",.02)=SEX               ; SEX
"RTN","DSIO9",42,0)
 S:$G(DOB)'="" IPT(19641.11,IEN_",",.03)=DOB               ; DATE OF BIRTH
"RTN","DSIO9",43,0)
 S:$G(EDU)'="" IPT(19641.11,IEN_",",.04)=EDU               ; EDUCATION
"RTN","DSIO9",44,0)
 S:$G(DFN)'="" IPT(19641.11,IEN_",",.05)=DFN               ; PATIENT
"RTN","DSIO9",45,0)
 S:$G(REL)'="" IPT(19641.11,IEN_",",.06)=REL               ; RELATIONSHIP
"RTN","DSIO9",46,0)
 S:$G(STATUS)'="" IPT(19641.11,IEN_",",.07)=STATUS         ; STATUS
"RTN","DSIO9",47,0)
 I $D(ADDR) D                                           ; ADDRESS
"RTN","DSIO9",48,0)
 . S CT=$NA(ADDR) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO9",49,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)),VAL=$P(@CT,U,2)
"RTN","DSIO9",50,0)
 . . I LOC[1 S IPT(19641.11,IEN_",",1.1)=VAL Q                 ; STREET ADDRESS 1
"RTN","DSIO9",51,0)
 . . I LOC[2 S IPT(19641.11,IEN_",",1.2)=VAL Q                 ; STREET ADDRESS 2
"RTN","DSIO9",52,0)
 . . I LOC[3 S IPT(19641.11,IEN_",",1.3)=VAL Q                 ; STREET ADDRESS 3
"RTN","DSIO9",53,0)
 . . I LOC="CITY" S IPT(19641.11,IEN_",",1.4)=VAL Q            ; CITY
"RTN","DSIO9",54,0)
 . . I LOC="STATE",$$FIND1^DIC(5,,"XM",VAL) D
"RTN","DSIO9",55,0)
 . . . S IPT(19641.11,IEN_",",1.5)=$$FIND1^DIC(5,,"XM",VAL) Q  ; STATE
"RTN","DSIO9",56,0)
 . . I LOC="ZIP" S IPT(19641.11,IEN_",",1.6)=VAL               ; ZIP CODE
"RTN","DSIO9",57,0)
 D UPDATE^DIE(,"IPT",$S($G(IEN):"",1:"IEN")) K IPT
"RTN","DSIO9",58,0)
 S (RET,IEN)=$S($G(IEN):+IEN,$G(IEN(1)):IEN(1),1:"") I 'IEN S RET="-1^Failed to Update." Q
"RTN","DSIO9",59,0)
 I $D(PHONE) D                                          ; PHONE
"RTN","DSIO9",60,0)
 . S CT=$NA(PHONE) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO9",61,0)
 . . S LOC=$$UP^XLFSTR($P(@CT,U)) Q:"^H^MC^WP^FAX^O^"'[(U_LOC_U)
"RTN","DSIO9",62,0)
 . . S VAL=$TR($P(@CT,U,2),"()- ") Q:VAL=""!(VAL'?.N)
"RTN","DSIO9",63,0)
 . . S IPT(19641.14,"?+1,"_IEN_",",.01)=LOC                ; PHONE TYPE
"RTN","DSIO9",64,0)
 . . S IPT(19641.14,"?+1,"_IEN_",",.02)=VAL                ; NUMBER
"RTN","DSIO9",65,0)
 . . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO9",66,0)
 ; *** DIAGNOSIS MULTIPLE
"RTN","DSIO9",67,0)
 I $D(PROB) D DEL(IEN) D
"RTN","DSIO9",68,0)
 . S CT=$NA(PROB) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO9",69,0)
 . . S IPT(19641.113,"?+1,"_IEN_",",.01)=$$UP^XLFSTR(@CT)
"RTN","DSIO9",70,0)
 . . D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO9",71,0)
 Q
"RTN","DSIO9",72,0)
 ;
"RTN","DSIO9",73,0)
DEL(IEN) ; Delete DIAGNOSIS Multiple
"RTN","DSIO9",74,0)
 N OUT,CT,DIK,DA
"RTN","DSIO9",75,0)
 D GETS^DIQ(19641.11,IEN_",","3*",,"OUT")
"RTN","DSIO9",76,0)
 S DA(1)=IEN,DIK="^DSIO(19641.11,"_DA(1)_",3,"
"RTN","DSIO9",77,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S DA=+$QS(CT,2) D ^DIK
"RTN","DSIO9",78,0)
 Q
"RTN","DSIO9",79,0)
 ;
"RTN","DSIO9",80,0)
PERSON(RET,DFN,FIND,SEX) ; RPC: DSIO GET PERSON
"RTN","DSIO9",81,0)
 ;
"RTN","DSIO9",82,0)
 ; IF SEX ADD
"RTN","DSIO9",83,0)
 ; ^RELATIONSHIP^STATUS^DIAGNOSIS|DIAGNOSIS
"RTN","DSIO9",84,0)
 ;
"RTN","DSIO9",85,0)
 ; IF SPOUSE THEN IEN = "S"
"RTN","DSIO9",86,0)
 ; IF SEX = 1 THEN DON'T RESTRICT TO FATHER OF FETUS
"RTN","DSIO9",87,0)
 ;
"RTN","DSIO9",88,0)
 ; IF DFN & FIND=""  THEN
"RTN","DSIO9",89,0)
 ;  - All associated Entries
"RTN","DSIO9",90,0)
 ; IF DFN & FIND="S" THEN
"RTN","DSIO9",91,0)
 ;  - SPOUSE
"RTN","DSIO9",92,0)
 ; IF DFN & FIND="NAME,NAME" OR FIND=#(IEN) THEN
"RTN","DSIO9",93,0)
 ;  - RETURN IF FOUND AND IF ASSOCIATED TO PATIENT
"RTN","DSIO9",94,0)
 ; IF 'DFN & FIND="NAME,NAME" OR FIND=#(IEN) THEN
"RTN","DSIO9",95,0)
 ;  - RETURN ENTRIES
"RTN","DSIO9",96,0)
 ;
"RTN","DSIO9",97,0)
 ; RETURN:
"RTN","DSIO9",98,0)
 ;  IEN^NAME^SEX^DOB^EDUCATION^STREET1^STREET2^STREET3^CITY^STATE^
"RTN","DSIO9",99,0)
 ;  ZIP^PHONE HOME^PHONE WORK^PHONE CELL^PHONE FAX^PATIENT^DFN
"RTN","DSIO9",100,0)
 ;
"RTN","DSIO9",101,0)
 N IEN,NAM,CT,SP
"RTN","DSIO9",102,0)
 S RET(0)="-1^PERSON(s) not found."
"RTN","DSIO9",103,0)
 I $G(DFN) D  D P3 Q
"RTN","DSIO9",104,0)
 . I $G(FIND) D  Q
"RTN","DSIO9",105,0)
 . . Q:'$$P2(FIND)
"RTN","DSIO9",106,0)
 . . S RET(1)=$$P1(FIND)
"RTN","DSIO9",107,0)
 . I $G(FIND)'="" D  Q
"RTN","DSIO9",108,0)
 . . I FIND="S"!(FIND="SPOUSE") D  Q
"RTN","DSIO9",109,0)
 . . . S SP=$$SPOUSE(DFN) Q:'SP
"RTN","DSIO9",110,0)
 . . . D PO(SP)
"RTN","DSIO9",111,0)
 . . S IEN=$O(^DSIO(19641.11,"B",$$UP^XLFSTR(FIND),""))
"RTN","DSIO9",112,0)
 . . I IEN,$$P2(IEN) S RET(1)=$$P1(IEN)
"RTN","DSIO9",113,0)
 . S CT=1,NAM="" F  S NAM=$O(^DSIO(19641.11,"C",DFN,NAM)) Q:NAM=""  D
"RTN","DSIO9",114,0)
 . . S IEN=$O(^DSIO(19641.11,"C",DFN,NAM,""))
"RTN","DSIO9",115,0)
 . . Q:'$G(SEX)&($$GET1^DIQ(19641.11,IEN_",",.02,"I")'="M")
"RTN","DSIO9",116,0)
 . . S RET(CT)=$$P1(IEN),CT=CT+1
"RTN","DSIO9",117,0)
 . S SP=$$SPOUSE(DFN) D:SP PO(SP)
"RTN","DSIO9",118,0)
 ; *** Find the PERSON
"RTN","DSIO9",119,0)
 I $G(FIND),$D(^DSIO(19641.11,FIND)) S RET(1)=$$P1(FIND) D P3 Q
"RTN","DSIO9",120,0)
 I $G(FIND)'="" S IEN=$O(^DSIO(19641.11,"B",$$UP^XLFSTR(FIND),"")) D  Q
"RTN","DSIO9",121,0)
 . I IEN S RET(1)=$$P1(IEN) D P3
"RTN","DSIO9",122,0)
 Q
"RTN","DSIO9",123,0)
 ;
"RTN","DSIO9",124,0)
P1(IEN) ; Continue with 19641.11
"RTN","DSIO9",125,0)
 N OUT,LINE,FLD,STR
"RTN","DSIO9",126,0)
 D GETS^DIQ(19641.11,IEN_",","*","IE","OUT")
"RTN","DSIO9",127,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO9",128,0)
 S STR=IEN_U
"RTN","DSIO9",129,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U                     ; NAME
"RTN","DSIO9",130,0)
 S STR=STR_FLD(.02,"E")_U                                   ; SEX
"RTN","DSIO9",131,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U                ; DATE OF BIRTH
"RTN","DSIO9",132,0)
 S STR=STR_FLD(.04,"I")_U                                   ; EDUCATION
"RTN","DSIO9",133,0)
 S STR=STR_FLD(1.1,"I")_U                                   ; STREET 1
"RTN","DSIO9",134,0)
 S STR=STR_FLD(1.2,"I")_U                                   ; STREET 2
"RTN","DSIO9",135,0)
 S STR=STR_FLD(1.3,"I")_U                                   ; STREET 3
"RTN","DSIO9",136,0)
 S STR=STR_FLD(1.4,"I")_U                                   ; CITY
"RTN","DSIO9",137,0)
 S STR=STR_$$GET1^DIQ(5,FLD(1.5,"I")_",",1)_U               ; STATE
"RTN","DSIO9",138,0)
 S STR=STR_FLD(1.6,"I")_U                                   ; ZIP
"RTN","DSIO9",139,0)
 S STR=STR_$$PHONE^DSIO1(19641.11,IEN)_U                    ; PHONE NUMBERS 
"RTN","DSIO9",140,0)
 S STR=STR_$$NAME^DSIO2(FLD(.05,"E"))_U                     ; PATIENT
"RTN","DSIO9",141,0)
 S STR=STR_FLD(.05,"I")                                     ; DFN
"RTN","DSIO9",142,0)
 Q:'$G(SEX) STR
"RTN","DSIO9",143,0)
 S STR=STR_U_FLD(.06,"E")_U                                 ; RELATIONSHIP
"RTN","DSIO9",144,0)
 S STR=STR_FLD(.07,"I")_U                                   ; STATUS
"RTN","DSIO9",145,0)
 S STR=STR_$$DG(IEN)                                        ; DIAGNOSIS
"RTN","DSIO9",146,0)
 Q STR
"RTN","DSIO9",147,0)
 ;
"RTN","DSIO9",148,0)
PO(OBJECT) ; Continue with Other
"RTN","DSIO9",149,0)
 N FLE,IEN,FLDS,OUT,LINE,FLD
"RTN","DSIO9",150,0)
 S FLE=$TR($P($G(OBJECT),"(",2),",") I OBJECT[";DPT(" S FLE=2
"RTN","DSIO9",151,0)
 S IEN=+$G(OBJECT)
"RTN","DSIO9",152,0)
 S:FLE=2 FLDS=".01;.02;.03;.111;.112;.113;.114;.115;.116;.131;.134;.132"
"RTN","DSIO9",153,0)
 D GETS^DIQ(FLE,IEN_",",$S($D(FLDS):FLDS,1:"*"),"IE","OUT")
"RTN","DSIO9",154,0)
 S LINE=$NA(OUT) F  S LINE=$Q(@LINE) Q:LINE=""  S FLD($QS(LINE,3),$QS(LINE,4))=@LINE
"RTN","DSIO9",155,0)
 I FLE=2 S RET($O(RET(""),-1)+1)=$$PO2 Q
"RTN","DSIO9",156,0)
 I FLE=408.13 S RET($O(RET(""),-1)+1)=$$PO408
"RTN","DSIO9",157,0)
 Q
"RTN","DSIO9",158,0)
 ;
"RTN","DSIO9",159,0)
PO2() ; Continue with Other for 2
"RTN","DSIO9",160,0)
 N STR
"RTN","DSIO9",161,0)
 S STR="S^"
"RTN","DSIO9",162,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U                     ; NAME
"RTN","DSIO9",163,0)
 S STR=STR_FLD(.02,"E")_U                                   ; SEX
"RTN","DSIO9",164,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U                ; DATE OF BIRTH
"RTN","DSIO9",165,0)
 S STR=STR_U                                                ; EDUCATION
"RTN","DSIO9",166,0)
 S STR=STR_FLD(.111,"I")_U                                  ; STREET 1
"RTN","DSIO9",167,0)
 S STR=STR_FLD(.112,"I")_U                                  ; STREET 2
"RTN","DSIO9",168,0)
 S STR=STR_FLD(.113,"I")_U                                  ; STREET 3
"RTN","DSIO9",169,0)
 S STR=STR_FLD(.114,"I")_U                                  ; CITY
"RTN","DSIO9",170,0)
 S STR=STR_$$GET1^DIQ(5,FLD(.115,"I")_",",1)_U              ; STATE
"RTN","DSIO9",171,0)
 S STR=STR_FLD(.116,"I")_U                                  ; ZIP
"RTN","DSIO9",172,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(.131,"I"))_U                  ; PHONE (HOME)
"RTN","DSIO9",173,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(.132,"I"))_U                  ; PHONE (WORK)
"RTN","DSIO9",174,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(.134,"I"))_U                  ; PHONE (CELL)
"RTN","DSIO9",175,0)
 S STR=STR_U                                                ; PHONE (FAX)
"RTN","DSIO9",176,0)
 S STR=STR_$$NAME^DSIO2($$GET1^DIQ(2,DFN_",",.01))_U        ; PATIENT
"RTN","DSIO9",177,0)
 S STR=STR_DFN                                              ; DFN
"RTN","DSIO9",178,0)
 Q STR
"RTN","DSIO9",179,0)
 ;
"RTN","DSIO9",180,0)
PO408() ; Continue with Other for 408.13
"RTN","DSIO9",181,0)
 N STR
"RTN","DSIO9",182,0)
 S STR="S^"
"RTN","DSIO9",183,0)
 S STR=STR_$$NAME^DSIO2(FLD(.01,"I"))_U                     ; NAME
"RTN","DSIO9",184,0)
 S STR=STR_FLD(.02,"E")_U                                   ; SEX
"RTN","DSIO9",185,0)
 S STR=STR_$$FMTE^XLFDT(FLD(.03,"I"),"5Z")_U                ; DATE OF BIRTH
"RTN","DSIO9",186,0)
 S STR=STR_U                                                ; EDUCATION
"RTN","DSIO9",187,0)
 S STR=STR_FLD(1.2,"I")_U                                   ; STREET 1
"RTN","DSIO9",188,0)
 S STR=STR_FLD(1.3,"I")_U                                   ; STREET 2
"RTN","DSIO9",189,0)
 S STR=STR_FLD(1.4,"I")_U                                   ; STREET 3
"RTN","DSIO9",190,0)
 S STR=STR_FLD(1.5,"I")_U                                   ; CITY
"RTN","DSIO9",191,0)
 S STR=STR_$$GET1^DIQ(5,FLD(1.6,"I")_",",1)_U               ; STATE
"RTN","DSIO9",192,0)
 S STR=STR_FLD(1.7,"I")_U                                   ; ZIP
"RTN","DSIO9",193,0)
 S STR=STR_$$FORMAT^DSIO2(FLD(1.8,"I"))_U                   ; PHONE (HOME)
"RTN","DSIO9",194,0)
 S STR=STR_U                                                ; PHONE (WORK)
"RTN","DSIO9",195,0)
 S STR=STR_U                                                ; PHONE (CELL)
"RTN","DSIO9",196,0)
 S STR=STR_U                                                ; PHONE (FAX)
"RTN","DSIO9",197,0)
 S STR=STR_$$NAME^DSIO2($$GET1^DIQ(2,DFN_",",.01))_U        ; PATIENT
"RTN","DSIO9",198,0)
 S STR=STR_DFN                                              ; DFN
"RTN","DSIO9",199,0)
 Q STR
"RTN","DSIO9",200,0)
 ;
"RTN","DSIO9",201,0)
DG(IEN) ; Add DIAGNOSIS to DSIO PERSON return
"RTN","DSIO9",202,0)
 N OUT,CT,FLD,STR
"RTN","DSIO9",203,0)
 D GETS^DIQ(19641.11,IEN_",","3*",,"OUT")
"RTN","DSIO9",204,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  S STR=$G(STR)_@CT_"|"
"RTN","DSIO9",205,0)
 Q $E($G(STR),1,($L($G(STR))-1))
"RTN","DSIO9",206,0)
 ;
"RTN","DSIO9",207,0)
P2(IEN) ; Check if associated patient
"RTN","DSIO9",208,0)
 I $$GET1^DIQ(19641.11,IEN_",",.05,"I")'=DFN D  Q 0
"RTN","DSIO9",209,0)
 . S RET(0)="-1^PERSON not associated with PATIENT."
"RTN","DSIO9",210,0)
 Q 1
"RTN","DSIO9",211,0)
 ;
"RTN","DSIO9",212,0)
P3 ; End
"RTN","DSIO9",213,0)
 S:$O(RET(""),-1) RET(0)=$O(RET(""),-1)
"RTN","DSIO9",214,0)
 Q
"RTN","DSIO9",215,0)
 ;
"RTN","DSIO9",216,0)
SPOUSE(DFN) ; Get Spouse
"RTN","DSIO9",217,0)
 Q:'$G(DFN) 0
"RTN","DSIO9",218,0)
 N IEN,FLG
"RTN","DSIO9",219,0)
 S IEN=0 F  S IEN=$O(^DGPR(408.12,"B",DFN,IEN)) Q:'IEN  D  Q:$D(FLG)
"RTN","DSIO9",220,0)
 . Q:$$GET1^DIQ(408.12,IEN_",",.02)'="SPOUSE"
"RTN","DSIO9",221,0)
 . S FLG=$$GET1^DIQ(408.12,IEN_",",.03,"I")
"RTN","DSIO9",222,0)
 Q $S($D(FLG):FLG,1:0)
"RTN","DSIO9",223,0)
 ;
"RTN","DSIO9",224,0)
SPN(DFN) ; Return Spouse Name
"RTN","DSIO9",225,0)
 N SP S SP=$$SPOUSE($G(DFN)) Q:'SP ""
"RTN","DSIO9",226,0)
 Q $$GET1^DIQ($S(SP[";DPT(":2,1:$TR($P(SP,"(",2),",")),+SP,.01)
"RTN","DSIO9",227,0)
 ;
"RTN","DSIO9",228,0)
 ; --------------------- PREGNANCY HISTORY FOF Input Transform
"RTN","DSIO9",229,0)
 ;
"RTN","DSIO9",230,0)
FOF(DFN,FOF) ; Get DSIO PERSON IEN
"RTN","DSIO9",231,0)
 N RET
"RTN","DSIO9",232,0)
 S FOF=$$UP^XLFSTR($G(FOF))
"RTN","DSIO9",233,0)
 Q:FOF=""!(FOF="U")!(FOF="UNSPECIFIED") "UNSPECIFIED|U"
"RTN","DSIO9",234,0)
 D PERSON(.RET,$G(DFN),FOF) Q:'$D(RET(1)) "UNSPECIFIED|U"
"RTN","DSIO9",235,0)
 Q:$P($G(RET(1)),U)!($P($G(RET(1)),U)="S") $$UP^XLFSTR($P(RET(1),U,2))_"|"_$P(RET(1),U)
"RTN","DSIO9",236,0)
 Q "UNSPECIFIED|U"
"RTN","DSIO98")
0^12^B12067958
"RTN","DSIO98",1,0)
DSIO98 ;DSS/TFF - DSIO PUSH AND LOG;06/28/2013 15:19
"RTN","DSIO98",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO98",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO98",4,0)
 ;
"RTN","DSIO98",5,0)
 ; External References      DBIA#
"RTN","DSIO98",6,0)
 ; -------------------      -----
"RTN","DSIO98",7,0)
 ;
"RTN","DSIO98",8,0)
 ;
"RTN","DSIO98",9,0)
 ;
"RTN","DSIO98",10,0)
 Q
"RTN","DSIO98",11,0)
 ;
"RTN","DSIO98",12,0)
HISTORY(RET,OBJ,FLE,FLD,TRIG,VAL,ROU) ; HISTORY LOG
"RTN","DSIO98",13,0)
 ;
"RTN","DSIO98",14,0)
 ;  FLE = DESTINATION FILE
"RTN","DSIO98",15,0)
 ;  FLD = DESTINATION FIELD
"RTN","DSIO98",16,0)
 ; TRIG = HISTORY LOG TRIGGER
"RTN","DSIO98",17,0)
 ;           OBSERVATIONS = Observation File
"RTN","DSIO98",18,0)
 ;                   DDCS = Control File
"RTN","DSIO98",19,0)
 ;  OBJ = OBJECT
"RTN","DSIO98",20,0)
 ;  VAL = NEW VALUE (GLOBAL REFERENCE)
"RTN","DSIO98",21,0)
 ;
"RTN","DSIO98",22,0)
 N DLAYGO,IPT,IEN,DFN
"RTN","DSIO98",23,0)
 S DLAYGO=19641.124
"RTN","DSIO98",24,0)
 S IPT(19641.124,"+1,",.01)=$$NOW^XLFDT       ; DATE
"RTN","DSIO98",25,0)
 S IPT(19641.124,"+1,",.02)=$G(FLE)           ; FILE
"RTN","DSIO98",26,0)
 S IPT(19641.124,"+1,",.03)=$G(FLD)           ; FIELD
"RTN","DSIO98",27,0)
 S IPT(19641.124,"+1,",.04)=TRIG              ; TRIGGER
"RTN","DSIO98",28,0)
 S IPT(19641.124,"+1,",.05)=DUZ               ; USER
"RTN","DSIO98",29,0)
 S IPT(19641.124,"+1,",.06)=$G(OBJ)           ; OBJECT
"RTN","DSIO98",30,0)
 S IPT(19641.124,"+1,",3)=$G(ROU)             ; CODE
"RTN","DSIO98",31,0)
 D UPDATE^DIE(,"IPT","IEN") K IPT S RET=$G(IEN(1))
"RTN","DSIO98",32,0)
 I $G(OBJ)[";DPT("!($G(OBJ)[";DSIO(19641,") S DFN=+OBJ
"RTN","DSIO98",33,0)
 ; *** If by File and Field record but if by routine record routine and quit
"RTN","DSIO98",34,0)
 Q:'$G(FLE)!('$G(FLD))!('$G(DFN))
"RTN","DSIO98",35,0)
 ; *** GET OLD VALUE, SAVE OLD VALUE TO HISTORY, AND PUSH
"RTN","DSIO98",36,0)
 I $$GET1^DID(FLE,FLD,,"MULTIPLE-VALUED") D
"RTN","DSIO98",37,0)
 . I $$GET1^DID(FLE,FLD,,"TYPE")="WORD-PROCESSING" D  Q
"RTN","DSIO98",38,0)
 . . D HISTWP($G(IEN(1)),FLE,DFN,FLD,VAL)
"RTN","DSIO98",39,0)
 . D HISTM($G(IEN(1)),FLE,DFN,FLD,VAL)        ; MULTI
"RTN","DSIO98",40,0)
 E  D HISTS($G(IEN(1)),FLE,DFN,FLD,VAL)       ; SINGLE
"RTN","DSIO98",41,0)
 Q
"RTN","DSIO98",42,0)
 ;
"RTN","DSIO98",43,0)
HISTWP(HIEN,FLE,DFN,FLD,VAL) ; WORD PROCESSING
"RTN","DSIO98",44,0)
 N LOC,ERR,ND,ND1,DLAYGO
"RTN","DSIO98",45,0)
 S DLAYGO=FLE
"RTN","DSIO98",46,0)
 S LOC=$NA(^TMP($J,"DSIO HPUSH")) K @LOC
"RTN","DSIO98",47,0)
 ; *** GET OLD VALUE FROM STORAGE
"RTN","DSIO98",48,0)
 D GETS^DIQ(FLE,DFN_",",FLD,"E",LOC,"ERR") K @LOC@(FLE,DFN_",",FLD,"E")
"RTN","DSIO98",49,0)
 S ND=$NA(@LOC@(FLE,DFN_",",FLD)) M ND1=@ND K @LOC M @LOC=ND1
"RTN","DSIO98",50,0)
 ; *** SET OLD VALUE AS HISTORY OLD VALUE
"RTN","DSIO98",51,0)
 S DLAYGO=19641.124 D WP^DIE(19641.124,HIEN_",",1,"K",LOC,"ERR") K @LOC
"RTN","DSIO98",52,0)
 ; *** SET NEW VALUE INTO STORAGE
"RTN","DSIO98",53,0)
 K DLAYGO I $P(FLE,".")=19641 Q:'$$CHECK^DSIO2($G(DFN))
"RTN","DSIO98",54,0)
 D WP^DIE(FLE,DFN_",",FLD,"K",VAL,"ERR")
"RTN","DSIO98",55,0)
 ; *** SET NEW VALUE AS HISTORY NEW VALUE
"RTN","DSIO98",56,0)
 S DLAYGO=19641.124 D WP^DIE(19641.124,HIEN_",",2,"K",VAL,"ERR")
"RTN","DSIO98",57,0)
 Q
"RTN","DSIO98",58,0)
 ;
"RTN","DSIO98",59,0)
HISTM(HIEN,FLE,DFN,FLD,VAL) ; MULTIPLE NOT AS WORD PROCESSING
"RTN","DSIO98",60,0)
 ;
"RTN","DSIO98",61,0)
 ; CAN ONLY HANDLE .01
"RTN","DSIO98",62,0)
 ;
"RTN","DSIO98",63,0)
 N LOC,LOC1,I,CT,OVAL,ERR,IPT,DLAYGO
"RTN","DSIO98",64,0)
 S DLAYGO=FLE
"RTN","DSIO98",65,0)
 S LOC=$NA(^TMP($J,"DSIO HPUSH")) K @LOC
"RTN","DSIO98",66,0)
 S LOC1=$NA(^TMP($J,"DSIO HPUSH1")) K @LOC1
"RTN","DSIO98",67,0)
 ; *** GET OLD VALUES FROM STORAGE
"RTN","DSIO98",68,0)
 D GETS^DIQ(FLE,DFN_",",FLD_"*","E",LOC,"ERR")
"RTN","DSIO98",69,0)
 S I=1,CT=$NA(@LOC)
"RTN","DSIO98",70,0)
 F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,1)'=$J!($QS(CT,2)'="DSIO HPUSH")  D
"RTN","DSIO98",71,0)
 . I $QS(CT,5)=.01 S @LOC1@(I)=@CT,I=I+1
"RTN","DSIO98",72,0)
 K @LOC
"RTN","DSIO98",73,0)
 ; *** SET OLD VALUE AS HISTORY OLD VALUE
"RTN","DSIO98",74,0)
 S DLAYGO=19641.124 D WP^DIE(19641.124,HIEN_",",1,"K",LOC1,"ERR") K @LOC1
"RTN","DSIO98",75,0)
 ; *** SET NEW VALUE INTO STORAGE
"RTN","DSIO98",76,0)
 K DLAYGO I $P(FLE,".")=19641 Q:'$$CHECK^DSIO2($G(DFN))
"RTN","DSIO98",77,0)
 S CT=$NA(@VAL)
"RTN","DSIO98",78,0)
 F  S CT=$Q(@CT) Q:CT=""  Q:$QS(CT,1)'=$J!($QS(CT,2)'="SETDATA VALUE")  D
"RTN","DSIO98",79,0)
 . S IPT(FLE,"?+1,"_DFN_",",FLD)=$P(@CT,U,2,9999999999) D UPDATE^DIE("E","IPT") K IPT
"RTN","DSIO98",80,0)
 ; *** SET NEW VALUE AS HISTORY NEW VALUE
"RTN","DSIO98",81,0)
 S DLAYGO=19641.124 D WP^DIE(19641.124,HIEN_",",2,"K",VAL,"ERR")
"RTN","DSIO98",82,0)
 Q
"RTN","DSIO98",83,0)
 ;
"RTN","DSIO98",84,0)
HISTS(HIEN,FLE,DFN,FLD,VAL) ; SINGLE
"RTN","DSIO98",85,0)
 N LOC,OVAL,ERR,IPT,DLAYGO
"RTN","DSIO98",86,0)
 S DLAYGO=FLE
"RTN","DSIO98",87,0)
 S LOC=$NA(^TMP($J,"DSIO HPUSH")) K @LOC
"RTN","DSIO98",88,0)
 ; *** GET OLD VALUE FROM STORAGE
"RTN","DSIO98",89,0)
 S OVAL=$$GET1^DIQ(FLE,DFN_",",FLD)
"RTN","DSIO98",90,0)
 ; *** SET OLD VALUE AS HISTORY OLD VALUE
"RTN","DSIO98",91,0)
 K @LOC S @LOC@(1)=OVAL
"RTN","DSIO98",92,0)
 S DLAYGO=19641.124 D WP^DIE(19641.124,HIEN_",",1,"K",LOC,"ERR") K @LOC
"RTN","DSIO98",93,0)
 ; *** SET NEW VALUE INTO STORAGE
"RTN","DSIO98",94,0)
 I $G(@VAL@(1))'="" D
"RTN","DSIO98",95,0)
 . K DLAYGO I $P(FLE,".")=19641 Q:'$$CHECK^DSIO2($G(DFN))
"RTN","DSIO98",96,0)
 . S IPT(FLE,DFN_",",FLD)=@VAL@(1) D UPDATE^DIE("E","IPT") K IPT
"RTN","DSIO98",97,0)
 ; *** SET NEW VALUE AS HISTORY NEW VALUE
"RTN","DSIO98",98,0)
 S DLAYGO=19641.124 D WP^DIE(19641.124,HIEN_",",2,"K",VAL,"ERR")
"RTN","DSIO98",99,0)
 Q
"RTN","DSIO99")
0^18^B105485889
"RTN","DSIO99",1,0)
DSIO99 ;DSS/TFF - DSIO IMPORT/EXPORT TIU TITLES;06/28/2013 15:19
"RTN","DSIO99",2,0)
 ;;1.0;DSIO 1.0;**1**;Feb 06, 2015;Build 19
"RTN","DSIO99",3,0)
 ;Copyright 1995-2015,Document Storage Systems Inc. All Rights Reserved
"RTN","DSIO99",4,0)
 ;
"RTN","DSIO99",5,0)
 ; External References      DBIA#
"RTN","DSIO99",6,0)
 ; -------------------      -----
"RTN","DSIO99",7,0)
 ; $$MIXED^TIULS
"RTN","DSIO99",8,0)
 ;
"RTN","DSIO99",9,0)
 ;
"RTN","DSIO99",10,0)
 ;
"RTN","DSIO99",11,0)
 ; CLINICAL DOCUMENTS (CL)
"RTN","DSIO99",12,0)
 ;  +PROGRESS NOTES (CL)
"RTN","DSIO99",13,0)
 ;   +MATERNITY TRACKER (DC) - OR OTHER DOCUMENT CLASS
"RTN","DSIO99",14,0)
 ;    TITLE <- SELECT AT THIS LEVEL
"RTN","DSIO99",15,0)
 ;
"RTN","DSIO99",16,0)
 D UPDATE,FIX
"RTN","DSIO99",17,0)
 Q
"RTN","DSIO99",18,0)
 ;
"RTN","DSIO99",19,0)
UPDATE ; Start Auto Configuration
"RTN","DSIO99",20,0)
 N PATH,I,STR,TITLE,CAT,FILE,IEN,DIK
"RTN","DSIO99",21,0)
 S PATH=$$PATH($$DEFDIR^%ZISH)
"RTN","DSIO99",22,0)
 F I=1:1 S STR=$P($T(TITLE+I),";;",2) Q:STR=""  D
"RTN","DSIO99",23,0)
 . S TITLE=$P(STR,U),CAT=$P(STR,U,2),FILE=$P(STR,U,3)
"RTN","DSIO99",24,0)
 . S IEN=$$IMPORT(TITLE,PATH,FILE) Q:'IEN
"RTN","DSIO99",25,0)
 . D CONFIG(IEN,CAT),CONTROL(IEN)
"RTN","DSIO99",26,0)
 S DIK="^DSIO(19641.4," D IXALL2^DIK   ; REINDEX KILL
"RTN","DSIO99",27,0)
 S DIK="^DSIO(19641.4," D IXALL^DIK    ; REINDEX SET
"RTN","DSIO99",28,0)
 Q
"RTN","DSIO99",29,0)
 ;
"RTN","DSIO99",30,0)
TITLE ; DSIO TIU TITLES
"RTN","DSIO99",31,0)
 ;;DASHBOARD CDA INCOMING^E^DSIO_TIU_TITLE_DASHBOARD_CDA_INCOMING.TXT
"RTN","DSIO99",32,0)
 ;;MCC DASHBOARD NOTE^E^DSIO_TIU_TITLE_MCC_DASHBOARD_NOTE.TXT
"RTN","DSIO99",33,0)
 ;;MCC PROVIDER CONTACT^T^DSIO_TIU_TITLE_MCC_PROVIDER_CONTACT.TXT
"RTN","DSIO99",34,0)
 ;;MD POSTPARTUM FOLLOWUP VISIT^E^DSIO_TIU_TITLE_MD_POSTPARTUM_FOLLOWUP.TXT
"RTN","DSIO99",35,0)
 ;;NURSE POSTPARTUM NOTE^E^DSIO_TIU_TITLE_NURSE_POSTPARTUM_NOTE.TXT
"RTN","DSIO99",36,0)
 ;;OB FOLLOWUP NOTE^E^DSIO_TIU_TITLE_OB_FOLLOWUP_NOTE.TXT
"RTN","DSIO99",37,0)
 ;;OB H&P INITIAL^E^DSIO_TIU_TITLE_OB_HP_INITIAL.TXT
"RTN","DSIO99",38,0)
 ;;PHONE CALL #1 (FIRST CONTACT)^T^DSIO_TIU_TITLE_PHONE_CALL_1.TXT
"RTN","DSIO99",39,0)
 ;;PHONE CALL #2 (12 WEEKS)^T^DSIO_TIU_TITLE_PHONE_CALL_2.TXT
"RTN","DSIO99",40,0)
 ;;PHONE CALL #3 (20 WEEKS)^T^DSIO_TIU_TITLE_PHONE_CALL_3.TXT
"RTN","DSIO99",41,0)
 ;;PHONE CALL #4 (28 WEEKS)^T^DSIO_TIU_TITLE_PHONE_CALL_4.TXT
"RTN","DSIO99",42,0)
 ;;PHONE CALL #5 (36 WEEKS)^T^DSIO_TIU_TITLE_PHONE_CALL_5.TXT
"RTN","DSIO99",43,0)
 ;;PHONE CALL #6A (41 WEEKS NOT DELIVERED)^T^DSIO_TIU_TITLE_PHONE_CALL_6A.TXT
"RTN","DSIO99",44,0)
 ;;PHONE CALL #6B (41 WEEKS DELIVERED) TOPICS^T^DSIO_TIU_TITLE_PHONE_CALL_6B.TXT
"RTN","DSIO99",45,0)
 ;;PHONE CALL #7 (6 WEEKS POSTPARTUM) TOPICS^T^DSIO_TIU_TITLE_PHONE_CALL_7.TXT
"RTN","DSIO99",46,0)
 ;;PHONE CALL - ADDITIONAL^T^DSIO_TIU_TITLE_PHONE_CALL_ADDITIONAL.TXT
"RTN","DSIO99",47,0)
 ;;
"RTN","DSIO99",48,0)
 Q
"RTN","DSIO99",49,0)
 ;
"RTN","DSIO99",50,0)
IMPORT(TITLE,PATH,FILE) ; Import XML TIU TITLE TRANSPORT
"RTN","DSIO99",51,0)
 N IEN,POP,RI,LN,TST,TYP,SUB,FLGB,FLGS,BLD,BSUB,IPT,CL,DCL
"RTN","DSIO99",52,0)
 S IEN=$O(^TIU(8925.1,"B",TITLE,"")) Q:IEN IEN
"RTN","DSIO99",53,0)
 Q:$G(PATH)="" ""  D OPEN^%ZISH("DSIO",PATH,FILE,"R")
"RTN","DSIO99",54,0)
 I POP W !,"*** Failed to open file - "_FILE,! Q ""
"RTN","DSIO99",55,0)
 D USE^%ZISUTL("DSIO")
"RTN","DSIO99",56,0)
 F RI=1:1 R LN:DTIME Q:$$STATUS^%ZISH  D
"RTN","DSIO99",57,0)
 . D DOTS(,"DSIO")
"RTN","DSIO99",58,0)
 . I "^<TIU_TITLE>^<TIU_DOCUMENT_CLASS>^<TIU_CLASS>^"[(U_LN_U) D  Q
"RTN","DSIO99",59,0)
 . . S TYP=$TR(LN,"<>") K SUB,FLGB,FLGS,BSUB
"RTN","DSIO99",60,0)
 . I "^</TIU_TITLE>^</TIU_DOCUMENT_CLASS>^</TIU_CLASS>^"[(U_LN_U) D  Q
"RTN","DSIO99",61,0)
 . . D SBLD
"RTN","DSIO99",62,0)
 . D PARSE
"RTN","DSIO99",63,0)
 D CLOSE^%ZISH("DSIO")
"RTN","DSIO99",64,0)
 Q $O(^TIU(8925.1,"B",TITLE,""))
"RTN","DSIO99",65,0)
 ;
"RTN","DSIO99",66,0)
SBLD ; Continue
"RTN","DSIO99",67,0)
 N TYPE,OWNER,VAR,I,NAME,STAT,OUSER
"RTN","DSIO99",68,0)
 Q:TYP="TIU_CLASS"&(+$G(CL)>0)
"RTN","DSIO99",69,0)
 Q:TYP="TIU_DOCUMENT_CLASS"&(+$G(DCL)>0)
"RTN","DSIO99",70,0)
 S TYPE=$S(TYP="TIU_DOCUMENT_CLASS":"DC",TYP="TIU_TITLE":"DOC",1:"") Q:TYPE=""
"RTN","DSIO99",71,0)
 S OWNER=$S(TYP="TIU_DOCUMENT_CLASS":+$G(CL),TYP="TIU_TITLE":+$G(DCL),1:"") Q:OWNER=""
"RTN","DSIO99",72,0)
 I OWNER=0&(TYP'="TIU_CLASS") D
"RTN","DSIO99",73,0)
 . S VAR=$S(TYP="TIU_DOCUMENT_CLASS":"CL",TYP="TIU_TITLE":"DCL")
"RTN","DSIO99",74,0)
 . S $P(@VAR,U)=$$FIND1^DIC(8925.1,,"X",$P(@VAR,U,2))
"RTN","DSIO99",75,0)
 I $D(BLD) F I=1:1:$L(BLD,",") I $P(BLD,",",I)[")=" D
"RTN","DSIO99",76,0)
 . I $P($P(BLD,",",I),")=")=.01 S NAME=$TR($P($P(BLD,",",I),")=",2),"""","")
"RTN","DSIO99",77,0)
 . I $P($P(BLD,",",I),")=")=.07 S STAT=$TR($P($P(BLD,",",I),")=",2),"""","")
"RTN","DSIO99",78,0)
 . I $P($P(BLD,",",I),")=")=.06 S OUSER=$TR($P($P(BLD,",",I),")=",2),"""","")
"RTN","DSIO99",79,0)
 D BUILD(NAME,TYPE,STAT,OUSER,OWNER)
"RTN","DSIO99",80,0)
 Q
"RTN","DSIO99",81,0)
 ;
"RTN","DSIO99",82,0)
BUILD(NAME,TYPE,STAT,OUSER,OWNER) ; Build TIU Entity and add to Owner
"RTN","DSIO99",83,0)
 ;
"RTN","DSIO99",84,0)
 ; INTERNAL
"RTN","DSIO99",85,0)
 ; TYPE : DOC (TITLE), DC (DOCUMENT CLASS) (ALL OTHERS REJECTED)
"RTN","DSIO99",86,0)
 ;
"RTN","DSIO99",87,0)
 N IPT,IEN,IENS
"RTN","DSIO99",88,0)
 Q:"^DOC^DC^"'[(U_$G(TYPE)_U)!($G(NAME)="")
"RTN","DSIO99",89,0)
 ; *** ADD TITLE (CREATE ENTRY), DO EXTERNAL VALIDATION
"RTN","DSIO99",90,0)
 S IPT(8925.1,"?+1,",.01)=NAME
"RTN","DSIO99",91,0)
 S IPT(8925.1,"?+1,",.06)=$G(OUSER,"CLINICAL COORDINATOR")
"RTN","DSIO99",92,0)
 D UPDATE^DIE("E","IPT","IEN") K IPT Q:'$G(IEN(1))
"RTN","DSIO99",93,0)
 I TYP="TIU_CLASS"&(+$G(CL)<1) S $P(CL,U)=IEN(1)
"RTN","DSIO99",94,0)
 I TYP="TIU_DOCUMENT_CLASS"&(+$G(DCL)<1) S $P(DCL,U)=IEN(1)
"RTN","DSIO99",95,0)
 S IPT(8925.1,IEN(1)_",",.03)=NAME                    ; .03 = PRINT NAME
"RTN","DSIO99",96,0)
 S IPT(8925.1,IEN(1)_",",.04)=TYPE
"RTN","DSIO99",97,0)
 S IPT(8925.1,IEN(1)_",",.07)=$$FIND1^DIC(8925.6,,"X","INACTIVE")
"RTN","DSIO99",98,0)
 D UPDATE^DIE(,"IPT") K IPT
"RTN","DSIO99",99,0)
 ; ADD ENTRY TO OWNER MULTIPLE
"RTN","DSIO99",100,0)
 S IPT(8925.14,"?+1,"_OWNER_",",.01)=IEN(1)
"RTN","DSIO99",101,0)
 S IPT(8925.14,"?+1,"_OWNER_",",4)=$$MIXED^TIULS(NAME)
"RTN","DSIO99",102,0)
 D UPDATE^DIE(,"IPT","IENS") K IPT
"RTN","DSIO99",103,0)
 S STAT=$$FIND1^DIC(8925.6,,"X",STAT)
"RTN","DSIO99",104,0)
 I STAT S IPT(8925.1,IEN(1)_",",.07)=STAT D UPDATE^DIE(,"IPT")
"RTN","DSIO99",105,0)
 Q
"RTN","DSIO99",106,0)
 ;
"RTN","DSIO99",107,0)
PARSE ; Continue
"RTN","DSIO99",108,0)
 Q:'$D(TYP)
"RTN","DSIO99",109,0)
 N FLD I LN["</"&(LN["NUMBER='") D
"RTN","DSIO99",110,0)
 . S FLD=$P($P(LN,"NUMBER=",2),"'",2)
"RTN","DSIO99",111,0)
 . I $D(SUB),$$VFIELD^DILFD($P(SUB,U),FLD) D  S FLGS=1 Q
"RTN","DSIO99",112,0)
 . . S BSUB=$S('$D(FLGS):"S ",1:$G(BSUB)_",")_"IPT("_$P(SUB,U)_","_"""?+1,"""_"_IEN_"","""_","_FLD_")="""_$P($P(LN,">",2),"<")_""""
"RTN","DSIO99",113,0)
 . Q:'$$VFIELD^DILFD(8925.1,FLD)
"RTN","DSIO99",114,0)
 . I TYP="TIU_CLASS"&(FLD=.01)&('$D(CL)) D
"RTN","DSIO99",115,0)
 . . S CL=$$FIND1^DIC(8925.1,,"X",$P($P(LN,">",2),"<"))_U_$P($P(LN,">",2),"<")
"RTN","DSIO99",116,0)
 . I TYP="TIU_DOCUMENT_CLASS"&(FLD=.01)&('$D(DCL)) D
"RTN","DSIO99",117,0)
 . . S DCL=$$FIND1^DIC(8925.1,,"X",$P($P(LN,">",2),"<"))_U_$P($P(LN,">",2),"<")
"RTN","DSIO99",118,0)
 . Q:TYP="TIU_CLASS"
"RTN","DSIO99",119,0)
 . Q:TYP="TIU_DOCUMENT_CLASS"&(+$G(DCL)>0)
"RTN","DSIO99",120,0)
 . I TYP="TIU_TITLE"&(FLD=.01) S TITLE=$P($P(LN,">",2),"<")
"RTN","DSIO99",121,0)
 . S BLD=$S('$D(FLGB):"S ",1:$G(BLD)_",")_"IPT(8925.1,IEN_"","""_","_FLD_")="""_$P($P(LN,">",2),"<")_""""
"RTN","DSIO99",122,0)
 . S FLGB=1
"RTN","DSIO99",123,0)
 I LN["SUB-FILE='" S SUB=$P($P(LN,"SUB-FILE=",2),"'",2)_U_$P($P(LN,"=",2),"'",2) Q
"RTN","DSIO99",124,0)
 I $D(SUB) I LN="</"_$P(SUB,U,2)_">" K SUB
"RTN","DSIO99",125,0)
 Q
"RTN","DSIO99",126,0)
 ;
"RTN","DSIO99",127,0)
CONFIG(IEN,CAT) ; Add/Edit DSIO TITLE CONFIGURATION (19641.5)
"RTN","DSIO99",128,0)
 N DIC,DIE,DA,X,Y,DIRUT,LOC
"RTN","DSIO99",129,0)
 S LOC=$$FIND1^DIC(44,,"X","MATERNITY TRACKER") S:'LOC LOC=$$ADD44 Q:'LOC
"RTN","DSIO99",130,0)
 S (DIC,DIE)="^DSIO(19641.5,",DIC(0)="XL",X="`"_IEN D ^DIC Q:+Y<1
"RTN","DSIO99",131,0)
 S DA=IEN,DR=".02////"_LOC_";.03////"_CAT D ^DIE
"RTN","DSIO99",132,0)
 Q
"RTN","DSIO99",133,0)
 ;
"RTN","DSIO99",134,0)
ADD44 ; Add MATERNITY TRACKER as a HOSIPITAL LOCATION
"RTN","DSIO99",135,0)
 N FDA,IEN
"RTN","DSIO99",136,0)
 S FDA(44,"?+1,",.01)="MATERNITY TRACKER"
"RTN","DSIO99",137,0)
 S FDA(44,"?+1,",2.1)="CLINIC"
"RTN","DSIO99",138,0)
 S FDA(44,"?+1,",9.5)="TREATING SPECIALTY"
"RTN","DSIO99",139,0)
 S FDA(44,"?+1,",2)="CLINIC"
"RTN","DSIO99",140,0)
 S FDA(44,"?+1,",8)="TELEPHONE CASE MANAGEMENT"
"RTN","DSIO99",141,0)
 S FDA(44,"?+1,",9)="MEDICINE"
"RTN","DSIO99",142,0)
 D UPDATE^DIE("E","FDA","IEN")
"RTN","DSIO99",143,0)
 Q $G(IEN(1))
"RTN","DSIO99",144,0)
 ;
"RTN","DSIO99",145,0)
CONTROL(IEN) ; Populate the DSIO DDCS CONTROL file (19641.4)
"RTN","DSIO99",146,0)
 N FDA
"RTN","DSIO99",147,0)
 S FDA(19641.4,"?+1,",.01)=IEN_";TIU(8925.1,"
"RTN","DSIO99",148,0)
 D UPDATE^DIE(,"FDA")
"RTN","DSIO99",149,0)
 Q
"RTN","DSIO99",150,0)
 ;
"RTN","DSIO99",151,0)
 ; --------------------------------- MANUAL -----------------------------------
"RTN","DSIO99",152,0)
 ;
"RTN","DSIO99",153,0)
FIX ; Correct the oCNT Configuration (19641.48)
"RTN","DSIO99",154,0)
 N IEN,ND,FLG,OUT,CT,XND,IPT
"RTN","DSIO99",155,0)
 S ^DSIO(19641.48,3,1,29,5,0)="^19641.4815IP^2^2"
"RTN","DSIO99",156,0)
 S ^DSIO(19641.48,3,1,29,5,1,0)="1^MEMOPRENATAL^"_$$FIND1^DIC(8925.1,,"X","OB H&P INITIAL")_"^^1"
"RTN","DSIO99",157,0)
 S ^DSIO(19641.48,3,1,29,5,2,0)="3^MEMOPRENATAL^"_$$FIND1^DIC(8925.1,,"X","OB FOLLOWUP NOTE")_"^^0"
"RTN","DSIO99",158,0)
 S ^DSIO(19641.48,3,1,29,5,"AB",1,1)=""
"RTN","DSIO99",159,0)
 S ^DSIO(19641.48,3,1,29,5,"AB",3,2)=""
"RTN","DSIO99",160,0)
 S ^DSIO(19641.48,3,1,29,5,"B",1,1)=""
"RTN","DSIO99",161,0)
 S ^DSIO(19641.48,3,1,29,5,"B",3,2)=""
"RTN","DSIO99",162,0)
 S ^DSIO(19641.48,3,1,29,5,"P",0,2)=""
"RTN","DSIO99",163,0)
 S ^DSIO(19641.48,3,1,29,5,"P",1,1)=""
"RTN","DSIO99",164,0)
 S ^DSIO(19641.48,3,1,31,5,0)="^19641.4815IP^2^2"
"RTN","DSIO99",165,0)
 S ^DSIO(19641.48,3,1,31,5,1,0)="1^CKLSTPROBLEMS^"_$$FIND1^DIC(8925.1,,"X","OB H&P INITIAL")_"^^1"
"RTN","DSIO99",166,0)
 S ^DSIO(19641.48,3,1,31,5,2,0)="3^CKLSTPROBLEMS^"_$$FIND1^DIC(8925.1,,"X","OB FOLLOWUP NOTE")_"^^0"
"RTN","DSIO99",167,0)
 S ^DSIO(19641.48,3,1,31,5,"AB",1,1)=""
"RTN","DSIO99",168,0)
 S ^DSIO(19641.48,3,1,31,5,"AB",3,2)=""
"RTN","DSIO99",169,0)
 S ^DSIO(19641.48,3,1,31,5,"B",1,1)=""
"RTN","DSIO99",170,0)
 S ^DSIO(19641.48,3,1,31,5,"B",3,2)=""
"RTN","DSIO99",171,0)
 S ^DSIO(19641.48,3,1,31,5,"P",0,2)=""
"RTN","DSIO99",172,0)
 S ^DSIO(19641.48,3,1,31,5,"P",1,1)=""
"RTN","DSIO99",173,0)
 S ^DSIO(19641.48,3,1,32,5,0)="^19641.4815IP^2^2"
"RTN","DSIO99",174,0)
 S ^DSIO(19641.48,3,1,32,5,1,0)="1^CKLSTEDUCATION^"_$$FIND1^DIC(8925.1,,"X","OB H&P INITIAL")_"^^1"
"RTN","DSIO99",175,0)
 S ^DSIO(19641.48,3,1,32,5,2,0)="3^CKLSTEDUCATION^"_$$FIND1^DIC(8925.1,,"X","OB FOLLOWUP NOTE")_"^^0"
"RTN","DSIO99",176,0)
 S ^DSIO(19641.48,3,1,32,5,"AB",1,1)=""
"RTN","DSIO99",177,0)
 S ^DSIO(19641.48,3,1,32,5,"AB",3,2)=""
"RTN","DSIO99",178,0)
 S ^DSIO(19641.48,3,1,32,5,"B",1,1)=""
"RTN","DSIO99",179,0)
 S ^DSIO(19641.48,3,1,32,5,"B",3,2)=""
"RTN","DSIO99",180,0)
 S ^DSIO(19641.48,3,1,32,5,"P",0,2)=""
"RTN","DSIO99",181,0)
 S ^DSIO(19641.48,3,1,32,5,"P",1,1)=""
"RTN","DSIO99",182,0)
 ; *** UPDATE 'GET DATA FROM'
"RTN","DSIO99",183,0)
 S IEN=$$FIND1^DIC(19641.48,,"X","oCNT_OBFollowUp.dll") Q:'IEN
"RTN","DSIO99",184,0)
 S ND="$S(FLG=""OCNT_OBHP.DLL"":$$FIND1^DIC(8925.1,,""X"",""OB H&P INITIAL""),"
"RTN","DSIO99",185,0)
 S ND=ND_"FLG=""OCNT_OBFOLLOWUP.DLL"":$$FIND1^DIC(8925.1,,""X"",""OB FOLLOWUP NOTE""),1:"""")"
"RTN","DSIO99",186,0)
 D GETS^DIQ(19641.48,IEN_",","1*","EN","OUT")
"RTN","DSIO99",187,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO99",188,0)
 . I $QS(CT,1)=19641.4815 D
"RTN","DSIO99",189,0)
 . . I $QS(CT,3)=.01 S FLG=$$UP^XLFSTR(@CT) Q
"RTN","DSIO99",190,0)
 . . I $QS(CT,3)=.03,$S(FLG="OCNT_OBHP.DLL"&(@CT="OB H&P INITIAL"):0,FLG="OCNT_OBFOLLOWUP.DLL"&(@CT="OB FOLLOWUP NOTE"):0,1:1) D
"RTN","DSIO99",191,0)
 . . . S XND="S IPT(19641.4815,"""_$QS(CT,2)_""",.03)="_ND X XND
"RTN","DSIO99",192,0)
 . . . D FILE^DIE(,"IPT") K IPT
"RTN","DSIO99",193,0)
 Q
"RTN","DSIO99",194,0)
 ;
"RTN","DSIO99",195,0)
 ; -------------------------------- UTILITIES ---------------------------------
"RTN","DSIO99",196,0)
 ;
"RTN","DSIO99",197,0)
PATH(PATH) ; Default Path
"RTN","DSIO99",198,0)
 N DIR,X,Y,DIRUT
"RTN","DSIO99",199,0)
 S:$G(PATH)="" PATH=$S($$OS^%ZOSV["NT":"C:\HFS\",$$OS^%ZOSV["UNIX":"/hfs/")
"RTN","DSIO99",200,0)
 S DIR(0)="F^1:255",DIR("A")="Enter directory name or path",DIR("B")=PATH
"RTN","DSIO99",201,0)
 D ^DIR Q:$D(DIRUT) ""
"RTN","DSIO99",202,0)
 Q Y
"RTN","DSIO99",203,0)
 ;
"RTN","DSIO99",204,0)
DOTS(MSG,TAG) ; Write Dots to the Screen
"RTN","DSIO99",205,0)
 N WR D SWITCH("|TNT|") S WR="W "_$S($D(MSG):"!,MSG,!",1:""".""")
"RTN","DSIO99",206,0)
 X WR D SWITCH($G(TAG,"PARSE"))
"RTN","DSIO99",207,0)
 Q
"RTN","DSIO99",208,0)
 ;
"RTN","DSIO99",209,0)
SWITCH(TAG,FLG) ; Switch the Device and Return the Current
"RTN","DSIO99",210,0)
 N IEN,NEW
"RTN","DSIO99",211,0)
 I '$G(FLG),TAG["|TNT|" S NEW=$P(IO("HOME"),U,2) D HOME^%ZIS Q
"RTN","DSIO99",212,0)
 K IEN S IEN=$O(^TMP("XUDEVICE",$J,"B",TAG,"")) Q:IEN=""
"RTN","DSIO99",213,0)
 S IO=$G(^TMP("XUDEVICE",$J,IEN,"IO")) D USE^%ZISUTL(TAG)
"RTN","DSIO99",214,0)
 Q
"RTN","DSIO99",215,0)
 ;
"RTN","DSIO99",216,0)
 ; ---------------------------------- EXPORT ----------------------------------
"RTN","DSIO99",217,0)
 ;
"RTN","DSIO99",218,0)
EXPORT ; Collect TITLES and create XML EXPORT
"RTN","DSIO99",219,0)
 ;
"RTN","DSIO99",220,0)
 ; BLD(85,69,3)=""
"RTN","DSIO99",221,0)
 ; TITLE, DOCUMENT CLASS, CLASS
"RTN","DSIO99",222,0)
 ;
"RTN","DSIO99",223,0)
 N TL,FLG,DC,CL,ERR,BLD,PATH,FILE,POP,CT
"RTN","DSIO99",224,0)
 F  Q:'$$GET
"RTN","DSIO99",225,0)
 Q:'$D(BLD)
"RTN","DSIO99",226,0)
 S PATH=$$PATH($$DEFDIR^%ZISH)
"RTN","DSIO99",227,0)
 S CT=$NA(BLD) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO99",228,0)
 .S FILE="DSIO_TIU_TITLE_"_$TR($$GET1^DIQ(8925.1,$QS(CT,1)_",",.01)," ","_")_".TXT"
"RTN","DSIO99",229,0)
 .;S FILE=FILE_"_EXPORT_"_$TR($$NOW^XLFDT,".","")_".TXT"
"RTN","DSIO99",230,0)
 .D OPEN^%ZISH("TIU",PATH,FILE,"W") Q:POP
"RTN","DSIO99",231,0)
 .U IO
"RTN","DSIO99",232,0)
 .; CLASS
"RTN","DSIO99",233,0)
 .W "<TIU_CLASS>",!
"RTN","DSIO99",234,0)
 .D GETFLDS(8925.1,$QS(CT,3),"LP",$O(^TIU(8925.1,$QS(CT,3),10,"B",$QS(CT,2),"")))
"RTN","DSIO99",235,0)
 .W "</TIU_CLASS>",!
"RTN","DSIO99",236,0)
 .; DOCUMENT CLASS
"RTN","DSIO99",237,0)
 .W "<TIU_DOCUMENT_CLASS>",!
"RTN","DSIO99",238,0)
 .D GETFLDS(8925.1,$QS(CT,2),"L",$O(^TIU(8925.1,$QS(CT,2),10,"B",$QS(CT,1),"")))
"RTN","DSIO99",239,0)
 .W "</TIU_DOCUMENT_CLASS>",!
"RTN","DSIO99",240,0)
 .; TITLE
"RTN","DSIO99",241,0)
 .W "<TIU_TITLE>",!
"RTN","DSIO99",242,0)
 .D GETFLDS(8925.1,$QS(CT,1))
"RTN","DSIO99",243,0)
 .W "</TIU_TITLE>",!
"RTN","DSIO99",244,0)
 .D CLOSE^%ZISH("TIU")
"RTN","DSIO99",245,0)
 Q
"RTN","DSIO99",246,0)
 ;
"RTN","DSIO99",247,0)
GETFLDS(FLE,IEN,TYP,CHILD) ; GET FIELDS AND VALUES
"RTN","DSIO99",248,0)
 N OUT,ERR,CT,FLG,SFLE,FLD
"RTN","DSIO99",249,0)
 D GETS^DIQ(FLE,IEN_",","**","E","OUT","ERR") Q:'$D(OUT)
"RTN","DSIO99",250,0)
 S CT=$NA(OUT) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO99",251,0)
 .I $G(TYP)["L",$QS(CT,1)=8925.14,$P($QS(CT,2),",")'=CHILD Q
"RTN","DSIO99",252,0)
 .I $G(TYP)["P",$QS(CT,1)'=FLE Q
"RTN","DSIO99",253,0)
 .I $G(TYP)["P",$QS(CT,1)=FLE,$QS(CT,3)'=.01 Q
"RTN","DSIO99",254,0)
 .I $QS(CT,1)'=FLE,$D(FLG) D
"RTN","DSIO99",255,0)
 ..; DIFFERENT SUB FILE OR DIFFERENT SUB FILE ENTRY
"RTN","DSIO99",256,0)
 ..I $QS(CT,1)'=$P(FLG,U)!($QS(CT,2)'=$P(FLG,U,2)) K FLG D  Q
"RTN","DSIO99",257,0)
 ...W "</"_$TR($O(^DD(SFLE,0,"NM",""))," ","_")_">",!
"RTN","DSIO99",258,0)
 .I $QS(CT,1)'=FLE,'$D(FLG) D
"RTN","DSIO99",259,0)
 ..S SFLE=$QS(CT,1),FLG=$QS(CT,1)_U_$QS(CT,2)_U_$QS(CT,3)
"RTN","DSIO99",260,0)
 ..W "<"_$TR($O(^DD(SFLE,0,"NM",""))," ","_")_" NAME='"
"RTN","DSIO99",261,0)
 ..W $O(^DD(SFLE,0,"NM",""))_"' SUB-FILE='"_SFLE_"'>",!
"RTN","DSIO99",262,0)
 .S FLD=$$GET1^DID($QS(CT,1),$QS(CT,3),,"LABEL") I @CT'="" D
"RTN","DSIO99",263,0)
 ..Q:$$GET1^DID($QS(CT,1),FLD,,"TYPE")="COMPUTED"
"RTN","DSIO99",264,0)
 ..W "<"_$TR(FLD," ","_")_" NAME='"_FLD_"' NUMBER='"_$QS(CT,3)_"'>",@CT
"RTN","DSIO99",265,0)
 ..W "</"_$TR(FLD," ","_")_">",!
"RTN","DSIO99",266,0)
 I $D(FLG) W "</"_$TR($O(^DD(SFLE,0,"NM",""))," ","_")_">",!
"RTN","DSIO99",267,0)
 Q
"RTN","DSIO99",268,0)
 ;
"RTN","DSIO99",269,0)
GET() ; GET TITLES
"RTN","DSIO99",270,0)
 N DIC,DA,X,Y W !
"RTN","DSIO99",271,0)
 S:$D(TL) DIC("A")="ANOTHER: "
"RTN","DSIO99",272,0)
 S DIC("S")="I $P(^(0),U,4)=""DOC""" ;ONLY TITLES
"RTN","DSIO99",273,0)
 S DIC="^TIU(8925.1,",DIC(0)="AEOQ" D ^DIC
"RTN","DSIO99",274,0)
 I +Y>0 D DCLGET(+Y) Q 1
"RTN","DSIO99",275,0)
 ;I $$GET1^DIQ(8925.1,+Y_",",3.02,"I") D DCLGET(+Y) Q
"RTN","DSIO99",276,0)
 ;W !!,"**Not okay to distribute!**"
"RTN","DSIO99",277,0)
 Q 0
"RTN","DSIO99",278,0)
 ;
"RTN","DSIO99",279,0)
SETUP(VAR) ; SET UP THE DC AND CL DIRECTORY TO FIND OWNERS
"RTN","DSIO99",280,0)
 N LIST,CT,SUB,EX
"RTN","DSIO99",281,0)
 D LIST^DIC(8925.1,,"@","P",,,,,"I $P(^(0),U,4)="""_VAR_"""",,"LIST","ERR")
"RTN","DSIO99",282,0)
 K LIST("DILIST",0) Q:'$D(LIST)
"RTN","DSIO99",283,0)
 S CT=$NA(LIST) F  S CT=$Q(@CT) Q:CT=""  D
"RTN","DSIO99",284,0)
 .K SUB D LIST^DIC(8925.14,","_@CT_",","@;.01I","P",,,,,,,"SUB","ERR")
"RTN","DSIO99",285,0)
 .K SUB("DILIST",0) I $D(SUB) S EX="M "_VAR_"(@CT)=SUB" X EX
"RTN","DSIO99",286,0)
 Q
"RTN","DSIO99",287,0)
 ;
"RTN","DSIO99",288,0)
DCLGET(IEN) ; GET DOCUMENT CLASS(DC) OF TITLE(TL) OR CLASS(CL) OF DC
"RTN","DSIO99",289,0)
 I '$D(FLG) N I F I="DC","CL" D SETUP(I) S FLG=1
"RTN","DSIO99",290,0)
 N DCT,CCT,DCIEN,CLIEN
"RTN","DSIO99",291,0)
 S DCT=$NA(DC) F  S DCT=$Q(@DCT) Q:DCT=""  D
"RTN","DSIO99",292,0)
 .I $P(@DCT,U,2)=IEN S DCIEN=$QS(DCT,1) D
"RTN","DSIO99",293,0)
 ..S CCT=$NA(CL) F  S CCT=$Q(@CCT) Q:CCT=""  D
"RTN","DSIO99",294,0)
 ...I $P(@CCT,U,2)=DCIEN S BLD(IEN,DCIEN,$QS(CCT,1))=""
"RTN","DSIO99",295,0)
 Q
"SEC","^DIC",19641,19641,0,"AUDIT")
@
"SEC","^DIC",19641,19641,0,"DD")
@
"SEC","^DIC",19641.1,19641.1,0,"AUDIT")
@
"SEC","^DIC",19641.1,19641.1,0,"DD")
@
"SEC","^DIC",19641.11,19641.11,0,"AUDIT")
@
"SEC","^DIC",19641.11,19641.11,0,"DD")
@
"SEC","^DIC",19641.112,19641.112,0,"AUDIT")
@
"SEC","^DIC",19641.112,19641.112,0,"DD")
@
"SEC","^DIC",19641.12,19641.12,0,"AUDIT")
@
"SEC","^DIC",19641.12,19641.12,0,"DD")
@
"SEC","^DIC",19641.124,19641.124,0,"AUDIT")
@
"SEC","^DIC",19641.124,19641.124,0,"DD")
@
"SEC","^DIC",19641.13,19641.13,0,"AUDIT")
@
"SEC","^DIC",19641.13,19641.13,0,"DD")
@
"SEC","^DIC",19641.2,19641.2,0,"AUDIT")
@
"SEC","^DIC",19641.2,19641.2,0,"DD")
@
"SEC","^DIC",19641.48,19641.48,0,"AUDIT")
@
"SEC","^DIC",19641.48,19641.48,0,"DD")
@
"SEC","^DIC",19641.49,19641.49,0,"AUDIT")
@
"SEC","^DIC",19641.49,19641.49,0,"DD")
@
"SEC","^DIC",19641.5,19641.5,0,"AUDIT")
@
"SEC","^DIC",19641.5,19641.5,0,"DD")
@
"SEC","^DIC",19641.6,19641.6,0,"AUDIT")
@
"SEC","^DIC",19641.6,19641.6,0,"DD")
@
"SEC","^DIC",19641.83,19641.83,0,"AUDIT")
@
"SEC","^DIC",19641.83,19641.83,0,"DD")
@
"SEC","^DIC",19641.99,19641.99,0,"AUDIT")
@
"SEC","^DIC",19641.99,19641.99,0,"DD")
@
"VER")
8.0^22.0
"^DD",19641,19641,0)
FIELD^^3^31
"^DD",19641,19641,0,"DDA")
N
"^DD",19641,19641,0,"DT")
3150401
"^DD",19641,19641,0,"IX","AC",19641,1.2)

"^DD",19641,19641,0,"IX","B",19641,.01)

"^DD",19641,19641,0,"NM","DSIO PATIENT")

"^DD",19641,19641,0,"PT",19641.01,.02)

"^DD",19641,19641,0,"PT",19641.03,.02)

"^DD",19641,19641,0,"PT",19641.11,.05)

"^DD",19641,19641,0,"PT",19641.112,.02)

"^DD",19641,19641,0,"PT",19641.12,.02)

"^DD",19641,19641,0,"PT",19641.13,.03)

"^DD",19641,19641,0,"PT",19641.2,.01)

"^DD",19641,19641,0,"PT",19641.6,.02)

"^DD",19641,19641,0,"PT",19641.83,.01)

"^DD",19641,19641,.01,0)
PATIENT^R*P2'X^DPT(^0;1^S DIC("S")="I $P(^DPT(Y,0),U,2)=""F""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X S:$D(X) DINUM=X
"^DD",19641,19641,.01,1,0)
^.1
"^DD",19641,19641,.01,1,1,0)
19641^B
"^DD",19641,19641,.01,1,1,1)
S ^DSIO(19641,"B",$E(X,1,30),DA)=""
"^DD",19641,19641,.01,1,1,2)
K ^DSIO(19641,"B",$E(X,1,30),DA)
"^DD",19641,19641,.01,3)

"^DD",19641,19641,.01,4)

"^DD",19641,19641,.01,12)
Only female patients.
"^DD",19641,19641,.01,12.1)
S DIC("S")="I $P(^DPT(Y,0),U,2)=""F"""
"^DD",19641,19641,.01,"DT")
3131118
"^DD",19641,19641,.02,0)
TRACKING^CJ10^^ ; ^S X=$$TRACK^DSIO4(DA)
"^DD",19641,19641,.02,9)
^
"^DD",19641,19641,.02,9.01)

"^DD",19641,19641,.02,9.1)
S X=$$TRACK^DSIO4(DA)
"^DD",19641,19641,.03,0)
NEXT CONTACT DATE^DO^^0;3^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.03,2)
S Y(0)=Y S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.03,2.1)
S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.03,"DT")
3140918
"^DD",19641,19641,.04,0)
GP^F^^0;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641,19641,.04,3)
Answer must be 1-20 characters in length.
"^DD",19641,19641,.04,"DT")
3140731
"^DD",19641,19641,.05,0)
LAST CONTACT DATE^DO^^0;5^S %DT="ETX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.05,2)
S Y(0)=Y S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.05,2.1)
S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.05,"DT")
3140918
"^DD",19641,19641,.06,0)
NEXT CHECKLIST DATE^DO^^0;6^S %DT="ETX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641,.06,2)
S Y(0)=Y S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.06,2.1)
S Y=$$FMTE^XLFDT(Y,"5Z")
"^DD",19641,19641,.06,"DT")
3140918
"^DD",19641,19641,1.1,0)
MENARCHE^NJ3,0^^1;1^K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,1.1,3)
Enter the age of the patient when she first experienced her first menstrual cycle.
"^DD",19641,19641,1.1,"DT")
3140925
"^DD",19641,19641,1.2,0)
LAST MENSTRUAL PERIOD^*P19641.01O^DSIO(19641.01,^1;2^S DIC("S")="I $P(^(0),U,2)=DA" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641,19641,1.2,1,0)
^.1
"^DD",19641,19641,1.2,1,1,0)
19641^AC^MUMPS
"^DD",19641,19641,1.2,1,1,1)
D MH1^DSIO4($G(DA),$G(X))
"^DD",19641,19641,1.2,1,1,2)
D MH1^DSIO4($G(DA),$G(X))
"^DD",19641,19641,1.2,1,1,"DT")
3141025
"^DD",19641,19641,1.2,2)
S Y(0)=Y S Y=$$FMTE^XLFDT($$GET1^DIQ(19641.01,Y_",",.01,"I"),"5Z")
"^DD",19641,19641,1.2,2.1)
S Y=$$FMTE^XLFDT($$GET1^DIQ(19641.01,Y_",",.01,"I"),"5Z")
"^DD",19641,19641,1.2,12)
Only menstrual logs belonging to this patient.
"^DD",19641,19641,1.2,12.1)
S DIC("S")="I $P(^(0),U,2)=DA"
"^DD",19641,19641,1.2,"DT")
3141025
"^DD",19641,19641,2.1,0)
TOTAL PREGNANCIES^NJ2,0^^2;1^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.1,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.1,"DT")
3141030
"^DD",19641,19641,2.2,0)
FULL TERM^NJ2,0^^2;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.2,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.2,"DT")
3141030
"^DD",19641,19641,2.3,0)
PREMATURE^NJ2,0^^2;3^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.3,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.3,"DT")
3141030
"^DD",19641,19641,2.4,0)
AB. INDUCED^NJ2,0^^2;4^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.4,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.4,"DT")
3141030
"^DD",19641,19641,2.5,0)
AB. SPONTANEOUS^NJ2,0^^2;5^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.5,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.5,"DT")
3141030
"^DD",19641,19641,2.6,0)
ECTOPICS^NJ2,0^^2;6^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.6,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.6,"DT")
3141030
"^DD",19641,19641,2.7,0)
MULTIPLE BIRTHS^NJ2,0^^2;7^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.7,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.7,"DT")
3141030
"^DD",19641,19641,2.8,0)
LIVING^NJ2,0^^2;8^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641,19641,2.8,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641,19641,2.8,"DT")
3141030
"^DD",19641,19641,3,0)
LACTATION HISTORY^19641.04D^^3;0
"^DD",19641,19641,999.01,0)
SSN^CJ15^^ ; ^X ^DD(19641,999.01,9.2) S Y(19641,999.01,101)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P(Y(19641,999.01,101),U,9) S D0=Y(19641,999.01,80)
"^DD",19641,19641,999.01,9)
^
"^DD",19641,19641,999.01,9.01)
2^.09;19641^.01
"^DD",19641,19641,999.01,9.1)
.01:.09
"^DD",19641,19641,999.01,9.2)
S Y(19641,999.01,80)=$G(D0),Y(19641,999.01,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.01,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.02,0)
DOB^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(2,DA_",",.03,"I"),"5Z")
"^DD",19641,19641,999.02,9)
^
"^DD",19641,19641,999.02,9.01)

"^DD",19641,19641,999.02,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(2,DA_",",.03,"I"),"5Z")
"^DD",19641,19641,999.02,9.2)
S Y(19641,999.02,80)=$G(D0),Y(19641,999.02,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.02,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.02,"DT")
3140918
"^DD",19641,19641,999.03,0)
PHONE NUMBER [RESIDENCE]^CJ30^^ ; ^S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.131))
"^DD",19641,19641,999.03,9)
^
"^DD",19641,19641,999.03,9.01)

"^DD",19641,19641,999.03,9.1)
S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.131))
"^DD",19641,19641,999.03,9.2)
S Y(19641,999.03,80)=$G(D0),Y(19641,999.03,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.03,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.03,"DT")
3140731
"^DD",19641,19641,999.04,0)
PHONE NUMBER [WORK]^CJ30^^ ; ^S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.132))
"^DD",19641,19641,999.04,9)
^
"^DD",19641,19641,999.04,9.01)

"^DD",19641,19641,999.04,9.1)
S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.132))
"^DD",19641,19641,999.04,9.2)
S Y(19641,999.04,80)=$G(D0),Y(19641,999.04,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.04,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.04,"DT")
3140731
"^DD",19641,19641,999.05,0)
PHONE NUMBER [CELLULAR]^CJ30^^ ; ^S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.134))
"^DD",19641,19641,999.05,9)
^
"^DD",19641,19641,999.05,9.01)

"^DD",19641,19641,999.05,9.1)
S X=$$FORMAT^DSIO2($$GET1^DIQ(2,DA_",",.134))
"^DD",19641,19641,999.05,9.2)
S Y(19641,999.05,80)=$G(D0),Y(19641,999.05,1)=$S($D(^DSIO(19641,D0,0)):^(0),1:""),D0=$P(Y(19641,999.05,1),U,1) S:'D0!'$D(^DPT(+D0,0)) D0=-1
"^DD",19641,19641,999.05,"DT")
3140731
"^DD",19641,19641,999.06,0)
PREGNANT^CJ8^^ ; ^S X=$$PSTAT^DSIO4(DA)
"^DD",19641,19641,999.06,9)
^
"^DD",19641,19641,999.06,9.01)

"^DD",19641,19641,999.06,9.1)
S X=$$PSTAT^DSIO4(DA)
"^DD",19641,19641,999.06,"DT")
3141024
"^DD",19641,19641,999.07,0)
EDD^CJ15^^ ; ^S X=$$EDDC^DSIO4($G(DA))
"^DD",19641,19641,999.07,9)
^
"^DD",19641,19641,999.07,9.01)

"^DD",19641,19641,999.07,9.1)
S X=$$EDDC^DSIO4($G(DA))
"^DD",19641,19641,999.07,"DT")
3141025
"^DD",19641,19641,999.08,0)
LAST PREGNANCY END^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGE^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.08,9)
^
"^DD",19641,19641,999.08,9.01)

"^DD",19641,19641,999.08,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGE^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.08,"DT")
3140918
"^DD",19641,19641,999.09,0)
LAST PREGNANCY WITH LIVE BIRTH^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGEL^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.09,9)
^
"^DD",19641,19641,999.09,9.01)

"^DD",19641,19641,999.09,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGEL^DSIO4(DA)_",",.07,"I"),"5Z")
"^DD",19641,19641,999.09,"DT")
3140918
"^DD",19641,19641,999.1,0)
MEDICALLY UNABLE TO CONCEIVE^CJ8^^ ; ^S X=$$GET1^DIQ(790,DA_",",41)
"^DD",19641,19641,999.1,9)
^
"^DD",19641,19641,999.1,9.01)

"^DD",19641,19641,999.1,9.1)
S X=$$GET1^DIQ(790,DA_",",41)
"^DD",19641,19641,999.11,0)
TRYING TO BECOME PREGNANT^CJ8^^ ; ^S X=$$GET1^DIQ(790,DA_",",43)
"^DD",19641,19641,999.11,9)
^
"^DD",19641,19641,999.11,9.01)

"^DD",19641,19641,999.11,9.1)
S X=$$GET1^DIQ(790,DA_",",43)
"^DD",19641,19641,999.11,"DT")
3141024
"^DD",19641,19641,999.12,0)
CURRENT PREGNANCY^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PG^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641,999.12,9)
^
"^DD",19641,19641,999.12,9.01)

"^DD",19641,19641,999.12,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PG^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641,999.12,"DT")
3141008
"^DD",19641,19641,999.13,0)
CURRENTLY LACTATING^CJ3^^ ; ^S X=$$LACT^DSIO4(DA)
"^DD",19641,19641,999.13,9)
^
"^DD",19641,19641,999.13,9.01)

"^DD",19641,19641,999.13,9.1)
S X=$$LACT^DSIO4(DA)
"^DD",19641,19641,999.13,"DT")
3150622
"^DD",19641,19641,999.14,0)
LAST PREGNANCY^CJ15^^ ; ^S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGL^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641,999.14,9)
^
"^DD",19641,19641,999.14,9.01)

"^DD",19641,19641,999.14,9.1)
S X=$$FMTE^XLFDT($$GET1^DIQ(19641.13,$$PGL^DSIO4($G(DA))_",",.01,"I"),"5Z")
"^DD",19641,19641.04,0)
LACTATION HISTORY SUB-FIELD^^.02^2
"^DD",19641,19641.04,0,"DT")
3150401
"^DD",19641,19641.04,0,"IX","B",19641.04,.01)

"^DD",19641,19641.04,0,"NM","LACTATION HISTORY")

"^DD",19641,19641.04,0,"UP")
19641
"^DD",19641,19641.04,.01,0)
LACTATION DATE^MD^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641.04,.01,1,0)
^.1
"^DD",19641,19641.04,.01,1,1,0)
19641.04^B
"^DD",19641,19641.04,.01,1,1,1)
S ^DSIO(19641,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",19641,19641.04,.01,1,1,2)
K ^DSIO(19641,DA(1),3,"B",$E(X,1,30),DA)
"^DD",19641,19641.04,.01,"DT")
3150401
"^DD",19641,19641.04,.02,0)
END DATE^D^^0;2^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641,19641.04,.02,"DT")
3150401
"^DD",19641.1,19641.1,0)
FIELD^^2^11
"^DD",19641.1,19641.1,0,"DDA")
N
"^DD",19641.1,19641.1,0,"DT")
3150526
"^DD",19641.1,19641.1,0,"ID",.02)
W "   ",@("$P($P($C(59)_$S($D(^DD(19641.1,.02,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,2)_"":"",2),$C(59),1)")
"^DD",19641.1,19641.1,0,"IX","B",19641.1,.01)

"^DD",19641.1,19641.1,0,"NM","DSIO EXTERNAL ENTITIES")

"^DD",19641.1,19641.1,0,"PT",19641.13,.08)

"^DD",19641.1,19641.1,0,"PT",19641.13,.09)

"^DD",19641.1,19641.1,.01,0)
NAME^RF^^0;1^K:$L(X)>100!($L(X)<1) X
"^DD",19641.1,19641.1,.01,1,0)
^.1
"^DD",19641.1,19641.1,.01,1,1,0)
19641.1^B
"^DD",19641.1,19641.1,.01,1,1,1)
S ^DSIO(19641.1,"B",$E(X,1,30),DA)=""
"^DD",19641.1,19641.1,.01,1,1,2)
K ^DSIO(19641.1,"B",$E(X,1,30),DA)
"^DD",19641.1,19641.1,.01,3)
Answer must be 1-100 characters in length.
"^DD",19641.1,19641.1,.01,"DT")
3140127
"^DD",19641.1,19641.1,.02,0)
TYPE^RS^F:FACILITY;P:PROVIDER;^0;2^Q
"^DD",19641.1,19641.1,.02,"DT")
3140127
"^DD",19641.1,19641.1,.03,0)
INACTIVE^S^0:NO;1:YES;^0;3^Q
"^DD",19641.1,19641.1,.03,"DT")
3140127
"^DD",19641.1,19641.1,.04,0)
PRIMARY CONTACT^F^^0;4^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,.04,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,.04,"DT")
3150526
"^DD",19641.1,19641.1,1.1,0)
STREET ADDRESS 1^F^^1;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.1,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.1,"DT")
3140127
"^DD",19641.1,19641.1,1.2,0)
STREET ADDRESS 2^F^^1;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.2,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.2,"DT")
3140127
"^DD",19641.1,19641.1,1.3,0)
STREET ADDRESS 3^F^^1;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.1,19641.1,1.3,3)
Answer must be 1-50 characters in length.
"^DD",19641.1,19641.1,1.3,"DT")
3140127
"^DD",19641.1,19641.1,1.4,0)
CITY^F^^1;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641.1,19641.1,1.4,3)
Answer must be 1-20 characters in length.
"^DD",19641.1,19641.1,1.4,21,0)
^^3^3^3140127^
"^DD",19641.1,19641.1,1.4,21,1,0)
Enter the city in which this applicant resides [1-20 characters]. If the 
"^DD",19641.1,19641.1,1.4,21,2,0)
space provided is not sufficient please abbreviate the city to the best 
"^DD",19641.1,19641.1,1.4,21,3,0)
of your ability. 
"^DD",19641.1,19641.1,1.4,"DT")
3140127
"^DD",19641.1,19641.1,1.5,0)
STATE^*P5'X^DIC(5,^1;5^S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.1,19641.1,1.5,3)
Select from the available listing the state in which this entity resides.
"^DD",19641.1,19641.1,1.5,12)
This screen prevents selection of entires that are valid US states or possessions.
"^DD",19641.1,19641.1,1.5,12.1)
S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1"
"^DD",19641.1,19641.1,1.5,21,0)
^.001^1^1^3140417^^
"^DD",19641.1,19641.1,1.5,21,1,0)
From the available listing choose the state in which this entity resides.
"^DD",19641.1,19641.1,1.5,"DT")
3140617
"^DD",19641.1,19641.1,1.6,0)
ZIP CODE^FX^^1;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>5!($L(X)<5)!'(X?5N) X
"^DD",19641.1,19641.1,1.6,3)
Enter the zip code for the city in which this entity resides.
"^DD",19641.1,19641.1,1.6,21,0)
^^1^1^3140127^
"^DD",19641.1,19641.1,1.6,21,1,0)
Enter the zip code [5 numerics] for the city in which this entity resides.
"^DD",19641.1,19641.1,1.6,"DT")
3140127
"^DD",19641.1,19641.1,2,0)
PHONE NUMBERS^19641.15S^^2;0
"^DD",19641.1,19641.15,0)
PHONE NUMBERS SUB-FIELD^^.02^2
"^DD",19641.1,19641.15,0,"DT")
3150424
"^DD",19641.1,19641.15,0,"IX","B",19641.15,.01)

"^DD",19641.1,19641.15,0,"NM","PHONE NUMBERS")

"^DD",19641.1,19641.15,0,"UP")
19641.1
"^DD",19641.1,19641.15,.01,0)
PHONE TYPE^MS^H:HOME;WP:WORK;MC:MOBILE;FAX:FAX;O:OTHER;^0;1^Q
"^DD",19641.1,19641.15,.01,1,0)
^.1
"^DD",19641.1,19641.15,.01,1,1,0)
19641.15^B
"^DD",19641.1,19641.15,.01,1,1,1)
S ^DSIO(19641.1,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.1,19641.15,.01,1,1,2)
K ^DSIO(19641.1,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.1,19641.15,.01,3)

"^DD",19641.1,19641.15,.01,"DT")
3150424
"^DD",19641.1,19641.15,.02,0)
NUMBER^NJ10,0^^0;2^K:+X'=X!(X>9999999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.1,19641.15,.02,3)
Type a number between 0 and 9999999999, 0 decimal digits.
"^DD",19641.1,19641.15,.02,"DT")
3150424
"^DD",19641.11,19641.11,0)
FIELD^^3^15
"^DD",19641.11,19641.11,0,"DDA")
N
"^DD",19641.11,19641.11,0,"DT")
3150519
"^DD",19641.11,19641.11,0,"ID",.02)
W ""
"^DD",19641.11,19641.11,0,"IX","B",19641.11,.01)

"^DD",19641.11,19641.11,0,"NM","DSIO PERSON")

"^DD",19641.11,19641.11,.01,0)
NAME^RF^^0;1^K:$L(X)>40!($L(X)<3) X
"^DD",19641.11,19641.11,.01,1,0)
^.1
"^DD",19641.11,19641.11,.01,1,1,0)
19641.11^B
"^DD",19641.11,19641.11,.01,1,1,1)
S ^DSIO(19641.11,"B",$E(X,1,30),DA)=""
"^DD",19641.11,19641.11,.01,1,1,2)
K ^DSIO(19641.11,"B",$E(X,1,30),DA)
"^DD",19641.11,19641.11,.01,3)
Name must be in the format LASNAME,FIRSTNAME MIDDLE where MIDDLE is optional.
"^DD",19641.11,19641.11,.01,"DT")
3140606
"^DD",19641.11,19641.11,.02,0)
SEX^S^M:MALE;F:FEMALE;U:UNKNOWN;^0;2^Q
"^DD",19641.11,19641.11,.02,"DT")
3140506
"^DD",19641.11,19641.11,.03,0)
DATE OF BIRTH^D^^0;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.11,19641.11,.03,"DT")
3140417
"^DD",19641.11,19641.11,.04,0)
EDUCATION (YRS)^NJ3,0^^0;4^K:+X'=X!(X>125)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.11,19641.11,.04,3)
Type a number between 0 and 125, 0 decimal digits.
"^DD",19641.11,19641.11,.04,"DT")
3140424
"^DD",19641.11,19641.11,.05,0)
PATIENT^RP19641^DSIO(19641,^0;5^Q
"^DD",19641.11,19641.11,.05,"DT")
3141003
"^DD",19641.11,19641.11,.06,0)
RELATIONSHIP^P408.11'^DG(408.11,^0;6^Q
"^DD",19641.11,19641.11,.06,"DT")
3141003
"^DD",19641.11,19641.11,.07,0)
STATUS^S^L:LIVING;D:DECEASED;^0;7^Q
"^DD",19641.11,19641.11,.07,"DT")
3140923
"^DD",19641.11,19641.11,1.1,0)
STREET ADDRESS [LINE 1]^F^^1;1^K:$L(X)>30!($L(X)<1) X
"^DD",19641.11,19641.11,1.1,3)
Answer must be 1-30 characters in length.
"^DD",19641.11,19641.11,1.1,"DT")
3140610
"^DD",19641.11,19641.11,1.2,0)
STREET ADDRESS [LINE 2]^F^^1;2^K:$L(X)>30!($L(X)<1) X
"^DD",19641.11,19641.11,1.2,3)
Answer must be 1-30 characters in length.
"^DD",19641.11,19641.11,1.2,"DT")
3140610
"^DD",19641.11,19641.11,1.3,0)
STREET ADDRESS [LINE 3]^F^^1;3^K:$L(X)>30!($L(X)<1) X
"^DD",19641.11,19641.11,1.3,3)
Answer must be 1-30 characters in length.
"^DD",19641.11,19641.11,1.3,"DT")
3140610
"^DD",19641.11,19641.11,1.4,0)
CITY^F^^1;4^K:$L(X)>20!($L(X)<1) X
"^DD",19641.11,19641.11,1.4,3)
Answer must be 1-20 characters in length.
"^DD",19641.11,19641.11,1.4,"DT")
3140415
"^DD",19641.11,19641.11,1.5,0)
STATE^*P5'X^DIC(5,^1;5^S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.11,19641.11,1.5,3)
Select from the available listing the state in which this person resides.
"^DD",19641.11,19641.11,1.5,12)
This screen prevents selection of entires that are valid US states or possessions.
"^DD",19641.11,19641.11,1.5,12.1)
S DIC("S")="I $P(^DIC(5,Y,0),U,6)=1"
"^DD",19641.11,19641.11,1.5,"DT")
3140417
"^DD",19641.11,19641.11,1.6,0)
ZIP CODE^FX^^1;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>5!($L(X)<5)!'(X?5N) X
"^DD",19641.11,19641.11,1.6,3)
Answer must be 5 characters in length.
"^DD",19641.11,19641.11,1.6,"DT")
3140415
"^DD",19641.11,19641.11,2,0)
PHONE NUMBERS^19641.14S^^2;0
"^DD",19641.11,19641.11,3,0)
DIAGNOSIS^19641.113^^3;0
"^DD",19641.11,19641.113,0)
DIAGNOSIS SUB-FIELD^^.01^1
"^DD",19641.11,19641.113,0,"DT")
3150519
"^DD",19641.11,19641.113,0,"IX","B",19641.113,.01)

"^DD",19641.11,19641.113,0,"NM","DIAGNOSIS")

"^DD",19641.11,19641.113,0,"UP")
19641.11
"^DD",19641.11,19641.113,.01,0)
DIAGNOSIS^MF^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.11,19641.113,.01,1,0)
^.1
"^DD",19641.11,19641.113,.01,1,1,0)
19641.113^B
"^DD",19641.11,19641.113,.01,1,1,1)
S ^DSIO(19641.11,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",19641.11,19641.113,.01,1,1,2)
K ^DSIO(19641.11,DA(1),3,"B",$E(X,1,30),DA)
"^DD",19641.11,19641.113,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.11,19641.113,.01,"DT")
3150519
"^DD",19641.11,19641.14,0)
PHONE NUMBERS SUB-FIELD^^.02^2
"^DD",19641.11,19641.14,0,"DT")
3150519
"^DD",19641.11,19641.14,0,"IX","B",19641.14,.01)

"^DD",19641.11,19641.14,0,"NM","PHONE NUMBERS")

"^DD",19641.11,19641.14,0,"UP")
19641.11
"^DD",19641.11,19641.14,.01,0)
PHONE TYPE^MS^H:HOME;WP:WORK;MC:MOBILE;FAX:FAX;O:OTHER;^0;1^Q
"^DD",19641.11,19641.14,.01,1,0)
^.1
"^DD",19641.11,19641.14,.01,1,1,0)
19641.14^B
"^DD",19641.11,19641.14,.01,1,1,1)
S ^DSIO(19641.11,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.11,19641.14,.01,1,1,2)
K ^DSIO(19641.11,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.11,19641.14,.01,3)
Answer must be 1-50 characters in length.
"^DD",19641.11,19641.14,.01,"DT")
3150519
"^DD",19641.11,19641.14,.02,0)
NUMBER^NJ10,0^^0;2^K:+X'=X!(X>9999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",19641.11,19641.14,.02,3)
Type a number between 1 and 9999999999, 0 decimal digits.
"^DD",19641.11,19641.14,.02,"DT")
3150519
"^DD",19641.112,19641.112,0)
FIELD^^.07^7
"^DD",19641.112,19641.112,0,"DDA")
N
"^DD",19641.112,19641.112,0,"DT")
3141218
"^DD",19641.112,19641.112,0,"IX","B",19641.112,.01)

"^DD",19641.112,19641.112,0,"IX","P",19641.112,.02)

"^DD",19641.112,19641.112,0,"NM","DSIO FETUS/BABY")

"^DD",19641.112,19641.112,0,"PT",19641.121,.01)

"^DD",19641.112,19641.112,0,"PT",19641.132,.01)

"^DD",19641.112,19641.112,.01,0)
NUMBER^RNJ1,0^^0;1^K:+X'=X!(X>9)!(X<1)!(X?.E1"."1N.N) X
"^DD",19641.112,19641.112,.01,1,0)
^.1
"^DD",19641.112,19641.112,.01,1,1,0)
19641.112^B
"^DD",19641.112,19641.112,.01,1,1,1)
S ^DSIO(19641.112,"B",$E(X,1,30),DA)=""
"^DD",19641.112,19641.112,.01,1,1,2)
K ^DSIO(19641.112,"B",$E(X,1,30),DA)
"^DD",19641.112,19641.112,.01,3)
Type a number between 1 and 9, 0 decimal digits.
"^DD",19641.112,19641.112,.01,"DT")
3140610
"^DD",19641.112,19641.112,.02,0)
PATIENT^RP19641I^DSIO(19641,^0;2^Q
"^DD",19641.112,19641.112,.02,1,0)
^.1
"^DD",19641.112,19641.112,.02,1,1,0)
19641.112^P
"^DD",19641.112,19641.112,.02,1,1,1)
S ^DSIO(19641.112,"P",$E(X,1,30),DA)=""
"^DD",19641.112,19641.112,.02,1,1,2)
K ^DSIO(19641.112,"P",$E(X,1,30),DA)
"^DD",19641.112,19641.112,.02,1,1,"DT")
3140518
"^DD",19641.112,19641.112,.02,"DT")
3140610
"^DD",19641.112,19641.112,.03,0)
PREGNANCY^R*P19641.13'^DSIO(19641.13,^0;3^S DIC("S")="I $P(^(0),U,3)=$$GET1^DIQ(19641.112,$G(DA)_"","",.02,""I"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.112,19641.112,.03,12)
Only pregnancies of the selected patient.
"^DD",19641.112,19641.112,.03,12.1)
S DIC("S")="I $P(^(0),U,3)=$$GET1^DIQ(19641.112,$G(DA)_"","",.02,""I"")"
"^DD",19641.112,19641.112,.03,"DT")
3140610
"^DD",19641.112,19641.112,.04,0)
NAME^F^^0;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.112,19641.112,.04,3)
Answer must be 1-30 characters in length.
"^DD",19641.112,19641.112,.04,"DT")
3140610
"^DD",19641.112,19641.112,.05,0)
GENDER^S^M:MALE;F:FEMALE;O:OTHER;U:UNKNOWN;^0;5^Q
"^DD",19641.112,19641.112,.05,"DT")
3141218
"^DD",19641.112,19641.112,.06,0)
BIRTH WEIGHT^F^^0;6^K:$L(X)>20!($L(X)<1) X
"^DD",19641.112,19641.112,.06,3)
Answer must be 1-20 characters in length. A format of #|#|# represents lb|oz|g.
"^DD",19641.112,19641.112,.06,"DT")
3141217
"^DD",19641.112,19641.112,.07,0)
STILLBORN^S^1:YES;0:NO;^0;7^Q
"^DD",19641.112,19641.112,.07,"DT")
3141030
"^DD",19641.12,19641.12,0)
FIELD^^4.4^18
"^DD",19641.12,19641.12,0,"DDA")
N
"^DD",19641.12,19641.12,0,"DT")
3150527
"^DD",19641.12,19641.12,0,"ID",.02)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DSIO(19641,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(19641,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",19641.12,19641.12,0,"IX","B",19641.12,.01)

"^DD",19641.12,19641.12,0,"NM","DSIO OBSERVATIONS")

"^DD",19641.12,19641.12,0,"PT",19641.03,2.2)

"^DD",19641.12,19641.12,.01,0)
DATE OF OBSERVATION^RD^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.01,1,0)
^.1
"^DD",19641.12,19641.12,.01,1,1,0)
19641.12^B
"^DD",19641.12,19641.12,.01,1,1,1)
S ^DSIO(19641.12,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.12,.01,1,1,2)
K ^DSIO(19641.12,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.12,.01,3)

"^DD",19641.12,19641.12,.01,"DT")
3150526
"^DD",19641.12,19641.12,.02,0)
PATIENT^P19641'^DSIO(19641,^0;2^Q
"^DD",19641.12,19641.12,.02,1,0)
^.1^^0
"^DD",19641.12,19641.12,.02,"DT")
3150526
"^DD",19641.12,19641.12,.03,0)
CATEGORY^F^^0;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.12,19641.12,.03,3)
Answer must be 1-50 characters in length.
"^DD",19641.12,19641.12,.03,"DT")
3150525
"^DD",19641.12,19641.12,.04,0)
RELATIONSHIP^F^^0;4^K:$L(X)>50!($L(X)<1) X
"^DD",19641.12,19641.12,.04,3)
Answer must be 1-50 characters in length.
"^DD",19641.12,19641.12,.04,"DT")
3150525
"^DD",19641.12,19641.12,.05,0)
START^D^^0;5^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.05,"DT")
3150525
"^DD",19641.12,19641.12,.06,0)
END^D^^0;6^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.06,"DT")
3150525
"^DD",19641.12,19641.12,.07,0)
UPDATED BY^P200'^VA(200,^0;7^Q
"^DD",19641.12,19641.12,.07,"DT")
3150525
"^DD",19641.12,19641.12,.08,0)
MODIFIED^D^^0;8^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.08,"DT")
3150525
"^DD",19641.12,19641.12,.09,0)
PUSHED^D^^0;9^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",19641.12,19641.12,.09,"DT")
3150525
"^DD",19641.12,19641.12,1,0)
OBJECTS OF OBSERVATION^19641.121V^^1;0
"^DD",19641.12,19641.12,2,0)
OBJECTS OF REFERENCE^19641.16V^^2;0
"^DD",19641.12,19641.12,2,"DT")
3150525
"^DD",19641.12,19641.12,3,0)
CODES^19641.17SA^^3;0
"^DD",19641.12,19641.12,4.1,0)
VALUE TYPE^F^^4;1^K:$L(X)>20!($L(X)<1) X
"^DD",19641.12,19641.12,4.1,3)
Answer must be 1-20 characters in length.
"^DD",19641.12,19641.12,4.1,"DT")
3150525
"^DD",19641.12,19641.12,4.2,0)
VALUE^F^^4;2^K:$L(X)>200!($L(X)<1) X
"^DD",19641.12,19641.12,4.2,3)
Answer must be 1-200 characters in length.
"^DD",19641.12,19641.12,4.2,"DT")
3150525
"^DD",19641.12,19641.12,4.3,0)
VALUE UNIT^F^^4;3^K:$L(X)>20!($L(X)<1) X
"^DD",19641.12,19641.12,4.3,3)
Answer must be 1-20 characters in length.
"^DD",19641.12,19641.12,4.3,"DT")
3150525
"^DD",19641.12,19641.12,4.4,0)
NEGATION^S^0:FALSE;1:TRUE;^4;4^Q
"^DD",19641.12,19641.12,4.4,"DT")
3150525
"^DD",19641.12,19641.12,5,0)
QUALIFIERS^19641.125^^5;0
"^DD",19641.12,19641.12,6,0)
NARRATIVE^19641.126^^6;0
"^DD",19641.12,19641.121,0)
OBJECTS OF OBSERVATION SUB-FIELD^^.01^1
"^DD",19641.12,19641.121,0,"DT")
3150525
"^DD",19641.12,19641.121,0,"IX","B",19641.121,.01)

"^DD",19641.12,19641.121,0,"NM","OBJECTS OF OBSERVATION")

"^DD",19641.12,19641.121,0,"UP")
19641.12
"^DD",19641.12,19641.121,.01,0)
OBJECTS OF OBSERVATION^MV^^0;1^Q
"^DD",19641.12,19641.121,.01,1,0)
^.1
"^DD",19641.12,19641.121,.01,1,1,0)
19641.121^B
"^DD",19641.12,19641.121,.01,1,1,1)
S ^DSIO(19641.12,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.121,.01,1,1,2)
K ^DSIO(19641.12,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.121,.01,1,1,3)
Required Index for Variable Pointer
"^DD",19641.12,19641.121,.01,"DT")
3150619
"^DD",19641.12,19641.121,.01,"V",0)
^.12P^2^2
"^DD",19641.12,19641.121,.01,"V",1,0)
19641.112^FETUS/BABY^1^FB^^n
"^DD",19641.12,19641.121,.01,"V",2,0)
19641.13^PREGNANCY^2^PG^^n
"^DD",19641.12,19641.125,0)
QUALIFIERS SUB-FIELD^^.02^2
"^DD",19641.12,19641.125,0,"DT")
3150427
"^DD",19641.12,19641.125,0,"IX","B",19641.125,.01)

"^DD",19641.12,19641.125,0,"NM","QUALIFIERS")

"^DD",19641.12,19641.125,0,"UP")
19641.12
"^DD",19641.12,19641.125,.01,0)
QUALIFIER^MF^^0;1^K:$L(X)>50!($L(X)<1) X
"^DD",19641.12,19641.125,.01,1,0)
^.1
"^DD",19641.12,19641.125,.01,1,1,0)
19641.125^B
"^DD",19641.12,19641.125,.01,1,1,1)
S ^DSIO(19641.12,DA(1),5,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.125,.01,1,1,2)
K ^DSIO(19641.12,DA(1),5,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.125,.01,3)
Answer must be 1-50 characters in length.
"^DD",19641.12,19641.125,.01,"DT")
3150427
"^DD",19641.12,19641.125,.02,0)
VALUE^F^^0;2^K:$L(X)>150!($L(X)<1) X
"^DD",19641.12,19641.125,.02,3)
Answer must be 1-150 characters in length.
"^DD",19641.12,19641.125,.02,"DT")
3150427
"^DD",19641.12,19641.126,0)
NARRATIVE SUB-FIELD^^.01^1
"^DD",19641.12,19641.126,0,"DT")
3150427
"^DD",19641.12,19641.126,0,"NM","NARRATIVE")

"^DD",19641.12,19641.126,0,"UP")
19641.12
"^DD",19641.12,19641.126,.01,0)
NARRATIVE^Wx^^0;1^Q
"^DD",19641.12,19641.126,.01,"DT")
3150427
"^DD",19641.12,19641.16,0)
OBJECTS OF REFERENCE SUB-FIELD^^.01^1
"^DD",19641.12,19641.16,0,"DT")
3150525
"^DD",19641.12,19641.16,0,"IX","B",19641.16,.01)

"^DD",19641.12,19641.16,0,"NM","OBJECTS OF REFERENCE")

"^DD",19641.12,19641.16,0,"UP")
19641.12
"^DD",19641.12,19641.16,.01,0)
OBJECTS OF REFERENCE^MV^^0;1^Q
"^DD",19641.12,19641.16,.01,1,0)
^.1
"^DD",19641.12,19641.16,.01,1,1,0)
19641.16^B
"^DD",19641.12,19641.16,.01,1,1,1)
S ^DSIO(19641.12,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.16,.01,1,1,2)
K ^DSIO(19641.12,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.16,.01,1,1,3)
Required Index for Variable Pointer
"^DD",19641.12,19641.16,.01,"DT")
3150525
"^DD",19641.12,19641.16,.01,"V",0)
^.12P^2^2
"^DD",19641.12,19641.16,.01,"V",1,0)
8925^TIU DOCUMENT^1^TIU^^n
"^DD",19641.12,19641.16,.01,"V",2,0)
19641.6^IHE DOCUMENT^2^IHE^^n
"^DD",19641.12,19641.17,0)
CODES SUB-FIELD^^4^5
"^DD",19641.12,19641.17,0,"DT")
3150527
"^DD",19641.12,19641.17,0,"IX","B",19641.17,.01)

"^DD",19641.12,19641.17,0,"NM","CODES")

"^DD",19641.12,19641.17,0,"UP")
19641.12
"^DD",19641.12,19641.17,.01,0)
CODE TYPE^S^C:CODE;V:VALUE-CODE;^0;1^Q
"^DD",19641.12,19641.17,.01,1,0)
^.1
"^DD",19641.12,19641.17,.01,1,1,0)
19641.17^B
"^DD",19641.12,19641.17,.01,1,1,1)
S ^DSIO(19641.12,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",19641.12,19641.17,.01,1,1,2)
K ^DSIO(19641.12,DA(1),3,"B",$E(X,1,30),DA)
"^DD",19641.12,19641.17,.01,"DT")
3150525
"^DD",19641.12,19641.17,1,0)
CODE^F^^1;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.12,19641.17,1,3)
Answer must be 1-245 characters in length.
"^DD",19641.12,19641.17,1,"DT")
3150525
"^DD",19641.12,19641.17,2,0)
DISPLAY NAME^F^^2;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.12,19641.17,2,3)
Answer must be 1-245 characters in length.
"^DD",19641.12,19641.17,2,"DT")
3150525
"^DD",19641.12,19641.17,3,0)
SYSTEM NAME^F^^3;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.12,19641.17,3,3)
Answer must be 1-245 characters in length.
"^DD",19641.12,19641.17,3,"DT")
3150527
"^DD",19641.12,19641.17,4,0)
SYSTEM VALUE^F^^4;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.12,19641.17,4,3)
Answer must be 1-245 characters in length.
"^DD",19641.12,19641.17,4,"DT")
3150527
"^DD",19641.124,19641.124,0)
FIELD^^3^9
"^DD",19641.124,19641.124,0,"DDA")
N
"^DD",19641.124,19641.124,0,"DT")
3150522
"^DD",19641.124,19641.124,0,"IX","B",19641.124,.01)

"^DD",19641.124,19641.124,0,"NM","DSIO PUSH HISTORY")

"^DD",19641.124,19641.124,0,"PT",19641.45,4.1)

"^DD",19641.124,19641.124,.01,0)
DATE^RD^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.124,19641.124,.01,1,0)
^.1
"^DD",19641.124,19641.124,.01,1,1,0)
19641.124^B
"^DD",19641.124,19641.124,.01,1,1,1)
S ^DSIO(19641.124,"B",$E(X,1,30),DA)=""
"^DD",19641.124,19641.124,.01,1,1,2)
K ^DSIO(19641.124,"B",$E(X,1,30),DA)
"^DD",19641.124,19641.124,.01,3)

"^DD",19641.124,19641.124,.01,"DT")
3140703
"^DD",19641.124,19641.124,.02,0)
FILE^F^^0;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.124,19641.124,.02,3)
Answer must be 1-50 characters in length.
"^DD",19641.124,19641.124,.02,"DT")
3140703
"^DD",19641.124,19641.124,.03,0)
FIELD^F^^0;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.124,19641.124,.03,3)
Answer must be 1-50 characters in length.
"^DD",19641.124,19641.124,.03,"DT")
3140703
"^DD",19641.124,19641.124,.04,0)
TRIGGER^F^^0;4^K:$L(X)>50!($L(X)<1) X
"^DD",19641.124,19641.124,.04,3)
Answer must be 1-50 characters in length.
"^DD",19641.124,19641.124,.04,"DT")
3150522
"^DD",19641.124,19641.124,.05,0)
USER^P200'^VA(200,^0;5^Q
"^DD",19641.124,19641.124,.05,"DT")
3140703
"^DD",19641.124,19641.124,.06,0)
OBJECT^F^^0;6^K:$L(X)>70!($L(X)<1) X
"^DD",19641.124,19641.124,.06,3)
Answer must be 1-70 characters in length.
"^DD",19641.124,19641.124,.06,"DT")
3150522
"^DD",19641.124,19641.124,1,0)
OLD VALUE^19641.1241^^1;0
"^DD",19641.124,19641.124,2,0)
NEW VALUE^19641.1242^^2;0
"^DD",19641.124,19641.124,3,0)
CODE^F^^3;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.124,19641.124,3,3)
Answer must be 1-245 characters in length.
"^DD",19641.124,19641.124,3,"DT")
3150522
"^DD",19641.124,19641.1241,0)
OLD VALUE SUB-FIELD^^.01^1
"^DD",19641.124,19641.1241,0,"DT")
3140703
"^DD",19641.124,19641.1241,0,"NM","OLD VALUE")

"^DD",19641.124,19641.1241,0,"UP")
19641.124
"^DD",19641.124,19641.1241,.01,0)
OLD VALUE^Wx^^0;1^Q
"^DD",19641.124,19641.1241,.01,"DT")
3140703
"^DD",19641.124,19641.1242,0)
NEW VALUE SUB-FIELD^^.01^1
"^DD",19641.124,19641.1242,0,"DT")
3140703
"^DD",19641.124,19641.1242,0,"NM","NEW VALUE")

"^DD",19641.124,19641.1242,0,"UP")
19641.124
"^DD",19641.124,19641.1242,.01,0)
NEW VALUE^Wx^^0;1^Q
"^DD",19641.124,19641.1242,.01,"DT")
3140703
"^DD",19641.13,19641.13,0)
FIELD^^4^20
"^DD",19641.13,19641.13,0,"ACT")
S DSIODFN=$$GET1^DIQ(19641.13,+$G(Y)_",",.03,"I")
"^DD",19641.13,19641.13,0,"DDA")
N
"^DD",19641.13,19641.13,0,"DT")
3150514
"^DD",19641.13,19641.13,0,"ID",.03)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DSIO(19641,+$P(^(0),U,3),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(19641,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",19641.13,19641.13,0,"IX","AC",19641.13,.06)

"^DD",19641.13,19641.13,0,"IX","B",19641.13,.01)

"^DD",19641.13,19641.13,0,"NM","DSIO PREGNANCY HISTORY")

"^DD",19641.13,19641.13,0,"PT",19641.03,2.1)

"^DD",19641.13,19641.13,0,"PT",19641.112,.03)

"^DD",19641.13,19641.13,0,"PT",19641.121,.01)

"^DD",19641.13,19641.13,0,"PT",19641.761,.02)

"^DD",19641.13,19641.13,0,"PT",19641.831,.02)

"^DD",19641.13,19641.13,.01,0)
DATE RECORDED^RDIX^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1!(Y>$$NOW^XLFDT) X
"^DD",19641.13,19641.13,.01,1,0)
^.1
"^DD",19641.13,19641.13,.01,1,1,0)
19641.13^B
"^DD",19641.13,19641.13,.01,1,1,1)
S ^DSIO(19641.13,"B",$E(X,1,30),DA)=""
"^DD",19641.13,19641.13,.01,1,1,2)
K ^DSIO(19641.13,"B",$E(X,1,30),DA)
"^DD",19641.13,19641.13,.01,3)
This is the date the pregnancy history was recorded and not the start of the pregnancy. No future dates.
"^DD",19641.13,19641.13,.01,"DT")
3150429
"^DD",19641.13,19641.13,.02,0)
EDC^DX^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1!(Y>$$NOW^XLFDT) X
"^DD",19641.13,19641.13,.02,3)
The estimated date of conception - no future dates.
"^DD",19641.13,19641.13,.02,"DT")
3141025
"^DD",19641.13,19641.13,.03,0)
PATIENT^RP19641I^DSIO(19641,^0;3^Q
"^DD",19641.13,19641.13,.03,1,0)
^.1^^0
"^DD",19641.13,19641.13,.03,"DT")
3150520
"^DD",19641.13,19641.13,.04,0)
STATUS^SIX^C:CURRENT;H:HISTORICAL;^0;4^K:'$$CURRENT^DSIO4(DA) X
"^DD",19641.13,19641.13,.04,3)
Only one "CURRENT" entry allowed. Other entries with a future EDD and no Delivery date will fail this entry's creation.
"^DD",19641.13,19641.13,.04,"DT")
3141025
"^DD",19641.13,19641.13,.05,0)
FATHER OF FETUS/BABY^FX^^0;5^S X=$$FOF^DSIO9($$GET1^DIQ(19641.13,DA_",",.03,"I"),X)
"^DD",19641.13,19641.13,.05,3)
Answer must be 1-50 characters in length.
"^DD",19641.13,19641.13,.05,12)
Only people associated to the patient.
"^DD",19641.13,19641.13,.05,12.1)
S DIC("S")="I $P(^(0),U,5)=$$GET1^DIQ(19641.13,DA_"","",.03,""I"")"
"^DD",19641.13,19641.13,.05,"DT")
3150514
"^DD",19641.13,19641.13,.06,0)
EDD^*P19641.03^DSIO(19641.03,^0;6^S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,$G(DA)_"","",.03,""I"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.13,19641.13,.06,1,0)
^.1
"^DD",19641.13,19641.13,.06,1,1,0)
19641.13^AC^MUMPS
"^DD",19641.13,19641.13,.06,1,1,1)
D EDD^DSIO4(X,DA)
"^DD",19641.13,19641.13,.06,1,1,2)
D EDD^DSIO4("@",DA)
"^DD",19641.13,19641.13,.06,1,1,"DT")
3141002
"^DD",19641.13,19641.13,.06,3)

"^DD",19641.13,19641.13,.06,12)
Only those EDD histories belonging to the patient.
"^DD",19641.13,19641.13,.06,12.1)
S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,$G(DA)_"","",.03,""I"")"
"^DD",19641.13,19641.13,.06,"DT")
3141025
"^DD",19641.13,19641.13,.07,0)
PREGNANCY END^DX^^0;7^S %DT="ESTX" D ^%DT S X=Y K:Y<1!(Y>$$NOW^XLFDT) X
"^DD",19641.13,19641.13,.07,3)
Enter the date the pregnancy ended by any means.
"^DD",19641.13,19641.13,.07,"DT")
3141025
"^DD",19641.13,19641.13,.08,0)
OB^V^^0;8^Q
"^DD",19641.13,19641.13,.08,"DT")
3141025
"^DD",19641.13,19641.13,.08,"V",0)
^.12P^2^2
"^DD",19641.13,19641.13,.08,"V",1,0)
19641.1^NON-VA PROVIDER^1^NVA^y^n
"^DD",19641.13,19641.13,.08,"V",1,1)
S DIC("S")="I $P(^(0),U,2)=""P"""
"^DD",19641.13,19641.13,.08,"V",1,2)
Only provider types.
"^DD",19641.13,19641.13,.08,"V",2,0)
200^VA PROVIDER^2^VA^^n
"^DD",19641.13,19641.13,.09,0)
FACILITY^V^^0;9^Q
"^DD",19641.13,19641.13,.09,"DT")
3141025
"^DD",19641.13,19641.13,.09,"V",0)
^.12P^2^2
"^DD",19641.13,19641.13,.09,"V",1,0)
19641.1^NON-VA FACILITY^1^NVA^y^n
"^DD",19641.13,19641.13,.09,"V",1,1)
S DIC("S")="I $P(^(0),U,2)=""F"""
"^DD",19641.13,19641.13,.09,"V",1,2)
Only facility types.
"^DD",19641.13,19641.13,.09,"V",2,0)
4^VA FACILITY^2^VA^^n
"^DD",19641.13,19641.13,1.1,0)
UPDATED BY^P200'^VA(200,^1;1^Q
"^DD",19641.13,19641.13,1.1,"DT")
3141025
"^DD",19641.13,19641.13,2,0)
FETUSES/BABIES^19641.132P^^2;0
"^DD",19641.13,19641.13,2,"DT")
3140609
"^DD",19641.13,19641.13,3.1,0)
GESTATIONAL AGE AT DELIVERY^NJ2,0^^3;1^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.13,19641.13,3.1,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641.13,19641.13,3.1,"DT")
3141030
"^DD",19641.13,19641.13,3.2,0)
LENGTH OF LABOR^NJ2,0^^3;2^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.13,19641.13,3.2,3)
Time span of labor in hours.
"^DD",19641.13,19641.13,3.2,"DT")
3141030
"^DD",19641.13,19641.13,3.3,0)
TYPE OF DELIVERY^F^^3;3^K:$L(X)>20!($L(X)<1) X
"^DD",19641.13,19641.13,3.3,3)
Answer must be 1-20 characters in length.
"^DD",19641.13,19641.13,3.3,"DT")
3141030
"^DD",19641.13,19641.13,3.4,0)
EPIDURAL/SPINAL^S^1:YES;0:NO;^3;4^Q
"^DD",19641.13,19641.13,3.4,"DT")
3150519
"^DD",19641.13,19641.13,3.5,0)
PRETERM LABOR^S^0:NO;1:YES;^3;5^Q
"^DD",19641.13,19641.13,3.5,12)
S DIC("S")="I $P(^(0),U,2)=""F"""
"^DD",19641.13,19641.13,3.5,12.1)
I $P(^(0),U,2)="F"
"^DD",19641.13,19641.13,3.5,"DT")
3150429
"^DD",19641.13,19641.13,3.6,0)
PRETERM LABOR^S^1:YES;0:NO;^3;6^Q
"^DD",19641.13,19641.13,3.6,"DT")
3141030
"^DD",19641.13,19641.13,4,0)
COMMENTS^19641.134^^4;0
"^DD",19641.13,19641.13,4,3)
Answer must be 1-245 characters in length.
"^DD",19641.13,19641.13,4,"DT")
3141030
"^DD",19641.13,19641.13,99.1,0)
WV PATIENT PREGNANCY^P790'^WV(790,+$G(DSIODFN),7,^99;1^Q
"^DD",19641.13,19641.13,99.1,"DT")
3141025
"^DD",19641.13,19641.13,999.1,0)
BIRTH TYPE^CJ8^^ ; ^S X=+$P($G(^DSIO(19641.13,+$G(D0),2,0)),U,4),X=$S(X=1:"SINGLE",X>1:"MULTIPLE",1:"NONE")
"^DD",19641.13,19641.13,999.1,9)
^
"^DD",19641.13,19641.13,999.1,9.01)

"^DD",19641.13,19641.13,999.1,9.1)
S X=+$P($G(^DSIO(19641.13,+$G(D0),2,0)),U,4),X=$S(X=1:"SINGLE",X>1:"MULTIPLE",1:"NONE")
"^DD",19641.13,19641.13,999.1,"DT")
3141030
"^DD",19641.13,19641.132,0)
FETUSES/BABIES SUB-FIELD^^.01^1
"^DD",19641.13,19641.132,0,"DT")
3140606
"^DD",19641.13,19641.132,0,"IX","B",19641.132,.01)

"^DD",19641.13,19641.132,0,"NM","FETUSES/BABIES")

"^DD",19641.13,19641.132,0,"UP")
19641.13
"^DD",19641.13,19641.132,.01,0)
FETUS/BABY^M*P19641.112^DSIO(19641.112,^0;1^S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,DA_"","",.03,""I"")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.13,19641.132,.01,1,0)
^.1^^-1
"^DD",19641.13,19641.132,.01,1,1,0)
19641.132^B
"^DD",19641.13,19641.132,.01,1,1,1)
S ^DSIO(19641.13,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.13,19641.132,.01,1,1,2)
K ^DSIO(19641.13,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.13,19641.132,.01,12)
Only babies associated to the patient - patient must have already been set.
"^DD",19641.13,19641.132,.01,12.1)
S DIC("S")="I $P(^(0),U,2)=$$GET1^DIQ(19641.13,DA_"","",.03,""I"")"
"^DD",19641.13,19641.132,.01,"DT")
3150528
"^DD",19641.13,19641.134,0)
COMMENTS SUB-FIELD^^.01^1
"^DD",19641.13,19641.134,0,"DT")
3150429
"^DD",19641.13,19641.134,0,"NM","COMMENTS")

"^DD",19641.13,19641.134,0,"UP")
19641.13
"^DD",19641.13,19641.134,.01,0)
COMMENTS^Wx^^0;1^Q
"^DD",19641.13,19641.134,.01,"DT")
3150429
"^DD",19641.2,19641.2,0)
FIELD^^1^2
"^DD",19641.2,19641.2,0,"DDA")
N
"^DD",19641.2,19641.2,0,"DT")
3150527
"^DD",19641.2,19641.2,0,"IX","B",19641.2,.01)

"^DD",19641.2,19641.2,0,"IX","C",19641.24,.01)

"^DD",19641.2,19641.2,0,"NM","DSIO TRACKING HISTORY")

"^DD",19641.2,19641.2,.01,0)
PATIENT^RP19641X^DSIO(19641,^0;1^S:$D(X) DINUM=X
"^DD",19641.2,19641.2,.01,1,0)
^.1
"^DD",19641.2,19641.2,.01,1,1,0)
19641.2^B
"^DD",19641.2,19641.2,.01,1,1,1)
S ^DSIO(19641.2,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.2,.01,1,1,2)
K ^DSIO(19641.2,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.2,.01,1,1,"DT")
3140102
"^DD",19641.2,19641.2,.01,3)

"^DD",19641.2,19641.2,.01,"DT")
3140813
"^DD",19641.2,19641.2,1,0)
TRACKING HISTORY LOG^19641.24D^^1;0
"^DD",19641.2,19641.24,0)
TRACKING HISTORY LOG SUB-FIELD^^.04^6
"^DD",19641.2,19641.24,0,"DT")
3150527
"^DD",19641.2,19641.24,0,"IX","B",19641.24,.01)

"^DD",19641.2,19641.24,0,"NM","TRACKING HISTORY LOG")

"^DD",19641.2,19641.24,0,"UP")
19641.2
"^DD",19641.2,19641.24,.01,0)
TRACKING DATE^MDXI^^0;1^K X S X=$$NOW^XLFDT
"^DD",19641.2,19641.24,.01,1,0)
^.1
"^DD",19641.2,19641.24,.01,1,1,0)
19641.2^C
"^DD",19641.2,19641.24,.01,1,1,1)
S ^DSIO(19641.2,"C",$E(X,1,30),DA(1),DA)=""
"^DD",19641.2,19641.24,.01,1,1,2)
K ^DSIO(19641.2,"C",$E(X,1,30),DA(1),DA)
"^DD",19641.2,19641.24,.01,1,1,"DT")
3150520
"^DD",19641.2,19641.24,.01,1,2,0)
19641.24^B
"^DD",19641.2,19641.24,.01,1,2,1)
S ^DSIO(19641.2,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.24,.01,1,2,2)
K ^DSIO(19641.2,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.24,.01,1,2,"DT")
3150424
"^DD",19641.2,19641.24,.01,3)
Only present date and time will be used.
"^DD",19641.2,19641.24,.01,"DT")
3150520
"^DD",19641.2,19641.24,.02,0)
ACTION^RSI^0:STOP;1:START;2:FLAG;3:REJECT;4:ACCEPT;^0;2^Q
"^DD",19641.2,19641.24,.02,"DT")
3150424
"^DD",19641.2,19641.24,.03,0)
USER^RP200'I^VA(200,^0;3^Q
"^DD",19641.2,19641.24,.03,"DT")
3140102
"^DD",19641.2,19641.24,.04,0)
SOURCE^F^^0;4^K:$L(X)>50!($L(X)<1) X
"^DD",19641.2,19641.24,.04,3)
Answer must be 1-50 characters in length.
"^DD",19641.2,19641.24,.04,"DT")
3150527
"^DD",19641.2,19641.24,1,0)
REASON^19641.241A^^1;0
"^DD",19641.2,19641.24,2,0)
COMMENT^19641.242^^2;0
"^DD",19641.2,19641.241,0)
REASON SUB-FIELD^^.01^1
"^DD",19641.2,19641.241,0,"DT")
3150527
"^DD",19641.2,19641.241,0,"IX","B",19641.241,.01)

"^DD",19641.2,19641.241,0,"NM","REASON")

"^DD",19641.2,19641.241,0,"UP")
19641.24
"^DD",19641.2,19641.241,.01,0)
REASON^F^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.2,19641.241,.01,1,0)
^.1
"^DD",19641.2,19641.241,.01,1,1,0)
19641.241^B
"^DD",19641.2,19641.241,.01,1,1,1)
S ^DSIO(19641.2,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.2,19641.241,.01,1,1,2)
K ^DSIO(19641.2,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.2,19641.241,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.2,19641.241,.01,"DT")
3150527
"^DD",19641.2,19641.242,0)
COMMENT SUB-FIELD^^.01^1
"^DD",19641.2,19641.242,0,"DT")
3140102
"^DD",19641.2,19641.242,0,"NM","COMMENT")

"^DD",19641.2,19641.242,0,"UP")
19641.24
"^DD",19641.2,19641.242,.01,0)
COMMENT^Wx^^0;1^Q
"^DD",19641.2,19641.242,.01,"DT")
3140102
"^DD",19641.48,19641.48,0)
FIELD^^.01^2
"^DD",19641.48,19641.48,0,"DDA")
N
"^DD",19641.48,19641.48,0,"DT")
3141215
"^DD",19641.48,19641.48,0,"IX","B",19641.48,.01)

"^DD",19641.48,19641.48,0,"NM","DSIO OCNT CONFIGURATION")

"^DD",19641.48,19641.48,0,"PT",19641.45,2.6)

"^DD",19641.48,19641.48,0,"PT",19641.4815,.01)

"^DD",19641.48,19641.48,.01,0)
FILENAME^RF^^0;1^K:$L(X)>245!($L(X)<1) X
"^DD",19641.48,19641.48,.01,1,0)
^.1
"^DD",19641.48,19641.48,.01,1,1,0)
19641.48^B
"^DD",19641.48,19641.48,.01,1,1,1)
S ^DSIO(19641.48,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.48,.01,1,1,2)
K ^DSIO(19641.48,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.48,.01,3)
Answer must be 1-245 characters in length.
"^DD",19641.48,19641.48,.01,"DT")
3140905
"^DD",19641.48,19641.48,1,0)
CONTROLS^19641.481A^^1;0
"^DD",19641.48,19641.48,1,"DT")
3140820
"^DD",19641.48,19641.481,0)
CONTROLS SUB-FIELD^^5^16
"^DD",19641.48,19641.481,0,"DT")
3141215
"^DD",19641.48,19641.481,0,"IX","B",19641.481,.01)

"^DD",19641.48,19641.481,0,"NM","CONTROLS")

"^DD",19641.48,19641.481,0,"UP")
19641.48
"^DD",19641.48,19641.481,.01,0)
CONTROL NAME^FX^^0;1^K:$L(X)>150!($L(X)<1) X S:$D(X) X=$$UP^XLFSTR(X)
"^DD",19641.48,19641.481,.01,1,0)
^.1
"^DD",19641.48,19641.481,.01,1,1,0)
19641.481^B
"^DD",19641.48,19641.481,.01,1,1,1)
S ^DSIO(19641.48,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.481,.01,1,1,2)
K ^DSIO(19641.48,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.481,.01,3)
Enter the 1-150 character name of the multi valued control.
"^DD",19641.48,19641.481,.01,"DT")
3140905
"^DD",19641.48,19641.481,.02,0)
TYPE^S^S:SINGLE;M:MULTIPLE;DL:DIALOG LIST;WP:WORD PROCESSING;P:PAGE;^0;2^Q
"^DD",19641.48,19641.481,.02,"DT")
3140929
"^DD",19641.48,19641.481,.03,0)
PUSH^P19641.401^DSIO(19641.401,^0;3^Q
"^DD",19641.48,19641.481,.03,"DT")
3141215
"^DD",19641.48,19641.481,1,0)
DIALOGS^19641.4811PA^^1;0
"^DD",19641.48,19641.481,1,"DT")
3140318
"^DD",19641.48,19641.481,2,0)
VALUE^19641.4812^^2;0
"^DD",19641.48,19641.481,3.1,0)
ORDER^NJ8,0^^3;1^K:+X'=X!(X>99999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.48,19641.481,3.1,3)
Type a number between 0 and 99999999, 0 decimal digits.
"^DD",19641.48,19641.481,3.1,"DT")
3140815
"^DD",19641.48,19641.481,3.2,0)
VISTA LABEL^F^^3;2^K:$L(X)>30!($L(X)<1) X
"^DD",19641.48,19641.481,3.2,3)
Answer must be 1-30 characters in length.
"^DD",19641.48,19641.481,3.2,"DT")
3140815
"^DD",19641.48,19641.481,3.3,0)
PREFIX^F^^3;3^K:$L(X)>30!($L(X)<1) X
"^DD",19641.48,19641.481,3.3,3)
Answer must be 1-30 characters in length.
"^DD",19641.48,19641.481,3.3,"DT")
3140815
"^DD",19641.48,19641.481,3.4,0)
SUFFIX^F^^3;4^K:$L(X)>30!($L(X)<1) X
"^DD",19641.48,19641.481,3.4,3)
Answer must be 1-30 characters in length.
"^DD",19641.48,19641.481,3.4,"DT")
3140815
"^DD",19641.48,19641.481,3.5,0)
TITLE^F^^3;5^K:$L(X)>100!($L(X)<1) X
"^DD",19641.48,19641.481,3.5,3)
Answer must be 1-100 characters in length.
"^DD",19641.48,19641.481,3.5,"DT")
3140815
"^DD",19641.48,19641.481,3.6,0)
DIALOG RETURN^F^^3;6^K:$L(X)>30!($L(X)<1) X
"^DD",19641.48,19641.481,3.6,3)
Answer must be 1-30 characters in length.
"^DD",19641.48,19641.481,3.6,"DT")
3140815
"^DD",19641.48,19641.481,3.7,0)
REQUIRED^S^1:TRUE;0:FALSE;^3;7^Q
"^DD",19641.48,19641.481,3.7,"DT")
3140815
"^DD",19641.48,19641.481,3.8,0)
DO NOT SAVE^S^1:TRUE;0:FALSE;^3;8^Q
"^DD",19641.48,19641.481,3.8,"DT")
3140815
"^DD",19641.48,19641.481,3.9,0)
HIDE FROM NOTE^S^1:TRUE;0:FALSE;^3;9^Q
"^DD",19641.48,19641.481,3.9,"DT")
3140815
"^DD",19641.48,19641.481,4,0)
RUN ROUTINE^K^^4;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",19641.48,19641.481,4,3)
This is Standard MUMPS code.
"^DD",19641.48,19641.481,4,9)
@
"^DD",19641.48,19641.481,4,"DT")
3140909
"^DD",19641.48,19641.481,5,0)
SHARE^19641.4815IP^^5;0
"^DD",19641.48,19641.4811,0)
DIALOGS SUB-FIELD^^.01^1
"^DD",19641.48,19641.4811,0,"DT")
3140307
"^DD",19641.48,19641.4811,0,"IX","B",19641.4811,.01)

"^DD",19641.48,19641.4811,0,"NM","DIALOGS")

"^DD",19641.48,19641.4811,0,"UP")
19641.481
"^DD",19641.48,19641.4811,.01,0)
DIALOG^P19641.49'^DSIO(19641.49,^0;1^Q
"^DD",19641.48,19641.4811,.01,1,0)
^.1
"^DD",19641.48,19641.4811,.01,1,1,0)
19641.4811^B
"^DD",19641.48,19641.4811,.01,1,1,1)
S ^DSIO(19641.48,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.4811,.01,1,1,2)
K ^DSIO(19641.48,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.4811,.01,"DT")
3140318
"^DD",19641.48,19641.4812,0)
VALUE SUB-FIELD^^.01^1
"^DD",19641.48,19641.4812,0,"DT")
3141013
"^DD",19641.48,19641.4812,0,"NM","VALUE")

"^DD",19641.48,19641.4812,0,"UP")
19641.481
"^DD",19641.48,19641.4812,.01,0)
VALUE^WLx^^0;1^Q
"^DD",19641.48,19641.4812,.01,"DT")
3141013
"^DD",19641.48,19641.4815,0)
SHARE SUB-FIELD^^.05^5
"^DD",19641.48,19641.4815,0,"DT")
3141208
"^DD",19641.48,19641.4815,0,"ID",.02)
W "   ",$P(^(0),U,2)
"^DD",19641.48,19641.4815,0,"ID",.05)
W "   ",$P(^(0),U,5)
"^DD",19641.48,19641.4815,0,"IX","AB",19641.4815,.01)

"^DD",19641.48,19641.4815,0,"IX","B",19641.4815,.01)

"^DD",19641.48,19641.4815,0,"IX","P",19641.4815,.05)

"^DD",19641.48,19641.4815,0,"NM","SHARE")

"^DD",19641.48,19641.4815,0,"UP")
19641.481
"^DD",19641.48,19641.4815,.01,0)
GET DATA FROM^MP19641.48'X^DSIO(19641.48,^0;1^Q
"^DD",19641.48,19641.4815,.01,1,0)
^.1
"^DD",19641.48,19641.4815,.01,1,1,0)
19641.4815^B
"^DD",19641.48,19641.4815,.01,1,1,1)
S ^DSIO(19641.48,DA(2),1,DA(1),5,"B",$E(X,1,30),DA)=""
"^DD",19641.48,19641.4815,.01,1,1,2)
K ^DSIO(19641.48,DA(2),1,DA(1),5,"B",$E(X,1,30),DA)
"^DD",19641.48,19641.4815,.01,1,2,0)
19641.4815^AB
"^DD",19641.48,19641.4815,.01,1,2,1)
S ^DSIO(19641.48,DA(2),1,DA(1),5,"AB",$E(X,1,30),DA)=""
"^DD",19641.48,19641.4815,.01,1,2,2)
K ^DSIO(19641.48,DA(2),1,DA(1),5,"AB",$E(X,1,30),DA)
"^DD",19641.48,19641.4815,.01,1,2,3)
ENSURE .01 FOR .02 ENTRY.
"^DD",19641.48,19641.4815,.01,1,2,"DT")
3140910
"^DD",19641.48,19641.4815,.01,"DT")
3141208
"^DD",19641.48,19641.4815,.02,0)
CONTROL^FIX^^0;2^Q
"^DD",19641.48,19641.4815,.02,3)
Answer must be 1-150 characters in length.
"^DD",19641.48,19641.4815,.02,4)

"^DD",19641.48,19641.4815,.02,"DT")
3150619
"^DD",19641.48,19641.4815,.03,0)
USING THIS TITLE^*P8925.1'^TIU(8925.1,^0;3^S DIC("S")="I $P(^(0),U,4)=""DOC""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",19641.48,19641.4815,.03,12)
Only titles.
"^DD",19641.48,19641.4815,.03,12.1)
S DIC("S")="I $P(^(0),U,4)=""DOC"""
"^DD",19641.48,19641.4815,.03,"DT")
3140910
"^DD",19641.48,19641.4815,.04,0)
RESTRICT TO USER'S NOTES^S^0:FALSE;1:TRUE;^0;4^Q
"^DD",19641.48,19641.4815,.04,"DT")
3140910
"^DD",19641.48,19641.4815,.05,0)
PRIORITY^RNJ2,0^^0;5^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",19641.48,19641.4815,.05,1,0)
^.1
"^DD",19641.48,19641.4815,.05,1,1,0)
19641.4815^P
"^DD",19641.48,19641.4815,.05,1,1,1)
S ^DSIO(19641.48,DA(2),1,DA(1),5,"P",$E(X,1,30),DA)=""
"^DD",19641.48,19641.4815,.05,1,1,2)
K ^DSIO(19641.48,DA(2),1,DA(1),5,"P",$E(X,1,30),DA)
"^DD",19641.48,19641.4815,.05,1,1,"DT")
3141208
"^DD",19641.48,19641.4815,.05,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",19641.48,19641.4815,.05,"DT")
3141208
"^DD",19641.49,19641.49,0)
FIELD^^2^6
"^DD",19641.49,19641.49,0,"DDA")
N
"^DD",19641.49,19641.49,0,"DT")
3141215
"^DD",19641.49,19641.49,0,"IX","B",19641.49,.01)

"^DD",19641.49,19641.49,0,"IX","C",19641.49,.03)

"^DD",19641.49,19641.49,0,"IX","E",19641.491,.05)

"^DD",19641.49,19641.49,0,"NM","DSIO OCNT DIALOGS")

"^DD",19641.49,19641.49,0,"PT",19641.412,.01)

"^DD",19641.49,19641.49,0,"PT",19641.45,2.6)

"^DD",19641.49,19641.49,0,"PT",19641.4811,.01)

"^DD",19641.49,19641.49,0,"PT",19641.4911,.01)

"^DD",19641.49,19641.49,0,"PT",19641.49412,.01)

"^DD",19641.49,19641.49,.01,0)
DISPLAY NAME^RF^^0;1^K:$L(X)>150!($L(X)<1) X
"^DD",19641.49,19641.49,.01,1,0)
^.1
"^DD",19641.49,19641.49,.01,1,1,0)
19641.49^B
"^DD",19641.49,19641.49,.01,1,1,1)
S ^DSIO(19641.49,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.49,.01,1,1,2)
K ^DSIO(19641.49,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.49,.01,3)
Answer must be 1-150 characters in length.
"^DD",19641.49,19641.49,.01,"DT")
3140905
"^DD",19641.49,19641.49,.02,0)
UNIT^RF^^0;2^K:$L(X)>40!($L(X)<1) X
"^DD",19641.49,19641.49,.02,3)
Answer must be 1-40 characters in length.
"^DD",19641.49,19641.49,.02,"DT")
3140905
"^DD",19641.49,19641.49,.03,0)
CLASS^RF^^0;3^K:$L(X)>40!($L(X)<1) X
"^DD",19641.49,19641.49,.03,1,0)
^.1
"^DD",19641.49,19641.49,.03,1,1,0)
19641.49^C
"^DD",19641.49,19641.49,.03,1,1,1)
S ^DSIO(19641.49,"C",$E(X,1,30),DA)=""
"^DD",19641.49,19641.49,.03,1,1,2)
K ^DSIO(19641.49,"C",$E(X,1,30),DA)
"^DD",19641.49,19641.49,.03,1,1,"DT")
3140320
"^DD",19641.49,19641.49,.03,3)
Answer must be 1-40 characters in length.
"^DD",19641.49,19641.49,.03,"DT")
3140905
"^DD",19641.49,19641.49,.04,0)
SHARE^S^1:TRUE;0:FALSE;^0;4^Q
"^DD",19641.49,19641.49,.04,3)
Setting this value to "TRUE" will prevent the dialog data from being shared between interfaces.
"^DD",19641.49,19641.49,.04,"DT")
3140825
"^DD",19641.49,19641.49,1,0)
CONTROLS^19641.491^^1;0
"^DD",19641.49,19641.49,2,0)
ACTION^19641.51P^^2;0
"^DD",19641.49,19641.491,0)
CONTROLS SUB-FIELD^^.05^8
"^DD",19641.49,19641.491,0,"DT")
3141215
"^DD",19641.49,19641.491,0,"IX","B",19641.491,.01)

"^DD",19641.49,19641.491,0,"NM","CONTROLS")

"^DD",19641.49,19641.491,0,"UP")
19641.49
"^DD",19641.49,19641.491,.01,0)
CONTROL NAME^MFX^^0;1^K:$L(X)>150!($L(X)<1) X S:$D(X) X=$$UP^XLFSTR(X)
"^DD",19641.49,19641.491,.01,1,0)
^.1
"^DD",19641.49,19641.491,.01,1,1,0)
19641.491^B
"^DD",19641.49,19641.491,.01,1,1,1)
S ^DSIO(19641.49,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.491,.01,1,1,2)
K ^DSIO(19641.49,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.491,.01,3)
Answer must be 1-150 characters in length.
"^DD",19641.49,19641.491,.01,"DT")
3140905
"^DD",19641.49,19641.491,.02,0)
TYPE^SX^S:SINGLE;M:MULTIPLE;LV:LIST VIEW;DL:DIALOG LIST;WP:WORD PROCESSING^0;2^Q
"^DD",19641.49,19641.491,.02,"DT")
3140825
"^DD",19641.49,19641.491,.03,0)
PUSH^P19641.401^DSIO(19641.401,^0;3^Q
"^DD",19641.49,19641.491,.03,"DT")
3141215
"^DD",19641.49,19641.491,.04,0)
DO NOT SAVE^S^0:FALSE;1:TRUE;^0;4^Q
"^DD",19641.49,19641.491,.04,"DT")
3141027
"^DD",19641.49,19641.491,.05,0)
DATALIST^SX^1:YES;0:NO;^0;5^I $D(^DSIO(19641.49,+$G(D0),1,"E")) W !!,"   ****ONLY ONE DATA LIST CONTROL ALLOWED." K X
"^DD",19641.49,19641.491,.05,1,0)
^.1
"^DD",19641.49,19641.491,.05,1,1,0)
19641.49^E^MUMPS
"^DD",19641.49,19641.491,.05,1,1,1)
S:X&('$D(^DSIO(19641.49,+$G(D0),1,"E"))) ^DSIO(19641.49,+$G(D0),1,"E",+$G(DA))=""
"^DD",19641.49,19641.491,.05,1,1,2)
K ^DSIO(19641.49,+$G(D0),1,"E",+$G(DA))
"^DD",19641.49,19641.491,.05,1,1,"DT")
3141030
"^DD",19641.49,19641.491,.05,"DT")
3141030
"^DD",19641.49,19641.491,1,0)
DIALOGS^19641.4911P^^1;0
"^DD",19641.49,19641.491,2,0)
VALUE^19641.4912^^2;0
"^DD",19641.49,19641.491,4,0)
RUN ROUTINE^K^^4;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",19641.49,19641.491,4,3)
This is Standard MUMPS code.
"^DD",19641.49,19641.491,4,9)
@
"^DD",19641.49,19641.491,4,"DT")
3140909
"^DD",19641.49,19641.4911,0)
DIALOGS SUB-FIELD^^.01^1
"^DD",19641.49,19641.4911,0,"DT")
3140922
"^DD",19641.49,19641.4911,0,"IX","B",19641.4911,.01)

"^DD",19641.49,19641.4911,0,"NM","DIALOGS")

"^DD",19641.49,19641.4911,0,"UP")
19641.491
"^DD",19641.49,19641.4911,.01,0)
DIALOGS^MP19641.49'^DSIO(19641.49,^0;1^Q
"^DD",19641.49,19641.4911,.01,1,0)
^.1
"^DD",19641.49,19641.4911,.01,1,1,0)
19641.4911^B
"^DD",19641.49,19641.4911,.01,1,1,1)
S ^DSIO(19641.49,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.4911,.01,1,1,2)
K ^DSIO(19641.49,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.4911,.01,"DT")
3140922
"^DD",19641.49,19641.4912,0)
VALUE SUB-FIELD^^.01^1
"^DD",19641.49,19641.4912,0,"DT")
3141013
"^DD",19641.49,19641.4912,0,"NM","VALUE")

"^DD",19641.49,19641.4912,0,"UP")
19641.491
"^DD",19641.49,19641.4912,.01,0)
VALUE^WLx^^0;1^Q
"^DD",19641.49,19641.4912,.01,"DT")
3141013
"^DD",19641.49,19641.51,0)
ACTION SUB-FIELD^^.02^2
"^DD",19641.49,19641.51,0,"DT")
3141106
"^DD",19641.49,19641.51,0,"IX","B",19641.51,.01)

"^DD",19641.49,19641.51,0,"NM","ACTION")

"^DD",19641.49,19641.51,0,"UP")
19641.49
"^DD",19641.49,19641.51,.01,0)
ACTION^MP19641.492'^DSIO(19641.492,^0;1^Q
"^DD",19641.49,19641.51,.01,1,0)
^.1
"^DD",19641.49,19641.51,.01,1,1,0)
19641.51^B
"^DD",19641.49,19641.51,.01,1,1,1)
S ^DSIO(19641.49,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",19641.49,19641.51,.01,1,1,2)
K ^DSIO(19641.49,DA(1),2,"B",$E(X,1,30),DA)
"^DD",19641.49,19641.51,.01,"DT")
3141106
"^DD",19641.49,19641.51,.02,0)
VALUE^F^^0;2^K:$L(X)>100!($L(X)<1) X
"^DD",19641.49,19641.51,.02,3)
Answer must be 1-100 characters in length.
"^DD",19641.49,19641.51,.02,"DT")
3141106
"^DD",19641.5,19641.5,0)
FIELD^^.03^3
"^DD",19641.5,19641.5,0,"DDA")
N
"^DD",19641.5,19641.5,0,"DT")
3150507
"^DD",19641.5,19641.5,0,"IX","B",19641.5,.01)

"^DD",19641.5,19641.5,0,"NM","DSIO TITLE CONFIGURATION")

"^DD",19641.5,19641.5,.01,0)
TITLE^R*P8925.1'X^TIU(8925.1,^0;1^S DIC("S")="I $P(^(0),U,4)=""DOC""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X S:$D(X) DINUM=X
"^DD",19641.5,19641.5,.01,1,0)
^.1
"^DD",19641.5,19641.5,.01,1,1,0)
19641.5^B
"^DD",19641.5,19641.5,.01,1,1,1)
S ^DSIO(19641.5,"B",$E(X,1,30),DA)=""
"^DD",19641.5,19641.5,.01,1,1,2)
K ^DSIO(19641.5,"B",$E(X,1,30),DA)
"^DD",19641.5,19641.5,.01,3)

"^DD",19641.5,19641.5,.01,12)
Only TIU Document Titles
"^DD",19641.5,19641.5,.01,12.1)
S DIC("S")="I $P(^(0),U,4)=""DOC"""
"^DD",19641.5,19641.5,.01,"DT")
3150506
"^DD",19641.5,19641.5,.02,0)
VISIT LOCATION^RP44'^SC(^0;2^Q
"^DD",19641.5,19641.5,.02,"DT")
3140411
"^DD",19641.5,19641.5,.03,0)
SERVICE CATEGORY^RS^A:AMBULATORY;H:HOSPITALIZATION;I:IN HOSPITAL;C:CHART REVIEW;T:TELECOMMUNICATIONS;N:NOT FOUND;S:DAY SURGERY;O:OBSERVATION;E:EVENT (HISTORICAL);R:NURSING HOME;D:DAILY HOSPITALIZATION DATA;X:ANCILLARY PACKAGE DAILY DATA;^0;3^Q
"^DD",19641.5,19641.5,.03,3)
Answer must be 1 character in length.
"^DD",19641.5,19641.5,.03,4)

"^DD",19641.5,19641.5,.03,"DT")
3150507
"^DD",19641.6,19641.6,0)
FIELD^^.07^11
"^DD",19641.6,19641.6,0,"DDA")
N
"^DD",19641.6,19641.6,0,"DT")
3140624
"^DD",19641.6,19641.6,0,"ID",.02)
S %I=Y,Y=$S('$D(^(0)):"",$D(^DSIO(19641,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(19641,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",19641.6,19641.6,0,"IX","B",19641.6,.01)

"^DD",19641.6,19641.6,0,"NM","DSIO IHE DOCUMENT")

"^DD",19641.6,19641.6,0,"PT",19641.16,.01)

"^DD",19641.6,19641.6,.01,0)
DT OF ENTRY^RD^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.01,1,0)
^.1
"^DD",19641.6,19641.6,.01,1,1,0)
19641.6^B
"^DD",19641.6,19641.6,.01,1,1,1)
S ^DSIO(19641.6,"B",$E(X,1,30),DA)=""
"^DD",19641.6,19641.6,.01,1,1,2)
K ^DSIO(19641.6,"B",$E(X,1,30),DA)
"^DD",19641.6,19641.6,.01,1,1,"DT")
3140624
"^DD",19641.6,19641.6,.01,3)
The date this entry was created, this date doesn't have anything to do the the document actually being created or transported.
"^DD",19641.6,19641.6,.01,23,0)
^.001^2^2^3140624^^
"^DD",19641.6,19641.6,.01,23,1,0)
Since nothing in this file is required we need to set something to .01 
"^DD",19641.6,19641.6,.01,23,2,0)
that will stick - might as well be something marginally useful.
"^DD",19641.6,19641.6,.01,"DT")
3140624
"^DD",19641.6,19641.6,.02,0)
PATIENT^RP19641^DSIO(19641,^0;2^Q
"^DD",19641.6,19641.6,.02,"DT")
3140620
"^DD",19641.6,19641.6,.03,0)
DT CREATION^D^^0;3^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.03,"DT")
3140620
"^DD",19641.6,19641.6,.04,0)
DT IMPORT/EXPORT^D^^0;4^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",19641.6,19641.6,.04,"DT")
3140620
"^DD",19641.6,19641.6,.05,0)
DOCUMENT TYPE^P19641.61^DSIO(19641.61,^0;5^Q
"^DD",19641.6,19641.6,.05,"DT")
3140620
"^DD",19641.6,19641.6,.06,0)
DIRECTION^S^I:IN;O:OUT;^0;6^Q
"^DD",19641.6,19641.6,.06,"DT")
3140620
"^DD",19641.6,19641.6,.07,0)
GUID/ID^F^^0;7^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,.07,1,0)
^.1^^0
"^DD",19641.6,19641.6,.07,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,.07,"DT")
3140624
"^DD",19641.6,19641.6,1.1,0)
DOCUMENT TITLE^F^^1;1^K:$L(X)>100!($L(X)<1) X
"^DD",19641.6,19641.6,1.1,3)
Answer must be 1-100 characters in length.
"^DD",19641.6,19641.6,1.1,"DT")
3140620
"^DD",19641.6,19641.6,1.2,0)
SENDING FACILITY/PROVIDER^F^^1;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,1.2,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,1.2,"DT")
3140620
"^DD",19641.6,19641.6,1.3,0)
INTENDED RECIPIENT^F^^1;3^K:$L(X)>50!($L(X)<1) X
"^DD",19641.6,19641.6,1.3,3)
Answer must be 1-50 characters in length.
"^DD",19641.6,19641.6,1.3,"DT")
3140620
"^DD",19641.6,19641.6,2,0)
DOCUMENT CONTENT^19641.62^^2;0
"^DD",19641.6,19641.62,0)
DOCUMENT CONTENT SUB-FIELD^^.01^1
"^DD",19641.6,19641.62,0,"DT")
3140620
"^DD",19641.6,19641.62,0,"NM","DOCUMENT CONTENT")

"^DD",19641.6,19641.62,0,"UP")
19641.6
"^DD",19641.6,19641.62,.01,0)
DOCUMENT CONTENT^Wx^^0;1^Q
"^DD",19641.6,19641.62,.01,"DT")
3140620
"^DD",19641.83,19641.83,0)
FIELD^^.01^2
"^DD",19641.83,19641.83,0,"DDA")
N
"^DD",19641.83,19641.83,0,"DT")
3150105
"^DD",19641.83,19641.83,0,"IX","B",19641.83,.01)

"^DD",19641.83,19641.83,0,"IX","N",19641.831,.01)

"^DD",19641.83,19641.83,0,"IX","P",19641.831,.02)

"^DD",19641.83,19641.83,0,"NM","DSIO PREGNANCY-NOTE")

"^DD",19641.83,19641.83,.01,0)
PATIENT^RP19641'X^DSIO(19641,^0;1^S:$D(X) DINUM=X
"^DD",19641.83,19641.83,.01,1,0)
^.1^^0
"^DD",19641.83,19641.83,.01,1,1,0)
19641.83^B
"^DD",19641.83,19641.83,.01,1,1,1)
S ^DSIO(19641.83,"B",$E(X,1,30),DA)=""
"^DD",19641.83,19641.83,.01,1,1,2)
K ^DSIO(19641.83,"B",$E(X,1,30),DA)
"^DD",19641.83,19641.83,.01,3)
ENTER DFN OF PATIENT
"^DD",19641.83,19641.83,.01,21,0)
^.001^1^1^3150203^^
"^DD",19641.83,19641.83,.01,21,1,0)
POINTER TO DSIO PATIENT FILE - 19641
"^DD",19641.83,19641.83,.01,"DT")
3150514
"^DD",19641.83,19641.83,1,0)
NOTE ASSOCIATION^19641.831PA^^1;0
"^DD",19641.83,19641.83,1,"DT")
3150514
"^DD",19641.83,19641.831,0)
NOTE ASSOCIATION SUB-FIELD^^.02^2
"^DD",19641.83,19641.831,0,"DT")
3150105
"^DD",19641.83,19641.831,0,"IX","B",19641.831,.01)

"^DD",19641.83,19641.831,0,"NM","NOTE ASSOCIATION")

"^DD",19641.83,19641.831,0,"UP")
19641.83
"^DD",19641.83,19641.831,.01,0)
NOTE^P8925'^TIU(8925,^0;1^Q
"^DD",19641.83,19641.831,.01,1,0)
^.1
"^DD",19641.83,19641.831,.01,1,1,0)
19641.831^B
"^DD",19641.83,19641.831,.01,1,1,1)
S ^DSIO(19641.83,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",19641.83,19641.831,.01,1,1,2)
K ^DSIO(19641.83,DA(1),1,"B",$E(X,1,30),DA)
"^DD",19641.83,19641.831,.01,1,2,0)
19641.83^N
"^DD",19641.83,19641.831,.01,1,2,1)
S ^DSIO(19641.83,"N",$E(X,1,30),DA(1),DA)=""
"^DD",19641.83,19641.831,.01,1,2,2)
K ^DSIO(19641.83,"N",$E(X,1,30),DA(1),DA)
"^DD",19641.83,19641.831,.01,1,2,"DT")
3150604
"^DD",19641.83,19641.831,.01,"DT")
3150604
"^DD",19641.83,19641.831,.02,0)
PREGNANCY^P19641.13'^DSIO(19641.13,^0;2^Q
"^DD",19641.83,19641.831,.02,1,0)
^.1
"^DD",19641.83,19641.831,.02,1,1,0)
19641.83^P
"^DD",19641.83,19641.831,.02,1,1,1)
S ^DSIO(19641.83,"P",$E(X,1,30),DA(1),DA)=""
"^DD",19641.83,19641.831,.02,1,1,2)
K ^DSIO(19641.83,"P",$E(X,1,30),DA(1),DA)
"^DD",19641.83,19641.831,.02,1,1,"DT")
3150604
"^DD",19641.83,19641.831,.02,"DT")
3150604
"^DD",19641.99,19641.99,0)
FIELD^^.06^6
"^DD",19641.99,19641.99,0,"DDA")
N
"^DD",19641.99,19641.99,0,"DT")
3140707
"^DD",19641.99,19641.99,0,"IX","B",19641.99,.01)

"^DD",19641.99,19641.99,0,"NM","DSIO CODES")

"^DD",19641.99,19641.99,.01,0)
DATE^RD^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",19641.99,19641.99,.01,1,0)
^.1
"^DD",19641.99,19641.99,.01,1,1,0)
19641.99^B
"^DD",19641.99,19641.99,.01,1,1,1)
S ^DSIO(19641.99,"B",$E(X,1,30),DA)=""
"^DD",19641.99,19641.99,.01,1,1,2)
K ^DSIO(19641.99,"B",$E(X,1,30),DA)
"^DD",19641.99,19641.99,.01,3)

"^DD",19641.99,19641.99,.01,"DT")
3140707
"^DD",19641.99,19641.99,.02,0)
CODE^F^^0;2^K:$L(X)>50!($L(X)<1) X
"^DD",19641.99,19641.99,.02,3)
Answer must be 1-50 characters in length.
"^DD",19641.99,19641.99,.02,"DT")
3140707
"^DD",19641.99,19641.99,.03,0)
CLASSIFICATION^F^^0;3^K:$L(X)>10!($L(X)<1) X
"^DD",19641.99,19641.99,.03,3)
Answer must be 1-10 characters in length.
"^DD",19641.99,19641.99,.03,"DT")
3140707
"^DD",19641.99,19641.99,.04,0)
USER^P200'^VA(200,^0;4^Q
"^DD",19641.99,19641.99,.04,"DT")
3140707
"^DD",19641.99,19641.99,.05,0)
SOURCE^F^^0;5^K:$L(X)>50!($L(X)<1) X
"^DD",19641.99,19641.99,.05,3)
Answer must be 1-50 characters in length.
"^DD",19641.99,19641.99,.05,"DT")
3140707
"^DD",19641.99,19641.99,.06,0)
REASON^F^^0;6^K:$L(X)>100!($L(X)<1) X
"^DD",19641.99,19641.99,.06,3)
Answer must be 1-100 characters in length.
"^DD",19641.99,19641.99,.06,"DT")
3140707
"^DIC",19641,19641,0)
DSIO PATIENT^19641
"^DIC",19641,19641,0,"GL")
^DSIO(19641,
"^DIC",19641,19641,"%",0)
^1.005^^0
"^DIC",19641,19641,"%D",0)
^^1^1^3150209^
"^DIC",19641,19641,"%D",1,0)
This is the master patient file of the DSIO package.
"^DIC",19641,"B","DSIO PATIENT",19641)

"^DIC",19641.1,19641.1,0)
DSIO EXTERNAL ENTITIES^19641.1
"^DIC",19641.1,19641.1,0,"GL")
^DSIO(19641.1,
"^DIC",19641.1,19641.1,"%D",0)
^1.001^2^2^3150429^^
"^DIC",19641.1,19641.1,"%D",1,0)
This file is for the storage of providers and facilities that do not 
"^DIC",19641.1,19641.1,"%D",2,0)
belong in VistA but need to be associated to the DSIO PATIENT.
"^DIC",19641.1,"B","DSIO EXTERNAL ENTITIES",19641.1)

"^DIC",19641.11,19641.11,0)
DSIO PERSON^19641.11
"^DIC",19641.11,19641.11,0,"GL")
^DSIO(19641.11,
"^DIC",19641.11,19641.11,"%D",0)
^^4^4^3150209^
"^DIC",19641.11,19641.11,"%D",1,0)
People associated with the patient that cannot be referenced elsewhere 
"^DIC",19641.11,19641.11,"%D",2,0)
in VistA. This file is used by the MCC Dashboard to reference the 'Father 
"^DIC",19641.11,19641.11,"%D",3,0)
of Fetus' while the oCNTs use it to reference associated people such as 
"^DIC",19641.11,19641.11,"%D",4,0)
sister, brother, mother, uncle, ect...
"^DIC",19641.11,"B","DSIO PERSON",19641.11)

"^DIC",19641.112,19641.112,0)
DSIO FETUS/BABY^19641.112
"^DIC",19641.112,19641.112,0,"GL")
^DSIO(19641.112,
"^DIC",19641.112,19641.112,"%D",0)
^^3^3^3150208^
"^DIC",19641.112,19641.112,"%D",1,0)
This file holds information referenced as a fetus assoicated with a 
"^DIC",19641.112,19641.112,"%D",2,0)
pregnancy associated with a patient. Later this same entry can be 
"^DIC",19641.112,19641.112,"%D",3,0)
expanded to reference a baby.
"^DIC",19641.112,"B","DSIO FETUS/BABY",19641.112)

"^DIC",19641.12,19641.12,0)
DSIO OBSERVATIONS^19641.12
"^DIC",19641.12,19641.12,0,"GL")
^DSIO(19641.12,
"^DIC",19641.12,19641.12,"%",0)
^1.005^^0
"^DIC",19641.12,19641.12,"%D",0)
^1.001^1^1^3150519^^
"^DIC",19641.12,19641.12,"%D",1,0)
These are generic entries classified as an observation.
"^DIC",19641.12,"B","DSIO OBSERVATIONS",19641.12)

"^DIC",19641.124,19641.124,0)
DSIO PUSH HISTORY^19641.124
"^DIC",19641.124,19641.124,0,"GL")
^DSIO(19641.124,
"^DIC",19641.124,19641.124,"%D",0)
^^2^2^3150209^
"^DIC",19641.124,19641.124,"%D",1,0)
When data from discreet data storage is pushed to somewhere else in VistA 
"^DIC",19641.124,19641.124,"%D",2,0)
it is recorded here.
"^DIC",19641.124,"B","DSIO PUSH HISTORY",19641.124)

"^DIC",19641.13,19641.13,0)
DSIO PREGNANCY HISTORY^19641.13
"^DIC",19641.13,19641.13,0,"GL")
^DSIO(19641.13,
"^DIC",19641.13,19641.13,"%D",0)
^^1^1^3150209^
"^DIC",19641.13,19641.13,"%D",1,0)
Pregnancy information linked to a patient by DSIO PATIENT.
"^DIC",19641.13,"B","DSIO PREGNANCY HISTORY",19641.13)

"^DIC",19641.2,19641.2,0)
DSIO TRACKING HISTORY^19641.2
"^DIC",19641.2,19641.2,0,"GL")
^DSIO(19641.2,
"^DIC",19641.2,19641.2,"%D",0)
^^2^2^3150209^
"^DIC",19641.2,19641.2,"%D",1,0)
When a patient is flagged for tracking, is tracked or rejected that entry 
"^DIC",19641.2,19641.2,"%D",2,0)
is stored in this file.
"^DIC",19641.2,"B","DSIO TRACKING HISTORY",19641.2)

"^DIC",19641.48,19641.48,0)
DSIO OCNT CONFIGURATION^19641.48
"^DIC",19641.48,19641.48,0,"GL")
^DSIO(19641.48,
"^DIC",19641.48,19641.48,"%D",0)
^^1^1^3150209^
"^DIC",19641.48,19641.48,"%D",1,0)
The configuration data for oCNTs are stored here.
"^DIC",19641.48,"B","DSIO OCNT CONFIGURATION",19641.48)

"^DIC",19641.49,19641.49,0)
DSIO OCNT DIALOGS^19641.49
"^DIC",19641.49,19641.49,0,"GL")
^DSIO(19641.49,
"^DIC",19641.49,19641.49,"%D",0)
^^1^1^3150209^
"^DIC",19641.49,19641.49,"%D",1,0)
The configuration data of oCNT dialogs are stored here.
"^DIC",19641.49,"B","DSIO OCNT DIALOGS",19641.49)

"^DIC",19641.5,19641.5,0)
DSIO TITLE CONFIGURATION^19641.5
"^DIC",19641.5,19641.5,0,"GL")
^DSIO(19641.5,
"^DIC",19641.5,19641.5,"%D",0)
^1.001^3^3^3150506^^
"^DIC",19641.5,19641.5,"%D",1,0)
The MCC Dashboard does not allow the section of the necessary elements to 
"^DIC",19641.5,19641.5,"%D",2,0)
create a visit thus any title used by the dashboard must be configured 
"^DIC",19641.5,19641.5,"%D",3,0)
here so a visit string can be created.
"^DIC",19641.5,"B","DSIO TITLE CONFIGURATION",19641.5)

"^DIC",19641.6,19641.6,0)
DSIO IHE DOCUMENT^19641.6
"^DIC",19641.6,19641.6,0,"GL")
^DSIO(19641.6,
"^DIC",19641.6,19641.6,"%D",0)
^^1^1^3150208^
"^DIC",19641.6,19641.6,"%D",1,0)
This file holds a generated IHE document.
"^DIC",19641.6,"B","DSIO IHE DOCUMENT",19641.6)

"^DIC",19641.83,19641.83,0)
DSIO PREGNANCY-NOTE^19641.83
"^DIC",19641.83,19641.83,0,"GL")
^DSIO(19641.83,
"^DIC",19641.83,19641.83,"%D",0)
^1.001^2^2^3150514^^^
"^DIC",19641.83,19641.83,"%D",1,0)
Pregnancies can be linked to a TIU note here so that they can be 
"^DIC",19641.83,19641.83,"%D",2,0)
referenced by the MCC Dashboard when viewing notes by pregnancy.
"^DIC",19641.83,"B","DSIO PREGNANCY-NOTE",19641.83)

"^DIC",19641.99,19641.99,0)
DSIO CODES^19641.99
"^DIC",19641.99,19641.99,0,"GL")
^DSIO(19641.99,
"^DIC",19641.99,19641.99,"%D",0)
^^3^3^3150208^
"^DIC",19641.99,19641.99,"%D",1,0)
This file is populated when a codes field with a codes system field is 
"^DIC",19641.99,19641.99,"%D",2,0)
populated with a code not recognized by an official coding system - the 
"^DIC",19641.99,19641.99,"%D",3,0)
type is 'OTHER' within the DSIO package.
"^DIC",19641.99,"B","DSIO CODES",19641.99)

**END**
**END**
